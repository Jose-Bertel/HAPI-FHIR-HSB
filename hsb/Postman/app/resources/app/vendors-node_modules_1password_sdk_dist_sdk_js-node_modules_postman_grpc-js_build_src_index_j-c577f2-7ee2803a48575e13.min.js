exports.ids=["vendors-node_modules_1password_sdk_dist_sdk_js-node_modules_postman_grpc-js_build_src_index_j-c577f2"],exports.modules={"./node_modules/@1password/sdk-core/nodejs/core.js":function(e,t,r){let n,i={};i.__wbindgen_placeholder__=e.exports;let{TextDecoder:s,TextEncoder:o}=r("util"),a=new s("utf-8",{ignoreBOM:!0,fatal:!0});a.decode();let l=null;function c(){return(null===l||0===l.byteLength)&&(l=new Uint8Array(n.memory.buffer)),l}function u(e,t){return e>>>=0,a.decode(c().subarray(e,e+t))}let d=Array(128).fill(void 0);d.push(void 0,null,!0,!1);let h=d.length;function p(e){h===d.length&&d.push(d.length+1);let t=h;return h=d[t],d[t]=e,t}function f(e){return d[e]}function m(e){e<132||(d[e]=h,h=e)}function g(e){let t=f(e);return m(e),t}let y=0,_=new o("utf-8"),v="function"==typeof _.encodeInto?function(e,t){return _.encodeInto(e,t)}:function(e,t){let r=_.encode(e);return t.set(r),{read:e.length,written:r.length}};function b(e,t,r){if(void 0===r){let r=_.encode(e),n=t(r.length,1)>>>0;return c().subarray(n,n+r.length).set(r),y=r.length,n}let n=e.length,i=t(n,1)>>>0,s=c(),o=0;for(;o<n;o++){let t=e.charCodeAt(o);if(t>127)break;s[i+o]=t}if(o!==n){0!==o&&(e=e.slice(o)),i=r(i,n,n=o+3*e.length,1)>>>0;let t=v(e,c().subarray(i+o,i+n));o+=t.written,i=r(i,n,o,1)>>>0}return y=o,i}function w(e){return null==e}let j=null;function S(){return(null===j||0===j.byteLength)&&(j=new Int32Array(n.memory.buffer)),j}function k(e){let t,r=typeof e;if("number"==r||"boolean"==r||null==e)return`${e}`;if("string"==r)return`"${e}"`;if("symbol"==r){let t=e.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==r){let t=e.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(e)){let t=e.length,r="[";t>0&&(r+=k(e[0]));for(let n=1;n<t;n++)r+=", "+k(e[n]);return r+"]"}let n=/\[object ([^\]]+)\]/.exec(toString.call(e));if(!(n.length>1))return toString.call(e);if("Object"==(t=n[1]))try{return"Object("+JSON.stringify(e)+")"}catch(e){return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:t}let E="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>{n.__wbindgen_export_2.get(e.dtor)(e.a,e.b)});function C(e,t,r,i){let s={a:e,b:t,cnt:1,dtor:r},o=(...e)=>{s.cnt++;let t=s.a;s.a=0;try{return i(t,s.b,...e)}finally{0==--s.cnt?(n.__wbindgen_export_2.get(s.dtor)(t,s.b),E.unregister(s)):s.a=t}};return o.original=s,E.register(o,s,s),o}function x(e,t,r){n._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__ha50b5c909627478b(e,t,p(r))}function T(e,t){try{return e.apply(this,t)}catch(e){n.__wbindgen_exn_store(p(e))}}function O(e,t,r,i){n.wasm_bindgen__convert__closures__invoke2_mut__hc265134a049f63b2(e,t,p(r),p(i))}e.exports.init_client=function(e){let t=b(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=y;return g(n.init_client(t,r))},e.exports.invoke=function(e){let t=b(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=y;return g(n.invoke(t,r))},e.exports.release_client=function(e){try{let r=n.__wbindgen_add_to_stack_pointer(-16),i=b(e,n.__wbindgen_malloc,n.__wbindgen_realloc),s=y;n.release_client(r,i,s);var t=S()[r/4+0];if(S()[r/4+1])throw g(t)}finally{n.__wbindgen_add_to_stack_pointer(16)}},e.exports.__wbindgen_string_new=function(e,t){return p(u(e,t))},e.exports.__wbindgen_object_drop_ref=function(e){g(e)},e.exports.__wbg_static_accessor_performance_da77b3a901a72934=function(){return p(performance)},e.exports.__wbindgen_is_string=function(e){return"string"==typeof f(e)},e.exports.__wbindgen_cb_drop=function(e){let t=g(e).original;return 1==t.cnt--&&(t.a=0,!0)},e.exports.__wbg_fetch_bc7c8e27076a5c84=function(e){return p(fetch(f(e)))},e.exports.__wbindgen_object_clone_ref=function(e){return p(f(e))},e.exports.__wbg_queueMicrotask_3cbae2ec6b6cd3d6=function(e){return p(f(e).queueMicrotask)},e.exports.__wbindgen_is_function=function(e){return"function"==typeof f(e)},e.exports.__wbg_queueMicrotask_481971b0d87f3dd4=function(e){queueMicrotask(f(e))},e.exports.__wbg_crypto_1d1f22824a6a080c=function(e){return p(f(e).crypto)},e.exports.__wbindgen_is_object=function(e){let t=f(e);return"object"==typeof t&&null!==t},e.exports.__wbg_process_4a72847cc503995b=function(e){return p(f(e).process)},e.exports.__wbg_versions_f686565e586dd935=function(e){return p(f(e).versions)},e.exports.__wbg_node_104a2ff8d6ea03a2=function(e){return p(f(e).node)},e.exports.__wbg_require_cca90b1a94a0255b=function(){return T(function(){return p(r("./node_modules/@1password/sdk-core/nodejs sync recursive"))},arguments)},e.exports.__wbg_msCrypto_eb05e62b530a1508=function(e){return p(f(e).msCrypto)},e.exports.__wbg_randomFillSync_5c9c955aa56b6049=function(){return T(function(e,t){f(e).randomFillSync(g(t))},arguments)},e.exports.__wbg_getRandomValues_3aa56aa6edec874c=function(){return T(function(e,t){f(e).getRandomValues(f(t))},arguments)},e.exports.__wbg_fetch_921fad6ef9e883dd=function(e,t){return p(f(e).fetch(f(t)))},e.exports.__wbg_now_4e659b3d15f470d9=function(e){return f(e).now()},e.exports.__wbindgen_string_get=function(e,t){let r=f(t),i="string"==typeof r?r:void 0;var s=w(i)?0:b(i,n.__wbindgen_malloc,n.__wbindgen_realloc),o=y;S()[e/4+1]=o,S()[e/4+0]=s},e.exports.__wbg_new_ab6fd82b10560829=function(){return T(function(){return p(new Headers)},arguments)},e.exports.__wbg_append_7bfcb4937d1d5e29=function(){return T(function(e,t,r,n,i){f(e).append(u(t,r),u(n,i))},arguments)},e.exports.__wbg_instanceof_Response_849eb93e75734b6e=function(e){let t;try{t=f(e)instanceof Response}catch(e){t=!1}return t},e.exports.__wbg_url_5f6dc4009ac5f99d=function(e,t){let r=b(f(t).url,n.__wbindgen_malloc,n.__wbindgen_realloc),i=y;S()[e/4+1]=i,S()[e/4+0]=r},e.exports.__wbg_status_61a01141acd3cf74=function(e){return f(e).status},e.exports.__wbg_headers_9620bfada380764a=function(e){return p(f(e).headers)},e.exports.__wbg_arrayBuffer_29931d52c7206b02=function(){return T(function(e){return p(f(e).arrayBuffer())},arguments)},e.exports.__wbg_signal_a61f78a3478fd9bc=function(e){return p(f(e).signal)},e.exports.__wbg_new_0d76b0581eca6298=function(){return T(function(){return p(new AbortController)},arguments)},e.exports.__wbg_abort_2aa7521d5690750e=function(e){f(e).abort()},e.exports.__wbg_newwithstrandinit_3fd6fba4083ff2d0=function(){return T(function(e,t,r){return p(new Request(u(e,t),f(r)))},arguments)},e.exports.__wbg_newnoargs_e258087cd0daa0ea=function(e,t){return p(Function(u(e,t)))},e.exports.__wbg_next_40fc327bfc8770e6=function(e){return p(f(e).next)},e.exports.__wbg_next_196c84450b364254=function(){return T(function(e){return p(f(e).next())},arguments)},e.exports.__wbg_done_298b57d23c0fc80c=function(e){return f(e).done},e.exports.__wbg_value_d93c65011f51a456=function(e){return p(f(e).value)},e.exports.__wbg_iterator_2cee6dadfd956dfa=function(){return p(Symbol.iterator)},e.exports.__wbg_get_e3c254076557e348=function(){return T(function(e,t){return p(Reflect.get(f(e),f(t)))},arguments)},e.exports.__wbg_call_27c0f87801dedf93=function(){return T(function(e,t){return p(f(e).call(f(t)))},arguments)},e.exports.__wbg_new_72fb9a18b5ae2624=function(){return p({})},e.exports.__wbg_self_ce0dbfc45cf2f5be=function(){return T(function(){return p(self.self)},arguments)},e.exports.__wbg_window_c6fb939a7f436783=function(){return T(function(){return p(window.window)},arguments)},e.exports.__wbg_globalThis_d1e6af4856ba331b=function(){return T(function(){return p(globalThis.globalThis)},arguments)},e.exports.__wbg_global_207b558942527489=function(){return T(function(){return p(global.global)},arguments)},e.exports.__wbindgen_is_undefined=function(e){return void 0===f(e)},e.exports.__wbg_call_b3ca7c6051f9bec1=function(){return T(function(e,t,r){return p(f(e).call(f(t),f(r)))},arguments)},e.exports.__wbg_getFullYear_d7c822fa9c674c24=function(e){return f(e).getFullYear()},e.exports.__wbg_new0_7d84e5b2cd9fdc73=function(){return p(new Date)},e.exports.__wbg_now_3014639a94423537=function(){return Date.now()},e.exports.__wbg_new_81740750da40724f=function(e,t){try{var r={a:e,b:t},n=(e,t)=>{let n=r.a;r.a=0;try{return O(n,r.b,e,t)}finally{r.a=n}};let i=new Promise(n);return p(i)}finally{r.a=r.b=0}},e.exports.__wbg_resolve_b0083a7967828ec8=function(e){return p(Promise.resolve(f(e)))},e.exports.__wbg_then_0c86a60e8fcfe9f6=function(e,t){return p(f(e).then(f(t)))},e.exports.__wbg_then_a73caa9a87991566=function(e,t,r){return p(f(e).then(f(t),f(r)))},e.exports.__wbg_buffer_12d079cc21e14bdb=function(e){return p(f(e).buffer)},e.exports.__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb=function(e,t,r){return p(new Uint8Array(f(e),t>>>0,r>>>0))},e.exports.__wbg_new_63b92bc8671ed464=function(e){return p(new Uint8Array(f(e)))},e.exports.__wbg_set_a47bac70306a19a7=function(e,t,r){f(e).set(f(t),r>>>0)},e.exports.__wbg_length_c20a40f15020d68a=function(e){return f(e).length},e.exports.__wbg_newwithlength_e9b4878cebadb3d3=function(e){return p(new Uint8Array(e>>>0))},e.exports.__wbg_subarray_a1f73cd4b5b42fe1=function(e,t,r){return p(f(e).subarray(t>>>0,r>>>0))},e.exports.__wbg_has_0af94d20077affa2=function(){return T(function(e,t){return Reflect.has(f(e),f(t))},arguments)},e.exports.__wbg_set_1f9b04f170055d33=function(){return T(function(e,t,r){return Reflect.set(f(e),f(t),f(r))},arguments)},e.exports.__wbg_stringify_8887fe74e1c50d81=function(){return T(function(e){return p(JSON.stringify(f(e)))},arguments)},e.exports.__wbindgen_debug_string=function(e,t){let r=b(k(f(t)),n.__wbindgen_malloc,n.__wbindgen_realloc),i=y;S()[e/4+1]=i,S()[e/4+0]=r},e.exports.__wbindgen_throw=function(e,t){throw Error(u(e,t))},e.exports.__wbindgen_memory=function(){return p(n.memory)},e.exports.__wbindgen_closure_wrapper4607=function(e,t,r){return p(C(e,t,1423,x))},r.ab;let I=r("fs").readFileSync(r.ab+"core_bg.wasm"),A=new WebAssembly.Module(I);n=new WebAssembly.Instance(A,i).exports,e.exports.__wasm=n},"./node_modules/@1password/sdk/dist/client.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;let n=r("./node_modules/@1password/sdk/dist/secrets.js"),i=r("./node_modules/@1password/sdk/dist/items.js"),s=r("./node_modules/@1password/sdk/dist/vaults.js");class o{constructor(e){this.secrets=new n.SecretsSource(e),this.items=new i.ItemsSource(e),this.vaults=new s.VaultsSource(e)}}t.Client=o},"./node_modules/@1password/sdk/dist/client_builder.js":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?r(e.value):i(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.createClientWithCore=void 0;let i=r("./node_modules/@1password/sdk/dist/configuration.js"),s=r("./node_modules/@1password/sdk/dist/client.js"),o=new FinalizationRegistry(e=>{e.core.releaseClient(e.id)});t.createClientWithCore=(e,t)=>n(void 0,void 0,void 0,function*(){let r=(0,i.clientAuthConfig)(e),n={id:parseInt((yield t.initClient(r)),10),core:t},a=new s.Client(n);return o.register(a,n),a})},"./node_modules/@1password/sdk/dist/configuration.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getOsName=t.clientAuthConfig=t.VERSION=t.LANGUAGE=void 0;let i=n(r("os")),s=r("./node_modules/@1password/sdk/dist/version.js");t.LANGUAGE="JS",t.VERSION=s.SDK_BUILD_NUMBER;let o=e=>{let r="0.0.0";return{serviceAccountToken:e.auth,programmingLanguage:t.LANGUAGE,sdkVersion:t.VERSION,integrationName:e.integrationName,integrationVersion:e.integrationVersion,requestLibraryName:"Fetch API",requestLibraryVersion:"Fetch API",os:(0,t.getOsName)(),osVersion:r,architecture:i.default.arch()}};t.clientAuthConfig=o,t.getOsName=()=>{let e=i.default.type().toLowerCase();return"windows_nt"===e?"windows":e}},"./node_modules/@1password/sdk/dist/core.js":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?r(e.value):i(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.SharedCore=void 0;let i=r("./node_modules/@1password/sdk-core/nodejs/core.js");class s{initClient(e){return n(this,void 0,void 0,function*(){let t=JSON.stringify(e);return(0,i.init_client)(t)})}invoke(e){return n(this,void 0,void 0,function*(){let t=JSON.stringify(e);return(0,i.invoke)(t)})}releaseClient(e){let t=JSON.stringify(e);(0,i.release_client)(t)}}t.SharedCore=s},"./node_modules/@1password/sdk/dist/items.js":function(e,t,r){"use strict";var n,i=this&&this.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?r(e.value):i(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},s=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},o=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.ItemsSource=void 0;let a=r("./node_modules/@1password/sdk/dist/iterator.js");class l{constructor(e){n.set(this,void 0),s(this,n,e,"f")}create(e){return i(this,void 0,void 0,function*(){let t={clientId:o(this,n,"f").id,invocation:{name:"ItemsCreate",parameters:{params:e}}};return JSON.parse((yield o(this,n,"f").core.invoke(t)))})}get(e,t){return i(this,void 0,void 0,function*(){let r={clientId:o(this,n,"f").id,invocation:{name:"ItemsGet",parameters:{vault_id:e,item_id:t}}};return JSON.parse((yield o(this,n,"f").core.invoke(r)))})}put(e){return i(this,void 0,void 0,function*(){let t={clientId:o(this,n,"f").id,invocation:{name:"ItemsPut",parameters:{item:e}}};return JSON.parse((yield o(this,n,"f").core.invoke(t)))})}delete(e,t){return i(this,void 0,void 0,function*(){let r={clientId:o(this,n,"f").id,invocation:{name:"ItemsDelete",parameters:{vault_id:e,item_id:t}}};yield o(this,n,"f").core.invoke(r)})}listAll(e){return i(this,void 0,void 0,function*(){let t={clientId:o(this,n,"f").id,invocation:{name:"ItemsListAll",parameters:{vault_id:e}}};return new a.SdkIterable(JSON.parse((yield o(this,n,"f").core.invoke(t))))})}}t.ItemsSource=l,n=new WeakMap},"./node_modules/@1password/sdk/dist/iterator.js":function(e,t){"use strict";var r=this&&this.__await||function(e){return this instanceof r?(this.v=e,this):new r(e)},n=this&&this.__asyncGenerator||function(e,t,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,s=n.apply(e,t||[]),o=[];return i={},l("next"),l("throw"),l("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(e){return function(t){return Promise.resolve(t).then(e,h)}}function l(e,t){s[e]&&(i[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||c(e,t)})},t&&(i[e]=t(i[e])))}function c(e,t){try{u(s[e](t))}catch(e){p(o[0][3],e)}}function u(e){e.value instanceof r?Promise.resolve(e.value.v).then(d,h):p(o[0][2],e)}function d(e){c("next",e)}function h(e){c("throw",e)}function p(e,t){e(t),o.shift(),o.length&&c(o[0][0],o[0][1])}};Object.defineProperty(t,"__esModule",{value:!0}),t.SdkIterable=void 0;class i{constructor(e){this.elements=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return n(this,arguments,function*(){for(let e of this.elements)yield yield r((yield r(Promise.resolve(e))))})}}t.SdkIterable=i},"./node_modules/@1password/sdk/dist/sdk.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},s=this&&this.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?r(e.value):i(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.DEFAULT_INTEGRATION_VERSION=t.DEFAULT_INTEGRATION_NAME=void 0;let o=r("./node_modules/@1password/sdk/dist/core.js"),a=r("./node_modules/@1password/sdk/dist/client_builder.js");t.DEFAULT_INTEGRATION_NAME="Unknown",t.DEFAULT_INTEGRATION_VERSION="Unknown",i(r("./node_modules/@1password/sdk/dist/client.js"),t),i(r("./node_modules/@1password/sdk/dist/types.js"),t),t.createClient=e=>s(void 0,void 0,void 0,function*(){return(0,a.createClientWithCore)(e,new o.SharedCore)})},"./node_modules/@1password/sdk/dist/secrets.js":function(e,t){"use strict";var r,n=this&&this.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?r(e.value):i(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.SecretsSource=void 0;class o{constructor(e){r.set(this,void 0),i(this,r,e,"f")}resolve(e){return n(this,void 0,void 0,function*(){let t={clientId:s(this,r,"f").id,invocation:{name:"SecretsResolve",parameters:{secret_reference:e}}};return JSON.parse((yield s(this,r,"f").core.invoke(t)))})}}t.SecretsSource=o,r=new WeakMap},"./node_modules/@1password/sdk/dist/types.js":function(e,t){"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.ItemFieldType=t.ItemCategory=void 0,function(e){e.Login="Login",e.SecureNote="SecureNote",e.CreditCard="CreditCard",e.CryptoWallet="CryptoWallet",e.Identity="Identity",e.Password="Password",e.Document="Document",e.ApiCredentials="ApiCredentials",e.BankAccount="BankAccount",e.Database="Database",e.DriverLicense="DriverLicense",e.Email="Email",e.MedicalRecord="MedicalRecord",e.Membership="Membership",e.OutdoorLicense="OutdoorLicense",e.Passport="Passport",e.Rewards="Rewards",e.Router="Router",e.Server="Server",e.SshKey="SshKey",e.SocialSecurityNumber="SocialSecurityNumber",e.SoftwareLicense="SoftwareLicense",e.Person="Person",e.Unsupported="Unsupported"}(r||(t.ItemCategory=r={})),function(e){e.Text="Text",e.Concealed="Concealed",e.CreditCardType="CreditCardType",e.Phone="Phone",e.Url="Url",e.Totp="Totp",e.Unsupported="Unsupported"}(n||(t.ItemFieldType=n={}))},"./node_modules/@1password/sdk/dist/vaults.js":function(e,t,r){"use strict";var n,i=this&&this.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?r(e.value):i(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},s=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},o=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.VaultsSource=void 0;let a=r("./node_modules/@1password/sdk/dist/iterator.js");class l{constructor(e){n.set(this,void 0),s(this,n,e,"f")}listAll(){return i(this,void 0,void 0,function*(){let e={clientId:o(this,n,"f").id,invocation:{name:"VaultsListAll",parameters:{}}};return new a.SdkIterable(JSON.parse((yield o(this,n,"f").core.invoke(e))))})}}t.VaultsSource=l,n=new WeakMap},"./node_modules/@1password/sdk/dist/version.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDK_BUILD_NUMBER=t.SDK_VERSION=void 0,t.SDK_VERSION="0.1.1",t.SDK_BUILD_NUMBER="0010100"},"./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/index.js":function(e,t,r){"use strict";r.r(t),r.d(t,{NIL:()=>a.A,parse:()=>d.A,stringify:()=>u.A,v1:()=>n.A,v3:()=>i.A,v4:()=>s.A,v5:()=>o.A,validate:()=>c.A,version:()=>l.A});var n=r("./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/v1.js"),i=r("./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/v3.js"),s=r("./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/v4.js"),o=r("./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/v5.js"),a=r("./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/nil.js"),l=r("./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/version.js"),c=r("./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/validate.js"),u=r("./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/stringify.js"),d=r("./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/parse.js")},"./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/md5.js":function(e,t,r){"use strict";r.d(t,{A:()=>s});var n=r("crypto"),i=r.n(n);let s=function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),i().createHash("md5").update(e).digest()}},"./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/nil.js":function(e,t,r){"use strict";r.d(t,{A:()=>n});let n="00000000-0000-0000-0000-000000000000"},"./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/parse.js":function(e,t,r){"use strict";r.d(t,{A:()=>i});var n=r("./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/validate.js");let i=function(e){let t;if(!(0,n.A)(e))throw TypeError("Invalid UUID");let r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/0x10000000000&255,r[11]=t/0x100000000&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}},"./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/regex.js":function(e,t,r){"use strict";r.d(t,{A:()=>n});let n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},"./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/rng.js":function(e,t,r){"use strict";r.d(t,{A:()=>a});var n=r("crypto"),i=r.n(n);let s=new Uint8Array(256),o=s.length;function a(){return o>s.length-16&&(i().randomFillSync(s),o=0),s.slice(o,o+=16)}},"./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/sha1.js":function(e,t,r){"use strict";r.d(t,{A:()=>s});var n=r("crypto"),i=r.n(n);let s=function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),i().createHash("sha1").update(e).digest()}},"./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/stringify.js":function(e,t,r){"use strict";r.d(t,{A:()=>s});var n=r("./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/validate.js");let i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).substr(1));let s=function(e,t=0){let r=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!(0,n.A)(r))throw TypeError("Stringified UUID is invalid");return r}},"./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/v1.js":function(e,t,r){"use strict";let n,i;r.d(t,{A:()=>c});var s=r("./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/rng.js"),o=r("./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/stringify.js");let a=0,l=0,c=function(e,t,r){let c=t&&r||0,u=t||Array(16),d=(e=e||{}).node||n,h=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==h){let t=e.random||(e.rng||s.A)();null==d&&(d=n=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==h&&(h=i=(t[6]<<8|t[7])&16383)}let p=void 0!==e.msecs?e.msecs:Date.now(),f=void 0!==e.nsecs?e.nsecs:l+1,m=p-a+(f-l)/1e4;if(m<0&&void 0===e.clockseq&&(h=h+1&16383),(m<0||p>a)&&void 0===e.nsecs&&(f=0),f>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");a=p,l=f,i=h;let g=((0xfffffff&(p+=122192928e5))*1e4+f)%0x100000000;u[c++]=g>>>24&255,u[c++]=g>>>16&255,u[c++]=g>>>8&255,u[c++]=255&g;let y=p/0x100000000*1e4&0xfffffff;u[c++]=y>>>8&255,u[c++]=255&y,u[c++]=y>>>24&15|16,u[c++]=y>>>16&255,u[c++]=h>>>8|128,u[c++]=255&h;for(let e=0;e<6;++e)u[c+e]=d[e];return t||(0,o.A)(u)}},"./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/v3.js":function(e,t,r){"use strict";r.d(t,{A:()=>s});var n=r("./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/v35.js"),i=r("./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/md5.js");let s=(0,n.Ay)("v3",48,i.A)},"./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/v35.js":function(e,t,r){"use strict";r.d(t,{Ay:()=>l});var n=r("./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/stringify.js"),i=r("./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/parse.js");function s(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}let o="6ba7b810-9dad-11d1-80b4-00c04fd430c8",a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function l(e,t,r){function l(e,o,a,l){if("string"==typeof e&&(e=s(e)),"string"==typeof o&&(o=(0,i.A)(o)),16!==o.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+e.length);if(c.set(o),c.set(e,o.length),(c=r(c))[6]=15&c[6]|t,c[8]=63&c[8]|128,a){l=l||0;for(let e=0;e<16;++e)a[l+e]=c[e];return a}return(0,n.A)(c)}try{l.name=e}catch(e){}return l.DNS=o,l.URL=a,l}},"./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/v4.js":function(e,t,r){"use strict";r.d(t,{A:()=>s});var n=r("./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/rng.js"),i=r("./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/stringify.js");let s=function(e,t,r){let s=(e=e||{}).random||(e.rng||n.A)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=s[e];return t}return(0,i.A)(s)}},"./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/v5.js":function(e,t,r){"use strict";r.d(t,{A:()=>s});var n=r("./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/v35.js"),i=r("./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/sha1.js");let s=(0,n.Ay)("v5",80,i.A)},"./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/validate.js":function(e,t,r){"use strict";r.d(t,{A:()=>i});var n=r("./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/regex.js");let i=function(e){return"string"==typeof e&&n.A.test(e)}},"./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/version.js":function(e,t,r){"use strict";r.d(t,{A:()=>i});var n=r("./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/validate.js");let i=function(e){if(!(0,n.A)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},"./node_modules/@js-sdsl/ordered-map/dist/esm/index.js":function(e,t,r){"use strict";r.r(t),r.d(t,{OrderedMap:()=>h});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function s(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return l([e,t])}}function l(a){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}"function"==typeof SuppressedError&&SuppressedError;var o=function(){function e(e,t,r){void 0===r&&(r=1),this.t=void 0,this.i=void 0,this.h=void 0,this.u=e,this.o=t,this.l=r}return e.prototype.v=function(){var e=this,t=e.h.h===e;if(t&&1===e.l)e=e.i;else if(e.t)for(e=e.t;e.i;)e=e.i;else{if(t)return e.h;for(var r=e.h;r.t===e;)r=(e=r).h;e=r}return e},e.prototype.p=function(){var e=this;if(e.i){for(e=e.i;e.t;)e=e.t;return e}for(var t=e.h;t.i===e;)t=(e=t).h;return e.i!==t?t:e},e.prototype.T=function(){var e=this.h,t=this.i,r=t.t;return e.h===this?e.h=t:e.t===this?e.t=t:e.i=t,t.h=e,t.t=this,this.h=t,this.i=r,r&&(r.h=this),t},e.prototype.I=function(){var e=this.h,t=this.t,r=t.i;return e.h===this?e.h=t:e.t===this?e.t=t:e.i=t,t.h=e,t.i=this,this.h=t,this.t=r,r&&(r.h=this),t},e}(),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.O=1,t}return i(t,e),t.prototype.T=function(){var t=e.prototype.T.call(this);return this.M(),t.M(),t},t.prototype.I=function(){var t=e.prototype.I.call(this);return this.M(),t.M(),t},t.prototype.M=function(){this.O=1,this.t&&(this.O+=this.t.O),this.i&&(this.O+=this.i.O)},t}(o),l=function(){function e(e){void 0===e&&(e=0),this.iteratorType=e}return e.prototype.equals=function(e){return this.C===e.C},e}();function c(){throw RangeError("Iterator access denied!")}var u=function(e){function t(t,r){void 0===t&&(t=function(e,t){return e<t?-1:+(e>t)}),void 0===r&&(r=!1);var n=e.call(this)||this;return n.N=void 0,n.g=t,n.enableIndex=r,n.S=r?a:o,n.A=new n.S,n}return i(t,e),t.prototype.m=function(e,t){for(var r=this.A;e;){var n=this.g(e.u,t);if(n<0)e=e.i;else{if(!(n>0))return e;r=e,e=e.t}}return r},t.prototype.B=function(e,t){for(var r=this.A;e;)0>=this.g(e.u,t)?e=e.i:(r=e,e=e.t);return r},t.prototype.j=function(e,t){for(var r=this.A;e;){var n=this.g(e.u,t);if(n<0)r=e,e=e.i;else{if(!(n>0))return e;e=e.t}}return r},t.prototype.k=function(e,t){for(var r=this.A;e;)0>this.g(e.u,t)?(r=e,e=e.i):e=e.t;return r},t.prototype.R=function(e){for(;;){var t=e.h;if(t===this.A)return;if(1===e.l){e.l=0;return}if(e===t.t){var r=t.i;if(1===r.l)r.l=0,t.l=1,t===this.N?this.N=t.T():t.T();else if(r.i&&1===r.i.l){r.l=t.l,t.l=0,r.i.l=0,t===this.N?this.N=t.T():t.T();return}else r.t&&1===r.t.l?(r.l=1,r.t.l=0,r.I()):(r.l=1,e=t)}else{var r=t.t;if(1===r.l)r.l=0,t.l=1,t===this.N?this.N=t.I():t.I();else if(r.t&&1===r.t.l){r.l=t.l,t.l=0,r.t.l=0,t===this.N?this.N=t.I():t.I();return}else r.i&&1===r.i.l?(r.l=1,r.i.l=0,r.T()):(r.l=1,e=t)}}},t.prototype.G=function(e){if(1===this._)return void this.clear();for(var t=e;t.t||t.i;){if(t.i)for(t=t.i;t.t;)t=t.t;else t=t.t;var r=e.u;e.u=t.u,t.u=r;var n=e.o;e.o=t.o,t.o=n,e=t}this.A.t===t?this.A.t=t.h:this.A.i===t&&(this.A.i=t.h),this.R(t);var i=t.h;if(t===i.t?i.t=void 0:i.i=void 0,this._-=1,this.N.l=0,this.enableIndex)for(;i!==this.A;)i.O-=1,i=i.h},t.prototype.P=function(e){for(var t="number"==typeof e?e:void 0,r="function"==typeof e?e:void 0,n=void 0===e?[]:void 0,i=0,s=this.N,o=[];o.length||s;)if(s)o.push(s),s=s.t;else{if(s=o.pop(),i===t)return s;n&&n.push(s),r&&r(s,i,this),i+=1,s=s.i}return n},t.prototype.q=function(e){for(;;){var t=e.h;if(0===t.l)return;var r=t.h;if(t===r.t){var n=r.i;if(n&&1===n.l){if(n.l=t.l=0,r===this.N)return;r.l=1,e=r;continue}if(e===t.i){if(e.l=0,e.t&&(e.t.h=t),e.i&&(e.i.h=r),t.i=e.t,r.t=e.i,e.t=t,e.i=r,r===this.N)this.N=e,this.A.h=e;else{var i=r.h;i.t===r?i.t=e:i.i=e}e.h=r.h,t.h=e,r.h=e,r.l=1}else{t.l=0,r===this.N?this.N=r.I():r.I(),r.l=1;return}}else{var n=r.t;if(n&&1===n.l){if(n.l=t.l=0,r===this.N)return;r.l=1,e=r;continue}if(e===t.t){if(e.l=0,e.t&&(e.t.h=r),e.i&&(e.i.h=t),r.i=e.t,t.t=e.i,e.t=r,e.i=t,r===this.N)this.N=e,this.A.h=e;else{var i=r.h;i.t===r?i.t=e:i.i=e}e.h=r.h,t.h=e,r.h=e,r.l=1}else{t.l=0,r===this.N?this.N=r.T():r.T(),r.l=1;return}}this.enableIndex&&(t.M(),r.M(),e.M());return}},t.prototype.D=function(e,t,r){if(void 0===this.N)return this._+=1,this.N=new this.S(e,t,0),this.N.h=this.A,this.A.h=this.A.t=this.A.i=this.N,this._;var n,i=this.A.t,s=this.g(i.u,e);if(0===s)return i.o=t,this._;if(s>0)i.t=new this.S(e,t),i.t.h=i,n=i.t,this.A.t=n;else{var o=this.A.i,a=this.g(o.u,e);if(0===a)return o.o=t,this._;if(a<0)o.i=new this.S(e,t),o.i.h=o,n=o.i,this.A.i=n;else{if(void 0!==r){var l=r.C;if(l!==this.A){var c=this.g(l.u,e);if(0===c)return l.o=t,this._;if(c>0){var u=l.v(),d=this.g(u.u,e);if(0===d)return u.o=t,this._;d<0&&(n=new this.S(e,t),void 0===u.i?(u.i=n,n.h=u):(l.t=n,n.h=l))}}}if(void 0===n)for(n=this.N;;){var h=this.g(n.u,e);if(h>0){if(void 0===n.t){n.t=new this.S(e,t),n.t.h=n,n=n.t;break}n=n.t}else{if(!(h<0))return n.o=t,this._;if(void 0===n.i){n.i=new this.S(e,t),n.i.h=n,n=n.i;break}n=n.i}}}}if(this.enableIndex)for(var p=n.h;p!==this.A;)p.O+=1,p=p.h;return this.q(n),this._+=1,this._},t.prototype.F=function(e,t){for(;e;){var r=this.g(e.u,t);if(r<0)e=e.i;else{if(!(r>0))return e;e=e.t}}return e||this.A},t.prototype.clear=function(){this._=0,this.N=void 0,this.A.h=void 0,this.A.t=this.A.i=void 0},t.prototype.updateKeyByIterator=function(e,t){var r=e.C;if(r===this.A&&c(),1===this._)return r.u=t,!0;var n=r.p().u;if(r===this.A.t)return this.g(n,t)>0&&(r.u=t,!0);var i=r.v().u;return r===this.A.i?0>this.g(i,t)&&(r.u=t,!0):!(this.g(i,t)>=0||0>=this.g(n,t))&&(r.u=t,!0)},t.prototype.eraseElementByPos=function(e){if(e<0||e>this._-1)throw RangeError();var t=this.P(e);return this.G(t),this._},t.prototype.eraseElementByKey=function(e){if(0===this._)return!1;var t=this.F(this.N,e);return t!==this.A&&(this.G(t),!0)},t.prototype.eraseElementByIterator=function(e){var t=e.C;t===this.A&&c();var r=void 0===t.i;return 0===e.iteratorType?r&&e.next():r&&void 0!==t.t||e.next(),this.G(t),e},t.prototype.getHeight=function(){if(0===this._)return 0;function e(t){return t?Math.max(e(t.t),e(t.i))+1:0}return e(this.N)},t}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(function(){function e(){this._=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._},enumerable:!1,configurable:!0}),e.prototype.size=function(){return this._},e.prototype.empty=function(){return 0===this._},e}())),d=function(e){function t(t,r,n,i){var s=e.call(this,t,r,i)||this;return s.container=n,s}return i(t,e),Object.defineProperty(t.prototype,"pointer",{get:function(){this.C===this.A&&c();var e=this;return new Proxy([],{get:function(t,r){return"0"===r?e.C.u:"1"===r?e.C.o:(t[0]=e.C.u,t[1]=e.C.o,t[r])},set:function(t,r,n){if("1"!==r)throw TypeError("prop must be 1");return e.C.o=n,!0}})},enumerable:!1,configurable:!0}),t.prototype.copy=function(){return new t(this.C,this.A,this.container,this.iteratorType)},t}(function(e){function t(t,r,n){var i=e.call(this,n)||this;return i.C=t,i.A=r,0===i.iteratorType?(i.pre=function(){return this.C===this.A.t&&c(),this.C=this.C.v(),this},i.next=function(){return this.C===this.A&&c(),this.C=this.C.p(),this}):(i.pre=function(){return this.C===this.A.i&&c(),this.C=this.C.p(),this},i.next=function(){return this.C===this.A&&c(),this.C=this.C.v(),this}),i}return i(t,e),Object.defineProperty(t.prototype,"index",{get:function(){var e=this.C,t=this.A.h;if(e===this.A)return t?t.O-1:0;var r=0;for(e.t&&(r+=e.t.O);e!==t;){var n=e.h;e===n.i&&(r+=1,n.t&&(r+=n.t.O)),e=n}return r},enumerable:!1,configurable:!0}),t.prototype.isAccessible=function(){return this.C!==this.A},t}(l)),h=function(e){function t(t,r,n){void 0===t&&(t=[]);var i=e.call(this,r,n)||this,s=i;return t.forEach(function(e){s.setElement(e[0],e[1])}),i}return i(t,e),t.prototype.begin=function(){return new d(this.A.t||this.A,this.A,this)},t.prototype.end=function(){return new d(this.A,this.A,this)},t.prototype.rBegin=function(){return new d(this.A.i||this.A,this.A,this,1)},t.prototype.rEnd=function(){return new d(this.A,this.A,this,1)},t.prototype.front=function(){if(0!==this._){var e=this.A.t;return[e.u,e.o]}},t.prototype.back=function(){if(0!==this._){var e=this.A.i;return[e.u,e.o]}},t.prototype.lowerBound=function(e){return new d(this.m(this.N,e),this.A,this)},t.prototype.upperBound=function(e){return new d(this.B(this.N,e),this.A,this)},t.prototype.reverseLowerBound=function(e){return new d(this.j(this.N,e),this.A,this)},t.prototype.reverseUpperBound=function(e){return new d(this.k(this.N,e),this.A,this)},t.prototype.forEach=function(e){this.P(function(t,r,n){e([t.u,t.o],r,n)})},t.prototype.setElement=function(e,t,r){return this.D(e,t,r)},t.prototype.getElementByPos=function(e){if(e<0||e>this._-1)throw RangeError();var t=this.P(e);return[t.u,t.o]},t.prototype.find=function(e){return new d(this.F(this.N,e),this.A,this)},t.prototype.getElementByKey=function(e){return this.F(this.N,e).o},t.prototype.union=function(e){var t=this;return e.forEach(function(e){t.setElement(e[0],e[1])}),this._},t.prototype[Symbol.iterator]=function(){var e,t,r,n;return s(this,function(i){switch(i.label){case 0:e=this._,t=this.P(),r=0,i.label=1;case 1:if(!(r<e))return[3,4];return[4,[(n=t[r]).u,n.o]];case 2:i.sent(),i.label=3;case 3:return++r,[3,1];case 4:return[2]}})},t}(u)},"./node_modules/@postman/form-data/lib/form_data.js":function(e,t,r){var n=r("./node_modules/combined-stream/lib/combined_stream.js"),i=r("util"),s=r("path"),o=r("http"),a=r("https"),l=r("url").parse,c=r("fs"),u=r("./node_modules/mime-types/index.js"),d=r("./node_modules/asynckit/index.js"),h=r("./node_modules/@postman/form-data/lib/populate.js");function p(e){if(!(this instanceof p))return new p(e);for(var t in this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],n.call(this),e=e||{})this[t]=e[t]}e.exports=p,i.inherits(p,n),p.LINE_BREAK="\r\n",p.DEFAULT_CONTENT_TYPE="application/octet-stream",p.prototype.append=function(e,t,r){t=t||"","string"==typeof(r=r||{})&&(r={filename:r});var s=n.prototype.append.bind(this);if("number"==typeof t&&(t=""+t),i.isArray(t))return void this._error(Error("Arrays are not supported."));var o=this._multiPartHeader(e,t,r),a=this._multiPartFooter();s(o),s(t),s(a),this._trackLength(o,t,r)},p.prototype._trackLength=function(e,t,r){var n=0;null!=r.knownLength?n+=+r.knownLength:Buffer.isBuffer(t)?n=t.length:"string"==typeof t&&(n=Buffer.byteLength(t)),this._valueLength+=n,this._overheadLength+=Buffer.byteLength(e)+p.LINE_BREAK.length,t&&(t.path||t.readable&&t.hasOwnProperty("httpVersion"))&&(r.knownLength||this._valuesToMeasure.push(t))},p.prototype._lengthRetriever=function(e,t){e.hasOwnProperty("fd")?void 0!=e.end&&e.end!=1/0&&void 0!=e.start?t(null,e.end+1-(e.start?e.start:0)):c.stat(e.path,function(r,n){if(r)return void t(r);t(null,n.size-(e.start?e.start:0))}):e.hasOwnProperty("httpVersion")?t(null,+e.headers["content-length"]):e.hasOwnProperty("httpModule")?(e.on("response",function(r){e.pause(),t(null,+r.headers["content-length"])}),e.resume()):t("Unknown stream")},p.prototype._multiPartHeader=function(e,t,r){if("string"==typeof r.header)return r.header;var n,i=this._getContentDisposition(t,r),s=this._getContentType(t,r),o="",a={"Content-Disposition":["form-data",'name="'+e+'"'].concat(i||[]),"Content-Type":[].concat(s||[])};for(var l in"object"==typeof r.header&&h(a,r.header),a)a.hasOwnProperty(l)&&null!=(n=a[l])&&(Array.isArray(n)||(n=[n]),n.length&&(o+=l+": "+n.join("; ")+p.LINE_BREAK));return"--"+this.getBoundary()+p.LINE_BREAK+o+p.LINE_BREAK},p.prototype._encodeHeaderParam=function(e,t){return t&&"string"==typeof t||(t=""),"UTF-8'"+t+"'"+encodeURIComponent(e).replace(/['()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)}).replace(/%(?:7C|60|5E)/g,unescape)},p.prototype._getContentDisposition=function(e,t){var r,n=[],i=/[^\t\x20-\x7e\x80-\xff]/;if("string"==typeof t.filepath?r=s.normalize(t.filepath).replace(/\\/g,"/"):"string"==typeof t.filename?r=s.basename(t.filename):e&&(e.name||e.path)?r=s.basename(e.name||e.path):e&&e.readable&&e.hasOwnProperty("httpVersion")&&(r=s.basename(e.client._httpMessage.path||"")),"string"==typeof r)return n.push('filename="'+r+'"'),i.test(r)&&n.push("filename*="+this._encodeHeaderParam(r)),n},p.prototype._getContentType=function(e,t){var r=t.contentType;return!r&&e&&e.name&&(r=u.lookup(e.name)),!r&&e&&e.path&&(r=u.lookup(e.path)),!r&&e&&e.readable&&e.hasOwnProperty("httpVersion")&&(r=e.headers["content-type"]),!r&&(t.filepath||t.filename)&&(r=u.lookup(t.filepath||t.filename)),r||"object"!=typeof e||(r=p.DEFAULT_CONTENT_TYPE),r},p.prototype._multiPartFooter=function(){return(function(e){var t=p.LINE_BREAK;0===this._streams.length&&(t+=this._lastBoundary()),e(t)}).bind(this)},p.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+p.LINE_BREAK},p.prototype.getHeaders=function(e){var t,r={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(t in e)e.hasOwnProperty(t)&&(r[t.toLowerCase()]=e[t]);return r},p.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary},p.prototype.getBuffer=function(){for(var e=new Buffer.alloc(0),t=this.getBoundary(),r=0,n=this._streams.length;r<n;r++)"function"!=typeof this._streams[r]&&(e=Buffer.isBuffer(this._streams[r])?Buffer.concat([e,this._streams[r]]):Buffer.concat([e,Buffer.from(this._streams[r])]),("string"!=typeof this._streams[r]||this._streams[r].substring(2,t.length+2)!==t)&&(e=Buffer.concat([e,Buffer.from(p.LINE_BREAK)])));return Buffer.concat([e,Buffer.from(this._lastBoundary())])},p.prototype._generateBoundary=function(){for(var e="--------------------------",t=0;t<24;t++)e+=Math.floor(10*Math.random()).toString(16);this._boundary=e},p.prototype.getLengthSync=function(){var e=this._overheadLength+this._valueLength;return this._streams.length&&(e+=this._lastBoundary().length),this.hasKnownLength()||this._error(Error("Cannot calculate proper length in synchronous way.")),e},p.prototype.hasKnownLength=function(){var e=!0;return this._valuesToMeasure.length&&(e=!1),e},p.prototype.getLength=function(e){var t=this._overheadLength+this._valueLength;if(this._streams.length&&(t+=this._lastBoundary().length),!this._valuesToMeasure.length)return void process.nextTick(e.bind(this,null,t));d.parallel(this._valuesToMeasure,this._lengthRetriever,function(r,n){if(r)return void e(r);n.forEach(function(e){t+=e}),e(null,t)})},p.prototype.submit=function(e,t){var r,n,i={method:"post"};return"string"==typeof e?n=h({port:(e=l(e)).port,path:e.pathname,host:e.hostname,protocol:e.protocol},i):(n=h(e,i)).port||(n.port="https:"==n.protocol?443:80),n.headers=this.getHeaders(e.headers),r="https:"==n.protocol?a.request(n):o.request(n),this.getLength((function(e,n){if(e)return void this._error(e);if(r.setHeader("Content-Length",n),this.pipe(r),t){var i,s=function(e,n){return r.removeListener("error",s),r.removeListener("response",i),t.call(this,e,n)};i=s.bind(this,null),r.on("error",s),r.on("response",i)}}).bind(this)),r},p.prototype._error=function(e){this.error||(this.error=e,this.pause(),this.emit("error",e))},p.prototype.toString=function(){return"[object FormData]"}},"./node_modules/@postman/form-data/lib/populate.js":function(e){e.exports=function(e,t){return Object.keys(t).forEach(function(r){e[r]=e[r]||t[r]}),e}},"./node_modules/@postman/grpc-js/build/src/admin.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerAdminService=n,t.addAdminServicesToServer=i;let r=[];function n(e,t){r.push({getServiceDefinition:e,getHandlers:t})}function i(e){for(let{getServiceDefinition:t,getHandlers:n}of r)e.addService(t(),n())}},"./node_modules/@postman/grpc-js/build/src/backoff-timeout.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackoffTimeout=void 0;let r=1e3,n=1.6,i=12e4,s=.2;function o(e,t){return Math.random()*(t-e)+e}class a{constructor(e,t){this.callback=e,this.initialDelay=r,this.multiplier=n,this.maxDelay=i,this.jitter=s,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,t&&(t.initialDelay&&(this.initialDelay=t.initialDelay),t.multiplier&&(this.multiplier=t.multiplier),t.jitter&&(this.jitter=t.jitter),t.maxDelay&&(this.maxDelay=t.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(e){var t,r;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},e),this.hasRef||null==(r=(t=this.timerId).unref)||r.call(t)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),t=e*this.jitter;this.nextDelay=e+o(-t,t)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let e=new Date,t=this.startTime;t.setMilliseconds(t.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),e<t?this.runTimer(t.getTime()-e.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var e,t;this.hasRef=!0,null==(t=(e=this.timerId).ref)||t.call(e)}unref(){var e,t;this.hasRef=!1,null==(t=(e=this.timerId).unref)||t.call(e)}getEndTime(){return this.endTime}}t.BackoffTimeout=a},"./node_modules/@postman/grpc-js/build/src/call-credentials.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallCredentials=void 0;let n=r("./node_modules/@postman/grpc-js/build/src/metadata.js");function i(e){return"getRequestHeaders"in e&&"function"==typeof e.getRequestHeaders}class s{static createFromMetadataGenerator(e){return new a(e)}static createFromGoogleCredential(e){return s.createFromMetadataGenerator((t,r)=>{let s;(s=i(e)?e.getRequestHeaders(t.service_url):new Promise((r,n)=>{e.getRequestMetadata(t.service_url,(e,t)=>e?void n(e):t?void r(t):void n(Error("Headers not set by metadata plugin")))})).then(e=>{let t=new n.Metadata;for(let r of Object.keys(e))t.add(r,e[r]);r(null,t)},e=>{r(e)})})}static createEmpty(){return new l}}t.CallCredentials=s;class o extends s{constructor(e){super(),this.creds=e}async generateMetadata(e){let t=new n.Metadata;for(let r of(await Promise.all(this.creds.map(t=>t.generateMetadata(e)))))t.merge(r);return t}compose(e){return new o(this.creds.concat([e]))}_equals(e){return this===e||e instanceof o&&this.creds.every((t,r)=>t._equals(e.creds[r]))}}class a extends s{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise((t,r)=>{this.metadataGenerator(e,(e,n)=>{void 0!==n?t(n):r(e)})})}compose(e){return new o([this,e])}_equals(e){return this===e||e instanceof a&&this.metadataGenerator===e.metadataGenerator}}class l extends s{generateMetadata(e){return Promise.resolve(new n.Metadata)}compose(e){return e}_equals(e){return e instanceof l}}},"./node_modules/@postman/grpc-js/build/src/call-interface.js":function(e,t){"use strict";function r(e){return void 0!==e.onReceiveMetadata&&1===e.onReceiveMetadata.length}Object.defineProperty(t,"__esModule",{value:!0}),t.InterceptingListenerImpl=void 0,t.isInterceptingListener=r;class n{constructor(e,t){this.listener=e,this.nextListener=t,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(e){this.processingMetadata=!0,this.listener.onReceiveMetadata(e,e=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(e),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,e=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=e,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(e),this.processPendingStatus())})}onReceiveStatus(e){this.listener.onReceiveStatus(e,e=>{this.processingMetadata||this.processingMessage?this.pendingStatus=e:this.nextListener.onReceiveStatus(e)})}}t.InterceptingListenerImpl=n},"./node_modules/@postman/grpc-js/build/src/call-number.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNextCallNumber=n;let r=0;function n(){return r++}},"./node_modules/@postman/grpc-js/build/src/call.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientDuplexStreamImpl=t.ClientWritableStreamImpl=t.ClientReadableStreamImpl=t.ClientUnaryCallImpl=void 0,t.callErrorFromStatus=o;let n=r("events"),i=r("stream"),s=r("./node_modules/@postman/grpc-js/build/src/constants.js");function o(e,t){let r=`${e.code} ${s.Status[e.code]}: ${e.details}`,n=Error(r),i=`${n.stack}
for call at
${t}`;return Object.assign(Error(r),e,{stack:i})}class a extends n.EventEmitter{constructor(){super()}cancel(){var e;null==(e=this.call)||e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!=(t=null==(e=this.call)?void 0:e.getPeer())?t:"unknown"}}t.ClientUnaryCallImpl=a;class l extends i.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;null==(e=this.call)||e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!=(t=null==(e=this.call)?void 0:e.getPeer())?t:"unknown"}_read(e){var t;null==(t=this.call)||t.startRead()}}t.ClientReadableStreamImpl=l;class c extends i.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;null==(e=this.call)||e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!=(t=null==(e=this.call)?void 0:e.getPeer())?t:"unknown"}_write(e,t,r){var n;let i={callback:r},s=Number(t);Number.isNaN(s)||(i.flags=s),null==(n=this.call)||n.sendMessageWithContext(i,e)}_final(e){var t;null==(t=this.call)||t.halfClose(),e()}}t.ClientWritableStreamImpl=c;class u extends i.Duplex{constructor(e,t){super({objectMode:!0}),this.serialize=e,this.deserialize=t}cancel(){var e;null==(e=this.call)||e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!=(t=null==(e=this.call)?void 0:e.getPeer())?t:"unknown"}_read(e){var t;null==(t=this.call)||t.startRead()}_write(e,t,r){var n;let i={callback:r},s=Number(t);Number.isNaN(s)||(i.flags=s),null==(n=this.call)||n.sendMessageWithContext(i,e)}_final(e){var t;null==(t=this.call)||t.halfClose(),e()}}t.ClientDuplexStreamImpl=u},"./node_modules/@postman/grpc-js/build/src/channel-credentials.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelCredentials=void 0;let n=r("tls"),i=r("./node_modules/@postman/grpc-js/build/src/call-credentials.js"),s=r("./node_modules/@postman/grpc-js/build/src/tls-helpers.js");function o(e,t){if(e&&!(e instanceof Buffer))throw TypeError(`${t}, if provided, must be a Buffer.`)}class a{constructor(e){this.callCredentials=e||i.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,t,r,i){var a;if(o(e,"Root certificate"),o(t,"Private key"),o(r,"Certificate chain"),t&&!r)throw Error("Private key must be given with accompanying certificate chain");if(!t&&r)throw Error("Certificate chain must be given with accompanying private key");return new c((0,n.createSecureContext)({ca:null!=(a=null!=e?e:(0,s.getDefaultRootsData)())?a:void 0,key:null!=t?t:void 0,cert:null!=r?r:void 0,ciphers:s.CIPHER_SUITES}),null!=i?i:{})}static createFromSecureContext(e,t){return new c(e,null!=t?t:{})}static createInsecure(){return new l}}t.ChannelCredentials=a;class l extends a{constructor(){super()}compose(e){throw Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(e){return e instanceof l}}class c extends a{constructor(e,t){super(),this.secureContext=e,this.verifyOptions=t,this.connectionOptions={secureContext:e},(null==t?void 0:t.checkServerIdentity)&&(this.connectionOptions.checkServerIdentity=t.checkServerIdentity)}compose(e){return new u(this,this.callCredentials.compose(e))}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(e){return this===e||e instanceof c&&this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity}}class u extends a{constructor(e,t){super(t),this.channelCredentials=e}compose(e){let t=this.callCredentials.compose(e);return new u(this.channelCredentials,t)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(e){return this===e||e instanceof u&&this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials)}}},"./node_modules/@postman/grpc-js/build/src/channel-options.js":function(e,t){"use strict";function r(e,t){let r=Object.keys(e).sort(),n=Object.keys(t).sort();if(r.length!==n.length)return!1;for(let i=0;i<r.length;i+=1)if(r[i]!==n[i]||e[r[i]]!==t[n[i]])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.recognizedOptions=void 0,t.channelOptionsEqual=r,t.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0,"grpc.lb.ring_hash.ring_size_cap":!0,"grpc-node.retry_max_attempts_limit":!0}},"./node_modules/@postman/grpc-js/build/src/channel.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelImplementation=void 0;let n=r("./node_modules/@postman/grpc-js/build/src/channel-credentials.js"),i=r("./node_modules/@postman/grpc-js/build/src/internal-channel.js");class s{constructor(e,t,r){if("string"!=typeof e)throw TypeError("Channel target must be a string");if(!(t instanceof n.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(r&&"object"!=typeof r)throw TypeError("Channel options must be an object");this.internalChannel=new i.InternalChannel(e,t,r)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,t,r){this.internalChannel.watchConnectivityState(e,t,r)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,t,r,n,i){if("string"!=typeof e)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof t||t instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(e,t,r,n,i)}}t.ChannelImplementation=s},"./node_modules/@postman/grpc-js/build/src/channelz.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerChannelzSocket=t.registerChannelzServer=t.registerChannelzSubchannel=t.registerChannelzChannel=t.ChannelzCallTrackerStub=t.ChannelzCallTracker=t.ChannelzChildrenTrackerStub=t.ChannelzChildrenTracker=t.ChannelzTrace=t.ChannelzTraceStub=void 0,t.unregisterChannelzRef=k,t.getChannelzHandlers=U,t.getChannelzServiceDefinition=F,t.setup=H;let n=r("net"),i=r("./node_modules/@js-sdsl/ordered-map/dist/esm/index.js"),s=r("./node_modules/@postman/grpc-js/build/src/connectivity-state.js"),o=r("./node_modules/@postman/grpc-js/build/src/constants.js"),a=r("./node_modules/@postman/grpc-js/build/src/subchannel-address.js"),l=r("./node_modules/@postman/grpc-js/build/src/admin.js"),c=r("./node_modules/@postman/grpc-js/build/src/make-client.js");function u(e){return{channel_id:e.id,name:e.name}}function d(e){return{subchannel_id:e.id,name:e.name}}function h(e){return{server_id:e.id}}function p(e){return{socket_id:e.id,name:e.name}}let f=32,m=100;class g{constructor(){this.events=[],this.creationTimestamp=new Date,this.eventsLogged=0}addTrace(){}getTraceMessage(){return{creation_timestamp:O(this.creationTimestamp),num_events_logged:this.eventsLogged,events:[]}}}t.ChannelzTraceStub=g;class y{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(e,t,r){let n=new Date;this.events.push({description:t,severity:e,timestamp:n,childChannel:(null==r?void 0:r.kind)==="channel"?r:void 0,childSubchannel:(null==r?void 0:r.kind)==="subchannel"?r:void 0}),this.events.length>=2*f&&(this.events=this.events.slice(f)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:O(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(e=>({description:e.description,severity:e.severity,timestamp:O(e.timestamp),channel_ref:e.childChannel?u(e.childChannel):null,subchannel_ref:e.childSubchannel?d(e.childSubchannel):null}))}}}t.ChannelzTrace=y;class _{constructor(){this.channelChildren=new i.OrderedMap,this.subchannelChildren=new i.OrderedMap,this.socketChildren=new i.OrderedMap,this.trackerMap={channel:this.channelChildren,subchannel:this.subchannelChildren,socket:this.socketChildren}}refChild(e){let t=this.trackerMap[e.kind],r=t.find(e.id);r.equals(t.end())?t.setElement(e.id,{ref:e,count:1},r):r.pointer[1].count+=1}unrefChild(e){let t=this.trackerMap[e.kind],r=t.getElementByKey(e.id);void 0!==r&&(r.count-=1,0===r.count&&t.eraseElementByKey(e.id))}getChildLists(){return{channels:this.channelChildren,subchannels:this.subchannelChildren,sockets:this.socketChildren}}}t.ChannelzChildrenTracker=_;class v extends _{refChild(){}unrefChild(){}}t.ChannelzChildrenTrackerStub=v;class b{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}}t.ChannelzCallTracker=b;class w extends b{addCallStarted(){}addCallSucceeded(){}addCallFailed(){}}t.ChannelzCallTrackerStub=w;let j={channel:new i.OrderedMap,subchannel:new i.OrderedMap,server:new i.OrderedMap,socket:new i.OrderedMap},S=e=>{let t=1;function r(){return t++}let n=j[e];return(t,i,s)=>{let o=r(),a={id:o,name:t,kind:e};return s&&n.setElement(o,{ref:a,getInfo:i}),a}};function k(e){j[e.kind].eraseElementByKey(e.id)}function E(e){let t=Number.parseInt(e,16);return[t/256|0,t%256]}function C(e){return""===e?[]:[].concat(...e.split(":").map(e=>E(e)))}function x(e){if((0,n.isIPv4)(e))return Buffer.from(Uint8Array.from(e.split(".").map(e=>Number.parseInt(e))));if(!(0,n.isIPv6)(e))return null;{let t,r,n=e.indexOf("::");-1===n?(t=e,r=""):(t=e.substring(0,n),r=e.substring(n+2));let i=Buffer.from(C(t)),s=Buffer.from(C(r)),o=Buffer.alloc(16-i.length-s.length,0);return Buffer.concat([i,o,s])}}function T(e){switch(e){case s.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case s.ConnectivityState.IDLE:return{state:"IDLE"};case s.ConnectivityState.READY:return{state:"READY"};case s.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case s.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function O(e){if(!e)return null;let t=e.getTime();return{seconds:t/1e3|0,nanos:t%1e3*1e6}}function I(e){let t=e.getInfo(),r=[],n=[];return t.children.channels.forEach(e=>{r.push(u(e[1].ref))}),t.children.subchannels.forEach(e=>{n.push(d(e[1].ref))}),{ref:u(e.ref),data:{target:t.target,state:T(t.state),calls_started:t.callTracker.callsStarted,calls_succeeded:t.callTracker.callsSucceeded,calls_failed:t.callTracker.callsFailed,last_call_started_timestamp:O(t.callTracker.lastCallStartedTimestamp),trace:t.trace.getTraceMessage()},channel_ref:r,subchannel_ref:n}}function A(e,t){let r=parseInt(e.request.channel_id,10),n=j.channel.getElementByKey(r);if(void 0===n)return void t({code:o.Status.NOT_FOUND,details:"No channel data found for id "+r});t(null,{channel:I(n)})}function P(e,t){let r,n=parseInt(e.request.max_results,10)||m,i=[],s=parseInt(e.request.start_channel_id,10),o=j.channel;for(r=o.lowerBound(s);!r.equals(o.end())&&i.length<n;r=r.next())i.push(I(r.pointer[1]));t(null,{channel:i,end:r.equals(o.end())})}function R(e){let t=e.getInfo(),r=[];return t.listenerChildren.sockets.forEach(e=>{r.push(p(e[1].ref))}),{ref:h(e.ref),data:{calls_started:t.callTracker.callsStarted,calls_succeeded:t.callTracker.callsSucceeded,calls_failed:t.callTracker.callsFailed,last_call_started_timestamp:O(t.callTracker.lastCallStartedTimestamp),trace:t.trace.getTraceMessage()},listen_socket:r}}function N(e,t){let r=parseInt(e.request.server_id,10),n=j.server.getElementByKey(r);if(void 0===n)return void t({code:o.Status.NOT_FOUND,details:"No server data found for id "+r});t(null,{server:R(n)})}function $(e,t){let r,n=parseInt(e.request.max_results,10)||m,i=parseInt(e.request.start_server_id,10),s=j.server,o=[];for(r=s.lowerBound(i);!r.equals(s.end())&&o.length<n;r=r.next())o.push(R(r.pointer[1]));t(null,{server:o,end:r.equals(s.end())})}function M(e,t){let r=parseInt(e.request.subchannel_id,10),n=j.subchannel.getElementByKey(r);if(void 0===n)return void t({code:o.Status.NOT_FOUND,details:"No subchannel data found for id "+r});let i=n.getInfo(),s=[];i.children.sockets.forEach(e=>{s.push(p(e[1].ref))}),t(null,{subchannel:{ref:d(n.ref),data:{target:i.target,state:T(i.state),calls_started:i.callTracker.callsStarted,calls_succeeded:i.callTracker.callsSucceeded,calls_failed:i.callTracker.callsFailed,last_call_started_timestamp:O(i.callTracker.lastCallStartedTimestamp),trace:i.trace.getTraceMessage()},socket_ref:s}})}function D(e){var t;return(0,a.isTcpSubchannelAddress)(e)?{address:"tcpip_address",tcpip_address:{ip_address:null!=(t=x(e.host))?t:void 0,port:e.port}}:{address:"uds_address",uds_address:{filename:e.path}}}function L(e,t){var r,n,i,s,a;let l=parseInt(e.request.socket_id,10),c=j.socket.getElementByKey(l);if(void 0===c)return void t({code:o.Status.NOT_FOUND,details:"No socket data found for id "+l});let u=c.getInfo(),d=u.security?{model:"tls",tls:{cipher_suite:u.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:null!=(r=u.security.cipherSuiteStandardName)?r:void 0,other_name:null!=(n=u.security.cipherSuiteOtherName)?n:void 0,local_certificate:null!=(i=u.security.localCertificate)?i:void 0,remote_certificate:null!=(s=u.security.remoteCertificate)?s:void 0}}:null;t(null,{socket:{ref:p(c.ref),local:u.localAddress?D(u.localAddress):null,remote:u.remoteAddress?D(u.remoteAddress):null,remote_name:null!=(a=u.remoteName)?a:void 0,security:d,data:{keep_alives_sent:u.keepAlivesSent,streams_started:u.streamsStarted,streams_succeeded:u.streamsSucceeded,streams_failed:u.streamsFailed,last_local_stream_created_timestamp:O(u.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:O(u.lastRemoteStreamCreatedTimestamp),messages_received:u.messagesReceived,messages_sent:u.messagesSent,last_message_received_timestamp:O(u.lastMessageReceivedTimestamp),last_message_sent_timestamp:O(u.lastMessageSentTimestamp),local_flow_control_window:u.localFlowControlWindow?{value:u.localFlowControlWindow}:null,remote_flow_control_window:u.remoteFlowControlWindow?{value:u.remoteFlowControlWindow}:null}}})}function B(e,t){let r,n=parseInt(e.request.server_id,10),i=j.server.getElementByKey(n);if(void 0===i)return void t({code:o.Status.NOT_FOUND,details:"No server data found for id "+n});let s=parseInt(e.request.start_socket_id,10),a=parseInt(e.request.max_results,10)||m,l=i.getInfo().sessionChildren.sockets,c=[];for(r=l.lowerBound(s);!r.equals(l.end())&&c.length<a;r=r.next())c.push(p(r.pointer[1].ref));t(null,{socket_ref:c,end:r.equals(l.end())})}function U(){return{GetChannel:A,GetTopChannels:P,GetServer:N,GetServers:$,GetSubchannel:M,GetSocket:L,GetServerSockets:B}}t.registerChannelzChannel=S("channel"),t.registerChannelzSubchannel=S("subchannel"),t.registerChannelzServer=S("server"),t.registerChannelzSocket=S("socket");let z=null;function F(){if(z)return z;let e=(0,r("./node_modules/@postman/proto-loader/build/src/index.js").loadSync)("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[r.ab+"proto"]});return z=(0,c.loadPackageDefinition)(e).grpc.channelz.v1.Channelz.service}function H(){(0,l.registerAdminService)(F,U)}},"./node_modules/@postman/grpc-js/build/src/client-interceptors.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InterceptingCall=t.RequesterBuilder=t.ListenerBuilder=t.InterceptorConfigurationError=void 0,t.getInterceptingCall=b;let n=r("./node_modules/@postman/grpc-js/build/src/metadata.js"),i=r("./node_modules/@postman/grpc-js/build/src/call-interface.js"),s=r("./node_modules/@postman/grpc-js/build/src/constants.js"),o=r("./node_modules/@postman/grpc-js/build/src/error.js");class a extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,a)}}t.InterceptorConfigurationError=a;class l{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}}t.ListenerBuilder=l;class c{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}}t.RequesterBuilder=c;let u=(e,t)=>{t(e)},d=(e,t)=>{t(e)},h=(e,t)=>{t(e)},p={start:(e,t,r)=>{r(e,t)},sendMessage:(e,t)=>{t(e)},halfClose:e=>{e()},cancel:e=>{e()}};class f{constructor(e,t){var r,n,i,s;this.nextCall=e,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,t?this.requester={start:null!=(r=t.start)?r:p.start,sendMessage:null!=(n=t.sendMessage)?n:p.sendMessage,halfClose:null!=(i=t.halfClose)?i:p.halfClose,cancel:null!=(s=t.cancel)?s:p.cancel}:this.requester=p}cancelWithStatus(e,t){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,t)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(e,t){var r,n,s,o,a,l;let c={onReceiveMetadata:null!=(n=null==(r=null==t?void 0:t.onReceiveMetadata)?void 0:r.bind(t))?n:e=>{},onReceiveMessage:null!=(o=null==(s=null==t?void 0:t.onReceiveMessage)?void 0:s.bind(t))?o:e=>{},onReceiveStatus:null!=(l=null==(a=null==t?void 0:t.onReceiveStatus)?void 0:a.bind(t))?l:e=>{}};this.processingMetadata=!0,this.requester.start(e,c,(e,t)=>{var r,n,s;let o;if(this.processingMetadata=!1,(0,i.isInterceptingListener)(t))o=t;else{let e={onReceiveMetadata:null!=(r=t.onReceiveMetadata)?r:u,onReceiveMessage:null!=(n=t.onReceiveMessage)?n:d,onReceiveStatus:null!=(s=t.onReceiveStatus)?s:h};o=new i.InterceptingListenerImpl(e,c)}this.nextCall.start(e,o),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(e,t){this.processingMessage=!0,this.requester.sendMessage(t,r=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=e,this.pendingMessage=t):(this.nextCall.sendMessageWithContext(e,r),this.processPendingHalfClose())})}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}}function m(e,t,r){var n,i;let s=null!=(n=r.deadline)?n:1/0,o=r.host,a=null!=(i=r.parent)?i:null,l=r.propagate_flags,c=r.credentials,u=e.createCall(t,s,o,a,l);return c&&u.setCredentials(c),u}t.InterceptingCall=f;class g{constructor(e,t){this.call=e,this.methodDefinition=t}cancelWithStatus(e,t){this.call.cancelWithStatus(e,t)}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,t){let r;try{r=this.methodDefinition.requestSerialize(t)}catch(e){this.call.cancelWithStatus(s.Status.INTERNAL,`Request message serialization failure: ${(0,o.getErrorMessage)(e)}`);return}this.call.sendMessageWithContext(e,r)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,t){let r=null;this.call.start(e,{onReceiveMetadata:e=>{var r;null==(r=null==t?void 0:t.onReceiveMetadata)||r.call(t,e)},onReceiveMessage:e=>{var i;let a;try{a=this.methodDefinition.responseDeserialize(e)}catch(e){r={code:s.Status.INTERNAL,details:`Response message parsing error: ${(0,o.getErrorMessage)(e)}`,metadata:new n.Metadata},this.call.cancelWithStatus(r.code,r.details);return}null==(i=null==t?void 0:t.onReceiveMessage)||i.call(t,a)},onReceiveStatus:e=>{var n,i;r?null==(n=null==t?void 0:t.onReceiveStatus)||n.call(t,r):null==(i=null==t?void 0:t.onReceiveStatus)||i.call(t,e)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}}class y extends g{constructor(e,t){super(e,t)}start(e,t){var r,n;let i=!1,s={onReceiveMetadata:null!=(n=null==(r=null==t?void 0:t.onReceiveMetadata)?void 0:r.bind(t))?n:e=>{},onReceiveMessage:e=>{var r;i=!0,null==(r=null==t?void 0:t.onReceiveMessage)||r.call(t,e)},onReceiveStatus:e=>{var r,n;i||null==(r=null==t?void 0:t.onReceiveMessage)||r.call(t,null),null==(n=null==t?void 0:t.onReceiveStatus)||n.call(t,e)}};super.start(e,s),this.call.startRead()}}class _ extends g{}function v(e,t,r){let n=m(e,r.path,t);return r.responseStream?new _(n,r):new y(n,r)}function b(e,t,r,n){if(e.clientInterceptors.length>0&&e.clientInterceptorProviders.length>0)throw new a("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(e.callInterceptors.length>0&&e.callInterceptorProviders.length>0)throw new a("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let i=[];i=e.callInterceptors.length>0||e.callInterceptorProviders.length>0?[].concat(e.callInterceptors,e.callInterceptorProviders.map(e=>e(t))).filter(e=>e):[].concat(e.clientInterceptors,e.clientInterceptorProviders.map(e=>e(t))).filter(e=>e);let s=Object.assign({},r,{method_definition:t});return i.reduceRight((e,t)=>r=>t(r,e),e=>v(n,e,t))(s)}},"./node_modules/@postman/grpc-js/build/src/client.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;let n=r("./node_modules/@postman/grpc-js/build/src/call.js"),i=r("./node_modules/@postman/grpc-js/build/src/channel.js"),s=r("./node_modules/@postman/grpc-js/build/src/connectivity-state.js"),o=r("./node_modules/@postman/grpc-js/build/src/constants.js"),a=r("./node_modules/@postman/grpc-js/build/src/metadata.js"),l=r("./node_modules/@postman/grpc-js/build/src/client-interceptors.js"),c=Symbol(),u=Symbol(),d=Symbol(),h=Symbol();function p(e){return"function"==typeof e}function f(e){var t;return(null==(t=e.stack)?void 0:t.split("\n").slice(1).join("\n"))||"no stack trace available"}class m{constructor(e,t,r={}){var n,s;if(r=Object.assign({},r),this[u]=null!=(n=r.interceptors)?n:[],delete r.interceptors,this[d]=null!=(s=r.interceptor_providers)?s:[],delete r.interceptor_providers,this[u].length>0&&this[d].length>0)throw Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[h]=r.callInvocationTransformer,delete r.callInvocationTransformer,r.channelOverride)this[c]=r.channelOverride;else if(r.channelFactoryOverride){let n=r.channelFactoryOverride;delete r.channelFactoryOverride,this[c]=n(e,t,r)}else this[c]=new i.ChannelImplementation(e,t,r)}close(){this[c].close()}getChannel(){return this[c]}waitForReady(e,t){let r=n=>{let i;if(n)return void t(Error("Failed to connect before the deadline"));try{i=this[c].getConnectivityState(!0)}catch(e){t(Error("The channel has been closed"));return}if(i===s.ConnectivityState.READY)t();else try{this[c].watchConnectivityState(i,e,r)}catch(e){t(Error("The channel has been closed"))}};setImmediate(r)}checkOptionalUnaryResponseArguments(e,t,r){if(p(e))return{metadata:new a.Metadata,options:{},callback:e};if(p(t))if(e instanceof a.Metadata)return{metadata:e,options:{},callback:t};else return{metadata:new a.Metadata,options:e,callback:t};if(!(e instanceof a.Metadata&&t instanceof Object&&p(r)))throw Error("Incorrect arguments passed");return{metadata:e,options:t,callback:r}}makeUnaryRequest(e,t,r,i,s,a,p){var m,g;let y=this.checkOptionalUnaryResponseArguments(s,a,p),_={path:e,requestStream:!1,responseStream:!1,requestSerialize:t,responseDeserialize:r},v={argument:i,metadata:y.metadata,call:new n.ClientUnaryCallImpl,channel:this[c],methodDefinition:_,callOptions:y.options,callback:y.callback};this[h]&&(v=this[h](v));let b=v.call,w={clientInterceptors:this[u],clientInterceptorProviders:this[d],callInterceptors:null!=(m=v.callOptions.interceptors)?m:[],callInterceptorProviders:null!=(g=v.callOptions.interceptor_providers)?g:[]},j=(0,l.getInterceptingCall)(w,v.methodDefinition,v.callOptions,v.channel);b.call=j;let S=null,k=!1,E=Error();return j.start(v.metadata,{onReceiveMetadata:e=>{b.emit("metadata",e)},onReceiveMessage(e){null!==S&&j.cancelWithStatus(o.Status.UNIMPLEMENTED,"Too many responses received"),S=e},onReceiveStatus(e){if(!k){if(k=!0,e.code===o.Status.OK)if(null===S){let t=f(E);v.callback((0,n.callErrorFromStatus)({code:o.Status.UNIMPLEMENTED,details:"No message received",metadata:e.metadata},t))}else v.callback(null,S);else{let t=f(E);v.callback((0,n.callErrorFromStatus)(e,t))}E=null,b.emit("status",e)}}}),j.sendMessage(i),j.halfClose(),b}makeClientStreamRequest(e,t,r,i,s,a){var p,m;let g=this.checkOptionalUnaryResponseArguments(i,s,a),y={path:e,requestStream:!0,responseStream:!1,requestSerialize:t,responseDeserialize:r},_={metadata:g.metadata,call:new n.ClientWritableStreamImpl(t),channel:this[c],methodDefinition:y,callOptions:g.options,callback:g.callback};this[h]&&(_=this[h](_));let v=_.call,b={clientInterceptors:this[u],clientInterceptorProviders:this[d],callInterceptors:null!=(p=_.callOptions.interceptors)?p:[],callInterceptorProviders:null!=(m=_.callOptions.interceptor_providers)?m:[]},w=(0,l.getInterceptingCall)(b,_.methodDefinition,_.callOptions,_.channel);v.call=w;let j=null,S=!1,k=Error();return w.start(_.metadata,{onReceiveMetadata:e=>{v.emit("metadata",e)},onReceiveMessage(e){null!==j&&w.cancelWithStatus(o.Status.UNIMPLEMENTED,"Too many responses received"),j=e,w.startRead()},onReceiveStatus(e){if(!S){if(S=!0,e.code===o.Status.OK)if(null===j){let t=f(k);_.callback((0,n.callErrorFromStatus)({code:o.Status.UNIMPLEMENTED,details:"No message received",metadata:e.metadata},t))}else _.callback(null,j);else{let t=f(k);_.callback((0,n.callErrorFromStatus)(e,t))}k=null,v.emit("status",e)}}}),v}checkMetadataAndOptions(e,t){let r,n;return e instanceof a.Metadata?(r=e,n=t||{}):(n=e||{},r=new a.Metadata),{metadata:r,options:n}}makeServerStreamRequest(e,t,r,i,s,a){var p,m;let g=this.checkMetadataAndOptions(s,a),y={path:e,requestStream:!1,responseStream:!0,requestSerialize:t,responseDeserialize:r},_={argument:i,metadata:g.metadata,call:new n.ClientReadableStreamImpl(r),channel:this[c],methodDefinition:y,callOptions:g.options};this[h]&&(_=this[h](_));let v=_.call,b={clientInterceptors:this[u],clientInterceptorProviders:this[d],callInterceptors:null!=(p=_.callOptions.interceptors)?p:[],callInterceptorProviders:null!=(m=_.callOptions.interceptor_providers)?m:[]},w=(0,l.getInterceptingCall)(b,_.methodDefinition,_.callOptions,_.channel);v.call=w;let j=!1,S=Error();return w.start(_.metadata,{onReceiveMetadata(e){v.emit("metadata",e)},onReceiveMessage(e){v.push(e)},onReceiveStatus(e){if(!j){if(j=!0,v.push(null),e.code!==o.Status.OK){let t=f(S);v.emit("error",(0,n.callErrorFromStatus)(e,t))}S=null,v.emit("status",e)}}}),w.sendMessage(i),w.halfClose(),v}makeBidiStreamRequest(e,t,r,i,s){var a,p;let m=this.checkMetadataAndOptions(i,s),g={path:e,requestStream:!0,responseStream:!0,requestSerialize:t,responseDeserialize:r},y={metadata:m.metadata,call:new n.ClientDuplexStreamImpl(t,r),channel:this[c],methodDefinition:g,callOptions:m.options};this[h]&&(y=this[h](y));let _=y.call,v={clientInterceptors:this[u],clientInterceptorProviders:this[d],callInterceptors:null!=(a=y.callOptions.interceptors)?a:[],callInterceptorProviders:null!=(p=y.callOptions.interceptor_providers)?p:[]},b=(0,l.getInterceptingCall)(v,y.methodDefinition,y.callOptions,y.channel);_.call=b;let w=!1,j=Error();return b.start(y.metadata,{onReceiveMetadata(e){_.emit("metadata",e)},onReceiveMessage(e){_.push(e)},onReceiveStatus(e){if(!w){if(w=!0,_.push(null),e.code!==o.Status.OK){let t=f(j);_.emit("error",(0,n.callErrorFromStatus)(e,t))}j=null,_.emit("status",e)}}}),_}}t.Client=m},"./node_modules/@postman/grpc-js/build/src/compression-algorithms.js":function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CompressionAlgorithms=void 0,function(e){e[e.identity=0]="identity",e[e.deflate=1]="deflate",e[e.gzip=2]="gzip"}(r||(t.CompressionAlgorithms=r={}))},"./node_modules/@postman/grpc-js/build/src/compression-filter.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompressionFilterFactory=t.CompressionFilter=void 0;let n=r("zlib"),i=r("./node_modules/@postman/grpc-js/build/src/compression-algorithms.js"),s=r("./node_modules/@postman/grpc-js/build/src/constants.js"),o=r("./node_modules/@postman/grpc-js/build/src/filter.js"),a=r("./node_modules/@postman/grpc-js/build/src/logging.js"),l=e=>"number"==typeof e&&"string"==typeof i.CompressionAlgorithms[e];class c{async writeMessage(e,t){let r=e;t&&(r=await this.compressMessage(r));let n=Buffer.allocUnsafe(r.length+5);return n.writeUInt8(+!!t,0),n.writeUInt32BE(r.length,1),r.copy(n,5),n}async readMessage(e){let t=1===e.readUInt8(0),r=e.slice(5);return t&&(r=await this.decompressMessage(r)),r}}class u extends c{async compressMessage(e){return e}async writeMessage(e,t){let r=Buffer.allocUnsafe(e.length+5);return r.writeUInt8(0,0),r.writeUInt32BE(e.length,1),e.copy(r,5),r}decompressMessage(e){return Promise.reject(Error('Received compressed message but "grpc-encoding" header was identity'))}}class d extends c{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,r)=>{n.deflate(e,(e,n)=>{e?r(e):t(n)})})}decompressMessage(e){return new Promise((t,r)=>{let i=0,o=[],a=n.createInflate();a.on("data",e=>{o.push(e),i+=e.byteLength,-1!==this.maxRecvMessageLength&&i>this.maxRecvMessageLength&&(a.destroy(),r({code:s.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),a.on("end",()=>{t(Buffer.concat(o))}),a.write(e),a.end()})}}class h extends c{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,r)=>{n.gzip(e,(e,n)=>{e?r(e):t(n)})})}decompressMessage(e){return new Promise((t,r)=>{let i=0,o=[],a=n.createGunzip();a.on("data",e=>{o.push(e),i+=e.byteLength,-1!==this.maxRecvMessageLength&&i>this.maxRecvMessageLength&&(a.destroy(),r({code:s.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),a.on("end",()=>{t(Buffer.concat(o))}),a.write(e),a.end()})}}class p extends c{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(Error(`Compression method not supported: ${this.compressionName}`))}}function f(e,t){switch(e){case"identity":return new u;case"deflate":return new d(t);case"gzip":return new h(t);default:return new p(e)}}class m extends o.BaseFilter{constructor(e,t){var r,n,o;super(),this.sharedFilterConfig=t,this.sendCompression=new u,this.receiveCompression=new u,this.currentCompressionAlgorithm="identity";let c=e["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=null!=(r=e["grpc.max_receive_message_length"])?r:s.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.maxSendMessageLength=null!=(n=e["grpc.max_send_message_length"])?n:s.DEFAULT_MAX_SEND_MESSAGE_LENGTH,void 0!==c)if(l(c)){let e=i.CompressionAlgorithms[c],r=null==(o=t.serverSupportedEncodingHeader)?void 0:o.split(",");(!r||r.includes(e))&&(this.currentCompressionAlgorithm=e,this.sendCompression=f(this.currentCompressionAlgorithm,-1))}else a.log(s.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${c}`)}async sendMetadata(e){let t=await e;return t.set("grpc-accept-encoding","identity,deflate,gzip"),t.set("accept-encoding","identity"),"identity"===this.currentCompressionAlgorithm?t.remove("grpc-encoding"):t.set("grpc-encoding",this.currentCompressionAlgorithm),t}receiveMetadata(e){let t=e.get("grpc-encoding");if(t.length>0){let e=t[0];"string"==typeof e&&(this.receiveCompression=f(e,this.maxReceiveMessageLength))}e.remove("grpc-encoding");let r=e.get("grpc-accept-encoding")[0];return r&&(this.sharedFilterConfig.serverSupportedEncodingHeader=r,r.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new u,this.currentCompressionAlgorithm="identity")),e.remove("grpc-accept-encoding"),e}async sendMessage(e){var t;let r,n=await e;if(-1!==this.maxSendMessageLength&&n.message.length>this.maxSendMessageLength)throw{code:s.Status.RESOURCE_EXHAUSTED,details:`Attempted to send message with a size larger than ${this.maxSendMessageLength}`};return r=!(this.sendCompression instanceof u)&&((null!=(t=n.flags)?t:0)&2)==0,{message:await this.sendCompression.writeMessage(n.message,r),flags:n.flags}}async receiveMessage(e){return this.receiveCompression.readMessage(await e)}}t.CompressionFilter=m;class g{constructor(e,t){this.options=t,this.sharedFilterConfig={}}createFilter(){return new m(this.options,this.sharedFilterConfig)}}t.CompressionFilterFactory=g},"./node_modules/@postman/grpc-js/build/src/connectivity-state.js":function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectivityState=void 0,function(e){e[e.IDLE=0]="IDLE",e[e.CONNECTING=1]="CONNECTING",e[e.READY=2]="READY",e[e.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",e[e.SHUTDOWN=4]="SHUTDOWN"}(r||(t.ConnectivityState=r={}))},"./node_modules/@postman/grpc-js/build/src/constants.js":function(e,t){"use strict";var r,n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=t.Propagate=t.LogVerbosity=t.Status=void 0,function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(r||(t.Status=r={})),function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.ERROR=2]="ERROR",e[e.NONE=3]="NONE"}(n||(t.LogVerbosity=n={})),function(e){e[e.DEADLINE=1]="DEADLINE",e[e.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",e[e.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",e[e.CANCELLATION=8]="CANCELLATION",e[e.DEFAULTS=65535]="DEFAULTS"}(i||(t.Propagate=i={})),t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1,t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4194304},"./node_modules/@postman/grpc-js/build/src/control-plane-status.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restrictControlPlaneStatusCode=s;let n=r("./node_modules/@postman/grpc-js/build/src/constants.js"),i=[n.Status.OK,n.Status.INVALID_ARGUMENT,n.Status.NOT_FOUND,n.Status.ALREADY_EXISTS,n.Status.FAILED_PRECONDITION,n.Status.ABORTED,n.Status.OUT_OF_RANGE,n.Status.DATA_LOSS];function s(e,t){return i.includes(e)?{code:n.Status.INTERNAL,details:`Invalid status from control plane: ${e} ${n.Status[e]} ${t}`}:{code:e,details:t}}},"./node_modules/@postman/grpc-js/build/src/deadline.js":function(e,t){"use strict";function r(...e){let t=1/0;for(let r of e){let e=r instanceof Date?r.getTime():r;e<t&&(t=e)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.minDeadline=r,t.getDeadlineTimeoutString=i,t.getRelativeTimeout=o,t.deadlineToString=a,t.formatDateDifference=l;let n=[["m",1],["S",1e3],["M",6e4],["H",36e5]];function i(e){let t=new Date().getTime();e instanceof Date&&(e=e.getTime());let r=Math.max(e-t,0);for(let[e,t]of n){let n=r/t;if(n<1e8)return String(Math.ceil(n))+e}throw Error("Deadline is too far in the future")}let s=0x7fffffff;function o(e){let t=(e instanceof Date?e.getTime():e)-new Date().getTime();return t<0?0:t>s?1/0:t}function a(e){if(e instanceof Date)return e.toISOString();{let t=new Date(e);return Number.isNaN(t.getTime())?""+e:t.toISOString()}}function l(e,t){return((t.getTime()-e.getTime())/1e3).toFixed(3)+"s"}},"./node_modules/@postman/grpc-js/build/src/duration.js":function(e,t){"use strict";function r(e){return{seconds:e/1e3|0,nanos:e%1e3*1e6|0}}function n(e){return 1e3*e.seconds+e.nanos/1e6|0}function i(e){return"number"==typeof e.seconds&&"number"==typeof e.nanos}Object.defineProperty(t,"__esModule",{value:!0}),t.msToDuration=r,t.durationToMs=n,t.isDuration=i},"./node_modules/@postman/grpc-js/build/src/environment.js":function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=void 0,t.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=(null!=(r=process.env.GRPC_NODE_USE_ALTERNATIVE_RESOLVER)?r:"false")==="true"},"./node_modules/@postman/grpc-js/build/src/error.js":function(e,t){"use strict";function r(e){return e instanceof Error?e.message:String(e)}function n(e){return"object"==typeof e&&null!==e&&"code"in e&&"number"==typeof e.code?e.code:null}Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorMessage=r,t.getErrorCode=n},"./node_modules/@postman/grpc-js/build/src/experimental.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createServerCredentialsWithInterceptors=t.BaseSubchannelWrapper=t.registerAdminService=t.FilterStackFactory=t.BaseFilter=t.PickResultType=t.QueuePicker=t.UnavailablePicker=t.ChildLoadBalancerHandler=t.EndpointMap=t.endpointHasAddress=t.endpointToString=t.subchannelAddressToString=t.LeafLoadBalancer=t.isLoadBalancerNameRegistered=t.parseLoadBalancingConfig=t.selectLbConfigFromList=t.registerLoadBalancerType=t.createChildChannelControlHelper=t.BackoffTimeout=t.durationToMs=t.splitHostPort=t.uriToString=t.createResolver=t.registerResolver=t.log=t.trace=void 0;var n=r("./node_modules/@postman/grpc-js/build/src/logging.js");Object.defineProperty(t,"trace",{enumerable:!0,get:function(){return n.trace}}),Object.defineProperty(t,"log",{enumerable:!0,get:function(){return n.log}});var i=r("./node_modules/@postman/grpc-js/build/src/resolver.js");Object.defineProperty(t,"registerResolver",{enumerable:!0,get:function(){return i.registerResolver}}),Object.defineProperty(t,"createResolver",{enumerable:!0,get:function(){return i.createResolver}});var s=r("./node_modules/@postman/grpc-js/build/src/uri-parser.js");Object.defineProperty(t,"uriToString",{enumerable:!0,get:function(){return s.uriToString}}),Object.defineProperty(t,"splitHostPort",{enumerable:!0,get:function(){return s.splitHostPort}});var o=r("./node_modules/@postman/grpc-js/build/src/duration.js");Object.defineProperty(t,"durationToMs",{enumerable:!0,get:function(){return o.durationToMs}});var a=r("./node_modules/@postman/grpc-js/build/src/backoff-timeout.js");Object.defineProperty(t,"BackoffTimeout",{enumerable:!0,get:function(){return a.BackoffTimeout}});var l=r("./node_modules/@postman/grpc-js/build/src/load-balancer.js");Object.defineProperty(t,"createChildChannelControlHelper",{enumerable:!0,get:function(){return l.createChildChannelControlHelper}}),Object.defineProperty(t,"registerLoadBalancerType",{enumerable:!0,get:function(){return l.registerLoadBalancerType}}),Object.defineProperty(t,"selectLbConfigFromList",{enumerable:!0,get:function(){return l.selectLbConfigFromList}}),Object.defineProperty(t,"parseLoadBalancingConfig",{enumerable:!0,get:function(){return l.parseLoadBalancingConfig}}),Object.defineProperty(t,"isLoadBalancerNameRegistered",{enumerable:!0,get:function(){return l.isLoadBalancerNameRegistered}});var c=r("./node_modules/@postman/grpc-js/build/src/load-balancer-pick-first.js");Object.defineProperty(t,"LeafLoadBalancer",{enumerable:!0,get:function(){return c.LeafLoadBalancer}});var u=r("./node_modules/@postman/grpc-js/build/src/subchannel-address.js");Object.defineProperty(t,"subchannelAddressToString",{enumerable:!0,get:function(){return u.subchannelAddressToString}}),Object.defineProperty(t,"endpointToString",{enumerable:!0,get:function(){return u.endpointToString}}),Object.defineProperty(t,"endpointHasAddress",{enumerable:!0,get:function(){return u.endpointHasAddress}}),Object.defineProperty(t,"EndpointMap",{enumerable:!0,get:function(){return u.EndpointMap}});var d=r("./node_modules/@postman/grpc-js/build/src/load-balancer-child-handler.js");Object.defineProperty(t,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return d.ChildLoadBalancerHandler}});var h=r("./node_modules/@postman/grpc-js/build/src/picker.js");Object.defineProperty(t,"UnavailablePicker",{enumerable:!0,get:function(){return h.UnavailablePicker}}),Object.defineProperty(t,"QueuePicker",{enumerable:!0,get:function(){return h.QueuePicker}}),Object.defineProperty(t,"PickResultType",{enumerable:!0,get:function(){return h.PickResultType}});var p=r("./node_modules/@postman/grpc-js/build/src/filter.js");Object.defineProperty(t,"BaseFilter",{enumerable:!0,get:function(){return p.BaseFilter}});var f=r("./node_modules/@postman/grpc-js/build/src/filter-stack.js");Object.defineProperty(t,"FilterStackFactory",{enumerable:!0,get:function(){return f.FilterStackFactory}});var m=r("./node_modules/@postman/grpc-js/build/src/admin.js");Object.defineProperty(t,"registerAdminService",{enumerable:!0,get:function(){return m.registerAdminService}});var g=r("./node_modules/@postman/grpc-js/build/src/subchannel-interface.js");Object.defineProperty(t,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return g.BaseSubchannelWrapper}});var y=r("./node_modules/@postman/grpc-js/build/src/server-credentials.js");Object.defineProperty(t,"createServerCredentialsWithInterceptors",{enumerable:!0,get:function(){return y.createServerCredentialsWithInterceptors}})},"./node_modules/@postman/grpc-js/build/src/filter-stack.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilterStackFactory=t.FilterStack=void 0;class r{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMetadata(t);return t}receiveMetadata(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMetadata(t);return t}sendMessage(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMessage(t);return t}receiveMessage(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMessage(t);return t}receiveTrailers(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveTrailers(t);return t}push(e){this.filters.unshift(...e)}getFilters(){return this.filters}}t.FilterStack=r;class n{constructor(e){this.factories=e}push(e){this.factories.unshift(...e)}clone(){return new n([...this.factories])}createFilter(){return new r(this.factories.map(e=>e.createFilter()))}}t.FilterStackFactory=n},"./node_modules/@postman/grpc-js/build/src/filter.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseFilter=void 0;class r{async sendMetadata(e){return e}receiveMetadata(e){return e}async sendMessage(e){return e}async receiveMessage(e){return e}receiveTrailers(e){return e}}t.BaseFilter=r},"./node_modules/@postman/grpc-js/build/src/http_proxy.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapProxyName=y,t.getProxiedConnection=_;let n=r("./node_modules/@postman/grpc-js/build/src/logging.js"),i=r("./node_modules/@postman/grpc-js/build/src/constants.js"),s=r("./node_modules/@postman/grpc-js/build/src/resolver.js"),o=r("http"),a=r("tls"),l=r("./node_modules/@postman/grpc-js/build/src/logging.js"),c=r("./node_modules/@postman/grpc-js/build/src/subchannel-address.js"),u=r("./node_modules/@postman/grpc-js/build/src/uri-parser.js"),d=r("url"),h=r("./node_modules/@postman/grpc-js/build/src/resolver-dns.js"),p="proxy";function f(e){l.trace(i.LogVerbosity.DEBUG,p,e)}function m(){let e,t="",r="";if(process.env.grpc_proxy)r="grpc_proxy",t=process.env.grpc_proxy;else if(process.env.https_proxy)r="https_proxy",t=process.env.https_proxy;else{if(!process.env.http_proxy)return{};r="http_proxy",t=process.env.http_proxy}try{e=new d.URL(t)}catch(e){return(0,n.log)(i.LogVerbosity.ERROR,`cannot parse value of "${r}" env var`),{}}if("http:"!==e.protocol)return(0,n.log)(i.LogVerbosity.ERROR,`"${e.protocol}" scheme not supported in proxy URI`),{};let s=null;e.username&&(e.password?((0,n.log)(i.LogVerbosity.INFO,"userinfo found in proxy URI"),s=decodeURIComponent(`${e.username}:${e.password}`)):s=e.username);let o=e.hostname,a=e.port;""===a&&(a="80");let l={address:`${o}:${a}`};return s&&(l.creds=s),f("Proxy server "+l.address+" set by environment variable "+r),l}function g(){let e=process.env.no_grpc_proxy,t="no_grpc_proxy";return(e||(e=process.env.no_proxy,t="no_proxy"),e)?(f("No proxy server list set by environment variable "+t),e.split(",")):[]}function y(e,t){var r;let n={target:e,extraOptions:{}};if((null!=(r=t["grpc.enable_http_proxy"])?r:1)===0||"unix"===e.scheme)return n;let i=m();if(!i.address)return n;let s=(0,u.splitHostPort)(e.path);if(!s)return n;let o=s.host;for(let t of g())if(t===o)return f("Not using proxy for target in no_proxy list: "+(0,u.uriToString)(e)),n;let a={"grpc.http_connect_target":(0,u.uriToString)(e)};return i.creds&&(a["grpc.http_connect_creds"]=i.creds),{target:{scheme:"dns",path:i.address},extraOptions:a}}function _(e,t,r){var l;if(!("grpc.http_connect_target"in t))return Promise.resolve({});let d=t["grpc.http_connect_target"],p=(0,u.parseUri)(d);if(null===p)return Promise.resolve({});let m=(0,u.splitHostPort)(p.path);if(null===m)return Promise.resolve({});let g=`${m.host}:${null!=(l=m.port)?l:h.DEFAULT_PORT}`,y={method:"CONNECT",path:g},_={Host:g};(0,c.isTcpSubchannelAddress)(e)?(y.host=e.host,y.port=e.port):y.socketPath=e.path,"grpc.http_connect_creds"in t&&(_["Proxy-Authorization"]="Basic "+Buffer.from(t["grpc.http_connect_creds"]).toString("base64")),y.headers=_;let v=(0,c.subchannelAddressToString)(e);return f("Using proxy "+v+" to connect to "+y.path),new Promise((e,t)=>{let l=o.request(y);l.once("connect",(o,c,d)=>{var h;if(l.removeAllListeners(),c.removeAllListeners(),200===o.statusCode)if(f("Successfully connected to "+y.path+" through proxy "+v),d.length>0&&c.unshift(d),"secureContext"in r){let n=(0,s.getDefaultAuthority)(p),i=(0,u.splitHostPort)(n),o=null!=(h=null==i?void 0:i.host)?h:n,l=a.connect(Object.assign({host:o,servername:o,socket:c},r),()=>{f("Successfully established a TLS connection to "+y.path+" through proxy "+v),e({socket:l,realTarget:p})});l.on("error",e=>{f("Failed to establish a TLS connection to "+y.path+" through proxy "+v+" with error "+e.message),t()})}else f("Successfully established a plaintext connection to "+y.path+" through proxy "+v),e({socket:c,realTarget:p});else(0,n.log)(i.LogVerbosity.ERROR,"Failed to connect to "+y.path+" through proxy "+v+" with status "+o.statusCode),t()}),l.once("error",e=>{l.removeAllListeners(),(0,n.log)(i.LogVerbosity.ERROR,"Failed to connect to proxy "+v+" with error "+e.message),t()}),l.end()})}},"./node_modules/@postman/grpc-js/build/src/index.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.experimental=t.ServerInterceptingCall=t.ResponderBuilder=t.ServerListenerBuilder=t.addAdminServicesToServer=t.getChannelzHandlers=t.getChannelzServiceDefinition=t.InterceptorConfigurationError=t.InterceptingCall=t.RequesterBuilder=t.ListenerBuilder=t.StatusBuilder=t.getClientChannel=t.ServerCredentials=t.Server=t.setLogVerbosity=t.setLogger=t.load=t.loadObject=t.CallCredentials=t.ChannelCredentials=t.waitForClientReady=t.closeClient=t.Channel=t.makeGenericClientConstructor=t.makeClientConstructor=t.loadPackageDefinition=t.Client=t.compressionAlgorithms=t.propagate=t.connectivityState=t.status=t.logVerbosity=t.Metadata=t.credentials=void 0;let n=r("./node_modules/@postman/grpc-js/build/src/call-credentials.js");Object.defineProperty(t,"CallCredentials",{enumerable:!0,get:function(){return n.CallCredentials}});let i=r("./node_modules/@postman/grpc-js/build/src/channel.js");Object.defineProperty(t,"Channel",{enumerable:!0,get:function(){return i.ChannelImplementation}});let s=r("./node_modules/@postman/grpc-js/build/src/compression-algorithms.js");Object.defineProperty(t,"compressionAlgorithms",{enumerable:!0,get:function(){return s.CompressionAlgorithms}});let o=r("./node_modules/@postman/grpc-js/build/src/connectivity-state.js");Object.defineProperty(t,"connectivityState",{enumerable:!0,get:function(){return o.ConnectivityState}});let a=r("./node_modules/@postman/grpc-js/build/src/channel-credentials.js");Object.defineProperty(t,"ChannelCredentials",{enumerable:!0,get:function(){return a.ChannelCredentials}});let l=r("./node_modules/@postman/grpc-js/build/src/client.js");Object.defineProperty(t,"Client",{enumerable:!0,get:function(){return l.Client}});let c=r("./node_modules/@postman/grpc-js/build/src/constants.js");Object.defineProperty(t,"logVerbosity",{enumerable:!0,get:function(){return c.LogVerbosity}}),Object.defineProperty(t,"status",{enumerable:!0,get:function(){return c.Status}}),Object.defineProperty(t,"propagate",{enumerable:!0,get:function(){return c.Propagate}});let u=r("./node_modules/@postman/grpc-js/build/src/logging.js"),d=r("./node_modules/@postman/grpc-js/build/src/make-client.js");Object.defineProperty(t,"loadPackageDefinition",{enumerable:!0,get:function(){return d.loadPackageDefinition}}),Object.defineProperty(t,"makeClientConstructor",{enumerable:!0,get:function(){return d.makeClientConstructor}}),Object.defineProperty(t,"makeGenericClientConstructor",{enumerable:!0,get:function(){return d.makeClientConstructor}});let h=r("./node_modules/@postman/grpc-js/build/src/metadata.js");Object.defineProperty(t,"Metadata",{enumerable:!0,get:function(){return h.Metadata}});let p=r("./node_modules/@postman/grpc-js/build/src/server.js");Object.defineProperty(t,"Server",{enumerable:!0,get:function(){return p.Server}});let f=r("./node_modules/@postman/grpc-js/build/src/server-credentials.js");Object.defineProperty(t,"ServerCredentials",{enumerable:!0,get:function(){return f.ServerCredentials}});let m=r("./node_modules/@postman/grpc-js/build/src/status-builder.js");Object.defineProperty(t,"StatusBuilder",{enumerable:!0,get:function(){return m.StatusBuilder}}),t.credentials={combineChannelCredentials:(e,...t)=>t.reduce((e,t)=>e.compose(t),e),combineCallCredentials:(e,...t)=>t.reduce((e,t)=>e.compose(t),e),createInsecure:a.ChannelCredentials.createInsecure,createSsl:a.ChannelCredentials.createSsl,createFromSecureContext:a.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:n.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:n.CallCredentials.createFromGoogleCredential,createEmpty:n.CallCredentials.createEmpty},t.closeClient=e=>e.close(),t.waitForClientReady=(e,t,r)=>e.waitForReady(t,r),t.loadObject=(e,t)=>{throw Error("Not available in this library. Use @postman/proto-loader and loadPackageDefinition instead")},t.load=(e,t,r)=>{throw Error("Not available in this library. Use @postman/proto-loader and loadPackageDefinition instead")},t.setLogger=e=>{u.setLogger(e)},t.setLogVerbosity=e=>{u.setLoggerVerbosity(e)},t.getClientChannel=e=>l.Client.prototype.getChannel.call(e);var g=r("./node_modules/@postman/grpc-js/build/src/client-interceptors.js");Object.defineProperty(t,"ListenerBuilder",{enumerable:!0,get:function(){return g.ListenerBuilder}}),Object.defineProperty(t,"RequesterBuilder",{enumerable:!0,get:function(){return g.RequesterBuilder}}),Object.defineProperty(t,"InterceptingCall",{enumerable:!0,get:function(){return g.InterceptingCall}}),Object.defineProperty(t,"InterceptorConfigurationError",{enumerable:!0,get:function(){return g.InterceptorConfigurationError}});var y=r("./node_modules/@postman/grpc-js/build/src/channelz.js");Object.defineProperty(t,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return y.getChannelzServiceDefinition}}),Object.defineProperty(t,"getChannelzHandlers",{enumerable:!0,get:function(){return y.getChannelzHandlers}});var _=r("./node_modules/@postman/grpc-js/build/src/admin.js");Object.defineProperty(t,"addAdminServicesToServer",{enumerable:!0,get:function(){return _.addAdminServicesToServer}});var v=r("./node_modules/@postman/grpc-js/build/src/server-interceptors.js");Object.defineProperty(t,"ServerListenerBuilder",{enumerable:!0,get:function(){return v.ServerListenerBuilder}}),Object.defineProperty(t,"ResponderBuilder",{enumerable:!0,get:function(){return v.ResponderBuilder}}),Object.defineProperty(t,"ServerInterceptingCall",{enumerable:!0,get:function(){return v.ServerInterceptingCall}}),t.experimental=r("./node_modules/@postman/grpc-js/build/src/experimental.js");let b=r("./node_modules/@postman/grpc-js/build/src/resolver-dns.js"),w=r("./node_modules/@postman/grpc-js/build/src/resolver-uds.js"),j=r("./node_modules/@postman/grpc-js/build/src/resolver-ip.js"),S=r("./node_modules/@postman/grpc-js/build/src/load-balancer-pick-first.js"),k=r("./node_modules/@postman/grpc-js/build/src/load-balancer-round-robin.js"),E=r("./node_modules/@postman/grpc-js/build/src/load-balancer-outlier-detection.js"),C=r("./node_modules/@postman/grpc-js/build/src/channelz.js");(()=>{b.setup(),w.setup(),j.setup(),S.setup(),k.setup(),E.setup(),C.setup()})()},"./node_modules/@postman/grpc-js/build/src/internal-channel.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalChannel=void 0;let n=r("./node_modules/@postman/grpc-js/build/src/channel-credentials.js"),i=r("./node_modules/@postman/grpc-js/build/src/resolving-load-balancer.js"),s=r("./node_modules/@postman/grpc-js/build/src/subchannel-pool.js"),o=r("./node_modules/@postman/grpc-js/build/src/picker.js"),a=r("./node_modules/@postman/grpc-js/build/src/metadata.js"),l=r("./node_modules/@postman/grpc-js/build/src/constants.js"),c=r("./node_modules/@postman/grpc-js/build/src/filter-stack.js"),u=r("./node_modules/@postman/grpc-js/build/src/compression-filter.js"),d=r("./node_modules/@postman/grpc-js/build/src/resolver.js"),h=r("./node_modules/@postman/grpc-js/build/src/logging.js"),p=r("./node_modules/@postman/grpc-js/build/src/http_proxy.js"),f=r("./node_modules/@postman/grpc-js/build/src/uri-parser.js"),m=r("./node_modules/@postman/grpc-js/build/src/connectivity-state.js"),g=r("./node_modules/@postman/grpc-js/build/src/channelz.js"),y=r("./node_modules/@postman/grpc-js/build/src/load-balancing-call.js"),_=r("./node_modules/@postman/grpc-js/build/src/deadline.js"),v=r("./node_modules/@postman/grpc-js/build/src/resolving-call.js"),b=r("./node_modules/@postman/grpc-js/build/src/call-number.js"),w=r("./node_modules/@postman/grpc-js/build/src/control-plane-status.js"),j=r("./node_modules/@postman/grpc-js/build/src/retrying-call.js"),S=r("./node_modules/@postman/grpc-js/build/src/subchannel-interface.js"),k=0x7fffffff,E=1e3,C=18e5,x=new Map,T=0x1000000,O=1048576;class I extends S.BaseSubchannelWrapper{constructor(e,t){super(e),this.channel=t,this.refCount=0,this.subchannelStateListener=(e,r,n,i)=>{t.throttleKeepalive(i)},e.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}}class A{pick(e){return{pickResultType:o.PickResultType.DROP,status:{code:l.Status.UNAVAILABLE,details:"Channel closed before call started",metadata:new a.Metadata},subchannel:null,onCallStarted:null,onCallEnded:null}}}class P{constructor(e,t,r){var a,y,_,v,b,S,A,P;if(this.credentials=t,this.options=r,this.connectivityState=m.ConnectivityState.IDLE,this.currentPicker=new o.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new g.ChannelzCallTracker,this.childrenTracker=new g.ChannelzChildrenTracker,this.randomChannelId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),"string"!=typeof e)throw TypeError("Channel target must be a string");if(!(t instanceof n.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(r&&"object"!=typeof r)throw TypeError("Channel options must be an object");this.originalTarget=e;let R=(0,f.parseUri)(e);if(null===R)throw Error(`Could not parse target name "${e}"`);let N=(0,d.mapUriDefaultScheme)(R);if(null===N)throw Error(`Could not find a default scheme for target name "${e}"`);this.callRefTimer=setInterval(()=>{},k),null==(y=(a=this.callRefTimer).unref)||y.call(a),0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new g.ChannelzTrace,this.channelzRef=(0,g.registerChannelzChannel)(e,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,d.getDefaultAuthority)(N);let $=(0,p.mapProxyName)(N,r);this.target=$.target,this.options=Object.assign({},this.options,$.extraOptions),this.subchannelPool=(0,s.getSubchannelPool)((null!=(_=r["grpc.use_local_subchannel_pool"])?_:0)===0),this.retryBufferTracker=new j.MessageBufferTracker(null!=(v=r["grpc.retry_buffer_size"])?v:T,null!=(b=r["grpc.per_rpc_retry_buffer_size"])?b:O),this.keepaliveTime=null!=(S=r["grpc.keepalive_time_ms"])?S:-1,this.idleTimeoutMs=Math.max(null!=(A=r["grpc.client_idle_timeout_ms"])?A:C,E);let M={createSubchannel:(e,t)=>{let r=this.subchannelPool.getOrCreateSubchannel(this.target,e,Object.assign({},this.options,t),this.credentials);r.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",r.getChannelzRef());let n=new I(r,this);return this.wrappedSubchannels.add(n),n},updateState:(e,t)=>{this.currentPicker=t;let r=this.pickQueue.slice();for(let e of(this.pickQueue=[],r.length>0&&this.callRefTimerUnref(),r))e.doPick();this.updateState(e)},requestReresolution:()=>{throw Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:e=>{this.channelzEnabled&&this.childrenTracker.refChild(e)},removeChannelzChild:e=>{this.channelzEnabled&&this.childrenTracker.unrefChild(e)}};this.resolvingLoadBalancer=new i.ResolvingLoadBalancer(this.target,M,r,(e,t)=>{e.retryThrottling?x.set(this.getTarget(),new j.RetryThrottler(e.retryThrottling.maxTokens,e.retryThrottling.tokenRatio,x.get(this.getTarget()))):x.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=t,this.currentResolutionError=null,process.nextTick(()=>{let e=this.configSelectionQueue;for(let t of(this.configSelectionQueue=[],e.length>0&&this.callRefTimerUnref(),e))t.getConfig()})},e=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+e.code+' and details "'+e.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),null===this.configSelector&&(this.currentResolutionError=Object.assign(Object.assign({},(0,w.restrictControlPlaneStatusCode)(e.code,e.details)),{metadata:e.metadata}));let t=this.configSelectionQueue;for(let r of(this.configSelectionQueue=[],t.length>0&&this.callRefTimerUnref(),t))r.reportResolverError(e)}),this.filterStackFactory=new c.FilterStackFactory([new u.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(r,void 0,2));let D=Error();(0,h.trace)(l.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+") Channel constructed \n"+(null==(P=D.stack)?void 0:P.substring(D.stack.indexOf("\n")+1))),this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(e,t){(0,h.trace)(null!=t?t:l.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,f.uriToString)(this.target)+" "+e)}callRefTimerRef(){var e,t,r,n;(null==(t=(e=this.callRefTimer).hasRef)?void 0:t.call(e))||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null==(n=(r=this.callRefTimer).ref)||n.call(r))}callRefTimerUnref(){var e,t;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null==(t=(e=this.callRefTimer).unref)||t.call(e))}removeConnectivityStateWatcher(e){let t=this.connectivityStateWatchers.findIndex(t=>t===e);t>=0&&this.connectivityStateWatchers.splice(t,1)}updateState(e){for(let t of((0,h.trace)(l.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,f.uriToString)(this.target)+" "+m.ConnectivityState[this.connectivityState]+" -> "+m.ConnectivityState[e]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+m.ConnectivityState[e]),this.connectivityState=e,this.connectivityStateWatchers.slice()))e!==t.currentState&&(t.timer&&clearTimeout(t.timer),this.removeConnectivityStateWatcher(t),t.callback());e!==m.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(e){if(e>this.keepaliveTime)for(let t of(this.keepaliveTime=e,this.wrappedSubchannels))t.throttleKeepalive(e)}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e)}doPick(e,t){return this.currentPicker.pick({metadata:e,extraPickInfo:t})}queueCallForPick(e){this.pickQueue.push(e),this.callRefTimerRef()}getConfig(e,t){return(this.connectivityState!==m.ConnectivityState.SHUTDOWN&&this.resolvingLoadBalancer.exitIdle(),this.configSelector)?{type:"SUCCESS",config:this.configSelector(e,t,this.randomChannelId)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(e){this.configSelectionQueue.push(e),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(m.ConnectivityState.IDLE),this.currentPicker=new o.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}startIdleTimeout(e){var t,r;this.idleTimer=setTimeout(()=>{if(this.callCount>0)return void this.startIdleTimeout(this.idleTimeoutMs);let e=new Date().valueOf()-this.lastActivityTimestamp.valueOf();e>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-e)},e),null==(r=(t=this.idleTimer).unref)||r.call(t)}maybeStartIdleTimer(){this.connectivityState===m.ConnectivityState.SHUTDOWN||this.idleTimer||this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(e){this.channelzEnabled&&(e.code===l.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(e,t,r,n,i){let s=(0,b.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+s+'] method="'+t+'"'),new y.LoadBalancingCall(this,e,t,r,n,i,s)}createRetryingCall(e,t,r,n,i){let s=(0,b.getNextCallNumber)();return this.trace("createRetryingCall ["+s+'] method="'+t+'"'),new j.RetryingCall(this,e,t,r,n,i,s,this.retryBufferTracker,x.get(this.getTarget()))}createInnerCall(e,t,r,n,i){return 0===this.options["grpc.enable_retries"]?this.createLoadBalancingCall(e,t,r,n,i):this.createRetryingCall(e,t,r,n,i)}createResolvingCall(e,t,r,n,i){let s=(0,b.getNextCallNumber)();this.trace("createResolvingCall ["+s+'] method="'+e+'", deadline='+(0,_.deadlineToString)(t));let o={deadline:t,flags:null!=i?i:l.Propagate.DEFAULTS,host:null!=r?r:this.defaultAuthority,parentCall:n},a=new v.ResolvingCall(this,e,o,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),s);return this.onCallStart(),a.addStatusWatcher(e=>{this.onCallEnd(e)}),a}close(){for(let e of(this.resolvingLoadBalancer.destroy(),this.updateState(m.ConnectivityState.SHUTDOWN),this.currentPicker=new A,this.configSelectionQueue))e.cancelWithStatus(l.Status.UNAVAILABLE,"Channel closed before call started");for(let e of(this.configSelectionQueue=[],this.pickQueue))e.cancelWithStatus(l.Status.UNAVAILABLE,"Channel closed before call started");this.pickQueue=[],clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,g.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,f.uriToString)(this.target)}getConnectivityState(e){let t=this.connectivityState;return e&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),t}watchConnectivityState(e,t,r){if(this.connectivityState===m.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");let n=null;if(t!==1/0){let e=t instanceof Date?t:new Date(t),s=new Date;if(t===-1/0||e<=s)return void process.nextTick(r,Error("Deadline passed without connectivity state change"));n=setTimeout(()=>{this.removeConnectivityStateWatcher(i),r(Error("Deadline passed without connectivity state change"))},e.getTime()-s.getTime())}let i={currentState:e,callback:r,timer:n};this.connectivityStateWatchers.push(i)}getChannelzRef(){return this.channelzRef}createCall(e,t,r,n,i){if("string"!=typeof e)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof t||t instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===m.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");return this.createResolvingCall(e,t,r,n,i)}getOptions(){return this.options}}t.InternalChannel=P},"./node_modules/@postman/grpc-js/build/src/load-balancer-child-handler.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChildLoadBalancerHandler=void 0;let n=r("./node_modules/@postman/grpc-js/build/src/load-balancer.js"),i=r("./node_modules/@postman/grpc-js/build/src/connectivity-state.js"),s="child_load_balancer_helper";class o{constructor(e,t){this.channelControlHelper=e,this.options=t,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(e){this.parent=e,this.child=null}createSubchannel(e,t){return this.parent.channelControlHelper.createSubchannel(e,t)}updateState(e,t){var r;if(this.calledByPendingChild()){if(e===i.ConnectivityState.CONNECTING)return;null==(r=this.parent.currentChild)||r.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(e,t)}requestReresolution(){var e;let t=null!=(e=this.parent.pendingChild)?e:this.parent.currentChild;this.child===t&&this.parent.channelControlHelper.requestReresolution()}setChild(e){this.child=e}addChannelzChild(e){this.parent.channelControlHelper.addChannelzChild(e)}removeChannelzChild(e){this.parent.channelControlHelper.removeChannelzChild(e)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(e,t){return e.getLoadBalancerName()!==t.getLoadBalancerName()}updateAddressList(e,t,r){let i;if(null===this.currentChild||null===this.latestConfig||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,t)){let e=new this.ChildPolicyHelper(this),r=(0,n.createLoadBalancer)(t,e,this.options);e.setChild(r),null===this.currentChild?(this.currentChild=r,i=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=r,i=this.pendingChild)}else i=null===this.pendingChild?this.currentChild:this.pendingChild;this.latestConfig=t,i.updateAddressList(e,t,r)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return s}}t.ChildLoadBalancerHandler=o},"./node_modules/@postman/grpc-js/build/src/load-balancer-outlier-detection.js":function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.OutlierDetectionLoadBalancer=t.OutlierDetectionLoadBalancingConfig=void 0,t.setup=O;let i=r("./node_modules/@postman/grpc-js/build/src/connectivity-state.js"),s=r("./node_modules/@postman/grpc-js/build/src/constants.js"),o=r("./node_modules/@postman/grpc-js/build/src/duration.js"),a=r("./node_modules/@postman/grpc-js/build/src/experimental.js"),l=r("./node_modules/@postman/grpc-js/build/src/load-balancer.js"),c=r("./node_modules/@postman/grpc-js/build/src/load-balancer-child-handler.js"),u=r("./node_modules/@postman/grpc-js/build/src/picker.js"),d=r("./node_modules/@postman/grpc-js/build/src/subchannel-address.js"),h=r("./node_modules/@postman/grpc-js/build/src/subchannel-interface.js"),p=r("./node_modules/@postman/grpc-js/build/src/logging.js"),f="outlier_detection";function m(e){p.trace(s.LogVerbosity.DEBUG,f,e)}let g="outlier_detection",y=(null!=(n=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)?n:"true")==="true",_={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},v={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function b(e,t,r,n){if(t in e&&void 0!==e[t]&&typeof e[t]!==r){let i=n?`${n}.${t}`:t;throw Error(`outlier detection config ${i} parse error: expected ${r}, got ${typeof e[t]}`)}}function w(e,t,r){let n=r?`${r}.${t}`:t;if(t in e&&void 0!==e[t]){if(!(0,o.isDuration)(e[t]))throw Error(`outlier detection config ${n} parse error: expected Duration, got ${typeof e[t]}`);if(!(e[t].seconds>=0&&e[t].seconds<=315576e6&&e[t].nanos>=0&&e[t].nanos<=0x3b9ac9ff))throw Error(`outlier detection config ${n} parse error: values out of range for non-negative Duaration`)}}function j(e,t,r){let n=r?`${r}.${t}`:t;if(b(e,t,"number",r),t in e&&void 0!==e[t]&&!(e[t]>=0&&e[t]<=100))throw Error(`outlier detection config ${n} parse error: value out of range for percentage (0-100)`)}class S{constructor(e,t,r,n,i,s,o){if(this.childPolicy=o,"pick_first"===o.getLoadBalancerName())throw Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=null!=e?e:1e4,this.baseEjectionTimeMs=null!=t?t:3e4,this.maxEjectionTimeMs=null!=r?r:3e5,this.maxEjectionPercent=null!=n?n:10,this.successRateEjection=i?Object.assign(Object.assign({},_),i):null,this.failurePercentageEjection=s?Object.assign(Object.assign({},v),s):null}getLoadBalancerName(){return g}toJsonObject(){var e,t;return{outlier_detection:{interval:(0,o.msToDuration)(this.intervalMs),base_ejection_time:(0,o.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,o.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:null!=(e=this.successRateEjection)?e:void 0,failure_percentage_ejection:null!=(t=this.failurePercentageEjection)?t:void 0,child_policy:[this.childPolicy.toJsonObject()]}}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}static createFromJson(e){var t;if(w(e,"interval"),w(e,"base_ejection_time"),w(e,"max_ejection_time"),j(e,"max_ejection_percent"),"success_rate_ejection"in e&&void 0!==e.success_rate_ejection){if("object"!=typeof e.success_rate_ejection)throw Error("outlier detection config success_rate_ejection must be an object");b(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),j(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),b(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),b(e.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in e&&void 0!==e.failure_percentage_ejection){if("object"!=typeof e.failure_percentage_ejection)throw Error("outlier detection config failure_percentage_ejection must be an object");j(e.failure_percentage_ejection,"threshold","failure_percentage_ejection"),j(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),b(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),b(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}if(!("child_policy"in e)||!Array.isArray(e.child_policy))throw Error("outlier detection config child_policy must be an array");let r=(0,l.selectLbConfigFromList)(e.child_policy);if(!r)throw Error("outlier detection config child_policy: no valid recognized policy found");return new S(e.interval?(0,o.durationToMs)(e.interval):null,e.base_ejection_time?(0,o.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0,o.durationToMs)(e.max_ejection_time):null,null!=(t=e.max_ejection_percent)?t:null,e.success_rate_ejection,e.failure_percentage_ejection,r)}}t.OutlierDetectionLoadBalancingConfig=S;class k extends h.BaseSubchannelWrapper{constructor(e,t){super(e),this.mapEntry=t,this.refCount=0}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let e=this.mapEntry.subchannelWrappers.indexOf(this);e>=0&&this.mapEntry.subchannelWrappers.splice(e,1)}}eject(){this.setHealthy(!1)}uneject(){this.setHealthy(!0)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}}function E(){return{success:0,failure:0}}class C{constructor(){this.activeBucket=E(),this.inactiveBucket=E()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=E()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}}class x{constructor(e,t){this.wrappedPicker=e,this.countCalls=t}pick(e){let t=this.wrappedPicker.pick(e);if(t.pickResultType!==u.PickResultType.COMPLETE)return t;{let e=t.subchannel,r=e.getMapEntry();if(!r)return Object.assign(Object.assign({},t),{subchannel:e.getWrappedSubchannel()});{let n=t.onCallEnded;return this.countCalls&&(n=e=>{var n;e===s.Status.OK?r.counter.addSuccess():r.counter.addFailure(),null==(n=t.onCallEnded)||n.call(t,e)}),Object.assign(Object.assign({},t),{subchannel:e.getWrappedSubchannel(),onCallEnded:n})}}}}class T{constructor(e,t){this.entryMap=new d.EndpointMap,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new c.ChildLoadBalancerHandler((0,a.createChildChannelControlHelper)(e,{createSubchannel:(t,r)=>{let n=e.createSubchannel(t,r),i=this.entryMap.getForSubchannelAddress(t),s=new k(n,i);return(null==i?void 0:i.currentEjectionTimestamp)!==null&&s.eject(),null==i||i.subchannelWrappers.push(s),s},updateState:(t,r)=>{t===i.ConnectivityState.READY?e.updateState(t,new x(r,this.isCountingEnabled())):e.updateState(t,r)}}),t),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return null!==this.latestConfig&&(null!==this.latestConfig.getSuccessRateEjectionConfig()||null!==this.latestConfig.getFailurePercentageEjectionConfig())}getCurrentEjectionPercent(){let e=0;for(let t of this.entryMap.values())null!==t.currentEjectionTimestamp&&(e+=1);return 100*e/this.entryMap.size}runSuccessRateCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getSuccessRateEjectionConfig();if(!t)return;m("Running success rate check");let r=t.request_volume,n=0,i=[];for(let[e,t]of this.entryMap.entries()){let s=t.counter.getLastSuccesses(),o=t.counter.getLastFailures();m("Stats for "+(0,d.endpointToString)(e)+": successes="+s+" failures="+o+" targetRequestVolume="+r),s+o>=r&&(n+=1,i.push(s/(s+o)))}if(m("Found "+n+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+i+"]"),n<t.minimum_hosts)return;let s=i.reduce((e,t)=>e+t)/i.length,o=0;for(let e of i){let t=e-s;o+=t*t}let a=Math.sqrt(o/i.length),l=s-a*(t.stdev_factor/1e3);for(let[n,i]of(m("stdev="+a+" ejectionThreshold="+l),this.entryMap.entries())){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let s=i.counter.getLastSuccesses(),o=i.counter.getLastFailures();if(s+o<r)continue;let a=s/(s+o);if(m("Checking candidate "+n+" successRate="+a),a<l){let r=100*Math.random();m("Candidate "+n+" randomNumber="+r+" enforcement_percentage="+t.enforcement_percentage),r<t.enforcement_percentage&&(m("Ejecting candidate "+n),this.eject(i,e))}}}runFailurePercentageCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getFailurePercentageEjectionConfig();if(!t)return;m("Running failure percentage check. threshold="+t.threshold+" request volume threshold="+t.request_volume);let r=0;for(let e of this.entryMap.values())e.counter.getLastSuccesses()+e.counter.getLastFailures()>=t.request_volume&&(r+=1);if(!(r<t.minimum_hosts))for(let[r,n]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let i=n.counter.getLastSuccesses(),s=n.counter.getLastFailures();if((m("Candidate successes="+i+" failures="+s),!(i+s<t.request_volume))&&100*s/(s+i)>t.threshold){let i=100*Math.random();m("Candidate "+r+" randomNumber="+i+" enforcement_percentage="+t.enforcement_percentage),i<t.enforcement_percentage&&(m("Ejecting candidate "+r),this.eject(n,e))}}}eject(e,t){for(let t of(e.currentEjectionTimestamp=new Date,e.ejectionTimeMultiplier+=1,e.subchannelWrappers))t.eject()}uneject(e){for(let t of(e.currentEjectionTimestamp=null,e.subchannelWrappers))t.uneject()}switchAllBuckets(){for(let e of this.entryMap.values())e.counter.switchBuckets()}startTimer(e){var t,r;this.ejectionTimer=setTimeout(()=>this.runChecks(),e),null==(r=(t=this.ejectionTimer).unref)||r.call(t)}runChecks(){let e=new Date;if(m("Ejection timer running"),this.switchAllBuckets(),this.latestConfig)for(let[t,r]of(this.timerStartTime=e,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(e),this.runFailurePercentageCheck(e),this.entryMap.entries()))if(null===r.currentEjectionTimestamp)r.ejectionTimeMultiplier>0&&(r.ejectionTimeMultiplier-=1);else{let e=this.latestConfig.getBaseEjectionTimeMs(),n=this.latestConfig.getMaxEjectionTimeMs(),i=new Date(r.currentEjectionTimestamp.getTime());i.setMilliseconds(i.getMilliseconds()+Math.min(e*r.ejectionTimeMultiplier,Math.max(e,n))),i<new Date&&(m("Unejecting "+t),this.uneject(r))}}updateAddressList(e,t,r){if(!(t instanceof S))return;for(let t of e)this.entryMap.has(t)||(m("Adding map entry for "+(0,d.endpointToString)(t)),this.entryMap.set(t,{counter:new C,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));this.entryMap.deleteMissing(e);let n=t.getChildPolicy();if(this.childBalancer.updateAddressList(e,n,r),t.getSuccessRateEjectionConfig()||t.getFailurePercentageEjectionConfig())if(this.timerStartTime){m("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let e=t.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(e)}else m("Starting new timer"),this.timerStartTime=new Date,this.startTimer(t.getIntervalMs()),this.switchAllBuckets();else for(let e of(m("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer),this.entryMap.values()))this.uneject(e),e.ejectionTimeMultiplier=0;this.latestConfig=t}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return g}}function O(){y&&(0,a.registerLoadBalancerType)(g,T,S)}t.OutlierDetectionLoadBalancer=T},"./node_modules/@postman/grpc-js/build/src/load-balancer-pick-first.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeafLoadBalancer=t.PickFirstLoadBalancer=t.PickFirstLoadBalancingConfig=void 0,t.shuffled=y,t.setup=S;let n=r("./node_modules/@postman/grpc-js/build/src/load-balancer.js"),i=r("./node_modules/@postman/grpc-js/build/src/connectivity-state.js"),s=r("./node_modules/@postman/grpc-js/build/src/picker.js"),o=r("./node_modules/@postman/grpc-js/build/src/subchannel-address.js"),a=r("./node_modules/@postman/grpc-js/build/src/logging.js"),l=r("./node_modules/@postman/grpc-js/build/src/constants.js"),c=r("./node_modules/@postman/grpc-js/build/src/subchannel-address.js"),u=r("net"),d="pick_first";function h(e){a.trace(l.LogVerbosity.DEBUG,d,e)}let p="pick_first",f=250;class m{constructor(e){this.shuffleAddressList=e}getLoadBalancerName(){return p}toJsonObject(){return{[p]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&"boolean"!=typeof e.shuffleAddressList)throw Error("pick_first config field shuffleAddressList must be a boolean if provided");return new m(!0===e.shuffleAddressList)}}t.PickFirstLoadBalancingConfig=m;class g{constructor(e){this.subchannel=e}pick(e){return{pickResultType:s.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}}function y(e){let t=e.slice();for(let e=t.length-1;e>1;e--){let r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}function _(e){let t=[],r=[],n=[],i=(0,c.isTcpSubchannelAddress)(e[0])&&(0,u.isIPv6)(e[0].host);for(let t of e)(0,c.isTcpSubchannelAddress)(t)&&(0,u.isIPv6)(t.host)?r.push(t):n.push(t);let s=i?r:n,o=i?n:r;for(let e=0;e<Math.max(s.length,o.length);e++)e<s.length&&t.push(s[e]),e<o.length&&t.push(o[e]);return t}let v="grpc-node.internal.pick-first.report_health_status";class b{constructor(e,t){this.channelControlHelper=e,this.children=[],this.currentState=i.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(e,t,r,n,i)=>{this.onSubchannelStateUpdate(e,t,r,i)},this.pickedSubchannelHealthListener=()=>this.calculateAndReportNewState(),this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.requestedResolutionSinceLastUpdate=!1,this.lastError=null,this.latestAddressList=null,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout),this.reportHealthStatus=t[v]}allChildrenHaveReportedTF(){return this.children.every(e=>e.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.reportHealthStatus&&!this.currentPick.isHealthy()?this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new s.UnavailablePicker({details:`Picked subchannel ${this.currentPick.getAddress()} is unhealthy`})):this.updateState(i.ConnectivityState.READY,new g(this.currentPick)):0===this.children.length?this.updateState(i.ConnectivityState.IDLE,new s.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new s.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(i.ConnectivityState.CONNECTING,new s.QueuePicker(this))}requestReresolution(){this.requestedResolutionSinceLastUpdate=!0,this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()&&(this.requestedResolutionSinceLastUpdate||this.requestReresolution(),!this.stickyTransientFailureMode)){for(let{subchannel:e}of(this.stickyTransientFailureMode=!0,this.children))e.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(null!==this.currentPick){let e=this.currentPick;this.currentPick=null,e.unref(),e.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(e.getChannelzRef()),this.reportHealthStatus&&e.removeHealthStateWatcher(this.pickedSubchannelHealthListener)}}onSubchannelStateUpdate(e,t,r,n){var s;if(null==(s=this.currentPick)?void 0:s.realSubchannelEquals(e)){r!==i.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState());return}for(let[t,s]of this.children.entries())if(e.realSubchannelEquals(s.subchannel)){r===i.ConnectivityState.READY&&this.pickSubchannel(s.subchannel),r===i.ConnectivityState.TRANSIENT_FAILURE&&(s.hasReportedTransientFailure=!0,n&&(this.lastError=n),this.maybeEnterStickyTransientFailureMode(),t===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(t+1)),s.subchannel.startConnecting();return}}startNextSubchannelConnecting(e){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels){for(let[t,r]of this.children.entries())if(t>=e){let e=r.subchannel.getConnectivityState();if(e===i.ConnectivityState.IDLE||e===i.ConnectivityState.CONNECTING)return void this.startConnecting(t)}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(e){var t,r;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.children[e].subchannel.getConnectivityState()===i.ConnectivityState.IDLE&&(h("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress()),process.nextTick(()=>{var t;null==(t=this.children[e])||t.subchannel.startConnecting()})),this.connectionDelayTimeout=setTimeout(()=>{this.startNextSubchannelConnecting(e+1)},f),null==(r=(t=this.connectionDelayTimeout).unref)||r.call(t)}pickSubchannel(e){this.currentPick&&e.realSubchannelEquals(this.currentPick)||(h("Pick subchannel with address "+e.getAddress()),this.stickyTransientFailureMode=!1,this.removeCurrentPick(),this.currentPick=e,e.ref(),this.reportHealthStatus&&e.addHealthStateWatcher(this.pickedSubchannelHealthListener),this.channelControlHelper.addChannelzChild(e.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(e,t){h(i.ConnectivityState[this.currentState]+" -> "+i.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.children)this.currentPick&&e.subchannel.realSubchannelEquals(this.currentPick)||e.subchannel.removeConnectivityStateListener(this.subchannelStateListener),e.subchannel.unref(),this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1,this.requestedResolutionSinceLastUpdate=!1}connectToAddressList(e){let t=e.map(e=>({subchannel:this.channelControlHelper.createSubchannel(e,{}),hasReportedTransientFailure:!1}));for(let{subchannel:r}of(h("connectToAddressList(["+e.map(e=>(0,o.subchannelAddressToString)(e))+"])"),t))if(r.getConnectivityState()===i.ConnectivityState.READY){this.channelControlHelper.addChannelzChild(r.getChannelzRef()),r.addConnectivityStateListener(this.subchannelStateListener),this.pickSubchannel(r);return}for(let{subchannel:e}of t)e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef());for(let{subchannel:e}of(this.resetSubchannelList(),this.children=t,this.children))e.addConnectivityStateListener(this.subchannelStateListener);for(let e of this.children)e.subchannel.getConnectivityState()===i.ConnectivityState.TRANSIENT_FAILURE&&(e.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(e,t){if(!(t instanceof m))return;t.getShuffleAddressList()&&(e=y(e));let r=[].concat(...e.map(e=>e.addresses));if(h("updateAddressList(["+r.map(e=>(0,o.subchannelAddressToString)(e))+"])"),0===r.length)throw Error("No addresses in endpoint list passed to pick_first");let n=_(r);this.latestAddressList=n,this.connectToAddressList(n)}exitIdle(){this.currentState===i.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return p}}t.PickFirstLoadBalancer=b;let w=new m(!1);class j{constructor(e,t,r){this.endpoint=e,this.latestState=i.ConnectivityState.IDLE;let o=(0,n.createChildChannelControlHelper)(t,{updateState:(e,r)=>{this.latestState=e,this.latestPicker=r,t.updateState(e,r)}});this.pickFirstBalancer=new b(o,Object.assign(Object.assign({},r),{[v]:!0})),this.latestPicker=new s.QueuePicker(this.pickFirstBalancer)}startConnecting(){this.pickFirstBalancer.updateAddressList([this.endpoint],w)}updateEndpoint(e){this.endpoint=e,this.latestState!==i.ConnectivityState.IDLE&&this.startConnecting()}getConnectivityState(){return this.latestState}getPicker(){return this.latestPicker}getEndpoint(){return this.endpoint}exitIdle(){this.pickFirstBalancer.exitIdle()}destroy(){this.pickFirstBalancer.destroy()}}function S(){(0,n.registerLoadBalancerType)(p,b,m),(0,n.registerDefaultLoadBalancerType)(p)}t.LeafLoadBalancer=j},"./node_modules/@postman/grpc-js/build/src/load-balancer-round-robin.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoundRobinLoadBalancer=void 0,t.setup=g;let n=r("./node_modules/@postman/grpc-js/build/src/load-balancer.js"),i=r("./node_modules/@postman/grpc-js/build/src/connectivity-state.js"),s=r("./node_modules/@postman/grpc-js/build/src/picker.js"),o=r("./node_modules/@postman/grpc-js/build/src/logging.js"),a=r("./node_modules/@postman/grpc-js/build/src/constants.js"),l=r("./node_modules/@postman/grpc-js/build/src/subchannel-address.js"),c=r("./node_modules/@postman/grpc-js/build/src/load-balancer-pick-first.js"),u="round_robin";function d(e){o.trace(a.LogVerbosity.DEBUG,u,e)}let h="round_robin";class p{getLoadBalancerName(){return h}constructor(){}toJsonObject(){return{[h]:{}}}static createFromJson(e){return new p}}class f{constructor(e,t=0){this.children=e,this.nextIndex=t}pick(e){let t=this.children[this.nextIndex].picker;return this.nextIndex=(this.nextIndex+1)%this.children.length,t.pick(e)}peekNextEndpoint(){return this.children[this.nextIndex].endpoint}}class m{constructor(e,t){this.channelControlHelper=e,this.options=t,this.children=[],this.currentState=i.ConnectivityState.IDLE,this.currentReadyPicker=null,this.updatesPaused=!1,this.lastError=null,this.childChannelControlHelper=(0,n.createChildChannelControlHelper)(e,{updateState:(e,t)=>{this.calculateAndUpdateState()}})}countChildrenWithState(e){return this.children.filter(t=>t.getConnectivityState()===e).length}calculateAndUpdateState(){if(!this.updatesPaused){if(this.countChildrenWithState(i.ConnectivityState.READY)>0){let e=this.children.filter(e=>e.getConnectivityState()===i.ConnectivityState.READY),t=0;if(null!==this.currentReadyPicker){let r=this.currentReadyPicker.peekNextEndpoint();(t=e.findIndex(e=>(0,l.endpointEqual)(e.getEndpoint(),r)))<0&&(t=0)}this.updateState(i.ConnectivityState.READY,new f(e.map(e=>({endpoint:e.getEndpoint(),picker:e.getPicker()})),t))}else this.countChildrenWithState(i.ConnectivityState.CONNECTING)>0?this.updateState(i.ConnectivityState.CONNECTING,new s.QueuePicker(this)):this.countChildrenWithState(i.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new s.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(i.ConnectivityState.IDLE,new s.QueuePicker(this));for(let e of this.children)e.getConnectivityState()===i.ConnectivityState.IDLE&&e.exitIdle()}}updateState(e,t){d(i.ConnectivityState[this.currentState]+" -> "+i.ConnectivityState[e]),e===i.ConnectivityState.READY?this.currentReadyPicker=t:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.children)e.destroy()}updateAddressList(e,t){for(let t of(this.resetSubchannelList(),d("Connect to endpoint list "+e.map(l.endpointToString)),this.updatesPaused=!0,this.children=e.map(e=>new c.LeafLoadBalancer(e,this.childChannelControlHelper,this.options)),this.children))t.startConnecting();this.updatesPaused=!1,this.calculateAndUpdateState()}exitIdle(){}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return h}}function g(){(0,n.registerLoadBalancerType)(h,m,p)}t.RoundRobinLoadBalancer=m},"./node_modules/@postman/grpc-js/build/src/load-balancer.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createChildChannelControlHelper=s,t.registerLoadBalancerType=l,t.registerDefaultLoadBalancerType=c,t.createLoadBalancer=u,t.isLoadBalancerNameRegistered=d,t.parseLoadBalancingConfig=h,t.getDefaultConfig=p,t.selectLbConfigFromList=f;let n=r("./node_modules/@postman/grpc-js/build/src/logging.js"),i=r("./node_modules/@postman/grpc-js/build/src/constants.js");function s(e,t){var r,n,i,s,o,a,l,c,u,d;return{createSubchannel:null!=(n=null==(r=t.createSubchannel)?void 0:r.bind(t))?n:e.createSubchannel.bind(e),updateState:null!=(s=null==(i=t.updateState)?void 0:i.bind(t))?s:e.updateState.bind(e),requestReresolution:null!=(a=null==(o=t.requestReresolution)?void 0:o.bind(t))?a:e.requestReresolution.bind(e),addChannelzChild:null!=(c=null==(l=t.addChannelzChild)?void 0:l.bind(t))?c:e.addChannelzChild.bind(e),removeChannelzChild:null!=(d=null==(u=t.removeChannelzChild)?void 0:u.bind(t))?d:e.removeChannelzChild.bind(e)}}let o={},a=null;function l(e,t,r){o[e]={LoadBalancer:t,LoadBalancingConfig:r}}function c(e){a=e}function u(e,t,r){let n=e.getLoadBalancerName();return n in o?new o[n].LoadBalancer(t,r):null}function d(e){return e in o}function h(e){let t=Object.keys(e);if(1!==t.length)throw Error("Provided load balancing config has multiple conflicting entries");let r=t[0];if(r in o)try{return o[r].LoadBalancingConfig.createFromJson(e[r])}catch(e){throw Error(`${r}: ${e.message}`)}throw Error(`Unrecognized load balancing config name ${r}`)}function p(){if(!a)throw Error("No default load balancer type registered");return new o[a].LoadBalancingConfig}function f(e,t=!1){for(let t of e)try{return h(t)}catch(e){(0,n.log)(i.LogVerbosity.DEBUG,"Config parsing failed with error",e.message);continue}return t&&a?new o[a].LoadBalancingConfig:null}},"./node_modules/@postman/grpc-js/build/src/load-balancing-call.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadBalancingCall=void 0;let n=r("./node_modules/@postman/grpc-js/build/src/connectivity-state.js"),i=r("./node_modules/@postman/grpc-js/build/src/constants.js"),s=r("./node_modules/@postman/grpc-js/build/src/deadline.js"),o=r("./node_modules/@postman/grpc-js/build/src/metadata.js"),a=r("./node_modules/@postman/grpc-js/build/src/picker.js"),l=r("./node_modules/@postman/grpc-js/build/src/uri-parser.js"),c=r("./node_modules/@postman/grpc-js/build/src/logging.js"),u=r("./node_modules/@postman/grpc-js/build/src/control-plane-status.js"),d=r("http2"),h="load_balancing_call";class p{constructor(e,t,r,n,i,s,o){var a,c;this.channel=e,this.callConfig=t,this.methodName=r,this.host=n,this.credentials=i,this.deadline=s,this.callNumber=o,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null,this.childStartTime=null;let u=this.methodName.split("/"),d="";u.length>=2&&(d=u[1]);let h=null!=(c=null==(a=(0,l.splitHostPort)(this.host))?void 0:a.host)?c:"localhost";this.serviceUrl=`https://${h}/${d}`,this.startTime=new Date}getDeadlineInfo(){var e,t;let r=[];return this.childStartTime?(this.childStartTime>this.startTime&&((null==(e=this.metadata)?void 0:e.getOptions().waitForReady)&&r.push("wait_for_ready"),r.push(`LB pick: ${(0,s.formatDateDifference)(this.startTime,this.childStartTime)}`)),r.push(...this.child.getDeadlineInfo())):((null==(t=this.metadata)?void 0:t.getOptions().waitForReady)&&r.push("wait_for_ready"),r.push("Waiting for LB pick")),r}trace(e){c.trace(i.LogVerbosity.DEBUG,h,"["+this.callNumber+"] "+e)}outputStatus(e,t){var r,n;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+e.code+' details="'+e.details+'" start time='+this.startTime.toISOString());let i=Object.assign(Object.assign({},e),{progress:t});null==(r=this.listener)||r.onReceiveStatus(i),null==(n=this.onCallEnded)||n.call(this,i.code)}}doPick(){var e,t;if(this.ended)return;if(!this.metadata)throw Error("doPick called before start");this.trace("Pick called");let r=this.metadata.clone(),l=this.channel.doPick(r,this.callConfig.pickInformation),c=l.subchannel?"("+l.subchannel.getChannelzRef().id+") "+l.subchannel.getAddress():""+l.subchannel;switch(this.trace("Pick result: "+a.PickResultType[l.pickResultType]+" subchannel: "+c+" status: "+(null==(e=l.status)?void 0:e.code)+" "+(null==(t=l.status)?void 0:t.details)),l.pickResultType){case a.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(e=>{var t,a,u;if(this.ended)return void this.trace("Credentials metadata generation finished after call ended");if(r.merge(e),r.get("authorization").length>1&&this.outputStatus({code:i.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new o.Metadata},"PROCESSED"),l.subchannel.getConnectivityState()!==n.ConnectivityState.READY){this.trace("Picked subchannel "+c+" has state "+n.ConnectivityState[l.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&r.set("grpc-timeout",(0,s.getDeadlineTimeoutString)(this.deadline));try{this.child=l.subchannel.getRealSubchannel().createCall(r,this.host,this.methodName,{onReceiveMetadata:e=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(e)},onReceiveMessage:e=>{this.trace("Received message"),this.listener.onReceiveMessage(e)},onReceiveStatus:e=>{this.trace("Received status"),e.rstCode===d.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(e,"REFUSED"):this.outputStatus(e,"PROCESSED")}}),this.childStartTime=new Date}catch(e){this.trace("Failed to start call on picked subchannel "+c+" with error "+e.message),this.outputStatus({code:i.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+e.message,metadata:new o.Metadata},"NOT_STARTED");return}null==(a=(t=this.callConfig).onCommitted)||a.call(t),null==(u=l.onCallStarted)||u.call(l),this.onCallEnded=l.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},e=>{let{code:t,details:r}=(0,u.restrictControlPlaneStatusCode)("number"==typeof e.code?e.code:i.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${e.message}`);this.outputStatus({code:t,details:r,metadata:new o.Metadata},"PROCESSED")});break;case a.PickResultType.DROP:let{code:h,details:p}=(0,u.restrictControlPlaneStatusCode)(l.status.code,l.status.details);setImmediate(()=>{this.outputStatus({code:h,details:p,metadata:l.status.metadata},"DROP")});break;case a.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:e,details:t}=(0,u.restrictControlPlaneStatusCode)(l.status.code,l.status.details);setImmediate(()=>{this.outputStatus({code:e,details:t,metadata:l.status.metadata},"PROCESSED")})}break;case a.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),null==(r=this.child)||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new o.Metadata},"PROCESSED")}getPeer(){var e,t;return null!=(t=null==(e=this.child)?void 0:e.getPeer())?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.listener=t,this.metadata=e,this.doPick()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.child.sendMessageWithContext(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){throw Error("Method not implemented.")}getCallNumber(){return this.callNumber}}t.LoadBalancingCall=p},"./node_modules/@postman/grpc-js/build/src/logging.js":function(e,t,r){"use strict";var n,i,s,o;Object.defineProperty(t,"__esModule",{value:!0}),t.log=t.setLoggerVerbosity=t.setLogger=t.getLogger=void 0,t.trace=g,t.isTracerEnabled=y;let a=r("./node_modules/@postman/grpc-js/build/src/constants.js"),l=r("process"),c=r("./node_modules/@postman/grpc-js/package.json").rE,u={error:(e,...t)=>{console.error("E "+e,...t)},info:(e,...t)=>{console.error("I "+e,...t)},debug:(e,...t)=>{console.error("D "+e,...t)}},d=a.LogVerbosity.ERROR;switch((null!=(i=null!=(n=process.env.GRPC_NODE_VERBOSITY)?n:process.env.GRPC_VERBOSITY)?i:"").toUpperCase()){case"DEBUG":d=a.LogVerbosity.DEBUG;break;case"INFO":d=a.LogVerbosity.INFO;break;case"ERROR":d=a.LogVerbosity.ERROR;break;case"NONE":d=a.LogVerbosity.NONE}t.getLogger=()=>u,t.setLogger=e=>{u=e},t.setLoggerVerbosity=e=>{d=e},t.log=(e,...t)=>{let r;if(e>=d){switch(e){case a.LogVerbosity.DEBUG:r=u.debug;break;case a.LogVerbosity.INFO:r=u.info;break;case a.LogVerbosity.ERROR:r=u.error}r||(r=u.error),r&&r.bind(u)(...t)}};let h=null!=(o=null!=(s=process.env.GRPC_NODE_TRACE)?s:process.env.GRPC_TRACE)?o:"",p=new Set,f=new Set;for(let e of h.split(","))e.startsWith("-")?f.add(e.substring(1)):p.add(e);let m=p.has("all");function g(e,r,n){y(r)&&(0,t.log)(e,new Date().toISOString()+" | v"+c+" "+l.pid+" | "+r+" | "+n)}function y(e){return!f.has(e)&&(m||p.has(e))}},"./node_modules/@postman/grpc-js/build/src/make-client.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeClientConstructor=o,t.loadPackageDefinition=c;let n=r("./node_modules/@postman/grpc-js/build/src/client.js"),i={unary:n.Client.prototype.makeUnaryRequest,server_stream:n.Client.prototype.makeServerStreamRequest,client_stream:n.Client.prototype.makeClientStreamRequest,bidi:n.Client.prototype.makeBidiStreamRequest};function s(e){return["__proto__","prototype","constructor"].includes(e)}function o(e,t,r){r||(r={});class o extends n.Client{}return Object.keys(e).forEach(t=>{let r;if(s(t))return;let n=e[t];if("string"==typeof t&&"$"===t.charAt(0))throw Error("Method names cannot start with $");r=n.requestStream?n.responseStream?"bidi":"client_stream":n.responseStream?"server_stream":"unary";let l=n.requestSerialize,c=n.responseDeserialize,u=a(i[r],n.path,l,c);o.prototype[t]=u,Object.assign(o.prototype[t],n),n.originalName&&!s(n.originalName)&&(o.prototype[n.originalName]=o.prototype[t])}),o.service=e,o.serviceName=t,o}function a(e,t,r,n){return function(...i){return e.call(this,t,r,n,...i)}}function l(e){return"format"in e}function c(e){let t={};for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)){let n=e[r],i=r.split(".");if(i.some(e=>s(e)))continue;let a=i[i.length-1],c=t;for(let e of i.slice(0,-1))c[e]||(c[e]={}),c=c[e];l(n)?c[a]=n:c[a]=o(n,a,{})}return t}},"./node_modules/@postman/grpc-js/build/src/metadata.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;let n=r("./node_modules/@postman/grpc-js/build/src/logging.js"),i=r("./node_modules/@postman/grpc-js/build/src/constants.js"),s=r("./node_modules/@postman/grpc-js/build/src/error.js"),o=/^[0-9a-z_.-]+$/,a=/^[ -~]*$/;function l(e){return o.test(e)}function c(e){return a.test(e)}function u(e){return e.endsWith("-bin")}function d(e){return!e.startsWith("grpc-")}function h(e){return e.toLowerCase()}function p(e,t){if(!l(e))throw Error('Metadata key "'+e+'" contains illegal characters');if(null!=t)if(u(e)){if(!Buffer.isBuffer(t))throw Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(t))throw Error("keys that don't end with '-bin' must have String values");if(!c(t))throw Error('Metadata string value "'+t+'" contains illegal characters')}}class f{constructor(e={}){this.internalRepr=new Map,this.options=e}set(e,t){p(e=h(e),t),this.internalRepr.set(e,[t])}add(e,t){p(e=h(e),t);let r=this.internalRepr.get(e);void 0===r?this.internalRepr.set(e,[t]):r.push(t)}remove(e){e=h(e),this.internalRepr.delete(e)}get(e){return e=h(e),this.internalRepr.get(e)||[]}getMap(){let e={};for(let[t,r]of this.internalRepr)if(r.length>0){let n=r[0];e[t]=Buffer.isBuffer(n)?Buffer.from(n):n}return e}clone(){let e=new f(this.options),t=e.internalRepr;for(let[e,r]of this.internalRepr){let n=r.map(e=>Buffer.isBuffer(e)?Buffer.from(e):e);t.set(e,n)}return e}merge(e){for(let[t,r]of e.internalRepr){let e=(this.internalRepr.get(t)||[]).concat(r);this.internalRepr.set(t,e)}}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){let e={};for(let[t,r]of this.internalRepr)e[t]=r.map(m);return e}toJSON(){let e={};for(let[t,r]of this.internalRepr)e[t]=r;return e}static fromHttp2Headers(e){let t=new f;for(let r of Object.keys(e)){if(":"===r.charAt(0))continue;let o=e[r];try{u(r)?Array.isArray(o)?o.forEach(e=>{t.add(r,Buffer.from(e,"base64"))}):void 0!==o&&(d(r)?o.split(",").forEach(e=>{t.add(r,Buffer.from(e.trim(),"base64"))}):t.add(r,Buffer.from(o,"base64"))):Array.isArray(o)?o.forEach(e=>{t.add(r,e)}):void 0!==o&&t.add(r,o)}catch(t){let e=`Failed to add metadata entry ${r}: ${o}. ${(0,s.getErrorMessage)(t)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,n.log)(i.LogVerbosity.ERROR,e)}}return t}}t.Metadata=f;let m=e=>Buffer.isBuffer(e)?e.toString("base64"):e},"./node_modules/@postman/grpc-js/build/src/picker.js":function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.QueuePicker=t.UnavailablePicker=t.PickResultType=void 0;let i=r("./node_modules/@postman/grpc-js/build/src/metadata.js"),s=r("./node_modules/@postman/grpc-js/build/src/constants.js");!function(e){e[e.COMPLETE=0]="COMPLETE",e[e.QUEUE=1]="QUEUE",e[e.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",e[e.DROP=3]="DROP"}(n||(t.PickResultType=n={}));class o{constructor(e){this.status=Object.assign({code:s.Status.UNAVAILABLE,details:"No connection established",metadata:new i.Metadata},e)}pick(e){return{pickResultType:n.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}}t.UnavailablePicker=o;class a{constructor(e,t){this.loadBalancer=e,this.childPicker=t,this.calledExitIdle=!1}pick(e){return(this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),this.childPicker)?this.childPicker.pick(e):{pickResultType:n.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}}t.QueuePicker=a},"./node_modules/@postman/grpc-js/build/src/resolver-dns.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PORT=void 0,t.setup=_;let n=r("./node_modules/@postman/grpc-js/build/src/resolver.js"),i=r("node:dns"),s=r("./node_modules/@postman/grpc-js/build/src/service-config.js"),o=r("./node_modules/@postman/grpc-js/build/src/constants.js"),a=r("./node_modules/@postman/grpc-js/build/src/metadata.js"),l=r("./node_modules/@postman/grpc-js/build/src/logging.js"),c=r("./node_modules/@postman/grpc-js/build/src/constants.js"),u=r("./node_modules/@postman/grpc-js/build/src/uri-parser.js"),d=r("net"),h=r("./node_modules/@postman/grpc-js/build/src/backoff-timeout.js"),p=r("./node_modules/@postman/grpc-js/build/src/environment.js"),f="dns_resolver";function m(e){l.trace(c.LogVerbosity.DEBUG,f,e)}t.DEFAULT_PORT=443;let g=3e4;class y{constructor(e,r,n){var s,l,c;this.target=e,this.listener=r,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,this.alternativeResolver=new i.promises.Resolver,m("Resolver constructed for target "+(0,u.uriToString)(e)),e.authority&&this.alternativeResolver.setServers([e.authority]);let p=(0,u.splitHostPort)(e.path);null===p?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,d.isIPv4)(p.host)||(0,d.isIPv6)(p.host)?(this.ipResult=[{addresses:[{host:p.host,port:null!=(s=p.port)?s:t.DEFAULT_PORT}]}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=p.host,this.port=null!=(l=p.port)?l:t.DEFAULT_PORT),this.percentage=100*Math.random(),1===n["grpc.service_config_disable_resolution"]&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:o.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,u.uriToString)(this.target)}`,metadata:new a.Metadata};let f={initialDelay:n["grpc.initial_reconnect_backoff_ms"],maxDelay:n["grpc.max_reconnect_backoff_ms"]};this.backoff=new h.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},f),this.backoff.unref(),this.minTimeBetweenResolutionsMs=null!=(c=n["grpc.dns_min_time_between_resolutions_ms"])?c:g,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(null!==this.ipResult){this.returnedIpResult||(m("Returning IP address for target "+(0,u.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(null===this.dnsHostname)m("Failed to parse DNS address "+(0,u.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:o.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,u.uriToString)(this.target)}`,metadata:new a.Metadata})}),this.stopNextResolutionTimer();else{if(null!==this.pendingLookupPromise)return;m("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let e=this.dnsHostname;this.pendingLookupPromise=this.lookup(e),this.pendingLookupPromise.then(e=>{if(null===this.pendingLookupPromise)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop(),this.latestLookupResult=e.map(e=>({addresses:[e]}));let t="["+e.map(e=>e.host+":"+e.port).join(",")+"]";if(m("Resolved addresses for target "+(0,u.uriToString)(this.target)+": "+t),0===this.latestLookupResult.length)return void this.listener.onError(this.defaultResolutionError);this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},e=>{null!==this.pendingLookupPromise&&(m("Resolution error for target "+(0,u.uriToString)(this.target)+": "+e.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&null===this.pendingTxtPromise&&(this.pendingTxtPromise=this.resolveTxt(e),this.pendingTxtPromise.then(e=>{if(null!==this.pendingTxtPromise){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,s.extractAndSelectServiceConfig)(e,this.percentage)}catch(e){this.latestServiceConfigError={code:o.Status.UNAVAILABLE,details:`Parsing service config failed with error ${e.message}`,metadata:new a.Metadata}}null!==this.latestLookupResult&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},e=>{}))}}async lookup(e){if(p.GRPC_NODE_USE_ALTERNATIVE_RESOLVER){m("Using alternative DNS resolver.");let t=await Promise.allSettled([this.alternativeResolver.resolve4(e),this.alternativeResolver.resolve6(e)]);if(t.every(e=>"rejected"===e.status))throw Error(t[0].reason);return t.reduce((e,t)=>"fulfilled"===t.status?[...e,...t.value]:e,[]).map(e=>({host:e,port:+this.port}))}return(await i.promises.lookup(e,{all:!0})).map(e=>({host:e.address,port:+this.port}))}async resolveTxt(e){return p.GRPC_NODE_USE_ALTERNATIVE_RESOLVER?(m("Using alternative DNS resolver."),this.alternativeResolver.resolveTxt(e)):i.promises.resolveTxt(e)}startNextResolutionTimer(){var e,t;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs),null==(t=(e=this.nextResolutionTimer).unref)||t.call(e),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){null===this.pendingLookupPromise&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){null===this.pendingLookupPromise&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?m('resolution update delayed by "min time between resolutions" rate limit'):m("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(e){return e.path}}function _(){(0,n.registerResolver)("dns",y),(0,n.registerDefaultScheme)("dns")}},"./node_modules/@postman/grpc-js/build/src/resolver-ip.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=m;let n=r("net"),i=r("./node_modules/@postman/grpc-js/build/src/constants.js"),s=r("./node_modules/@postman/grpc-js/build/src/metadata.js"),o=r("./node_modules/@postman/grpc-js/build/src/resolver.js"),a=r("./node_modules/@postman/grpc-js/build/src/uri-parser.js"),l=r("./node_modules/@postman/grpc-js/build/src/logging.js"),c="ip_resolver";function u(e){l.trace(i.LogVerbosity.DEBUG,c,e)}let d="ipv4",h="ipv6",p=443;class f{constructor(e,t,r){var o;this.listener=t,this.endpoints=[],this.error=null,this.hasReturnedResult=!1,u("Resolver constructed for target "+(0,a.uriToString)(e));let l=[];if(e.scheme!==d&&e.scheme!==h){this.error={code:i.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new s.Metadata};return}for(let t of e.path.split(",")){let r=(0,a.splitHostPort)(t);if(null===r||e.scheme===d&&!(0,n.isIPv4)(r.host)||e.scheme===h&&!(0,n.isIPv6)(r.host)){this.error={code:i.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${t}`,metadata:new s.Metadata};return}l.push({host:r.host,port:null!=(o=r.port)?o:p})}this.endpoints=l.map(e=>({addresses:[e]})),u("Parsed "+e.scheme+" address list "+l)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.endpoints,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return e.path.split(",")[0]}}function m(){(0,o.registerResolver)(d,f),(0,o.registerResolver)(h,f)}},"./node_modules/@postman/grpc-js/build/src/resolver-uds.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=s;let n=r("./node_modules/@postman/grpc-js/build/src/resolver.js");class i{constructor(e,t,r){let n;this.listener=t,this.hasReturnedResult=!1,this.endpoints=[],n=""===e.authority?"/"+e.path:e.path,this.endpoints=[{addresses:[{path:n}]}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.endpoints,null,null,null,{}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return"localhost"}}function s(){(0,n.registerResolver)("unix",i)}},"./node_modules/@postman/grpc-js/build/src/resolver.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerResolver=o,t.registerDefaultScheme=a,t.createResolver=l,t.getDefaultAuthority=c,t.mapUriDefaultScheme=u;let n=r("./node_modules/@postman/grpc-js/build/src/uri-parser.js"),i={},s=null;function o(e,t){i[e]=t}function a(e){s=e}function l(e,t,r){if(void 0!==e.scheme&&e.scheme in i)return new i[e.scheme](e,t,r);throw Error(`No resolver could be created for target ${(0,n.uriToString)(e)}`)}function c(e){if(void 0!==e.scheme&&e.scheme in i)return i[e.scheme].getDefaultAuthority(e);throw Error(`Invalid target ${(0,n.uriToString)(e)}`)}function u(e){if(void 0===e.scheme||!(e.scheme in i))if(null!==s)return{scheme:s,authority:void 0,path:(0,n.uriToString)(e)};else return null;return e}},"./node_modules/@postman/grpc-js/build/src/resolving-call.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResolvingCall=void 0;let n=r("./node_modules/@postman/grpc-js/build/src/constants.js"),i=r("./node_modules/@postman/grpc-js/build/src/deadline.js"),s=r("./node_modules/@postman/grpc-js/build/src/metadata.js"),o=r("./node_modules/@postman/grpc-js/build/src/logging.js"),a=r("./node_modules/@postman/grpc-js/build/src/control-plane-status.js"),l="resolving_call";class c{constructor(e,t,r,s,o,a){this.channel=e,this.method=t,this.filterStackFactory=s,this.credentials=o,this.callNumber=a,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadlineStartTime=null,this.configReceivedTime=null,this.childStartTime=null,this.deadline=r.deadline,this.host=r.host,r.parentCall&&(r.flags&n.Propagate.CANCELLATION&&r.parentCall.on("cancelled",()=>{this.cancelWithStatus(n.Status.CANCELLED,"Cancelled by parent call")}),r.flags&n.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+r.parentCall.getDeadline()),this.deadline=(0,i.minDeadline)(this.deadline,r.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(e){o.trace(n.LogVerbosity.DEBUG,l,"["+this.callNumber+"] "+e)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.deadlineStartTime=new Date,this.trace("Deadline: "+(0,i.deadlineToString)(this.deadline));let e=(0,i.getRelativeTimeout)(this.deadline);if(e!==1/0){this.trace("Deadline will be reached in "+e+"ms");let t=()=>{if(!this.deadlineStartTime)return void this.cancelWithStatus(n.Status.DEADLINE_EXCEEDED,"Deadline exceeded");let e=[],t=new Date;e.push(`Deadline exceeded after ${(0,i.formatDateDifference)(this.deadlineStartTime,t)}`),this.configReceivedTime?(this.configReceivedTime>this.deadlineStartTime&&e.push(`name resolution: ${(0,i.formatDateDifference)(this.deadlineStartTime,this.configReceivedTime)}`),this.childStartTime?this.childStartTime>this.configReceivedTime&&e.push(`metadata filters: ${(0,i.formatDateDifference)(this.configReceivedTime,this.childStartTime)}`):e.push("waiting for metadata filters")):e.push("waiting for name resolution"),this.child&&e.push(...this.child.getDeadlineInfo()),this.cancelWithStatus(n.Status.DEADLINE_EXCEEDED,e.join(","))};e<=0?process.nextTick(t):this.deadlineTimer=setTimeout(t,e)}}outputStatus(e){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let t=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+t.code+' details="'+t.details+'"'),this.statusWatchers.forEach(e=>e(t)),process.nextTick(()=>{var e;null==(e=this.listener)||e.onReceiveStatus(t)})}}sendMessageOnChild(e,t){if(!this.child)throw Error("sendMessageonChild called with child not populated");let r=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:t,flags:e.flags})).then(t=>{this.writeFilterPending=!1,r.sendMessageWithContext(e,t.message),this.pendingHalfClose&&r.halfClose()},e=>{this.cancelWithStatus(e.code,e.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw Error("getConfig called before start");let e=this.channel.getConfig(this.method,this.metadata);if("NONE"===e.type)return void this.channel.queueCallForConfig(this);if("ERROR"===e.type)return void(this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e.error));this.configReceivedTime=new Date;let t=e.config;if(t.status!==n.Status.OK){let{code:e,details:r}=(0,a.restrictControlPlaneStatusCode)(t.status,"Failed to route call to method "+this.method);this.outputStatus({code:e,details:r,metadata:new s.Metadata});return}if(t.methodConfig.timeout){let e=new Date;e.setSeconds(e.getSeconds()+t.methodConfig.timeout.seconds),e.setMilliseconds(e.getMilliseconds()+t.methodConfig.timeout.nanos/1e6),this.deadline=(0,i.minDeadline)(this.deadline,e),this.runDeadlineTimer()}this.filterStackFactory.push(t.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(e=>{this.child=this.channel.createInnerCall(t,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.childStartTime=new Date,this.child.start(e,{onReceiveMetadata:e=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(e))},onReceiveMessage:e=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(e).then(e=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(e),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},e=>{this.cancelWithStatus(e.code,e.details)})},onReceiveStatus:e=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=e:this.outputStatus(e)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},e=>{this.outputStatus(e)})}reportResolverError(e){var t;(null==(t=this.metadata)?void 0:t.getOptions().waitForReady)?this.channel.queueCallForConfig(this):this.outputStatus(e)}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),null==(r=this.child)||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new s.Metadata})}getPeer(){var e,t;return null!=(t=null==(e=this.child)?void 0:e.getPeer())?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.metadata=e.clone(),this.listener=t,this.getConfig()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.sendMessageOnChild(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){this.credentials=this.credentials.compose(e)}addStatusWatcher(e){this.statusWatchers.push(e)}getCallNumber(){return this.callNumber}}t.ResolvingCall=c},"./node_modules/@postman/grpc-js/build/src/resolving-load-balancer.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResolvingLoadBalancer=void 0;let n=r("./node_modules/@postman/grpc-js/build/src/load-balancer.js"),i=r("./node_modules/@postman/grpc-js/build/src/service-config.js"),s=r("./node_modules/@postman/grpc-js/build/src/connectivity-state.js"),o=r("./node_modules/@postman/grpc-js/build/src/resolver.js"),a=r("./node_modules/@postman/grpc-js/build/src/picker.js"),l=r("./node_modules/@postman/grpc-js/build/src/backoff-timeout.js"),c=r("./node_modules/@postman/grpc-js/build/src/constants.js"),u=r("./node_modules/@postman/grpc-js/build/src/metadata.js"),d=r("./node_modules/@postman/grpc-js/build/src/logging.js"),h=r("./node_modules/@postman/grpc-js/build/src/constants.js"),p=r("./node_modules/@postman/grpc-js/build/src/uri-parser.js"),f=r("./node_modules/@postman/grpc-js/build/src/load-balancer-child-handler.js"),m="resolving_load_balancer";function g(e){d.trace(h.LogVerbosity.DEBUG,m,e)}let y=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function _(e,t,r,n){for(let i of r.name)switch(n){case"EMPTY":if(!i.service&&!i.method)return!0;break;case"SERVICE":if(i.service===e&&!i.method)return!0;break;case"SERVICE_AND_METHOD":if(i.service===e&&i.method===t)return!0}return!1}function v(e,t,r,n){for(let i of r)if(_(e,t,i,n))return i;return null}function b(e){return function(t,r){var n,i;let s=t.split("/").filter(e=>e.length>0),o=null!=(n=s[0])?n:"",a=null!=(i=s[1])?i:"";if(e&&e.methodConfig)for(let t of y){let r=v(o,a,e.methodConfig,t);if(r)return{methodConfig:r,pickInformation:{},status:c.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:c.Status.OK,dynamicFilterFactories:[]}}}class w{constructor(e,t,r,d,h){this.target=e,this.channelControlHelper=t,this.onSuccessfulResolution=d,this.onFailedResolution=h,this.latestChildState=s.ConnectivityState.IDLE,this.latestChildPicker=new a.QueuePicker(this),this.currentState=s.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,r["grpc.service_config"]?this.defaultServiceConfig=(0,i.validateServiceConfig)(JSON.parse(r["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(s.ConnectivityState.IDLE,new a.QueuePicker(this)),this.childLoadBalancer=new f.ChildLoadBalancerHandler({createSubchannel:t.createSubchannel.bind(t),requestReresolution:()=>{this.backoffTimeout.isRunning()?(g("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(e,t)=>{this.latestChildState=e,this.latestChildPicker=t,this.updateState(e,t)},addChannelzChild:t.addChannelzChild.bind(t),removeChannelzChild:t.removeChannelzChild.bind(t)},r),this.innerResolver=(0,o.createResolver)(e,{onSuccessfulResolution:(e,t,r,i,s)=>{var o;this.backoffTimeout.stop(),this.backoffTimeout.reset();let a=null;null===t?null===r?(this.previousServiceConfig=null,a=this.defaultServiceConfig):null===this.previousServiceConfig?this.handleResolutionFailure(r):a=this.previousServiceConfig:(a=t,this.previousServiceConfig=t);let l=null!=(o=null==a?void 0:a.loadBalancingConfig)?o:[],d=(0,n.selectLbConfigFromList)(l,!0);if(null===d)return void this.handleResolutionFailure({code:c.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new u.Metadata});this.childLoadBalancer.updateAddressList(e,d,s);let h=null!=a?a:this.defaultServiceConfig;this.onSuccessfulResolution(h,null!=i?i:b(h))},onError:e=>{this.handleResolutionFailure(e)}},r);let p={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new l.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},p),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===s.ConnectivityState.IDLE&&this.updateState(s.ConnectivityState.CONNECTING,this.latestChildPicker),this.backoffTimeout.runOnce()}updateState(e,t){g((0,p.uriToString)(this.target)+" "+s.ConnectivityState[this.currentState]+" -> "+s.ConnectivityState[e]),e===s.ConnectivityState.IDLE&&(t=new a.QueuePicker(this,t)),this.currentState=e,this.channelControlHelper.updateState(e,t)}handleResolutionFailure(e){this.latestChildState===s.ConnectivityState.IDLE&&(this.updateState(s.ConnectivityState.TRANSIENT_FAILURE,new a.UnavailablePicker(e)),this.onFailedResolution(e))}exitIdle(){(this.currentState===s.ConnectivityState.IDLE||this.currentState===s.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(e,t){throw Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=s.ConnectivityState.IDLE,this.latestChildPicker=new a.QueuePicker(this),this.currentState=s.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}}t.ResolvingLoadBalancer=w},"./node_modules/@postman/grpc-js/build/src/retrying-call.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RetryingCall=t.MessageBufferTracker=t.RetryThrottler=void 0;let n=r("./node_modules/@postman/grpc-js/build/src/constants.js"),i=r("./node_modules/@postman/grpc-js/build/src/deadline.js"),s=r("./node_modules/@postman/grpc-js/build/src/metadata.js"),o=r("./node_modules/@postman/grpc-js/build/src/logging.js"),a="retrying_call";class l{constructor(e,t,r){this.maxTokens=e,this.tokenRatio=t,r?this.tokens=r.tokens*(e/r.maxTokens):this.tokens=e}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}}t.RetryThrottler=l;class c{constructor(e,t){this.totalLimit=e,this.limitPerCall=t,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(e,t){var r;let n=null!=(r=this.allocatedPerCall.get(t))?r:0;return!(this.limitPerCall-n<e)&&!(this.totalLimit-this.totalAllocated<e)&&(this.allocatedPerCall.set(t,n+e),this.totalAllocated+=e,!0)}free(e,t){var r;if(this.totalAllocated<e)throw Error(`Invalid buffer allocation state: call ${t} freed ${e} > total allocated ${this.totalAllocated}`);this.totalAllocated-=e;let n=null!=(r=this.allocatedPerCall.get(t))?r:0;if(n<e)throw Error(`Invalid buffer allocation state: call ${t} freed ${e} > allocated for call ${n}`);this.allocatedPerCall.set(t,n-e)}freeAll(e){var t;let r=null!=(t=this.allocatedPerCall.get(e))?t:0;if(this.totalAllocated<r)throw Error(`Invalid buffer allocation state: call ${e} allocated ${r} > total allocated ${this.totalAllocated}`);this.totalAllocated-=r,this.allocatedPerCall.delete(e)}}t.MessageBufferTracker=c;let u="grpc-previous-rpc-attempts",d=5;class h{constructor(e,t,r,n,i,s,o,a,l){var c;this.channel=e,this.callConfig=t,this.methodName=r,this.host=n,this.credentials=i,this.deadline=s,this.callNumber=o,this.bufferTracker=a,this.retryThrottler=l,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0;let u=null!=(c=e.getOptions()["grpc-node.retry_max_attempts_limit"])?c:d;if(t.methodConfig.retryPolicy){this.state="RETRY";let e=t.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(e.initialBackoff.substring(0,e.initialBackoff.length-1)),this.maxAttempts=Math.min(e.maxAttempts,u)}else t.methodConfig.hedgingPolicy?(this.state="HEDGING",this.maxAttempts=Math.min(t.methodConfig.hedgingPolicy.maxAttempts,u)):(this.state="TRANSPARENT_ONLY",this.maxAttempts=1);this.startTime=new Date}getDeadlineInfo(){if(0===this.underlyingCalls.length)return[];let e=[],t=this.underlyingCalls[this.underlyingCalls.length-1];return this.underlyingCalls.length>1&&e.push(`previous attempts: ${this.underlyingCalls.length-1}`),t.startTime>this.startTime&&e.push(`time to current attempt start: ${(0,i.formatDateDifference)(this.startTime,t.startTime)}`),e.push(...t.call.getDeadlineInfo()),e}getCallNumber(){return this.callNumber}trace(e){o.trace(n.LogVerbosity.DEBUG,a,"["+this.callNumber+"] "+e)}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'" start time='+this.startTime.toISOString()),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var t;null==(t=this.listener)||t.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata})})}cancelWithStatus(e,t){for(let{call:r}of(this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.reportStatus({code:e,details:t,metadata:new s.Metadata}),this.underlyingCalls))r.cancelWithStatus(e,t)}getPeer(){return null!==this.committedCallIndex?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(e){var t;return null!=(t=this.writeBuffer[e-this.writeBufferOffset])?t:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if("COMMITTED"!==this.state)return;let e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let t=this.writeBufferOffset;t<e;t++){let e=this.getBufferEntry(t);e.allocated&&this.bufferTracker.free(e.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset),this.writeBufferOffset=e}commitCall(e){if("COMMITTED"!==this.state&&"COMPLETED"!==this.underlyingCalls[e].state){this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e),this.state="COMMITTED",this.committedCallIndex=e;for(let t=0;t<this.underlyingCalls.length;t++)t!==e&&"COMPLETED"!==this.underlyingCalls[t].state&&(this.underlyingCalls[t].state="COMPLETED",this.underlyingCalls[t].call.cancelWithStatus(n.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if("COMMITTED"===this.state)return;let e=-1,t=-1;for(let[r,n]of this.underlyingCalls.entries())"ACTIVE"===n.state&&n.nextMessageToSend>e&&(e=n.nextMessageToSend,t=r);-1===t?this.state="TRANSPARENT_ONLY":this.commitCall(t)}isStatusCodeInList(e,t){return e.some(e=>e===t||e.toString().toLowerCase()===n.Status[t].toLowerCase())}getNextRetryBackoffMs(){var e;let t=null==(e=this.callConfig)?void 0:e.methodConfig.retryPolicy;if(!t)return 0;let r=Math.random()*this.nextRetryBackoffSec*1e3,n=Number(t.maxBackoff.substring(0,t.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*t.backoffMultiplier,n),r}maybeRetryCall(e,t){let r;if("RETRY"!==this.state||this.attempts>=this.maxAttempts)return void t(!1);if(null===e)r=this.getNextRetryBackoffMs();else if(e<0){this.state="TRANSPARENT_ONLY",t(!1);return}else r=e,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var e,r;if("RETRY"!==this.state)return void t(!1);(null==(r=null==(e=this.retryThrottler)?void 0:e.canRetryCall())||r)&&(t(!0),this.attempts+=1,this.startNewAttempt())},r)}countActiveCalls(){let e=0;for(let t of this.underlyingCalls)(null==t?void 0:t.state)==="ACTIVE"&&(e+=1);return e}handleProcessedStatus(e,t,r){var n,i,s;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(t),this.reportStatus(e);break;case"HEDGING":if(this.isStatusCodeInList(null!=(n=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)?n:[],e.code)){let n;if(null==(i=this.retryThrottler)||i.addCallFailed(),null===r)n=0;else if(r<0){this.state="TRANSPARENT_ONLY",this.commitCall(t),this.reportStatus(e);return}else n=r;setTimeout(()=>{this.maybeStartHedgingAttempt(),0===this.countActiveCalls()&&(this.commitCall(t),this.reportStatus(e))},n)}else this.commitCall(t),this.reportStatus(e);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)?(null==(s=this.retryThrottler)||s.addCallFailed(),this.maybeRetryCall(r,r=>{r||(this.commitCall(t),this.reportStatus(e))})):(this.commitCall(t),this.reportStatus(e))}}getPushback(e){let t=e.get("grpc-retry-pushback-ms");if(0===t.length)return null;try{return parseInt(t[0])}catch(e){return -1}}handleChildStatus(e,t){var r;if("COMPLETED"===this.underlyingCalls[t].state)return;if(this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[t].call.getCallNumber()+"] in state "+this.underlyingCalls[t].state),this.underlyingCalls[t].state="COMPLETED",e.code===n.Status.OK){null==(r=this.retryThrottler)||r.addCallSucceeded(),this.commitCall(t),this.reportStatus(e);return}if("COMMITTED"===this.state)return void this.reportStatus(e);let i=this.getPushback(e.metadata);switch(e.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(e,t,i):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(t),this.reportStatus(e);break;case"PROCESSED":this.handleProcessedStatus(e,t,i)}}maybeStartHedgingAttempt(){"HEDGING"===this.state&&this.callConfig.methodConfig.hedgingPolicy&&(this.attempts>=this.maxAttempts||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()))}maybeStartHedgingTimer(){var e,t,r;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),"HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let n=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=this.maxAttempts)return;let i=null!=(e=n.hedgingDelay)?e:"0s",s=Number(i.substring(0,i.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},1e3*s),null==(r=(t=this.hedgingTimer).unref)||r.call(t)}startNewAttempt(){let e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);let t=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0,startTime:new Date});let r=this.attempts-1,n=this.initialMetadata.clone();r>0&&n.set(u,`${r}`);let i=!1;e.start(n,{onReceiveMetadata:n=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]"),this.commitCall(t),i=!0,r>0&&n.set(u,`${r}`),"ACTIVE"===this.underlyingCalls[t].state&&this.listener.onReceiveMetadata(n)},onReceiveMessage:r=>{this.trace("Received message from child ["+e.getCallNumber()+"]"),this.commitCall(t),"ACTIVE"===this.underlyingCalls[t].state&&this.listener.onReceiveMessage(r)},onReceiveStatus:n=>{this.trace("Received status from child ["+e.getCallNumber()+"]"),!i&&r>0&&n.metadata.set(u,`${r}`),this.handleChildStatus(n,t)}}),this.sendNextChildMessage(t),this.readStarted&&e.startRead()}start(e,t){this.trace("start called"),this.listener=t,this.initialMetadata=e,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(e){var t,r;let n=this.underlyingCalls[e],i=n.nextMessageToSend;null==(r=(t=this.getBufferEntry(i)).callback)||r.call(t),this.clearSentMessages(),n.nextMessageToSend+=1,this.sendNextChildMessage(e)}sendNextChildMessage(e){let t=this.underlyingCalls[e];if("COMPLETED"!==t.state&&this.getBufferEntry(t.nextMessageToSend)){let r=this.getBufferEntry(t.nextMessageToSend);switch(r.entryType){case"MESSAGE":t.call.sendMessageWithContext({callback:t=>{this.handleChildWriteCompleted(e)}},r.message.message);break;case"HALF_CLOSE":t.nextMessageToSend+=1,t.call.halfClose()}}}sendMessageWithContext(e,t){var r;this.trace("write() called with message of length "+t.length);let n={message:t,flags:e.flags},i=this.getNextBufferIndex(),s={entryType:"MESSAGE",message:n,allocated:this.bufferTracker.allocate(t.length,this.callNumber)};if(this.writeBuffer.push(s),s.allocated)for(let[n,s]of(null==(r=e.callback)||r.call(e),this.underlyingCalls.entries()))"ACTIVE"===s.state&&s.nextMessageToSend===i&&s.call.sendMessageWithContext({callback:e=>{this.handleChildWriteCompleted(n)}},t);else{if(this.commitCallWithMostMessages(),null===this.committedCallIndex)return;let r=this.underlyingCalls[this.committedCallIndex];s.callback=e.callback,"ACTIVE"===r.state&&r.nextMessageToSend===i&&r.call.sendMessageWithContext({callback:e=>{this.handleChildWriteCompleted(this.committedCallIndex)}},t)}}startRead(){for(let e of(this.trace("startRead called"),this.readStarted=!0,this.underlyingCalls))(null==e?void 0:e.state)==="ACTIVE"&&e.call.startRead()}halfClose(){this.trace("halfClose called");let e=this.getNextBufferIndex();for(let t of(this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1}),this.underlyingCalls))(null==t?void 0:t.state)==="ACTIVE"&&t.nextMessageToSend===e&&(t.nextMessageToSend+=1,t.call.halfClose())}setCredentials(e){throw Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}}t.RetryingCall=h},"./node_modules/@postman/grpc-js/build/src/server-call.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerDuplexStreamImpl=t.ServerWritableStreamImpl=t.ServerReadableStreamImpl=t.ServerUnaryCallImpl=void 0,t.serverErrorToStatus=a;let n=r("events"),i=r("stream"),s=r("./node_modules/@postman/grpc-js/build/src/constants.js"),o=r("./node_modules/@postman/grpc-js/build/src/metadata.js");function a(e,t){var r;let n={code:s.Status.UNKNOWN,details:"message"in e?e.message:"Unknown Error",metadata:null!=(r=null!=t?t:e.metadata)?r:null};return"code"in e&&"number"==typeof e.code&&Number.isInteger(e.code)&&(n.code=e.code,"details"in e&&"string"==typeof e.details&&(n.details=e.details)),n}class l extends n.EventEmitter{constructor(e,t,r,n){super(),this.path=e,this.call=t,this.metadata=r,this.request=n,this.cancelled=!1}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}}t.ServerUnaryCallImpl=l;class c extends i.Readable{constructor(e,t,r){super({objectMode:!0}),this.path=e,this.call=t,this.metadata=r,this.cancelled=!1}_read(e){this.call.startRead()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}}t.ServerReadableStreamImpl=c;class u extends i.Writable{constructor(e,t,r,n){super({objectMode:!0}),this.path=e,this.call=t,this.metadata=r,this.request=n,this.pendingStatus={code:s.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new o.Metadata,this.on("error",e=>{this.pendingStatus=a(e),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}_write(e,t,r){this.call.sendMessage(e,r)}_final(e){var t;e(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:null!=(t=this.pendingStatus.metadata)?t:this.trailingMetadata}))}end(e){return e&&(this.trailingMetadata=e),super.end()}}t.ServerWritableStreamImpl=u;class d extends i.Duplex{constructor(e,t,r){super({objectMode:!0}),this.path=e,this.call=t,this.metadata=r,this.pendingStatus={code:s.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new o.Metadata,this.on("error",e=>{this.pendingStatus=a(e),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}_read(e){this.call.startRead()}_write(e,t,r){this.call.sendMessage(e,r)}_final(e){var t;e(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:null!=(t=this.pendingStatus.metadata)?t:this.trailingMetadata}))}end(e){return e&&(this.trailingMetadata=e),super.end()}}t.ServerDuplexStreamImpl=d},"./node_modules/@postman/grpc-js/build/src/server-credentials.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerCredentials=void 0,t.createServerCredentialsWithInterceptors=l;let n=r("./node_modules/@postman/grpc-js/build/src/tls-helpers.js");class i{constructor(){this.watchers=new Set,this.latestContextOptions=null}_addWatcher(e){this.watchers.add(e)}_removeWatcher(e){this.watchers.delete(e)}updateSecureContextOptions(e){for(let t of(e?this.latestContextOptions=e:this.latestContextOptions=null,this.watchers))t(this.latestContextOptions)}_getSettings(){return this.latestContextOptions}_getInterceptors(){return[]}static createInsecure(){return new s}static createSsl(e,t,r=!1){var i;if(null!==e&&!Buffer.isBuffer(e))throw TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(t))throw TypeError("keyCertPairs must be an array");if("boolean"!=typeof r)throw TypeError("checkClientCertificate must be a boolean");let s=[],a=[];for(let e=0;e<t.length;e++){let r=t[e];if(null===r||"object"!=typeof r)throw TypeError(`keyCertPair[${e}] must be an object`);if(!Buffer.isBuffer(r.private_key))throw TypeError(`keyCertPair[${e}].private_key must be a Buffer`);if(!Buffer.isBuffer(r.cert_chain))throw TypeError(`keyCertPair[${e}].cert_chain must be a Buffer`);s.push(r.cert_chain),a.push(r.private_key)}return new o({ca:null!=(i=null!=e?e:(0,n.getDefaultRootsData)())?i:void 0,cert:s,key:a,requestCert:r,ciphers:n.CIPHER_SUITES})}}t.ServerCredentials=i;class s extends i{_isSecure(){return!1}_getSettings(){return null}_equals(e){return e instanceof s}}class o extends i{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}_equals(e){if(this===e)return!0;if(!(e instanceof o))return!1;if(Buffer.isBuffer(this.options.ca)&&Buffer.isBuffer(e.options.ca)){if(!this.options.ca.equals(e.options.ca))return!1}else if(this.options.ca!==e.options.ca)return!1;if(Array.isArray(this.options.cert)&&Array.isArray(e.options.cert)){if(this.options.cert.length!==e.options.cert.length)return!1;for(let t=0;t<this.options.cert.length;t++){let r=this.options.cert[t],n=e.options.cert[t];if(Buffer.isBuffer(r)&&Buffer.isBuffer(n)){if(!r.equals(n))return!1}else if(r!==n)return!1}}else if(this.options.cert!==e.options.cert)return!1;if(Array.isArray(this.options.key)&&Array.isArray(e.options.key)){if(this.options.key.length!==e.options.key.length)return!1;for(let t=0;t<this.options.key.length;t++){let r=this.options.key[t],n=e.options.key[t];if(Buffer.isBuffer(r)&&Buffer.isBuffer(n)){if(!r.equals(n))return!1}else if(r!==n)return!1}}else if(this.options.key!==e.options.key)return!1;return this.options.requestCert===e.options.requestCert}}class a extends i{constructor(e,t){super(),this.childCredentials=e,this.interceptors=t}_isSecure(){return this.childCredentials._isSecure()}_equals(e){if(!(e instanceof a)||!this.childCredentials._equals(e.childCredentials)||this.interceptors.length!==e.interceptors.length)return!1;for(let t=0;t<this.interceptors.length;t++)if(this.interceptors[t]!==e.interceptors[t])return!1;return!0}_getInterceptors(){return this.interceptors}_addWatcher(e){this.childCredentials._addWatcher(e)}_removeWatcher(e){this.childCredentials._removeWatcher(e)}}function l(e,t){return new a(e,t)}},"./node_modules/@postman/grpc-js/build/src/server-interceptors.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseServerInterceptingCall=t.ServerInterceptingCall=t.ResponderBuilder=t.ServerListenerBuilder=void 0,t.isInterceptingServerListener=p,t.getServerInterceptingCall=M;let n=r("./node_modules/@postman/grpc-js/build/src/metadata.js"),i=r("./node_modules/@postman/grpc-js/build/src/constants.js"),s=r("http2"),o=r("./node_modules/@postman/grpc-js/build/src/error.js"),a=r("zlib"),l=r("./node_modules/@postman/grpc-js/build/src/stream-decoder.js"),c=r("./node_modules/@postman/grpc-js/build/src/logging.js"),u="server_call";function d(e){c.trace(i.LogVerbosity.DEBUG,u,e)}class h{constructor(){this.metadata=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveHalfClose(e){return this.halfClose=e,this}withOnCancel(e){return this.cancel=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveHalfClose:this.halfClose,onCancel:this.cancel}}}function p(e){return void 0!==e.onReceiveMetadata&&1===e.onReceiveMetadata.length}t.ServerListenerBuilder=h;class f{constructor(e,t){this.listener=e,this.nextListener=t,this.cancelled=!1,this.processingMetadata=!1,this.hasPendingMessage=!1,this.pendingMessage=null,this.processingMessage=!1,this.hasPendingHalfClose=!1}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingHalfClose(){this.hasPendingHalfClose&&(this.nextListener.onReceiveHalfClose(),this.hasPendingHalfClose=!1)}onReceiveMetadata(e){this.cancelled||(this.processingMetadata=!0,this.listener.onReceiveMetadata(e,e=>{this.processingMetadata=!1,this.cancelled||(this.nextListener.onReceiveMetadata(e),this.processPendingMessage(),this.processPendingHalfClose())}))}onReceiveMessage(e){this.cancelled||(this.processingMessage=!0,this.listener.onReceiveMessage(e,e=>{this.processingMessage=!1,this.cancelled||(this.processingMetadata?(this.pendingMessage=e,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(e),this.processPendingHalfClose()))}))}onReceiveHalfClose(){this.cancelled||this.listener.onReceiveHalfClose(()=>{this.cancelled||(this.processingMetadata||this.processingMessage?this.hasPendingHalfClose=!0:this.nextListener.onReceiveHalfClose())})}onCancel(){this.cancelled=!0,this.listener.onCancel(),this.nextListener.onCancel()}}class m{constructor(){this.start=void 0,this.metadata=void 0,this.message=void 0,this.status=void 0}withStart(e){return this.start=e,this}withSendMetadata(e){return this.metadata=e,this}withSendMessage(e){return this.message=e,this}withSendStatus(e){return this.status=e,this}build(){return{start:this.start,sendMetadata:this.metadata,sendMessage:this.message,sendStatus:this.status}}}t.ResponderBuilder=m;let g=(e,t)=>{t(e)},y=(e,t)=>{t(e)},_=e=>{e()},v=()=>{},b=e=>{e()},w=(e,t)=>{t(e)},j=(e,t)=>{t(e)},S=(e,t)=>{t(e)};class k{constructor(e,t){var r,n,i,s;this.nextCall=e,this.processingMetadata=!1,this.processingMessage=!1,this.pendingMessage=null,this.pendingMessageCallback=null,this.pendingStatus=null,this.responder={start:null!=(r=null==t?void 0:t.start)?r:b,sendMetadata:null!=(n=null==t?void 0:t.sendMetadata)?n:w,sendMessage:null!=(i=null==t?void 0:t.sendMessage)?i:j,sendStatus:null!=(s=null==t?void 0:t.sendStatus)?s:S}}processPendingMessage(){this.pendingMessageCallback&&(this.nextCall.sendMessage(this.pendingMessage,this.pendingMessageCallback),this.pendingMessage=null,this.pendingMessageCallback=null)}processPendingStatus(){this.pendingStatus&&(this.nextCall.sendStatus(this.pendingStatus),this.pendingStatus=null)}start(e){this.responder.start(t=>{var r,n,i,s;let o=new f({onReceiveMetadata:null!=(r=null==t?void 0:t.onReceiveMetadata)?r:g,onReceiveMessage:null!=(n=null==t?void 0:t.onReceiveMessage)?n:y,onReceiveHalfClose:null!=(i=null==t?void 0:t.onReceiveHalfClose)?i:_,onCancel:null!=(s=null==t?void 0:t.onCancel)?s:v},e);this.nextCall.start(o)})}sendMetadata(e){this.processingMetadata=!0,this.responder.sendMetadata(e,e=>{this.processingMetadata=!1,this.nextCall.sendMetadata(e),this.processPendingMessage(),this.processPendingStatus()})}sendMessage(e,t){this.processingMessage=!0,this.responder.sendMessage(e,e=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=e,this.pendingMessageCallback=t):this.nextCall.sendMessage(e,t)})}sendStatus(e){this.responder.sendStatus(e,e=>{this.processingMetadata||this.processingMessage?this.pendingStatus=e:this.nextCall.sendStatus(e)})}startRead(){this.nextCall.startRead()}getPeer(){return this.nextCall.getPeer()}getDeadline(){return this.nextCall.getDeadline()}getHost(){return this.nextCall.getHost()}}t.ServerInterceptingCall=k;let E="grpc-accept-encoding",C="grpc-encoding",x="grpc-message",T="grpc-status",O="grpc-timeout",I=/(\d{1,8})\s*([HMSmun])/,A={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},P={[E]:"identity,deflate,gzip",[C]:"identity"},R={[s.constants.HTTP2_HEADER_STATUS]:s.constants.HTTP_STATUS_OK,[s.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},N={waitForTrailers:!0};class ${constructor(e,t,r,o,a){var h;this.stream=e,this.callEventTracker=r,this.handler=o,this.listener=null,this.deadlineTimer=null,this.deadline=1/0,this.maxSendMessageSize=i.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=i.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.cancelled=!1,this.metadataSent=!1,this.wantTrailers=!1,this.cancelNotified=!1,this.incomingEncoding="identity",this.readQueue=[],this.isReadPending=!1,this.receivedHalfClose=!1,this.streamEnded=!1,this.stream.once("error",e=>{}),this.stream.once("close",()=>{var e;d("Request to method "+(null==(e=this.handler)?void 0:e.path)+" stream closed with rstCode "+this.stream.rstCode),this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!1),this.callEventTracker.onCallEnd({code:i.Status.CANCELLED,details:"Stream closed before sending status",metadata:null})),this.notifyOnCancel()}),this.stream.on("data",e=>{this.handleDataFrame(e)}),this.stream.pause(),this.stream.on("end",()=>{this.handleEndEvent()}),"grpc.max_send_message_length"in a&&(this.maxSendMessageSize=a["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in a&&(this.maxReceiveMessageSize=a["grpc.max_receive_message_length"]),this.host=null!=(h=t[":authority"])?h:t.host,this.decoder=new l.StreamDecoder(this.maxReceiveMessageSize);let p=n.Metadata.fromHttp2Headers(t);c.isTracerEnabled(u)&&d("Request to "+this.handler.path+" received headers "+JSON.stringify(p.toJSON()));let f=p.get(O);f.length>0&&this.handleTimeoutHeader(f[0]);let m=p.get(C);m.length>0&&(this.incomingEncoding=m[0]),p.remove(O),p.remove(C),p.remove(E),p.remove(s.constants.HTTP2_HEADER_ACCEPT_ENCODING),p.remove(s.constants.HTTP2_HEADER_TE),p.remove(s.constants.HTTP2_HEADER_CONTENT_TYPE),this.metadata=p}handleTimeoutHeader(e){let t=e.toString().match(I);if(null===t){let t={code:i.Status.INTERNAL,details:`Invalid ${O} value "${e}"`,metadata:null};process.nextTick(()=>{this.sendStatus(t)});return}let r=t[1]*A[t[2]]|0,n=new Date;this.deadline=n.setMilliseconds(n.getMilliseconds()+r),this.deadlineTimer=setTimeout(()=>{let e={code:i.Status.DEADLINE_EXCEEDED,details:"Deadline exceeded",metadata:null};this.sendStatus(e)},r)}checkCancelled(){return!this.cancelled&&(this.stream.destroyed||this.stream.closed)&&(this.notifyOnCancel(),this.cancelled=!0),this.cancelled}notifyOnCancel(){this.cancelNotified||(this.cancelNotified=!0,this.cancelled=!0,process.nextTick(()=>{var e;null==(e=this.listener)||e.onCancel()}),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.resume())}maybeSendMetadata(){this.metadataSent||this.sendMetadata(new n.Metadata)}serializeMessage(e){let t=this.handler.serialize(e),r=t.byteLength,n=Buffer.allocUnsafe(r+5);return n.writeUInt8(0,0),n.writeUInt32BE(r,1),t.copy(n,5),n}decompressMessage(e,t){let r=e.subarray(5);if("identity"===t)return r;if("deflate"!==t&&"gzip"!==t)return Promise.reject({code:i.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${t}"`});{let e;return e="deflate"===t?a.createInflate():a.createGunzip(),new Promise((t,n)=>{let s=0,o=[];e.on("data",t=>{o.push(t),s+=t.byteLength,-1!==this.maxReceiveMessageSize&&s>this.maxReceiveMessageSize&&(e.destroy(),n({code:i.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}))}),e.on("end",()=>{t(Buffer.concat(o))}),e.write(r),e.end()})}}async decompressAndMaybePush(e){let t;if("COMPRESSED"!==e.type)throw Error(`Invalid queue entry type: ${e.type}`);let r=1===e.compressedMessage.readUInt8(0)?this.incomingEncoding:"identity";try{t=await this.decompressMessage(e.compressedMessage,r)}catch(e){this.sendStatus(e);return}try{e.parsedMessage=this.handler.deserialize(t)}catch(e){this.sendStatus({code:i.Status.INTERNAL,details:`Error deserializing request: ${e.message}`});return}e.type="READABLE",this.maybePushNextMessage()}maybePushNextMessage(){if(this.listener&&this.isReadPending&&this.readQueue.length>0&&"COMPRESSED"!==this.readQueue[0].type){this.isReadPending=!1;let e=this.readQueue.shift();"READABLE"===e.type?this.listener.onReceiveMessage(e.parsedMessage):this.listener.onReceiveHalfClose()}}handleDataFrame(e){var t;let r;if(!this.checkCancelled()){d("Request to "+this.handler.path+" received data frame of size "+e.length);try{r=this.decoder.write(e)}catch(e){this.sendStatus({code:i.Status.RESOURCE_EXHAUSTED,details:e.message});return}for(let e of r){this.stream.pause();let r={type:"COMPRESSED",compressedMessage:e,parsedMessage:null};this.readQueue.push(r),this.decompressAndMaybePush(r),null==(t=this.callEventTracker)||t.addMessageReceived()}}}handleEndEvent(){this.readQueue.push({type:"HALF_CLOSE",compressedMessage:null,parsedMessage:null}),this.receivedHalfClose=!0,this.maybePushNextMessage()}start(e){d("Request to "+this.handler.path+" start called"),this.checkCancelled()||(this.listener=e,e.onReceiveMetadata(this.metadata))}sendMetadata(e){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let t=e?e.toHttp2Headers():null,r=Object.assign(Object.assign(Object.assign({},R),P),t);this.stream.respond(r,N)}sendMessage(e,t){let r;if(!this.checkCancelled()){try{r=this.serializeMessage(e)}catch(e){this.sendStatus({code:i.Status.INTERNAL,details:`Error serializing response: ${(0,o.getErrorMessage)(e)}`,metadata:null});return}if(-1!==this.maxSendMessageSize&&r.length-5>this.maxSendMessageSize)return void this.sendStatus({code:i.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${r.length} vs. ${this.maxSendMessageSize})`,metadata:null});this.maybeSendMetadata(),d("Request to "+this.handler.path+" sent data frame of size "+r.length),this.stream.write(r,e=>{var r;if(e)return void this.sendStatus({code:i.Status.INTERNAL,details:`Error writing message: ${(0,o.getErrorMessage)(e)}`,metadata:null});null==(r=this.callEventTracker)||r.addMessageSent(),t()})}}sendStatus(e){var t,r;if(!this.checkCancelled())if(d("Request to method "+(null==(t=this.handler)?void 0:t.path)+" ended with status code: "+i.Status[e.code]+" details: "+e.details),this.metadataSent)this.wantTrailers?this.notifyOnCancel():(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var t;this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(e));let r=Object.assign({[T]:e.code,[x]:encodeURI(e.details)},null==(t=e.metadata)?void 0:t.toHttp2Headers());this.stream.sendTrailers(r),this.notifyOnCancel()}),this.stream.end());else{this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(e));let t=Object.assign(Object.assign({[T]:e.code,[x]:encodeURI(e.details)},R),null==(r=e.metadata)?void 0:r.toHttp2Headers());this.stream.respond(t,{endStream:!0}),this.notifyOnCancel()}}startRead(){d("Request to "+this.handler.path+" startRead called"),!this.checkCancelled()&&(this.isReadPending=!0,0===this.readQueue.length?this.receivedHalfClose||this.stream.resume():this.maybePushNextMessage())}getPeer(){var e;let t=null==(e=this.stream.session)?void 0:e.socket;return null!=t&&t.remoteAddress?t.remotePort?`${t.remoteAddress}:${t.remotePort}`:t.remoteAddress:"unknown"}getDeadline(){return this.deadline}getHost(){return this.host}}function M(e,t,r,n,i,s){let o={path:i.path,requestStream:"clientStream"===i.type||"bidi"===i.type,responseStream:"serverStream"===i.type||"bidi"===i.type,requestDeserialize:i.deserialize,responseSerialize:i.serialize},a=new $(t,r,n,i,s);return e.reduce((e,t)=>t(o,e),a)}t.BaseServerInterceptingCall=$},"./node_modules/@postman/grpc-js/build/src/server.js":function(e,t,r){"use strict";var n=this&&this.__runInitializers||function(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0},i=this&&this.__esDecorate||function(e,t,r,n,i,s){function o(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var a,l=n.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h=!1,p=r.length-1;p>=0;p--){var f={};for(var m in n)f[m]="access"===m?{}:n[m];for(var m in n.access)f.access[m]=n.access[m];f.addInitializer=function(e){if(h)throw TypeError("Cannot add initializers after decoration has completed");s.push(o(e||null))};var g=(0,r[p])("accessor"===l?{get:d.get,set:d.set}:d[c],f);if("accessor"===l){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw TypeError("Object expected");(a=o(g.get))&&(d.get=a),(a=o(g.set))&&(d.set=a),(a=o(g.init))&&i.unshift(a)}else(a=o(g))&&("field"===l?i.unshift(a):d[c]=a)}u&&Object.defineProperty(u,n.name,d),h=!0};Object.defineProperty(t,"__esModule",{value:!0}),t.Server=void 0;let s=r("http2"),o=r("util"),a=r("./node_modules/@postman/grpc-js/build/src/constants.js"),l=r("./node_modules/@postman/grpc-js/build/src/server-call.js"),c=r("./node_modules/@postman/grpc-js/build/src/server-credentials.js"),u=r("./node_modules/@postman/grpc-js/build/src/resolver.js"),d=r("./node_modules/@postman/grpc-js/build/src/logging.js"),h=r("./node_modules/@postman/grpc-js/build/src/subchannel-address.js"),p=r("./node_modules/@postman/grpc-js/build/src/uri-parser.js"),f=r("./node_modules/@postman/grpc-js/build/src/channelz.js"),m=r("./node_modules/@postman/grpc-js/build/src/server-interceptors.js"),g=0x7fffffff,y=0x7fffffff,_=2e4,v=0x7fffffff,{HTTP2_HEADER_PATH:b}=s.constants,w="server",j=Buffer.from("max_age");function S(){}function k(e){return function(t,r){return o.deprecate(t,e)}}function E(e){return{code:a.Status.UNIMPLEMENTED,details:`The server does not implement the method ${e}`}}function C(e,t){let r=E(t);switch(e){case"unary":return(e,t)=>{t(r,null)};case"clientStream":return(e,t)=>{t(r,null)};case"serverStream":return e=>{e.emit("error",r)};case"bidi":return e=>{e.emit("error",r)};default:throw Error(`Invalid handlerType ${e}`)}}async function x(e,t){let r,n;function i(t,r,n,i){if(t)return void e.sendStatus((0,l.serverErrorToStatus)(t,n));e.sendMessage(r,()=>{e.sendStatus({code:a.Status.OK,details:"OK",metadata:null!=n?n:null})})}let s=null;e.start({onReceiveMetadata(t){n=t,e.startRead()},onReceiveMessage(r){if(s)return void e.sendStatus({code:a.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${t.path}`,metadata:null});s=r,e.startRead()},onReceiveHalfClose(){if(!s)return void e.sendStatus({code:a.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${t.path}`,metadata:null});r=new l.ServerWritableStreamImpl(t.path,e,n,s);try{t.func(r,i)}catch(t){e.sendStatus({code:a.Status.UNKNOWN,details:`Server method handler threw error ${t.message}`,metadata:null})}},onCancel(){r&&(r.cancelled=!0,r.emit("cancelled","cancelled"))}})}function T(e,t){let r;function n(t,r,n,i){if(t)return void e.sendStatus((0,l.serverErrorToStatus)(t,n));e.sendMessage(r,()=>{e.sendStatus({code:a.Status.OK,details:"OK",metadata:null!=n?n:null})})}e.start({onReceiveMetadata(i){r=new l.ServerDuplexStreamImpl(t.path,e,i);try{t.func(r,n)}catch(t){e.sendStatus({code:a.Status.UNKNOWN,details:`Server method handler threw error ${t.message}`,metadata:null})}},onReceiveMessage(e){r.push(e)},onReceiveHalfClose(){r.push(null)},onCancel(){r&&(r.cancelled=!0,r.emit("cancelled","cancelled"),r.destroy())}})}function O(e,t){let r,n,i=null;e.start({onReceiveMetadata(t){n=t,e.startRead()},onReceiveMessage(r){if(i)return void e.sendStatus({code:a.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${t.path}`,metadata:null});i=r,e.startRead()},onReceiveHalfClose(){if(!i)return void e.sendStatus({code:a.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${t.path}`,metadata:null});r=new l.ServerWritableStreamImpl(t.path,e,n,i);try{t.func(r)}catch(t){e.sendStatus({code:a.Status.UNKNOWN,details:`Server method handler threw error ${t.message}`,metadata:null})}},onCancel(){r&&(r.cancelled=!0,r.emit("cancelled","cancelled"),r.destroy())}})}function I(e,t){let r;e.start({onReceiveMetadata(n){r=new l.ServerDuplexStreamImpl(t.path,e,n);try{t.func(r)}catch(t){e.sendStatus({code:a.Status.UNKNOWN,details:`Server method handler threw error ${t.message}`,metadata:null})}},onReceiveMessage(e){r.push(e)},onReceiveHalfClose(){r.push(null)},onCancel(){r&&(r.cancelled=!0,r.emit("cancelled","cancelled"),r.destroy())}})}t.Server=(()=>{var e;let t=[];return e=class{constructor(e){var r,i,s,o,a,l;this.boundPorts=(n(this,t),new Map),this.http2Servers=new Map,this.sessionIdleTimeouts=new Map,this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.options=null!=e?e:{},0===this.options["grpc.enable_channelz"]?(this.channelzEnabled=!1,this.channelzTrace=new f.ChannelzTraceStub,this.callTracker=new f.ChannelzCallTrackerStub,this.listenerChildrenTracker=new f.ChannelzChildrenTrackerStub,this.sessionChildrenTracker=new f.ChannelzChildrenTrackerStub):(this.channelzTrace=new f.ChannelzTrace,this.callTracker=new f.ChannelzCallTracker,this.listenerChildrenTracker=new f.ChannelzChildrenTracker,this.sessionChildrenTracker=new f.ChannelzChildrenTracker),this.channelzRef=(0,f.registerChannelzServer)("server",()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=null!=(r=this.options["grpc.max_connection_age_ms"])?r:g,this.maxConnectionAgeGraceMs=null!=(i=this.options["grpc.max_connection_age_grace_ms"])?i:g,this.keepaliveTimeMs=null!=(s=this.options["grpc.keepalive_time_ms"])?s:y,this.keepaliveTimeoutMs=null!=(o=this.options["grpc.keepalive_timeout_ms"])?o:_,this.sessionIdleTimeout=null!=(a=this.options["grpc.max_connection_idle_ms"])?a:v,this.commonServerOptions={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER},"grpc-node.max_session_memory"in this.options?this.commonServerOptions.maxSessionMemory=this.options["grpc-node.max_session_memory"]:this.commonServerOptions.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(this.commonServerOptions.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]}),this.interceptors=null!=(l=this.options.interceptors)?l:[],this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfo(e){var t,r,n;let i,s=this.sessions.get(e),o=e.socket,a=o.remoteAddress?(0,h.stringToSubchannelAddress)(o.remoteAddress,o.remotePort):null,l=o.localAddress?(0,h.stringToSubchannelAddress)(o.localAddress,o.localPort):null;if(e.encrypted){let e=o,r=e.getCipher(),n=e.getCertificate(),s=e.getPeerCertificate();i={cipherSuiteStandardName:null!=(t=r.standardName)?t:null,cipherSuiteOtherName:r.standardName?null:r.name,localCertificate:n&&"raw"in n?n.raw:null,remoteCertificate:s&&"raw"in s?s.raw:null}}else i=null;return{remoteAddress:a,localAddress:l,security:i,remoteName:null,streamsStarted:s.streamTracker.callsStarted,streamsSucceeded:s.streamTracker.callsSucceeded,streamsFailed:s.streamTracker.callsFailed,messagesSent:s.messagesSent,messagesReceived:s.messagesReceived,keepAlivesSent:s.keepAlivesSent,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:s.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:s.lastMessageSentTimestamp,lastMessageReceivedTimestamp:s.lastMessageReceivedTimestamp,localFlowControlWindow:null!=(r=e.state.localWindowSize)?r:null,remoteFlowControlWindow:null!=(n=e.state.remoteWindowSize)?n:null}}trace(e){d.trace(a.LogVerbosity.DEBUG,w,"("+this.channelzRef.id+") "+e)}keepaliveTrace(e){d.trace(a.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+e)}addProtoService(){throw Error("Not implemented. Use addService() instead")}addService(e,t){if(null===e||"object"!=typeof e||null===t||"object"!=typeof t)throw Error("addService() requires two objects as arguments");let r=Object.keys(e);if(0===r.length)throw Error("Cannot add an empty service to a server");r.forEach(r=>{let n,i,s=e[r];n=s.requestStream?s.responseStream?"bidi":"clientStream":s.responseStream?"serverStream":"unary";let o=t[r];if(void 0===o&&"string"==typeof s.originalName&&(o=t[s.originalName]),i=void 0!==o?o.bind(t):C(n,r),!1===this.register(s.path,i,s.responseSerialize,s.requestDeserialize,n))throw Error(`Method handler for ${s.path} already provided.`)})}removeService(e){if(null===e||"object"!=typeof e)throw Error("removeService() requires object as argument");Object.keys(e).forEach(t=>{let r=e[t];this.unregister(r.path)})}bind(e,t){throw Error("Not implemented. Use bindAsync() instead")}registerListenerToChannelz(e){return(0,f.registerChannelzSocket)((0,h.subchannelAddressToString)(e),()=>({localAddress:e,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}createHttp2Server(e){let t;if(e._isSecure()){let r=e._getSettings(),n=Object.assign(Object.assign(Object.assign({},this.commonServerOptions),r),{enableTrace:1===this.options["grpc-node.tls_enable_trace"]}),i=null!==r;(t=s.createSecureServer(n)).on("connection",e=>{i||e.destroy()}),t.on("secureConnection",e=>{e.on("error",e=>{this.trace("An incoming TLS connection closed with error: "+e.message)})});let o=e=>{e&&t.setSecureContext(e),i=null!==e};e._addWatcher(o),t.on("close",()=>{e._removeWatcher(o)})}else t=s.createServer(this.commonServerOptions);return t.setTimeout(0,S),this._setupHandlers(t,e._getInterceptors()),t}bindOneAddress(e,t){this.trace("Attempting to bind "+(0,h.subchannelAddressToString)(e));let r=this.createHttp2Server(t.credentials);return new Promise((n,i)=>{let s=t=>{this.trace("Failed to bind "+(0,h.subchannelAddressToString)(e)+" with error "+t.message),n({port:"port"in e?e.port:1,error:t.message})};r.once("error",s),r.listen(e,()=>{let e,i=r.address();e="string"==typeof i?{path:i}:{host:i.address,port:i.port};let o=this.registerListenerToChannelz(e);this.listenerChildrenTracker.refChild(o),this.http2Servers.set(r,{channelzRef:o,sessions:new Set}),t.listeningServers.add(r),this.trace("Successfully bound "+(0,h.subchannelAddressToString)(e)),n({port:"port"in e?e.port:1}),r.removeListener("error",s)})})}async bindManyPorts(e,t){if(0===e.length)return{count:0,port:0,errors:[]};if((0,h.isTcpSubchannelAddress)(e[0])&&0===e[0].port){let r=await this.bindOneAddress(e[0],t);if(r.error){let n=await this.bindManyPorts(e.slice(1),t);return Object.assign(Object.assign({},n),{errors:[r.error,...n.errors]})}{let n=e.slice(1).map(e=>(0,h.isTcpSubchannelAddress)(e)?{host:e.host,port:r.port}:e),i=[r,...await Promise.all(n.map(e=>this.bindOneAddress(e,t)))];return{count:i.filter(e=>void 0===e.error).length,port:r.port,errors:i.filter(e=>e.error).map(e=>e.error)}}}{let r=await Promise.all(e.map(e=>this.bindOneAddress(e,t)));return{count:r.filter(e=>void 0===e.error).length,port:r[0].port,errors:r.filter(e=>e.error).map(e=>e.error)}}}async bindAddressList(e,t){let r=await this.bindManyPorts(e,t);if(r.count>0)return r.count<e.length&&d.log(a.LogVerbosity.INFO,`WARNING Only ${r.count} addresses added out of total ${e.length} resolved`),r.port;{let t=`No address added out of total ${e.length} resolved`;throw d.log(a.LogVerbosity.ERROR,t),Error(`${t} errors: [${r.errors.join(",")}]`)}}resolvePort(e){return new Promise((t,r)=>{let n={onSuccessfulResolution:(i,s,o)=>{n.onSuccessfulResolution=()=>{};let a=[].concat(...i.map(e=>e.addresses));if(0===a.length)return void r(Error(`No addresses resolved for port ${e}`));t(a)},onError:e=>{r(Error(e.details))}};(0,u.createResolver)(e,n,this.options).updateResolution()})}async bindPort(e,t){let r=await this.resolvePort(e);if(t.cancelled)throw this.completeUnbind(t),Error("bindAsync operation cancelled by unbind call");let n=await this.bindAddressList(r,t);if(t.cancelled)throw this.completeUnbind(t),Error("bindAsync operation cancelled by unbind call");return n}normalizePort(e){let t=(0,p.parseUri)(e);if(null===t)throw Error(`Could not parse port "${e}"`);let r=(0,u.mapUriDefaultScheme)(t);if(null===r)throw Error(`Could not get a default scheme for port "${e}"`);return r}bindAsync(e,t,r){if(this.shutdown)throw Error("bindAsync called after shutdown");if("string"!=typeof e)throw TypeError("port must be a string");if(null===t||!(t instanceof c.ServerCredentials))throw TypeError("creds must be a ServerCredentials object");if("function"!=typeof r)throw TypeError("callback must be a function");this.trace("bindAsync port="+e);let n=this.normalizePort(e),i=(e,t)=>{process.nextTick(()=>r(e,t))},s=this.boundPorts.get((0,p.uriToString)(n));if(s)return t._equals(s.credentials)?(s.cancelled=!1,void(s.completionPromise?s.completionPromise.then(e=>r(null,e),e=>r(e,0)):i(null,s.portNumber))):void i(Error(`${e} already bound with incompatible credentials`),0);s={mapKey:(0,p.uriToString)(n),originalUri:n,completionPromise:null,cancelled:!1,portNumber:0,credentials:t,listeningServers:new Set};let o=(0,p.splitHostPort)(n.path),a=this.bindPort(n,s);s.completionPromise=a,(null==o?void 0:o.port)===0?a.then(e=>{let t={scheme:n.scheme,authority:n.authority,path:(0,p.combineHostPort)({host:o.host,port:e})};s.mapKey=(0,p.uriToString)(t),s.completionPromise=null,s.portNumber=e,this.boundPorts.set(s.mapKey,s),r(null,e)},e=>{r(e,0)}):(this.boundPorts.set(s.mapKey,s),a.then(e=>{s.completionPromise=null,s.portNumber=e,r(null,e)},e=>{r(e,0)}))}registerInjectorToChannelz(){return(0,f.registerChannelzSocket)("injector",()=>({localAddress:null,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}createConnectionInjector(e){if(null===e||!(e instanceof c.ServerCredentials))throw TypeError("creds must be a ServerCredentials object");let t=this.createHttp2Server(e),r=this.registerInjectorToChannelz();this.channelzEnabled&&this.listenerChildrenTracker.refChild(r);let n=new Set;return this.http2Servers.set(t,{channelzRef:r,sessions:n}),{injectConnection:e=>{t.emit("connection",e)},drain:e=>{var t,r;for(let e of n)this.closeSession(e);null==(r=(t=setTimeout(()=>{for(let e of n)e.destroy(s.constants.NGHTTP2_CANCEL)},e)).unref)||r.call(t)},destroy:()=>{for(let e of(this.closeServer(t),n))this.closeSession(e)}}}closeServer(e,t){this.trace("Closing server with address "+JSON.stringify(e.address()));let r=this.http2Servers.get(e);e.close(()=>{r&&(this.listenerChildrenTracker.unrefChild(r.channelzRef),(0,f.unregisterChannelzRef)(r.channelzRef)),this.http2Servers.delete(e),null==t||t()})}closeSession(e,t){var r;this.trace("Closing session initiated by "+(null==(r=e.socket)?void 0:r.remoteAddress));let n=this.sessions.get(e),i=()=>{n&&(this.sessionChildrenTracker.unrefChild(n.ref),(0,f.unregisterChannelzRef)(n.ref)),null==t||t()};e.closed?queueMicrotask(i):e.close(i)}completeUnbind(e){for(let t of e.listeningServers){let r=this.http2Servers.get(t);if(this.closeServer(t,()=>{e.listeningServers.delete(t)}),r)for(let e of r.sessions)this.closeSession(e)}this.boundPorts.delete(e.mapKey)}unbind(e){this.trace("unbind port="+e);let t=this.normalizePort(e),r=(0,p.splitHostPort)(t.path);if((null==r?void 0:r.port)===0)throw Error("Cannot unbind port 0");let n=this.boundPorts.get((0,p.uriToString)(t));n&&(this.trace("unbinding "+n.mapKey+" originally bound as "+(0,p.uriToString)(n.originalUri)),n.completionPromise?n.cancelled=!0:this.completeUnbind(n))}drain(e,t){var r,n;this.trace("drain port="+e+" graceTimeMs="+t);let i=this.normalizePort(e),o=(0,p.splitHostPort)(i.path);if((null==o?void 0:o.port)===0)throw Error("Cannot drain port 0");let a=this.boundPorts.get((0,p.uriToString)(i));if(!a)return;let l=new Set;for(let e of a.listeningServers){let t=this.http2Servers.get(e);if(t)for(let e of t.sessions)l.add(e),this.closeSession(e,()=>{l.delete(e)})}null==(n=(r=setTimeout(()=>{for(let e of l)e.destroy(s.constants.NGHTTP2_CANCEL)},t)).unref)||n.call(r)}forceShutdown(){for(let e of this.boundPorts.values())e.cancelled=!0;for(let e of(this.boundPorts.clear(),this.http2Servers.keys()))this.closeServer(e);this.sessions.forEach((e,t)=>{this.closeSession(t),t.destroy(s.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),(0,f.unregisterChannelzRef)(this.channelzRef),this.shutdown=!0}register(e,t,r,n,i){return!this.handlers.has(e)&&(this.handlers.set(e,{func:t,serialize:r,deserialize:n,type:i,path:e}),!0)}unregister(e){return this.handlers.delete(e)}start(){if(0===this.http2Servers.size||[...this.http2Servers.keys()].every(e=>!e.listening))throw Error("server must be bound in order to start");if(!0===this.started)throw Error("server is already started");this.started=!0}tryShutdown(e){var t;let r=t=>{(0,f.unregisterChannelzRef)(this.channelzRef),e(t)},n=0;function i(){0==--n&&r()}for(let[e,r]of(this.shutdown=!0,this.http2Servers.entries())){n++;let s=r.channelzRef.name;for(let o of(this.trace("Waiting for server "+s+" to close"),this.closeServer(e,()=>{this.trace("Server "+s+" finished closing"),i()}),r.sessions.keys())){n++;let e=null==(t=o.socket)?void 0:t.remoteAddress;this.trace("Waiting for session "+e+" to close"),this.closeSession(o,()=>{this.trace("Session "+e+" finished closing"),i()})}}0===n&&r()}addHttp2Port(){throw Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(e,t){let r=t[s.constants.HTTP2_HEADER_CONTENT_TYPE];return"string"==typeof r&&!!r.startsWith("application/grpc")||(e.respond({[s.constants.HTTP2_HEADER_STATUS]:s.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1)}_retrieveHandler(e){this.trace("Received call to method "+e+" at address "+this.serverAddressString);let t=this.handlers.get(e);return void 0===t?(this.trace("No handler registered for method "+e+". Sending UNIMPLEMENTED status."),null):t}_respondWithError(e,t,r=null){var n,i;let o=Object.assign({"grpc-status":null!=(n=e.code)?n:a.Status.INTERNAL,"grpc-message":e.details,[s.constants.HTTP2_HEADER_STATUS]:s.constants.HTTP_STATUS_OK,[s.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},null==(i=e.metadata)?void 0:i.toHttp2Headers());t.respond(o,{endStream:!0}),this.callTracker.addCallFailed(),null==r||r.streamTracker.addCallFailed()}_channelzHandler(e,t,r){this.onStreamOpened(t);let n=this.sessions.get(t.session);if(this.callTracker.addCallStarted(),null==n||n.streamTracker.addCallStarted(),!this._verifyContentType(t,r)){this.callTracker.addCallFailed(),null==n||n.streamTracker.addCallFailed();return}let i=r[b],s=this._retrieveHandler(i);if(!s)return void this._respondWithError(E(i),t,n);let o={addMessageSent:()=>{n&&(n.messagesSent+=1,n.lastMessageSentTimestamp=new Date)},addMessageReceived:()=>{n&&(n.messagesReceived+=1,n.lastMessageReceivedTimestamp=new Date)},onCallEnd:e=>{e.code===a.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()},onStreamEnd:e=>{n&&(e?n.streamTracker.addCallSucceeded():n.streamTracker.addCallFailed())}},l=(0,m.getServerInterceptingCall)([...e,...this.interceptors],t,r,o,s,this.options);this._runHandlerForCall(l,s)||(this.callTracker.addCallFailed(),null==n||n.streamTracker.addCallFailed(),l.sendStatus({code:a.Status.INTERNAL,details:`Unknown handler type: ${s.type}`}))}_streamHandler(e,t,r){if(this.onStreamOpened(t),!0!==this._verifyContentType(t,r))return;let n=r[b],i=this._retrieveHandler(n);if(!i)return void this._respondWithError(E(n),t,null);let s=(0,m.getServerInterceptingCall)([...e,...this.interceptors],t,r,null,i,this.options);this._runHandlerForCall(s,i)||s.sendStatus({code:a.Status.INTERNAL,details:`Unknown handler type: ${i.type}`})}_runHandlerForCall(e,t){let{type:r}=t;if("unary"===r)x(e,t);else if("clientStream"===r)T(e,t);else if("serverStream"===r)O(e,t);else{if("bidi"!==r)return!1;I(e,t)}return!0}_setupHandlers(e,t){if(null===e)return;let r=e.address(),n="null";r&&(n="string"==typeof r?r:r.address+":"+r.port),this.serverAddressString=n;let i=this.channelzEnabled?this._channelzHandler:this._streamHandler,s=this.channelzEnabled?this._channelzSessionHandler(e):this._sessionHandler(e);e.on("stream",i.bind(this,t)),e.on("session",s)}_sessionHandler(e){return t=>{var r,n;let i;null==(r=this.http2Servers.get(e))||r.sessions.add(t);let o=null,a=null,l=null,c=!1,u=this.enableIdleTimeout(t);if(this.maxConnectionAgeMs!==g){let e=this.maxConnectionAgeMs/10,r=Math.random()*e*2-e;null==(n=(o=setTimeout(()=>{var e,r;c=!0,this.trace("Connection dropped by max connection age: "+(null==(e=t.socket)?void 0:e.remoteAddress));try{t.goaway(s.constants.NGHTTP2_NO_ERROR,0x7fffffff,j)}catch(e){t.destroy();return}t.close(),this.maxConnectionAgeGraceMs!==g&&(null==(r=(a=setTimeout(()=>{t.destroy()},this.maxConnectionAgeGraceMs)).unref)||r.call(a))},this.maxConnectionAgeMs+r)).unref)||n.call(o)}let d=()=>{l&&(clearTimeout(l),l=null)},h=()=>!t.destroyed&&this.keepaliveTimeMs<y&&this.keepaliveTimeMs>0,p=()=>{var e;h()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),null==(e=(l=setTimeout(()=>{d(),i()},this.keepaliveTimeMs)).unref)||e.call(l))};i=()=>{var e;if(!h())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let r="";try{t.ping((e,r,n)=>{d(),e?(this.keepaliveTrace("Ping failed with error: "+e.message),c=!0,t.close()):(this.keepaliveTrace("Received ping response"),p())})||(r="Ping returned false")}catch(e){r=(e instanceof Error?e.message:"")||"Unknown error"}if(r){this.keepaliveTrace("Ping send failed: "+r),this.trace("Connection dropped due to ping send error: "+r),c=!0,t.close();return}null==(e=(l=setTimeout(()=>{d(),this.keepaliveTrace("Ping timeout passed without response"),this.trace("Connection dropped by keepalive timeout"),c=!0,t.close()},this.keepaliveTimeoutMs)).unref)||e.call(l)},p(),t.on("close",()=>{var r,n;c||this.trace(`Connection dropped by client ${null==(r=t.socket)?void 0:r.remoteAddress}`),o&&clearTimeout(o),a&&clearTimeout(a),d(),null!==u&&(clearTimeout(u.timeout),this.sessionIdleTimeouts.delete(t)),null==(n=this.http2Servers.get(e))||n.sessions.delete(t)})}}_channelzSessionHandler(e){return t=>{var r,n,i,o;let a,l=(0,f.registerChannelzSocket)(null!=(n=null==(r=t.socket)?void 0:r.remoteAddress)?n:"unknown",this.getChannelzSessionInfo.bind(this,t),this.channelzEnabled),c={ref:l,streamTracker:new f.ChannelzCallTracker,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};null==(i=this.http2Servers.get(e))||i.sessions.add(t),this.sessions.set(t,c);let u=`${t.socket.remoteAddress}:${t.socket.remotePort}`;this.channelzTrace.addTrace("CT_INFO","Connection established by client "+u),this.trace("Connection established by client "+u),this.sessionChildrenTracker.refChild(l);let d=null,h=null,p=null,m=!1,_=this.enableIdleTimeout(t);if(this.maxConnectionAgeMs!==g){let e=this.maxConnectionAgeMs/10,r=Math.random()*e*2-e;null==(o=(d=setTimeout(()=>{var e;m=!0,this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+u);try{t.goaway(s.constants.NGHTTP2_NO_ERROR,0x7fffffff,j)}catch(e){t.destroy();return}t.close(),this.maxConnectionAgeGraceMs!==g&&(null==(e=(h=setTimeout(()=>{t.destroy()},this.maxConnectionAgeGraceMs)).unref)||e.call(h))},this.maxConnectionAgeMs+r)).unref)||o.call(d)}let v=()=>{p&&(clearTimeout(p),p=null)},b=()=>!t.destroyed&&this.keepaliveTimeMs<y&&this.keepaliveTimeMs>0,w=()=>{var e;b()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),null==(e=(p=setTimeout(()=>{v(),a()},this.keepaliveTimeMs)).unref)||e.call(p))};a=()=>{var e;if(!b())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let r="";try{t.ping((e,r,n)=>{v(),e?(this.keepaliveTrace("Ping failed with error: "+e.message),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to error of a ping frame "+e.message+" return in "+r),m=!0,t.close()):(this.keepaliveTrace("Received ping response"),w())})||(r="Ping returned false")}catch(e){r=(e instanceof Error?e.message:"")||"Unknown error"}if(r){this.keepaliveTrace("Ping send failed: "+r),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to ping send error: "+r),m=!0,t.close();return}c.keepAlivesSent+=1,null==(e=(p=setTimeout(()=>{v(),this.keepaliveTrace("Ping timeout passed without response"),this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+u),m=!0,t.close()},this.keepaliveTimeoutMs)).unref)||e.call(p)},w(),t.on("close",()=>{var r;m||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+u),this.sessionChildrenTracker.unrefChild(l),(0,f.unregisterChannelzRef)(l),d&&clearTimeout(d),h&&clearTimeout(h),v(),null!==_&&(clearTimeout(_.timeout),this.sessionIdleTimeouts.delete(t)),null==(r=this.http2Servers.get(e))||r.sessions.delete(t),this.sessions.delete(t)})}}enableIdleTimeout(e){var t,r;if(this.sessionIdleTimeout>=v)return null;let n={activeStreams:0,lastIdle:Date.now(),onClose:this.onStreamClose.bind(this,e),timeout:setTimeout(this.onIdleTimeout,this.sessionIdleTimeout,this,e)};null==(r=(t=n.timeout).unref)||r.call(t),this.sessionIdleTimeouts.set(e,n);let{socket:i}=e;return this.trace("Enable idle timeout for "+i.remoteAddress+":"+i.remotePort),n}onIdleTimeout(e,t){let{socket:r}=t,n=e.sessionIdleTimeouts.get(t);void 0!==n&&0===n.activeStreams&&(Date.now()-n.lastIdle>=e.sessionIdleTimeout?(e.trace("Session idle timeout triggered for "+(null==r?void 0:r.remoteAddress)+":"+(null==r?void 0:r.remotePort)+" last idle at "+n.lastIdle),e.closeSession(t)):n.timeout.refresh())}onStreamOpened(e){let t=e.session,r=this.sessionIdleTimeouts.get(t);r&&(r.activeStreams+=1,e.once("close",r.onClose))}onStreamClose(e){var t,r;let n=this.sessionIdleTimeouts.get(e);n&&(n.activeStreams-=1,0===n.activeStreams&&(n.lastIdle=Date.now(),n.timeout.refresh(),this.trace("Session onStreamClose"+(null==(t=e.socket)?void 0:t.remoteAddress)+":"+(null==(r=e.socket)?void 0:r.remotePort)+" at "+n.lastIdle)))}},(()=>{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;i(e,null,[k("Calling start() is no longer necessary. It can be safely omitted.")],{kind:"method",name:"start",static:!1,private:!1,access:{has:e=>"start"in e,get:e=>e.start},metadata:r},null,t),r&&Object.defineProperty(e,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})})(),e})()},"./node_modules/@postman/grpc-js/build/src/service-config.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateRetryThrottling=d,t.validateServiceConfig=p,t.extractAndSelectServiceConfig=g;let n=r("os"),i=r("./node_modules/@postman/grpc-js/build/src/constants.js"),s=/^\d+(\.\d{1,9})?s$/,o="node";function a(e){if("service"in e&&""!==e.service){if("string"!=typeof e.service)throw Error(`Invalid method config name: invalid service: expected type string, got ${typeof e.service}`);if(!("method"in e)||""===e.method)return{service:e.service};if("string"!=typeof e.method)throw Error(`Invalid method config name: invalid method: expected type string, got ${typeof e.service}`);return{service:e.service,method:e.method}}if("method"in e&&void 0!==e.method)throw Error("Invalid method config name: method set with empty or unset service");return{}}function l(e){if(!("maxAttempts"in e)||!Number.isInteger(e.maxAttempts)||e.maxAttempts<2)throw Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in e)||"string"!=typeof e.initialBackoff||!s.test(e.initialBackoff))throw Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("maxBackoff"in e)||"string"!=typeof e.maxBackoff||!s.test(e.maxBackoff))throw Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("backoffMultiplier"in e)||"number"!=typeof e.backoffMultiplier||e.backoffMultiplier<=0)throw Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in e&&Array.isArray(e.retryableStatusCodes)))throw Error("Invalid method config retry policy: retryableStatusCodes is required");if(0===e.retryableStatusCodes.length)throw Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let t of e.retryableStatusCodes)if("number"==typeof t){if(!Object.values(i.Status).includes(t))throw Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if("string"==typeof t){if(!Object.values(i.Status).includes(t.toUpperCase()))throw Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:e.maxAttempts,initialBackoff:e.initialBackoff,maxBackoff:e.maxBackoff,backoffMultiplier:e.backoffMultiplier,retryableStatusCodes:e.retryableStatusCodes}}function c(e){if(!("maxAttempts"in e)||!Number.isInteger(e.maxAttempts)||e.maxAttempts<2)throw Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in e&&("string"!=typeof e.hedgingDelay||!s.test(e.hedgingDelay)))throw Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in e&&Array.isArray(e.nonFatalStatusCodes))for(let t of e.nonFatalStatusCodes)if("number"==typeof t){if(!Object.values(i.Status).includes(t))throw Error("Invalid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if("string"==typeof t){if(!Object.values(i.Status).includes(t.toUpperCase()))throw Error("Invalid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw Error("Invalid method config hedging policy: nonFatalStatusCodes value must be a string or number");let t={maxAttempts:e.maxAttempts};return e.hedgingDelay&&(t.hedgingDelay=e.hedgingDelay),e.nonFatalStatusCodes&&(t.nonFatalStatusCodes=e.nonFatalStatusCodes),t}function u(e){var t;let r={name:[]};if(!("name"in e)||!Array.isArray(e.name))throw Error("Invalid method config: invalid name array");for(let t of e.name)r.name.push(a(t));if("waitForReady"in e){if("boolean"!=typeof e.waitForReady)throw Error("Invalid method config: invalid waitForReady");r.waitForReady=e.waitForReady}if("timeout"in e)if("object"==typeof e.timeout){if(!("seconds"in e.timeout)||"number"!=typeof e.timeout.seconds)throw Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in e.timeout)||"number"!=typeof e.timeout.nanos)throw Error("Invalid method config: invalid timeout.nanos");r.timeout=e.timeout}else if("string"==typeof e.timeout&&s.test(e.timeout)){let n=e.timeout.substring(0,e.timeout.length-1).split(".");r.timeout={seconds:0|n[0],nanos:(null!=(t=n[1])?t:0)|0}}else throw Error("Invalid method config: invalid timeout");if("maxRequestBytes"in e){if("number"!=typeof e.maxRequestBytes)throw Error("Invalid method config: invalid maxRequestBytes");r.maxRequestBytes=e.maxRequestBytes}if("maxResponseBytes"in e){if("number"!=typeof e.maxResponseBytes)throw Error("Invalid method config: invalid maxRequestBytes");r.maxResponseBytes=e.maxResponseBytes}if("retryPolicy"in e)if("hedgingPolicy"in e)throw Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");else r.retryPolicy=l(e.retryPolicy);else"hedgingPolicy"in e&&(r.hedgingPolicy=c(e.hedgingPolicy));return r}function d(e){if(!("maxTokens"in e)||"number"!=typeof e.maxTokens||e.maxTokens<=0||e.maxTokens>1e3)throw Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in e)||"number"!=typeof e.tokenRatio||e.tokenRatio<=0)throw Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+e.maxTokens.toFixed(3),tokenRatio:+e.tokenRatio.toFixed(3)}}function h(e){if("object"!=typeof e||null===e)throw Error(`Invalid loadBalancingConfig: unexpected type ${typeof e}`);let t=Object.keys(e);if(t.length>1)throw Error(`Invalid loadBalancingConfig: unexpected multiple keys ${t}`);if(0===t.length)throw Error("Invalid loadBalancingConfig: load balancing policy name required");return{[t[0]]:e[t[0]]}}function p(e){let t={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in e)if("string"==typeof e.loadBalancingPolicy)t.loadBalancingPolicy=e.loadBalancingPolicy;else throw Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in e)if(Array.isArray(e.loadBalancingConfig))for(let r of e.loadBalancingConfig)t.loadBalancingConfig.push(h(r));else throw Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in e&&Array.isArray(e.methodConfig))for(let r of e.methodConfig)t.methodConfig.push(u(r));"retryThrottling"in e&&(t.retryThrottling=d(e.retryThrottling));let r=[];for(let e of t.methodConfig)for(let t of e.name){for(let e of r)if(t.service===e.service&&t.method===e.method)throw Error(`Invalid service config: duplicate name ${t.service}/${t.method}`);r.push(t)}return t}function f(e){if(!("serviceConfig"in e))throw Error("Invalid service config choice: missing service config");let t={serviceConfig:p(e.serviceConfig)};if("clientLanguage"in e)if(Array.isArray(e.clientLanguage))for(let r of(t.clientLanguage=[],e.clientLanguage))if("string"==typeof r)t.clientLanguage.push(r);else throw Error("Invalid service config choice: invalid clientLanguage");else throw Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in e)if(Array.isArray(e.clientHostname))for(let r of(t.clientHostname=[],e.clientHostname))if("string"==typeof r)t.clientHostname.push(r);else throw Error("Invalid service config choice: invalid clientHostname");else throw Error("Invalid service config choice: invalid clientHostname");if("percentage"in e)if("number"==typeof e.percentage&&0<=e.percentage&&e.percentage<=100)t.percentage=e.percentage;else throw Error("Invalid service config choice: invalid percentage");let r=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let t in e)if(!r.includes(t))throw Error(`Invalid service config choice: unexpected field ${t}`);return t}function m(e,t){if(!Array.isArray(e))throw Error("Invalid service config list");for(let r of e){let e=f(r);if("number"!=typeof e.percentage||!(t>e.percentage)){if(Array.isArray(e.clientHostname)){let t=!1;for(let r of e.clientHostname)r===n.hostname()&&(t=!0);if(!t)continue}if(Array.isArray(e.clientLanguage)){let t=!1;for(let r of e.clientLanguage)r===o&&(t=!0);if(!t)continue}return e.serviceConfig}}throw Error("No matching service config found")}function g(e,t){for(let r of e)if(r.length>0&&r[0].startsWith("grpc_config="))return m(JSON.parse(r.join("").substring(12)),t);return null}},"./node_modules/@postman/grpc-js/build/src/status-builder.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBuilder=void 0;class r{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){let e={};return null!==this.code&&(e.code=this.code),null!==this.details&&(e.details=this.details),null!==this.metadata&&(e.metadata=this.metadata),e}}t.StatusBuilder=r},"./node_modules/@postman/grpc-js/build/src/stream-decoder.js":function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.StreamDecoder=void 0,function(e){e[e.NO_DATA=0]="NO_DATA",e[e.READING_SIZE=1]="READING_SIZE",e[e.READING_MESSAGE=2]="READING_MESSAGE"}(r||(r={}));class n{constructor(e){this.maxReadMessageLength=e,this.readState=r.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let t,n=0,i=[];for(;n<e.length;)switch(this.readState){case r.NO_DATA:this.readCompressFlag=e.slice(n,n+1),n+=1,this.readState=r.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case r.READING_SIZE:if(t=Math.min(e.length-n,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,n,n+t),this.readSizeRemaining-=t,n+=t,0===this.readSizeRemaining){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),-1!==this.maxReadMessageLength&&this.readMessageSize>this.maxReadMessageLength)throw Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=r.READING_MESSAGE;else{let e=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=r.NO_DATA,i.push(e)}}break;case r.READING_MESSAGE:if(t=Math.min(e.length-n,this.readMessageRemaining),this.readPartialMessage.push(e.slice(n,n+t)),this.readMessageRemaining-=t,n+=t,0===this.readMessageRemaining){let e=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),t=Buffer.concat(e,this.readMessageSize+5);this.readState=r.NO_DATA,i.push(t)}break;default:throw Error("Unexpected read state")}return i}}t.StreamDecoder=n},"./node_modules/@postman/grpc-js/build/src/subchannel-address.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EndpointMap=void 0,t.isTcpSubchannelAddress=i,t.subchannelAddressEqual=s,t.subchannelAddressToString=o,t.stringToSubchannelAddress=l,t.endpointEqual=c,t.endpointToString=u,t.endpointHasAddress=d;let n=r("net");function i(e){return"port"in e}function s(e,t){return!e&&!t||!!e&&!!t&&(i(e)?i(t)&&e.host===t.host&&e.port===t.port:!i(t)&&e.path===t.path)}function o(e){return i(e)?(0,n.isIPv6)(e.host)?"["+e.host+"]:"+e.port:e.host+":"+e.port:e.path}let a=443;function l(e,t){return(0,n.isIP)(e)?{host:e,port:null!=t?t:a}:{path:e}}function c(e,t){if(e.addresses.length!==t.addresses.length)return!1;for(let r=0;r<e.addresses.length;r++)if(!s(e.addresses[r],t.addresses[r]))return!1;return!0}function u(e){return"["+e.addresses.map(o).join(", ")+"]"}function d(e,t){for(let r of e.addresses)if(s(r,t))return!0;return!1}function h(e,t){if(e.addresses.length!==t.addresses.length)return!1;for(let r of e.addresses){let e=!1;for(let n of t.addresses)if(s(r,n)){e=!0;break}if(!e)return!1}return!0}class p{constructor(){this.map=new Set}get size(){return this.map.size}getForSubchannelAddress(e){for(let t of this.map)if(d(t.key,e))return t.value}deleteMissing(e){let t=[];for(let r of this.map){let n=!1;for(let t of e)h(t,r.key)&&(n=!0);n||(t.push(r.value),this.map.delete(r))}return t}get(e){for(let t of this.map)if(h(e,t.key))return t.value}set(e,t){for(let r of this.map)if(h(e,r.key)){r.value=t;return}this.map.add({key:e,value:t})}delete(e){for(let t of this.map)if(h(e,t.key))return void this.map.delete(t)}has(e){for(let t of this.map)if(h(e,t.key))return!0;return!1}clear(){this.map.clear()}*keys(){for(let e of this.map)yield e.key}*values(){for(let e of this.map)yield e.value}*entries(){for(let e of this.map)yield[e.key,e.value]}}t.EndpointMap=p},"./node_modules/@postman/grpc-js/build/src/subchannel-call.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2SubchannelCall=void 0;let n=r("http2"),i=r("os"),s=r("./node_modules/@postman/grpc-js/build/src/constants.js"),o=r("./node_modules/@postman/grpc-js/build/src/metadata.js"),a=r("./node_modules/@postman/grpc-js/build/src/stream-decoder.js"),l=r("./node_modules/@postman/grpc-js/build/src/logging.js"),c=r("./node_modules/@postman/grpc-js/build/src/constants.js"),u="subchannel_call";function d(e){for(let[t,r]of Object.entries(i.constants.errno))if(r===e)return t;return"Unknown system error "+e}function h(e){let t,r=`Received HTTP status code ${e}`;switch(e){case 400:t=s.Status.INTERNAL;break;case 401:t=s.Status.UNAUTHENTICATED;break;case 403:t=s.Status.PERMISSION_DENIED;break;case 404:t=s.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:t=s.Status.UNAVAILABLE;break;default:t=s.Status.UNKNOWN}return{code:t,details:r,metadata:new o.Metadata}}class p{constructor(e,t,r,i,l){var c;this.http2Stream=e,this.callEventTracker=t,this.listener=r,this.transport=i,this.callId=l,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.finalStatus=null,this.internalError=null,this.serverEndedCall=!1;let u=null!=(c=i.getOptions()["grpc.max_receive_message_length"])?c:s.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new a.StreamDecoder(u),e.on("response",(e,t)=>{let r="";for(let t of Object.keys(e))r+="		"+t+": "+e[t]+"\n";if(this.trace("Received server headers:\n"+r),this.httpStatusCode=e[":status"],t&n.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(e);else{let t;try{t=o.Metadata.fromHttp2Headers(e)}catch(e){this.endCall({code:s.Status.UNKNOWN,details:e.message,metadata:new o.Metadata});return}this.listener.onReceiveMetadata(t)}}),e.on("trailers",e=>{this.handleTrailers(e)}),e.on("data",e=>{let t;if(!this.statusOutput){this.trace("receive HTTP/2 data frame of length "+e.length);try{t=this.decoder.write(e)}catch(e){this.cancelWithStatus(s.Status.RESOURCE_EXHAUSTED,e.message);return}for(let e of t)this.trace("parsed message of length "+e.length),this.callEventTracker.addMessageReceived(),this.tryPush(e)}}),e.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),e.on("close",()=>{this.serverEndedCall=!0,process.nextTick(()=>{var t;let r;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),(null==(t=this.finalStatus)?void 0:t.code)===s.Status.OK)return;let i="";switch(e.rstCode){case n.constants.NGHTTP2_NO_ERROR:if(null!==this.finalStatus)return;if(this.httpStatusCode&&200!==this.httpStatusCode){let e=h(this.httpStatusCode);r=e.code,i=e.details}else r=s.Status.INTERNAL,i=`Received RST_STREAM with code ${e.rstCode} (Call ended without gRPC status)`;break;case n.constants.NGHTTP2_REFUSED_STREAM:r=s.Status.UNAVAILABLE,i="Stream refused by server";break;case n.constants.NGHTTP2_CANCEL:r=s.Status.CANCELLED,i="Call cancelled";break;case n.constants.NGHTTP2_ENHANCE_YOUR_CALM:r=s.Status.RESOURCE_EXHAUSTED,i="Bandwidth exhausted or memory limit exceeded";break;case n.constants.NGHTTP2_INADEQUATE_SECURITY:r=s.Status.PERMISSION_DENIED,i="Protocol not secure enough";break;case n.constants.NGHTTP2_INTERNAL_ERROR:r=s.Status.INTERNAL,null===this.internalError?i=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:"ECONNRESET"===this.internalError.code||"ETIMEDOUT"===this.internalError.code?(r=s.Status.UNAVAILABLE,i=this.internalError.message):i=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:r=s.Status.INTERNAL,i=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:r,details:i,metadata:new o.Metadata,rstCode:e.rstCode})})}),e.on("error",e=>{"ERR_HTTP2_STREAM_ERROR"!==e.code&&(this.trace("Node error event: message="+e.message+" code="+e.code+" errno="+d(e.errno)+" syscall="+e.syscall),this.internalError=e),this.callEventTracker.onStreamEnd(!1)})}getDeadlineInfo(){return[`remote_addr=${this.getPeer()}`]}onDisconnect(){this.endCall({code:s.Status.UNAVAILABLE,details:"Connection dropped",metadata:new o.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(e){l.trace(c.LogVerbosity.DEBUG,u,"["+this.callId+"] "+e)}endCall(e){(null===this.finalStatus||this.finalStatus.code===s.Status.OK)&&(this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){null===this.finalStatus||this.finalStatus.code===s.Status.OK&&(!this.readsClosed||0!==this.unpushedReadMessages.length||this.isReadFilterPending||this.isPushPending)||this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,this.statusOutput||(this.listener.onReceiveMessage(e),this.maybeOutputStatus())})}tryPush(e){this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e))}handleTrailers(e){let t,r;this.serverEndedCall=!0,this.callEventTracker.onStreamEnd(!0);let n="";for(let t of Object.keys(e))n+="		"+t+": "+e[t]+"\n";this.trace("Received server trailers:\n"+n);try{t=o.Metadata.fromHttp2Headers(e)}catch(e){t=new o.Metadata}let i=t.getMap();if("string"==typeof i["grpc-status"]){let e=Number(i["grpc-status"]);this.trace("received status code "+e+" from server"),t.remove("grpc-status");let n="";if("string"==typeof i["grpc-message"]){try{n=decodeURI(i["grpc-message"])}catch(e){n=i["grpc-message"]}t.remove("grpc-message"),this.trace('received status details string "'+n+'" from server')}r={code:e,details:n,metadata:t}}else this.httpStatusCode?(r=h(this.httpStatusCode)).metadata=t:r={code:s.Status.UNKNOWN,details:"No status information received",metadata:t};this.endCall(r)}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed)if(this.serverEndedCall)this.http2Stream.end();else{let t;t=(null==(e=this.finalStatus)?void 0:e.code)===s.Status.OK?n.constants.NGHTTP2_NO_ERROR:n.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+t),this.http2Stream.close(t)}}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.endCall({code:e,details:t,metadata:new o.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(null!==this.finalStatus&&this.finalStatus.code!==s.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let e=this.unpushedReadMessages.shift();this.push(e);return}this.http2Stream.resume()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length);let r=t=>{process.nextTick(()=>{var r;let n=s.Status.UNAVAILABLE;(null==t?void 0:t.code)==="ERR_STREAM_WRITE_AFTER_END"&&(n=s.Status.INTERNAL),t&&this.cancelWithStatus(n,`Write error: ${t.message}`),null==(r=e.callback)||r.call(e)})};this.trace("sending data chunk of length "+t.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(t,r)}catch(e){this.endCall({code:s.Status.UNAVAILABLE,details:`Write failed with error ${e.message}`,metadata:new o.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}}t.Http2SubchannelCall=p},"./node_modules/@postman/grpc-js/build/src/subchannel-interface.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSubchannelWrapper=void 0;class r{constructor(e){this.child=e,this.healthy=!0,this.healthListeners=new Set,e.addHealthStateWatcher(e=>{this.healthy&&this.updateHealthListeners()})}updateHealthListeners(){for(let e of this.healthListeners)e(this.isHealthy())}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e)}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}isHealthy(){return this.healthy&&this.child.isHealthy()}addHealthStateWatcher(e){this.healthListeners.add(e)}removeHealthStateWatcher(e){this.healthListeners.delete(e)}setHealthy(e){e!==this.healthy&&(this.healthy=e,this.child.isHealthy()&&this.updateHealthListeners())}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}}t.BaseSubchannelWrapper=r},"./node_modules/@postman/grpc-js/build/src/subchannel-pool.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubchannelPool=void 0,t.getSubchannelPool=d;let n=r("./node_modules/@postman/grpc-js/build/src/channel-options.js"),i=r("./node_modules/@postman/grpc-js/build/src/subchannel.js"),s=r("./node_modules/@postman/grpc-js/build/src/subchannel-address.js"),o=r("./node_modules/@postman/grpc-js/build/src/uri-parser.js"),a=r("./node_modules/@postman/grpc-js/build/src/transport.js"),l=1e4;class c{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(let t in this.pool){let r=this.pool[t].filter(e=>!e.subchannel.unrefIfOneRef());r.length>0&&(e=!1),this.pool[t]=r}e&&null!==this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,t;null===this.cleanupTimer&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},l),null==(t=(e=this.cleanupTimer).unref)||t.call(e))}getOrCreateSubchannel(e,t,r,l){this.ensureCleanupTask();let c=(0,o.uriToString)(e);if(c in this.pool){for(let e of this.pool[c])if((0,s.subchannelAddressEqual)(t,e.subchannelAddress)&&(0,n.channelOptionsEqual)(r,e.channelArguments)&&l._equals(e.channelCredentials))return e.subchannel}let u=new i.Subchannel(e,t,r,l,new a.Http2SubchannelConnector(e));return c in this.pool||(this.pool[c]=[]),this.pool[c].push({subchannelAddress:t,channelArguments:r,channelCredentials:l,subchannel:u}),u.ref(),u}}t.SubchannelPool=c;let u=new c;function d(e){return e?u:new c}},"./node_modules/@postman/grpc-js/build/src/subchannel.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Subchannel=void 0;let n=r("./node_modules/@postman/grpc-js/build/src/connectivity-state.js"),i=r("./node_modules/@postman/grpc-js/build/src/backoff-timeout.js"),s=r("./node_modules/@postman/grpc-js/build/src/logging.js"),o=r("./node_modules/@postman/grpc-js/build/src/constants.js"),a=r("./node_modules/@postman/grpc-js/build/src/uri-parser.js"),l=r("./node_modules/@postman/grpc-js/build/src/subchannel-address.js"),c=r("./node_modules/@postman/grpc-js/build/src/channelz.js"),u="subchannel",d=0x7fffffff;class h{constructor(e,t,r,s,o){var a;this.channelTarget=e,this.subchannelAddress=t,this.options=r,this.credentials=s,this.connector=o,this.connectivityState=n.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0;let u={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new i.BackoffTimeout(()=>{this.handleBackoffTimer()},u),this.backoffTimeout.unref(),this.subchannelAddressString=(0,l.subchannelAddressToString)(t),this.keepaliveTime=null!=(a=r["grpc.keepalive_time_ms"])?a:-1,0===r["grpc.enable_channelz"]?(this.channelzEnabled=!1,this.channelzTrace=new c.ChannelzTraceStub,this.callTracker=new c.ChannelzCallTrackerStub,this.childrenTracker=new c.ChannelzChildrenTrackerStub,this.streamTracker=new c.ChannelzCallTrackerStub):(this.channelzTrace=new c.ChannelzTrace,this.callTracker=new c.ChannelzCallTracker,this.childrenTracker=new c.ChannelzChildrenTracker,this.streamTracker=new c.ChannelzCallTracker),this.channelzRef=(0,c.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(r,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){s.trace(o.LogVerbosity.DEBUG,u,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}refTrace(e){s.trace(o.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([n.ConnectivityState.TRANSIENT_FAILURE],n.ConnectivityState.CONNECTING):this.transitionToState([n.ConnectivityState.TRANSIENT_FAILURE],n.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){let t=Math.min(this.keepaliveTime,d);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":t})}this.connector.connect(this.subchannelAddress,this.credentials,e).then(e=>{this.transitionToState([n.ConnectivityState.CONNECTING],n.ConnectivityState.READY)?(this.transport=e,this.channelzEnabled&&this.childrenTracker.refChild(e.getChannelzRef()),e.addDisconnectListener(e=>{this.transitionToState([n.ConnectivityState.READY],n.ConnectivityState.IDLE),e&&this.keepaliveTime>0&&(this.keepaliveTime*=2,s.log(o.LogVerbosity.ERROR,`Connection to ${(0,a.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):e.shutdown()},e=>{this.transitionToState([n.ConnectivityState.CONNECTING],n.ConnectivityState.TRANSIENT_FAILURE,`${e}`)})}transitionToState(e,t,r){var i,s;if(-1===e.indexOf(this.connectivityState))return!1;this.trace(n.ConnectivityState[this.connectivityState]+" -> "+n.ConnectivityState[t]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+n.ConnectivityState[t]);let o=this.connectivityState;switch(this.connectivityState=t,t){case n.ConnectivityState.READY:this.stopBackoff();break;case n.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case n.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null==(i=this.transport)||i.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case n.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null==(s=this.transport)||s.shutdown(),this.transport=null;break;default:throw Error(`Invalid state: unknown ConnectivityState ${t}`)}for(let e of this.stateListeners)e(this,o,t,this.keepaliveTime,r);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,0===this.refcount&&(this.channelzTrace.addTrace("CT_INFO","Shutting down"),(0,c.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([n.ConnectivityState.CONNECTING,n.ConnectivityState.READY],n.ConnectivityState.IDLE)}))}unrefIfOneRef(){return 1===this.refcount&&(this.unref(),!0)}createCall(e,t,r,n){let i;if(!this.transport)throw Error("Cannot create call, subchannel not READY");return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),i={onCallEnd:e=>{e.code===o.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):i={},this.transport.createCall(e,t,r,n,i)}startConnecting(){process.nextTick(()=>{this.transitionToState([n.ConnectivityState.IDLE],n.ConnectivityState.CONNECTING)||this.connectivityState!==n.ConnectivityState.TRANSIENT_FAILURE||(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e)}removeConnectivityStateListener(e){this.stateListeners.delete(e)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([n.ConnectivityState.TRANSIENT_FAILURE],n.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}isHealthy(){return!0}addHealthStateWatcher(e){}removeHealthStateWatcher(e){}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){e>this.keepaliveTime&&(this.keepaliveTime=e)}}t.Subchannel=h},"./node_modules/@postman/grpc-js/build/src/tls-helpers.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CIPHER_SUITES=void 0,t.getDefaultRootsData=o;let n=r("fs");t.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;let i=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,s=null;function o(){return i?(null===s&&(s=n.readFileSync(i)),s):null}},"./node_modules/@postman/grpc-js/build/src/transport.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2SubchannelConnector=void 0;let n=r("http2"),i=r("tls"),s=r("./node_modules/@postman/grpc-js/build/src/channelz.js"),o=r("./node_modules/@postman/grpc-js/build/src/constants.js"),a=r("./node_modules/@postman/grpc-js/build/src/http_proxy.js"),l=r("./node_modules/@postman/grpc-js/build/src/logging.js"),c=r("./node_modules/@postman/grpc-js/build/src/resolver.js"),u=r("./node_modules/@postman/grpc-js/build/src/subchannel-address.js"),d=r("./node_modules/@postman/grpc-js/build/src/uri-parser.js"),h=r("net"),p=r("./node_modules/@postman/grpc-js/build/src/subchannel-call.js"),f=r("./node_modules/@postman/grpc-js/build/src/call-number.js"),m="transport",g="transport_flowctrl",y=r("./node_modules/@postman/grpc-js/package.json").rE,{HTTP2_HEADER_AUTHORITY:_,HTTP2_HEADER_CONTENT_TYPE:v,HTTP2_HEADER_METHOD:b,HTTP2_HEADER_PATH:w,HTTP2_HEADER_TE:j,HTTP2_HEADER_USER_AGENT:S}=n.constants,k=2e4,E=Buffer.from("too_many_pings","ascii");class C{constructor(e,t,r,i){this.session=e,this.options=r,this.remoteName=i,this.keepaliveTimer=null,this.pendingSendKeepalivePing=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,u.subchannelAddressToString)(t),0===r["grpc.enable_channelz"]?(this.channelzEnabled=!1,this.streamTracker=new s.ChannelzCallTrackerStub):this.streamTracker=new s.ChannelzCallTracker,this.channelzRef=(0,s.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[r["grpc.primary_user_agent"],`grpc-node-js/${y}`,r["grpc.secondary_user_agent"]].filter(e=>e).join(" "),"grpc.keepalive_time_ms"in r?this.keepaliveTimeMs=r["grpc.keepalive_time_ms"]:this.keepaliveTimeMs=-1,"grpc.keepalive_timeout_ms"in r?this.keepaliveTimeoutMs=r["grpc.keepalive_timeout_ms"]:this.keepaliveTimeoutMs=k,"grpc.keepalive_permit_without_calls"in r?this.keepaliveWithoutCalls=1===r["grpc.keepalive_permit_without_calls"]:this.keepaliveWithoutCalls=!1,e.once("close",()=>{this.trace("session closed"),this.handleDisconnect()}),e.once("goaway",(e,t,r)=>{let i=!1;e===n.constants.NGHTTP2_ENHANCE_YOUR_CALM&&r&&r.equals(E)&&(i=!0),this.trace("connection closed by GOAWAY with code "+e+" and data "+(null==r?void 0:r.toString())),this.reportDisconnectToOwner(i)}),e.once("error",e=>{this.trace("connection closed with error "+e.message)}),l.isTracerEnabled(m)&&(e.on("remoteSettings",t=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(t))}),e.on("localSettings",t=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(t))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var e,t,r;let n,i=this.session.socket,s=i.remoteAddress?(0,u.stringToSubchannelAddress)(i.remoteAddress,i.remotePort):null,o=i.localAddress?(0,u.stringToSubchannelAddress)(i.localAddress,i.localPort):null;if(this.session.encrypted){let t=i,r=t.getCipher(),s=t.getCertificate(),o=t.getPeerCertificate();n={cipherSuiteStandardName:null!=(e=r.standardName)?e:null,cipherSuiteOtherName:r.standardName?null:r.name,localCertificate:s&&"raw"in s?s.raw:null,remoteCertificate:o&&"raw"in o?o.raw:null}}else n=null;return{remoteAddress:s,localAddress:o,security:n,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:null!=(t=this.session.state.localWindowSize)?t:null,remoteFlowControlWindow:null!=(r=this.session.state.remoteWindowSize)?r:null}}trace(e){l.trace(o.LogVerbosity.DEBUG,m,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}keepaliveTrace(e){l.trace(o.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}flowControlTrace(e){l.trace(o.LogVerbosity.DEBUG,g,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}internalsTrace(e){l.trace(o.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}reportDisconnectToOwner(e){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(t=>t(e)))}handleDisconnect(){this.clearKeepaliveTimeout(),this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let e of this.activeCalls)e.onDisconnect();this.session.destroy()})}addDisconnectListener(e){this.disconnectListeners.push(e)}canSendPing(){return!this.session.destroyed&&this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,t;if(!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}if(this.keepaliveTimer)return void console.error("keepaliveTimeout is not null");this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),null==(t=(e=this.keepaliveTimer).unref)||t.call(e);let r="";try{this.session.ping((e,t,r)=>{this.clearKeepaliveTimeout(),e?(this.keepaliveTrace("Ping failed with error "+e.message),this.handleDisconnect()):(this.keepaliveTrace("Received ping response"),this.maybeStartKeepalivePingTimer())})||(r="Ping returned false")}catch(e){r=(e instanceof Error?e.message:"")||"Unknown error"}r&&(this.keepaliveTrace("Ping send failed: "+r),this.handleDisconnect())}maybeStartKeepalivePingTimer(){var e,t;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):this.keepaliveTimer||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.maybeSendPing()},this.keepaliveTimeMs),null==(t=(e=this.keepaliveTimer).unref)||t.call(e)))}clearKeepaliveTimeout(){this.keepaliveTimer&&(clearTimeout(this.keepaliveTimer),this.keepaliveTimer=null)}removeActiveCall(e){this.activeCalls.delete(e),0===this.activeCalls.size&&this.session.unref()}addActiveCall(e){this.activeCalls.add(e),1===this.activeCalls.size&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(e,t,r,n,i){let s,o,a,l=e.toHttp2Headers();l[_]=t,l[v]="application/grpc",l[b]="POST",l[w]=r,l[j]="trailers",Object.keys(l).some(e=>e.toLowerCase()===S)||(l[S]=this.userAgent);try{s=this.session.request(l)}catch(e){throw this.handleDisconnect(),e}return this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed),this.channelzEnabled?(this.streamTracker.addCallStarted(),o={addMessageSent:()=>{var e;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,null==(e=i.addMessageSent)||e.call(i)},addMessageReceived:()=>{var e;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,null==(e=i.addMessageReceived)||e.call(i)},onCallEnd:e=>{var t;null==(t=i.onCallEnd)||t.call(i,e),this.removeActiveCall(a)},onStreamEnd:e=>{var t;e?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),null==(t=i.onStreamEnd)||t.call(i,e)}}):o={addMessageSent:()=>{var e;null==(e=i.addMessageSent)||e.call(i)},addMessageReceived:()=>{var e;null==(e=i.addMessageReceived)||e.call(i)},onCallEnd:e=>{var t;null==(t=i.onCallEnd)||t.call(i,e),this.removeActiveCall(a)},onStreamEnd:e=>{var t;null==(t=i.onStreamEnd)||t.call(i,e)}},a=new p.Http2SubchannelCall(s,o,n,this,(0,f.getNextCallNumber)()),this.addActiveCall(a),a}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}shutdown(){this.session.close(),(0,s.unregisterChannelzRef)(this.channelzRef)}}class x{constructor(e){this.channelTarget=e,this.session=null,this.isShutdown=!1}trace(e){l.trace(o.LogVerbosity.DEBUG,m,(0,d.uriToString)(this.channelTarget)+" "+e)}createSession(e,t,r,s){return this.isShutdown?Promise.reject():new Promise((o,a)=>{var l,p,f,m;let g;s.realTarget?(g=(0,d.uriToString)(s.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,d.uriToString)(s.realTarget))):(g=null,this.trace("creating HTTP/2 session to "+(0,u.subchannelAddressToString)(e)));let y=(0,c.getDefaultAuthority)(null!=(l=s.realTarget)?l:this.channelTarget),_=t._getConnectionOptions()||{};_.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in r?_.maxSessionMemory=r["grpc-node.max_session_memory"]:_.maxSessionMemory=Number.MAX_SAFE_INTEGER;let v="http://";if("secureContext"in _){if(v="https://",r["grpc.ssl_target_name_override"]){let e=r["grpc.ssl_target_name_override"],t=null!=(p=_.checkServerIdentity)?p:i.checkServerIdentity;_.checkServerIdentity=(r,n)=>t(e,n),_.servername=e}else{let e=null!=(m=null==(f=(0,d.splitHostPort)(y))?void 0:f.host)?m:"localhost";_.servername=e}s.socket&&(_.createConnection=(e,t)=>s.socket)}else _.createConnection=(t,r)=>s.socket?s.socket:h.connect(e);_=Object.assign(Object.assign(Object.assign({},_),e),{enableTrace:1===r["grpc-node.tls_enable_trace"]});let b=n.connect(v+y,_);this.session=b;let w="Failed to connect";b.unref(),b.once("connect",()=>{b.removeAllListeners(),o(new C(b,e,r,g)),this.session=null}),b.once("close",()=>{this.session=null,setImmediate(()=>{a(`${w} (${new Date().toISOString()})`)})}),b.once("error",e=>{w=e.message,this.trace("connection failed with error "+w)})})}connect(e,t,r){var n,s,o;if(this.isShutdown)return Promise.reject();let l=t._getConnectionOptions()||{};if("secureContext"in l){if(l.ALPNProtocols=["h2"],r["grpc.ssl_target_name_override"]){let e=r["grpc.ssl_target_name_override"],t=null!=(n=l.checkServerIdentity)?n:i.checkServerIdentity;l.checkServerIdentity=(r,n)=>t(e,n),l.servername=e}else if("grpc.http_connect_target"in r){let e=(0,c.getDefaultAuthority)(null!=(s=(0,d.parseUri)(r["grpc.http_connect_target"]))?s:{path:"localhost"}),t=(0,d.splitHostPort)(e);l.servername=null!=(o=null==t?void 0:t.host)?o:e}r["grpc-node.tls_enable_trace"]&&(l.enableTrace=!0)}return(0,a.getProxiedConnection)(e,r,l).then(n=>this.createSession(e,t,r,n))}shutdown(){var e;this.isShutdown=!0,null==(e=this.session)||e.close(),this.session=null}}t.Http2SubchannelConnector=x},"./node_modules/@postman/grpc-js/build/src/uri-parser.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUri=n,t.splitHostPort=s,t.combineHostPort=o,t.uriToString=a;let r=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function n(e){let t=r.exec(e);return null===t?null:{scheme:t[1],authority:t[2],path:t[3]}}let i=/^\d+$/;function s(e){if(e.startsWith("[")){let t=e.indexOf("]");if(-1===t)return null;let r=e.substring(1,t);if(-1===r.indexOf(":"))return null;if(!(e.length>t+1))return{host:r};if(":"!==e[t+1])return null;{let n=e.substring(t+2);return i.test(n)?{host:r,port:+n}:null}}{let t=e.split(":");return 2!==t.length?{host:e}:i.test(t[1])?{host:t[0],port:+t[1]}:null}}function o(e){return void 0===e.port?e.host:e.host.includes(":")?`[${e.host}]:${e.port}`:`${e.host}:${e.port}`}function a(e){let t="";return void 0!==e.scheme&&(t+=e.scheme+":"),void 0!==e.authority&&(t+="//"+e.authority+"/"),t+=e.path}},"./node_modules/@postman/proto-loader/build/src/index.js":function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.loadFileDescriptorSetFromObject=t.loadFileDescriptorSetFromBuffer=t.fromJSON=t.loadSync=t.load=t.IdempotencyLevel=t.isAnyExtension=t.Long=void 0;let i=r("./node_modules/lodash.camelcase/index.js"),s=r("./node_modules/@postman/protobufjs/index.js"),o=r("./node_modules/@postman/protobufjs/ext/descriptor/index.js"),a=r("./node_modules/@postman/proto-loader/build/src/util.js");t.Long=r("./node_modules/long/umd/index.js"),t.isAnyExtension=function(e){return"@type"in e&&"string"==typeof e["@type"]},function(e){e.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",e.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",e.IDEMPOTENT="IDEMPOTENT"}(n=t.IdempotencyLevel||(t.IdempotencyLevel={}));let l={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function c(e,t){return""===e?t:e+"."+t}function u(e){return e instanceof s.Service||e instanceof s.Type||e instanceof s.Enum}function d(e){return e instanceof s.Namespace||e instanceof s.Root}function h(e,t){let r=c(t,e.name);return u(e)?[[r,e]]:d(e)&&void 0!==e.nested?Object.keys(e.nested).map(t=>h(e.nested[t],r)).reduce((e,t)=>e.concat(t),[]):[]}function p(e,t){return function(r){return e.toObject(e.decode(r),t)}}function f(e){return function(t){if(Array.isArray(t))throw Error(`Failed to serialize message: expected object with ${e.name} structure, got array instead`);let r=e.fromObject(t);return e.encode(r).finish()}}function m(e){return(e||[]).reduce((e,t)=>{for(let[r,n]of Object.entries(t))"uninterpreted_option"===r?e.uninterpreted_option.push(t.uninterpreted_option):e[r]=n;return e},{deprecated:!1,idempotency_level:n.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function g(e,t,r,n){let s=e.resolvedRequestType,o=e.resolvedResponseType;return{path:"/"+t+"/"+e.name,requestStream:!!e.requestStream,responseStream:!!e.responseStream,requestSerialize:f(s),requestDeserialize:p(s,r),responseSerialize:f(o),responseDeserialize:p(o,r),originalName:i(e.name),requestType:_(s,n),responseType:_(o,n),options:m(e.parsedOptions)}}function y(e,t,r,n){let i={};for(let s of e.methodsArray)i[s.name]=g(s,t,r,n);return i}function _(e,t){let r=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:r.$type.toObject(r,l),fileDescriptorProtos:t}}function v(e,t){let r=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:r.$type.toObject(r,l),fileDescriptorProtos:t}}function b(e,t,r,n){if(e instanceof s.Service)return y(e,t,r,n);if(e instanceof s.Type)return _(e,n);if(e instanceof s.Enum)return v(e,n);throw Error("Type mismatch in reflection object handling")}function w(e,t){let r={};e.resolveAll();let n=e.toDescriptor("proto3").file.map(e=>Buffer.from(o.FileDescriptorProto.encode(e).finish()));for(let[i,s]of h(e,""))r[i]=b(s,i,t,n);return r}function j(e,t){t=t||{};let r=s.Root.fromDescriptor(e);return r.resolveAll(),w(r,t)}t.load=function(e,t){return(0,a.loadProtosWithOptions)(e,t).then(e=>w(e,t))},t.loadSync=function(e,t){return w((0,a.loadProtosWithOptionsSync)(e,t),t)},t.fromJSON=function(e,t){t=t||{};let r=s.Root.fromJSON(e);return r.resolveAll(),w(r,t)},t.loadFileDescriptorSetFromBuffer=function(e,t){return j(o.FileDescriptorSet.decode(e),t)},t.loadFileDescriptorSetFromObject=function(e,t){return j(o.FileDescriptorSet.fromObject(e),t)},(0,a.addCommonProtos)()},"./node_modules/@postman/proto-loader/build/src/util.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addCommonProtos=t.loadProtosWithOptionsSync=t.loadProtosWithOptions=void 0;let n=r("fs"),i=r("path"),s=r("./node_modules/@postman/protobufjs/index.js");function o(e,t){let r=e.resolvePath;e.resolvePath=(e,s)=>{if(i.isAbsolute(s))return s;for(let e of t){let t=i.join(e,s);try{return n.accessSync(t,n.constants.R_OK),t}catch(e){continue}}return process.emitWarning(`${s} not found in any of the include paths ${t}`),r(e,s)}}t.loadProtosWithOptions=async function(e,t){let r=new s.Root;if((t=t||{}).includeDirs){if(!Array.isArray(t.includeDirs))return Promise.reject(Error("The includeDirs option must be an array"));o(r,t.includeDirs)}let n=await r.load(e,t);return n.resolveAll(),n},t.loadProtosWithOptionsSync=function(e,t){let r=new s.Root;if((t=t||{}).includeDirs){if(!Array.isArray(t.includeDirs))throw Error("The includeDirs option must be an array");o(r,t.includeDirs)}let n=r.loadSync(e,t);return n.resolveAll(),n},t.addCommonProtos=function(){let e=r("./node_modules/@postman/protobufjs/google/protobuf/api.json"),t=r("./node_modules/@postman/protobufjs/google/protobuf/descriptor.json"),n=r("./node_modules/@postman/protobufjs/google/protobuf/source_context.json"),i=r("./node_modules/@postman/protobufjs/google/protobuf/type.json");s.common("api",e.nested.google.nested.protobuf.nested),s.common("descriptor",t.nested.google.nested.protobuf.nested),s.common("source_context",n.nested.google.nested.protobuf.nested),s.common("type",i.nested.google.nested.protobuf.nested)}},"./node_modules/@postman/protobufjs/ext/descriptor/index.js":function(e,t,r){"use strict";var n=r("./node_modules/@postman/protobufjs/index.js");e.exports=t=n.descriptor=n.Root.fromJSON(r("./node_modules/@postman/protobufjs/google/protobuf/descriptor.json")).lookup(".google.protobuf");var i=n.Namespace,s=n.Root,o=n.Enum,a=n.Type,l=n.Field,c=n.MapField,u=n.OneOf,d=n.Service,h=n.Method;function p(e,r,n){var c=t.FileDescriptorProto.create({name:e.filename||(e.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});n&&(c.syntax=n),e instanceof s||(c.package=e.fullName.substring(1));for(var u,h=0;h<e.nestedArray.length;++h)(u=e._nestedArray[h])instanceof a?c.messageType.push(u.toDescriptor(n)):u instanceof o?c.enumType.push(u.toDescriptor()):u instanceof l?c.extension.push(u.toDescriptor(n)):u instanceof d?c.service.push(u.toDescriptor()):u instanceof i&&p(u,r,n);c.options=k(e.options,t.FileOptions),c.messageType.length+c.enumType.length+c.extension.length+c.service.length&&r.push(c)}s.fromDescriptor=function(e,r){"number"==typeof e.length&&(e=t.FileDescriptorSet.decode(e));var n=new s;if(e.file)for(var i,c,u,h=0;h<e.file.length;++h){if(c=n,(i=e.file[h]).package&&i.package.length&&(c=n.define(i.package)),i.name&&i.name.length&&n.files.push(c.filename=i.name),i.messageType)for(u=0;u<i.messageType.length;++u)c.add(a.fromDescriptor(i.messageType[u],i.syntax,r));if(i.enumType)for(u=0;u<i.enumType.length;++u)c.add(o.fromDescriptor(i.enumType[u]));if(i.extension)for(u=0;u<i.extension.length;++u)c.add(l.fromDescriptor(i.extension[u]));if(i.service)for(u=0;u<i.service.length;++u)c.add(d.fromDescriptor(i.service[u]));var p=S(i.options,t.FileOptions);if(p){var f=Object.keys(p);for(u=0;u<f.length;++u)c.setOption(f[u],p[f[u]])}}return n},s.prototype.toDescriptor=function(e){var r=t.FileDescriptorSet.create();return p(this,r.file,e),r};var f=0;a.fromDescriptor=function(e,r,n){"number"==typeof e.length&&(e=t.DescriptorProto.decode(e));var i,s=new a(e.name.length?e.name:"Type"+f++,S(e.options,t.MessageOptions)),d=n&&n.useMapField;if(e.oneofDecl)for(i=0;i<e.oneofDecl.length;++i)s.add(u.fromDescriptor(e.oneofDecl[i]));if(e.field)for(i=0;i<e.field.length;++i){var h=d&&e.nestedType?e.nestedType.find(function(t){var r=e.field[i],n=r.typeName&&r.typeName.split(".").pop();return t.options&&t.options.mapEntry&&t.name===n}):null,p=h?c.fromDescriptor(e.field[i],h,r):l.fromDescriptor(e.field[i],r);s.add(p),e.field[i].hasOwnProperty("oneofIndex")&&s.oneofsArray[e.field[i].oneofIndex].add(p)}if(e.extension)for(i=0;i<e.extension.length;++i)s.add(l.fromDescriptor(e.extension[i],r));if(e.nestedType)for(i=0;i<e.nestedType.length;++i)d?e.nestedType[i].options&&e.nestedType[i].options.mapEntry||s.add(a.fromDescriptor(e.nestedType[i],r,n)):(s.add(a.fromDescriptor(e.nestedType[i],r,n)),e.nestedType[i].options&&e.nestedType[i].options.mapEntry&&s.setOption("map_entry",!0));if(e.enumType)for(i=0;i<e.enumType.length;++i)s.add(o.fromDescriptor(e.enumType[i]));if(e.extensionRange&&e.extensionRange.length)for(i=0,s.extensions=[];i<e.extensionRange.length;++i)s.extensions.push([e.extensionRange[i].start,e.extensionRange[i].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(s.reserved=[],e.reservedRange)for(i=0;i<e.reservedRange.length;++i)s.reserved.push([e.reservedRange[i].start,e.reservedRange[i].end]);if(e.reservedName)for(i=0;i<e.reservedName.length;++i)s.reserved.push(e.reservedName[i])}return s},a.prototype.toDescriptor=function(e){var r,n,i=t.DescriptorProto.create({name:this.name});for(n=0;n<this.fieldsArray.length;++n)if(i.field.push(r=this._fieldsArray[n].toDescriptor(e)),this._fieldsArray[n]instanceof c){var s=j(this._fieldsArray[n].keyType,this._fieldsArray[n].resolvedKeyType),u=j(this._fieldsArray[n].type,this._fieldsArray[n].resolvedType),d=11===u||14===u?this._fieldsArray[n].resolvedType&&E(this.parent,this._fieldsArray[n].resolvedType)||this._fieldsArray[n].type:void 0;i.nestedType.push(t.DescriptorProto.create({name:r.typeName,field:[t.FieldDescriptorProto.create({name:"key",number:1,label:1,type:s}),t.FieldDescriptorProto.create({name:"value",number:2,label:1,type:u,typeName:d})],options:t.MessageOptions.create({mapEntry:!0})}))}for(n=0;n<this.oneofsArray.length;++n)i.oneofDecl.push(this._oneofsArray[n].toDescriptor());for(n=0;n<this.nestedArray.length;++n)this._nestedArray[n]instanceof l?i.field.push(this._nestedArray[n].toDescriptor(e)):this._nestedArray[n]instanceof a?i.nestedType.push(this._nestedArray[n].toDescriptor(e)):this._nestedArray[n]instanceof o&&i.enumType.push(this._nestedArray[n].toDescriptor());if(this.extensions)for(n=0;n<this.extensions.length;++n)i.extensionRange.push(t.DescriptorProto.ExtensionRange.create({start:this.extensions[n][0],end:this.extensions[n][1]}));if(this.reserved)for(n=0;n<this.reserved.length;++n)"string"==typeof this.reserved[n]?i.reservedName.push(this.reserved[n]):i.reservedRange.push(t.DescriptorProto.ReservedRange.create({start:this.reserved[n][0],end:this.reserved[n][1]}));return i.options=k(this.options,t.MessageOptions),i};var m=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;l.fromDescriptor=function(e,r){if("number"==typeof e.length&&(e=t.DescriptorProto.decode(e)),"number"!=typeof e.number)throw Error("missing field id");switch(n=e.typeName&&e.typeName.length?e.typeName:b(e.type),e.label){case 1:i=void 0;break;case 2:i="required";break;case 3:i="repeated";break;default:throw Error("illegal label: "+e.label)}var n,i,s=e.extendee;void 0!==e.extendee&&(s=s.length?s:void 0);var o=new l(e.name.length?e.name:"field"+e.number,e.number,n,i,s);if(o.options=S(e.options,t.FieldOptions),e.defaultValue&&e.defaultValue.length){var a=e.defaultValue;switch(a){case"true":case"TRUE":a=!0;break;case"false":case"FALSE":a=!1;break;default:m.exec(a)&&(a=parseInt(a))}o.setOption("default",a)}return w(e.type)&&("proto3"===r?e.options&&!e.options.packed&&o.setOption("packed",!1):e.options&&e.options.packed||o.setOption("packed",!1)),o},l.prototype.toDescriptor=function(e){var r=t.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)r.type=11,r.typeName=n.util.ucFirst(this.name),r.label=3;else{switch(r.type=j(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:r.typeName=this.resolvedType?E(this.parent,this.resolvedType):this.type}switch(this.rule){case"repeated":r.label=3;break;case"required":r.label=2;break;default:r.label=1}}if(r.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(r.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(r.options=k(this.options,t.FieldOptions),null!=this.options.default&&(r.defaultValue=String(this.options.default))),"proto3"===e?this.packed||((r.options||(r.options=t.FieldOptions.create())).packed=!1):this.packed&&((r.options||(r.options=t.FieldOptions.create())).packed=!0),r},c.fromDescriptor=function(e,r){if("number"==typeof e.length&&(e=t.DescriptorProto.decode(e)),"number"==typeof r.length&&(r=t.DescriptorProto.decode(r)),"number"!=typeof e.number)throw Error("missing field id");var n=r.field[1].typeName,i=n&&n.length?n:b(r.field[1].type),s=new c(e.name.length?e.name:"field"+e.number,e.number,b(r.field[0].type),i,S(e.options,t.FieldOptions)),o=e.extendee;if(void 0!==o&&(s.extend=o.length?o:void 0),e.defaultValue&&e.defaultValue.length){var a=e.defaultValue;switch(a){case"true":case"TRUE":a=!0;break;case"false":case"FALSE":a=!1;break;default:m.exec(a)&&(a=parseInt(a))}s.setOption("default",a)}return s};var g=0;o.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.EnumDescriptorProto.decode(e));var r={};if(e.value)for(var n=0;n<e.value.length;++n){var i=e.value[n].name,s=e.value[n].number||0;r[i&&i.length?i:"NAME"+s]=s}return new o(e.name&&e.name.length?e.name:"Enum"+g++,r,S(e.options,t.EnumOptions))},o.prototype.toDescriptor=function(){for(var e=[],r=0,n=Object.keys(this.values);r<n.length;++r)e.push(t.EnumValueDescriptorProto.create({name:n[r],number:this.values[n[r]]}));return t.EnumDescriptorProto.create({name:this.name,value:e,options:k(this.options,t.EnumOptions)})};var y=0;u.fromDescriptor=function(e){return"number"==typeof e.length&&(e=t.OneofDescriptorProto.decode(e)),new u(e.name&&e.name.length?e.name:"oneof"+y++)},u.prototype.toDescriptor=function(){return t.OneofDescriptorProto.create({name:this.name})};var _=0;d.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.ServiceDescriptorProto.decode(e));var r=new d(e.name&&e.name.length?e.name:"Service"+_++,S(e.options,t.ServiceOptions));if(e.method)for(var n=0;n<e.method.length;++n)r.add(h.fromDescriptor(e.method[n]));return r},d.prototype.toDescriptor=function(){for(var e=[],r=0;r<this.methodsArray.length;++r)e.push(this._methodsArray[r].toDescriptor());return t.ServiceDescriptorProto.create({name:this.name,method:e,options:k(this.options,t.ServiceOptions)})};var v=0;function b(e){switch(e){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+e)}function w(e){switch(e){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function j(e,t){switch(e){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(t instanceof o)return 14;if(t instanceof a)return t.group?10:11;throw Error("illegal type: "+e)}function S(e,t){if(e){for(var r,i,s,a=[],l=0;l<t.fieldsArray.length;++l)"uninterpretedOption"!==(i=(r=t._fieldsArray[l]).name)&&e.hasOwnProperty(i)&&(s=e[i],r.resolvedType instanceof o&&"number"==typeof s&&void 0!==r.resolvedType.valuesById[s]&&(s=r.resolvedType.valuesById[s]),a.push(C(i),s));return a.length?n.util.toObject(a):void 0}}function k(e,t){if(e){for(var r,i,s=[],o=0,a=Object.keys(e);o<a.length;++o)if(i=e[r=a[o]],"default"!==r){var l=t.fields[r];(l||(l=t.fields[r=n.util.camelCase(r)]))&&s.push(r,i)}return s.length?t.fromObject(n.util.toObject(s)):void 0}}function E(e,t){var r=e.fullName.split("."),n=t.fullName.split("."),o=0,a=0,l=n.length-1;if(!(e instanceof s)&&t instanceof i)for(;o<r.length&&a<l&&r[o]===n[a];){var c=t.lookup(r[o++],!0);if(null!==c&&c!==t)break;++a}else for(;o<r.length&&a<l&&r[o]===n[a];++o,++a);return n.slice(a).join(".")}function C(e){return e.substring(0,1)+e.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,t){return"_"+t.toLowerCase()})}h.fromDescriptor=function(e){return"number"==typeof e.length&&(e=t.MethodDescriptorProto.decode(e)),new h(e.name&&e.name.length?e.name:"Method"+v++,"rpc",e.inputType,e.outputType,!!e.clientStreaming,!!e.serverStreaming,S(e.options,t.MethodOptions))},h.prototype.toDescriptor=function(){return t.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:k(this.options,t.MethodOptions)})}},"./node_modules/@postman/protobufjs/index.js":function(e,t,r){"use strict";e.exports=r("./node_modules/@postman/protobufjs/src/index.js")},"./node_modules/@postman/protobufjs/src/common.js":function(e){"use strict";e.exports=n;var t,r=/\/|\./;function n(e,t){r.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),n[e]=t}n("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),n("duration",{Duration:t={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),n("timestamp",{Timestamp:t}),n("empty",{Empty:{fields:{}}}),n("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["null_value","number_value","string_value","bool_value","struct_value","list_value"]}},fields:{null_value:{type:"NullValue",id:1},number_value:{type:"double",id:2},string_value:{type:"string",id:3},bool_value:{type:"bool",id:4},struct_value:{type:"Struct",id:5},list_value:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),n("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),n("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),n.get=function(e){return n[e]||null}},"./node_modules/@postman/protobufjs/src/converter.js":function(e,t,r){"use strict";var n=t,i=r("./node_modules/@postman/protobufjs/src/enum.js"),s=r("./node_modules/@postman/protobufjs/src/util.js");function o(e,t,r,n){var s=!1;if(t.resolvedType)if(t.resolvedType instanceof i){e("switch(d%s){",n);for(var o=t.resolvedType.values,a=Object.keys(o),l=0;l<a.length;++l)o[a[l]]!==t.typeDefault||s||(e("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',n,n,n),t.repeated||e("break"),s=!0),e("case%j:",a[l])("case %i:",o[a[l]])("m%s=%j",n,o[a[l]])("break");e("}")}else e('if(typeof d%s!=="object")',n)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,r,n);else{var c=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",n,n);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,c)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,c?"true":"");break;case"bytes":e('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length >= 0)",n)("m%s=d%s",n,n);break;case"string":e("m%s=String(d%s)",n,n);break;case"bool":e("m%s=Boolean(d%s)",n,n)}}return e}function a(e,t,r,n){if(t.resolvedType)t.resolvedType instanceof i?e("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",n,r,n,n,r,n,n):e("d%s=types[%i].toObject(m%s,o)",n,r,n);else{var s=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":s=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,s?"true":"",n);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:e("d%s=m%s",n,n)}}return e}n.fromObject=function(e){var t=e.fieldsArray,r=s.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var n=0;n<t.length;++n){var a=t[n].resolve(),l=s.safeProp(a.name);a.map?(r("if(d%s){",l)('if(typeof d%s!=="object")',l)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",l)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",l),o(r,a,n,l+"[ks[i]]")("}")("}")):a.repeated?(r("if(d%s){",l)("if(!Array.isArray(d%s))",l)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",l)("for(var i=0;i<d%s.length;++i){",l),o(r,a,n,l+"[i]")("}")("}")):(a.resolvedType instanceof i||r("if(d%s!=null){",l),o(r,a,n,l),a.resolvedType instanceof i||r("}"))}return r("return m")},n.toObject=function(e){var t=e.fieldsArray.slice().sort(s.compareFieldsById);if(!t.length)return s.codegen()("return {}");for(var r=s.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],o=[],l=[],c=0;c<t.length;++c)t[c].partOf||(t[c].resolve().repeated?n:t[c].map?o:l).push(t[c]);if(n.length){for(r("if(o.arrays||o.defaults){"),c=0;c<n.length;++c)r("d%s=[]",s.safeProp(n[c].name));r("}")}if(o.length){for(r("if(o.objects||o.defaults){"),c=0;c<o.length;++c)r("d%s={}",s.safeProp(o[c].name));r("}")}if(l.length){for(r("if(o.defaults){"),c=0;c<l.length;++c){var u=l[c],d=s.safeProp(u.name);if(u.resolvedType instanceof i)r("d%s=o.enums===String?%j:%j",d,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",d)("}else")("d%s=o.longs===String?%j:%i",d,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var h="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",d,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",d,h)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",d,d)("}")}else r("d%s=%j",d,u.typeDefault)}r("}")}var p=!1;for(c=0;c<t.length;++c){var u=t[c],f=e._fieldsArray.indexOf(u),d=s.safeProp(u.name);u.map?(p||(p=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",d,d)("d%s={}",d)("for(var j=0;j<ks2.length;++j){"),a(r,u,f,d+"[ks2[j]]")("}")):u.repeated?(r("if(m%s&&m%s.length){",d,d)("d%s=[]",d)("for(var j=0;j<m%s.length;++j){",d),a(r,u,f,d+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",d,u.name),a(r,u,f,d),u.partOf&&r("if(o.oneofs)")("d%s=%j",s.safeProp(u.partOf.name),u.name)),r("}")}return r("return d")}},"./node_modules/@postman/protobufjs/src/decoder.js":function(e,t,r){"use strict";e.exports=a;var n=r("./node_modules/@postman/protobufjs/src/enum.js"),i=r("./node_modules/@postman/protobufjs/src/types.js"),s=r("./node_modules/@postman/protobufjs/src/util.js");function o(e){return"missing required '"+e.name+"'"}function a(e){var t=s.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter(function(e){return e.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var r=0;r<e.fieldsArray.length;++r){var a=e._fieldsArray[r].resolve(),l=a.resolvedType instanceof n?"int32":a.type,c="m"+s.safeProp(a.name);t("case %i: {",a.id),a.map?(t("if(%s===util.emptyObject)",c)("%s={}",c)("var c2 = r.uint32()+r.pos"),void 0!==i.defaults[a.keyType]?t("k=%j",i.defaults[a.keyType]):t("k=null"),void 0!==i.defaults[l]?t("value=%j",i.defaults[l]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",a.keyType)("case 2:"),void 0===i.basic[l]?t("value=types[%i].decode(r,r.uint32())",r):t("value=r.%s()",l),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==i.long[a.keyType]?t('%s[typeof k==="object"?util.longToHash(k):k]=value',c):t("%s[k]=value",c)):a.repeated?(t("if(!(%s&&%s.length))",c,c)("%s=[]",c),void 0!==i.packed[l]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",c,l)("}else"),void 0===i.basic[l]?t(a.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",c,r):t("%s.push(r.%s())",c,l)):void 0===i.basic[l]?t(a.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",c,r):t("%s=r.%s()",c,l),t("break")("}")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<e._fieldsArray.length;++r){var u=e._fieldsArray[r];u.required&&t("if(!m.hasOwnProperty(%j))",u.name)("throw util.ProtocolError(%j,{instance:m})",o(u))}return t("return m")}},"./node_modules/@postman/protobufjs/src/encoder.js":function(e,t,r){"use strict";e.exports=a;var n=r("./node_modules/@postman/protobufjs/src/enum.js"),i=r("./node_modules/@postman/protobufjs/src/types.js"),s=r("./node_modules/@postman/protobufjs/src/util.js");function o(e,t,r,n){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,n,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,n,(t.id<<3|2)>>>0)}function a(e){for(var t,r,a=s.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),l=e.fieldsArray.slice().sort(s.compareFieldsById),t=0;t<l.length;++t){var c=l[t].resolve(),u=e._fieldsArray.indexOf(c),d=c.resolvedType instanceof n?"int32":c.type,h=i.basic[d];r="m"+s.safeProp(c.name),c.map?(a("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",r,c.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",r)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(c.id<<3|2)>>>0,8|i.mapKey[c.keyType],c.keyType),void 0===h?a("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",u,r):a(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|h,d,r),a("}")("}")):c.repeated?(a("if(%s!=null&&%s.length){",r,r),c.packed&&void 0!==i.packed[d]?a("w.uint32(%i).fork()",(c.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",r)("w.%s(%s[i])",d,r)("w.ldelim()"):(a("for(var i=0;i<%s.length;++i)",r),void 0===h?o(a,c,u,r+"[i]"):a("w.uint32(%i).%s(%s[i])",(c.id<<3|h)>>>0,d,r)),a("}")):(c.optional&&a("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",r,c.name),void 0===h?o(a,c,u,r):a("w.uint32(%i).%s(%s)",(c.id<<3|h)>>>0,d,r))}return a("return w")}},"./node_modules/@postman/protobufjs/src/enum.js":function(e,t,r){"use strict";e.exports=o;var n=r("./node_modules/@postman/protobufjs/src/object.js");((o.prototype=Object.create(n.prototype)).constructor=o).className="Enum";var i=r("./node_modules/@postman/protobufjs/src/namespace.js"),s=r("./node_modules/@postman/protobufjs/src/util.js");function o(e,t,r,i,s,o){if(n.call(this,e,r),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=s||{},this.valuesOptions=o,this.reserved=void 0,t)for(var a=Object.keys(t),l=0;l<a.length;++l)"number"==typeof t[a[l]]&&(this.valuesById[this.values[a[l]]=t[a[l]]]=a[l])}o.fromJSON=function(e,t){var r=new o(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,r},o.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return s.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},o.prototype.add=function(e,t,r,n){if(!s.isString(e))throw TypeError("name must be a string");if(!s.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return n&&(void 0===this.valuesOptions&&(this.valuesOptions={}),this.valuesOptions[e]=n||null),this.comments[e]=r||null,this},o.prototype.remove=function(e){if(!s.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this},o.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},o.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)}},"./node_modules/@postman/protobufjs/src/field.js":function(e,t,r){"use strict";e.exports=c;var n,i=r("./node_modules/@postman/protobufjs/src/object.js");((c.prototype=Object.create(i.prototype)).constructor=c).className="Field";var s=r("./node_modules/@postman/protobufjs/src/enum.js"),o=r("./node_modules/@postman/protobufjs/src/types.js"),a=r("./node_modules/@postman/protobufjs/src/util.js"),l=/^required|optional|repeated$/;function c(e,t,r,n,s,c,u){if(a.isObject(n)?(u=s,c=n,n=s=void 0):a.isObject(s)&&(u=c,c=s,s=void 0),i.call(this,e,c),!a.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!a.isString(r))throw TypeError("type must be a string");if(void 0!==n&&!l.test(n=n.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==s&&!a.isString(s))throw TypeError("extend must be a string");"proto3_optional"===n&&(n="optional"),this.rule=n&&"optional"!==n?n:void 0,this.type=r,this.id=t,this.extend=s||void 0,this.required="required"===n,this.optional=!this.required,this.repeated="repeated"===n,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&void 0!==o.long[r],this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=u}c.fromJSON=function(e,t){return new c(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(c.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),c.prototype.setOption=function(e,t,r){return"packed"===e&&(this._packed=null),i.prototype.setOption.call(this,e,t,r)},c.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return a.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},c.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=o.defaults[this.type])?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof n?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof s&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof s)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=a.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,e=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,e=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof n&&(this.parent.ctor.prototype[this.name]=this.defaultValue),i.prototype.resolve.call(this)},c.d=function(e,t,r,n){return"function"==typeof t?t=a.decorateType(t).name:t&&"object"==typeof t&&(t=a.decorateEnum(t).name),function(i,s){a.decorateType(i.constructor).add(new c(s,e,t,r,{default:n}))}},c._configure=function(e){n=e}},"./node_modules/@postman/protobufjs/src/index-light.js":function(e,t,r){"use strict";var n=e.exports=r("./node_modules/@postman/protobufjs/src/index-minimal.js");function i(e,t,r){return"function"==typeof t?(r=t,t=new n.Root):t||(t=new n.Root),t.load(e,r)}function s(e,t){return t||(t=new n.Root),t.loadSync(e)}n.build="light",n.load=i,n.loadSync=s,n.encoder=r("./node_modules/@postman/protobufjs/src/encoder.js"),n.decoder=r("./node_modules/@postman/protobufjs/src/decoder.js"),n.verifier=r("./node_modules/@postman/protobufjs/src/verifier.js"),n.converter=r("./node_modules/@postman/protobufjs/src/converter.js"),n.ReflectionObject=r("./node_modules/@postman/protobufjs/src/object.js"),n.Namespace=r("./node_modules/@postman/protobufjs/src/namespace.js"),n.Root=r("./node_modules/@postman/protobufjs/src/root.js"),n.Enum=r("./node_modules/@postman/protobufjs/src/enum.js"),n.Type=r("./node_modules/@postman/protobufjs/src/type.js"),n.Field=r("./node_modules/@postman/protobufjs/src/field.js"),n.OneOf=r("./node_modules/@postman/protobufjs/src/oneof.js"),n.MapField=r("./node_modules/@postman/protobufjs/src/mapfield.js"),n.Service=r("./node_modules/@postman/protobufjs/src/service.js"),n.Method=r("./node_modules/@postman/protobufjs/src/method.js"),n.Message=r("./node_modules/@postman/protobufjs/src/message.js"),n.wrappers=r("./node_modules/@postman/protobufjs/src/wrappers.js"),n.types=r("./node_modules/@postman/protobufjs/src/types.js"),n.util=r("./node_modules/@postman/protobufjs/src/util.js"),n.ReflectionObject._configure(n.Root),n.Namespace._configure(n.Type,n.Service,n.Enum),n.Root._configure(n.Type),n.Field._configure(n.Type)},"./node_modules/@postman/protobufjs/src/index-minimal.js":function(e,t,r){"use strict";var n=t;function i(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r("./node_modules/@postman/protobufjs/src/writer.js"),n.BufferWriter=r("./node_modules/@postman/protobufjs/src/writer_buffer.js"),n.Reader=r("./node_modules/@postman/protobufjs/src/reader.js"),n.BufferReader=r("./node_modules/@postman/protobufjs/src/reader_buffer.js"),n.util=r("./node_modules/@postman/protobufjs/src/util/minimal.js"),n.rpc=r("./node_modules/@postman/protobufjs/src/rpc.js"),n.roots=r("./node_modules/@postman/protobufjs/src/roots.js"),n.configure=i,i()},"./node_modules/@postman/protobufjs/src/index.js":function(e,t,r){"use strict";var n=e.exports=r("./node_modules/@postman/protobufjs/src/index-light.js");n.build="full",n.tokenize=r("./node_modules/@postman/protobufjs/src/tokenize.js"),n.parse=r("./node_modules/@postman/protobufjs/src/parse.js"),n.common=r("./node_modules/@postman/protobufjs/src/common.js"),n.Root._configure(n.Type,n.parse,n.common)},"./node_modules/@postman/protobufjs/src/mapfield.js":function(e,t,r){"use strict";e.exports=o;var n=r("./node_modules/@postman/protobufjs/src/field.js");((o.prototype=Object.create(n.prototype)).constructor=o).className="MapField";var i=r("./node_modules/@postman/protobufjs/src/types.js"),s=r("./node_modules/@postman/protobufjs/src/util.js");function o(e,t,r,i,o,a){if(n.call(this,e,t,i,void 0,void 0,o,a),!s.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}o.fromJSON=function(e,t){return new o(e,t.id,t.keyType,t.type,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return s.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},o.prototype.resolve=function(){if(this.resolved)return this;if(void 0===i.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return n.prototype.resolve.call(this)},o.d=function(e,t,r){return"function"==typeof r?r=s.decorateType(r).name:r&&"object"==typeof r&&(r=s.decorateEnum(r).name),function(n,i){s.decorateType(n.constructor).add(new o(i,e,t,r))}}},"./node_modules/@postman/protobufjs/src/message.js":function(e,t,r){"use strict";e.exports=i;var n=r("./node_modules/@postman/protobufjs/src/util/minimal.js");function i(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}i.create=function(e){return this.$type.create(e)},i.encode=function(e,t){return this.$type.encode(e,t)},i.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},i.decode=function(e){return this.$type.decode(e)},i.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},i.verify=function(e){return this.$type.verify(e)},i.fromObject=function(e){return this.$type.fromObject(e)},i.toObject=function(e,t){return this.$type.toObject(e,t)},i.prototype.toJSON=function(){return this.$type.toObject(this,n.toJSONOptions)}},"./node_modules/@postman/protobufjs/src/method.js":function(e,t,r){"use strict";e.exports=s;var n=r("./node_modules/@postman/protobufjs/src/object.js");((s.prototype=Object.create(n.prototype)).constructor=s).className="Method";var i=r("./node_modules/@postman/protobufjs/src/util.js");function s(e,t,r,s,o,a,l,c,u){if(i.isObject(o)?(l=o,o=a=void 0):i.isObject(a)&&(l=a,a=void 0),!(void 0===t||i.isString(t)))throw TypeError("type must be a string");if(!i.isString(r))throw TypeError("requestType must be a string");if(!i.isString(s))throw TypeError("responseType must be a string");n.call(this,e,l),this.type=t||"rpc",this.requestType=r,this.requestStream=!!o||void 0,this.responseType=s,this.responseStream=!!a||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=c,this.parsedOptions=u}s.fromJSON=function(e,t){return new s(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},s.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return i.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},s.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),n.prototype.resolve.call(this))}},"./node_modules/@postman/protobufjs/src/namespace.js":function(e,t,r){"use strict";e.exports=d;var n,i,s,o=r("./node_modules/@postman/protobufjs/src/object.js");((d.prototype=Object.create(o.prototype)).constructor=d).className="Namespace";var a=r("./node_modules/@postman/protobufjs/src/field.js"),l=r("./node_modules/@postman/protobufjs/src/util.js"),c=r("./node_modules/@postman/protobufjs/src/oneof.js");function u(e,t){if(e&&e.length){for(var r={},n=0;n<e.length;++n)r[e[n].name]=e[n].toJSON(t);return r}}function d(e,t){o.call(this,e,t),this.nested=void 0,this._nestedArray=null}function h(e){return e._nestedArray=null,e}d.fromJSON=function(e,t){return new d(e,t.options).addJSON(t.nested)},d.arrayToJSON=u,d.isReservedId=function(e,t){if(e){for(var r=0;r<e.length;++r)if("string"!=typeof e[r]&&e[r][0]<=t&&e[r][1]>t)return!0}return!1},d.isReservedName=function(e,t){if(e){for(var r=0;r<e.length;++r)if(e[r]===t)return!0}return!1},Object.defineProperty(d.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=l.toArray(this.nested))}}),d.prototype.toJSON=function(e){return l.toObject(["options",this.options,"nested",u(this.nestedArray,e)])},d.prototype.addJSON=function(e){var t=this;if(e)for(var r,o=Object.keys(e),l=0;l<o.length;++l)r=e[o[l]],t.add((void 0!==r.fields?n.fromJSON:void 0!==r.values?s.fromJSON:void 0!==r.methods?i.fromJSON:void 0!==r.id?a.fromJSON:d.fromJSON)(o[l],r));return this},d.prototype.get=function(e){return l.getProp(this.nested,e)||null},d.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof s)return this.nested[e].values;throw Error("no such enum: "+e)},d.prototype.add=function(e){if(!(e instanceof a&&void 0!==e.extend||e instanceof n||e instanceof c||e instanceof s||e instanceof i||e instanceof d))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t)if(t instanceof d&&e instanceof d&&!(t instanceof n||t instanceof i)){for(var r=t.nestedArray,o=0;o<r.length;++o)e.add(r[o]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),h(this)},d.prototype.remove=function(e){if(!(e instanceof o))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),h(this)},d.prototype.define=function(e,t){if(l.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var r=this;e.length>0;){var n=e.shift();if(r.nested&&r.nested[n]){if(!((r=r.nested[n])instanceof d))throw Error("path conflicts with non-namespace objects")}else r.add(r=new d(n))}return t&&r.addJSON(t),r},d.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof d?e[t++].resolveAll():e[t++].resolve();return this.resolve()},d.prototype.lookup=function(e,t,r){if("boolean"==typeof t?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),l.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var n=this.get(e[0]);if(n){if(1===e.length){if(!t||t.indexOf(n.constructor)>-1)return n}else if(n instanceof d&&(n=n.lookup(e.slice(1),t,!0)))return n}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof d&&(n=this._nestedArray[i].lookup(e,t,!0)))return n;return null===this.parent||r?null:this.parent.lookup(e,t)},d.prototype.lookupType=function(e){var t=this.lookup(e,[n]);if(!t)throw Error("no such type: "+e);return t},d.prototype.lookupEnum=function(e){var t=this.lookup(e,[s]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},d.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[n,s]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},d.prototype.lookupService=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},d._configure=function(e,t,r){n=e,i=t,s=r}},"./node_modules/@postman/protobufjs/src/object.js":function(e,t,r){"use strict";e.exports=s,s.className="ReflectionObject";var n,i=r("./node_modules/@postman/protobufjs/src/util.js");function s(e,t){if(!i.isString(e))throw TypeError("name must be a string");if(t&&!i.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(s.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),s.prototype.toJSON=function(){throw Error()},s.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof n&&t._handleAdd(this)},s.prototype.onRemove=function(e){var t=e.root;t instanceof n&&t._handleRemove(this),this.parent=null,this.resolved=!1},s.prototype.resolve=function(){return this.resolved||this.root instanceof n&&(this.resolved=!0),this},s.prototype.getOption=function(e){if(this.options)return this.options[e]},s.prototype.setOption=function(e,t,r){return r&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},s.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var n=this.parsedOptions;if(r){var s=n.find(function(t){return Object.prototype.hasOwnProperty.call(t,e)});if(s){var o=s[e];i.setProperty(o,r,t)}else(s={})[e]=i.setProperty({},r,t),n.push(s)}else{var a={};a[e]=t,n.push(a)}return this},s.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)this.setOption(r[n],e[r[n]],t);return this},s.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},s._configure=function(e){n=e}},"./node_modules/@postman/protobufjs/src/oneof.js":function(e,t,r){"use strict";e.exports=o;var n=r("./node_modules/@postman/protobufjs/src/object.js");((o.prototype=Object.create(n.prototype)).constructor=o).className="OneOf";var i=r("./node_modules/@postman/protobufjs/src/field.js"),s=r("./node_modules/@postman/protobufjs/src/util.js");function o(e,t,r,i){if(Array.isArray(t)||(r=t,t=void 0),n.call(this,e,r),!(void 0===t||Array.isArray(t)))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function a(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}o.fromJSON=function(e,t){return new o(e,t.oneof,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return s.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},o.prototype.add=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,a(this),this},o.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},o.prototype.onAdd=function(e){n.prototype.onAdd.call(this,e);for(var t=this,r=0;r<this.oneof.length;++r){var i=e.get(this.oneof[r]);i&&!i.partOf&&(i.partOf=t,t.fieldsArray.push(i))}a(this)},o.prototype.onRemove=function(e){for(var t,r=0;r<this.fieldsArray.length;++r)(t=this.fieldsArray[r]).parent&&t.parent.remove(t);n.prototype.onRemove.call(this,e)},o.d=function(){for(var e=Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,r){s.decorateType(t.constructor).add(new o(r,e)),Object.defineProperty(t,r,{get:s.oneOfGetter(e),set:s.oneOfSetter(e)})}}},"./node_modules/@postman/protobufjs/src/parse.js":function(e,t,r){"use strict";e.exports=k,k.filename=null,k.defaults={keepCase:!1};var n=r("./node_modules/@postman/protobufjs/src/tokenize.js"),i=r("./node_modules/@postman/protobufjs/src/root.js"),s=r("./node_modules/@postman/protobufjs/src/type.js"),o=r("./node_modules/@postman/protobufjs/src/field.js"),a=r("./node_modules/@postman/protobufjs/src/mapfield.js"),l=r("./node_modules/@postman/protobufjs/src/oneof.js"),c=r("./node_modules/@postman/protobufjs/src/enum.js"),u=r("./node_modules/@postman/protobufjs/src/service.js"),d=r("./node_modules/@postman/protobufjs/src/method.js"),h=r("./node_modules/@postman/protobufjs/src/types.js"),p=r("./node_modules/@postman/protobufjs/src/util.js"),f=/^[1-9][0-9]*$/,m=/^-?[1-9][0-9]*$/,g=/^0[x][0-9a-fA-F]+$/,y=/^-?0[x][0-9a-fA-F]+$/,_=/^0[0-7]+$/,v=/^-?0[0-7]+$/,b=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,w=/^[a-zA-Z_][a-zA-Z_0-9]*$/,j=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,S=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function k(e,t,r){t instanceof i||(r=t,t=new i),r||(r=k.defaults);var E,C,x,T,O,I=r.preferTrailingComment||!1,A=n(e,r.alternateCommentMode||!1),P=A.next,R=A.push,N=A.peek,$=A.skip,M=A.cmnt,D=!0,L=!1,B=t,U=r.keepCase?function(e){return e}:p.camelCase;function z(e,t,r){var n=k.filename;return r||(k.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(n?n+", ":"")+"line "+A.line+")")}function F(){var e,t=[];do{if('"'!==(e=P())&&"'"!==e)throw z(e);t.push(P()),$(e),e=N()}while('"'===e||"'"===e);return t.join("")}function H(e){var t=P();switch(t){case"'":case'"':return R(t),F();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return W(t,!0)}catch(r){if(e&&j.test(t))return t;throw z(t,"value")}}function q(e,t){do t&&('"'===(r=N())||"'"===r)?e.push(F()):e.push([n=J(P()),$("to",!0)?J(P()):n]);while($(",",!0));var r,n,i={options:void 0};i.setOption=function(e,t){void 0===this.options&&(this.options={}),this.options[e]=t},Q(i,function(e){if("option"===e)es(i,e),$(";");else throw z(e)},function(){ec(i)})}function W(e,t){var r=1;switch("-"===e.charAt(0)&&(r=-1,e=e.substring(1)),e){case"inf":case"INF":case"Inf":return 1/0*r;case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(f.test(e))return r*parseInt(e,10);if(g.test(e))return r*parseInt(e,16);if(_.test(e))return r*parseInt(e,8);if(b.test(e))return r*parseFloat(e);throw z(e,"number",t)}function J(e,t){switch(e){case"max":case"MAX":case"Max":return 0x1fffffff;case"0":return 0}if(!t&&"-"===e.charAt(0))throw z(e,"id");if(m.test(e))return parseInt(e,10);if(y.test(e))return parseInt(e,16);if(v.test(e))return parseInt(e,8);throw z(e,"id")}function V(){if(void 0!==C)throw z("package");if(C=P(),!j.test(C))throw z(C,"name");B=B.define(C),$(";")}function K(){var e,t=N();switch(t){case"weak":e=T||(T=[]),P();break;case"public":P();default:e=x||(x=[])}t=F(),$(";"),e.push(t)}function G(){if($("="),!(L="proto3"===(O=F()))&&"proto2"!==O)throw z(O,"syntax");$(";")}function Z(e,t){switch(t){case"option":return es(e,t),$(";"),!0;case"message":return X(e,t),!0;case"enum":return en(e,t),!0;case"service":return eu(e,t),!0;case"extend":return eh(e,t),!0}return!1}function Q(e,t,r){var n,i=A.line;if(e&&("string"!=typeof e.comment&&(e.comment=M()),e.filename=k.filename),$("{",!0)){for(;"}"!==(n=P());)t(n);$(";",!0)}else r&&r(),$(";"),e&&("string"!=typeof e.comment||I)&&(e.comment=M(i)||e.comment)}function X(e,t){if(!w.test(t=P()))throw z(t,"type name");var r=new s(t);Q(r,function(e){if(!Z(r,e))switch(e){case"map":et(r,e);break;case"required":case"repeated":Y(r,e);break;case"optional":L?Y(r,"proto3_optional"):Y(r,"optional");break;case"oneof":er(r,e);break;case"extensions":q(r.extensions||(r.extensions=[]));break;case"reserved":q(r.reserved||(r.reserved=[]),!0);break;default:if(!L||!j.test(e))throw z(e);R(e),Y(r,"optional")}}),e.add(r)}function Y(e,t,r){var n=P();if("group"===n)return void ee(e,t);for(;n.endsWith(".")||N().startsWith(".");)n+=P();if(!j.test(n))throw z(n,"type");var i=P();if(!w.test(i))throw z(i,"name");i=U(i),$("=");var s=new o(i,J(P()),n,t,r);if(Q(s,function(e){if("option"===e)es(s,e),$(";");else throw z(e)},function(){ec(s)}),"proto3_optional"===t){var a=new l("_"+i);s.setOption("proto3_optional",!0),a.add(s),e.add(a)}else e.add(s);!L&&s.repeated&&(void 0!==h.packed[n]||void 0===h.basic[n])&&s.setOption("packed",!1,!0)}function ee(e,t){var r=P();if(!w.test(r))throw z(r,"name");var n=p.lcFirst(r);r===n&&(r=p.ucFirst(r)),$("=");var i=J(P()),a=new s(r);a.group=!0;var l=new o(n,i,r,t);l.filename=k.filename,Q(a,function(e){switch(e){case"option":es(a,e),$(";");break;case"required":case"repeated":Y(a,e);break;case"optional":L?Y(a,"proto3_optional"):Y(a,"optional");break;case"message":X(a,e);break;case"enum":en(a,e);break;default:throw z(e)}}),e.add(a).add(l)}function et(e){$("<");var t=P();if(void 0===h.mapKey[t])throw z(t,"type");$(",");var r=P();if(!j.test(r))throw z(r,"type");$(">");var n=P();if(!w.test(n))throw z(n,"name");$("=");var i=new a(U(n),J(P()),t,r);Q(i,function(e){if("option"===e)es(i,e),$(";");else throw z(e)},function(){ec(i)}),e.add(i)}function er(e,t){if(!w.test(t=P()))throw z(t,"name");var r=new l(U(t));Q(r,function(e){"option"===e?(es(r,e),$(";")):(R(e),Y(r,"optional"))}),e.add(r)}function en(e,t){if(!w.test(t=P()))throw z(t,"name");var r=new c(t);Q(r,function(e){switch(e){case"option":es(r,e),$(";");break;case"reserved":q(r.reserved||(r.reserved=[]),!0);break;default:ei(r,e)}}),e.add(r)}function ei(e,t){if(!w.test(t))throw z(t,"name");$("=");var r=J(P(),!0),n={options:void 0};n.setOption=function(e,t){void 0===this.options&&(this.options={}),this.options[e]=t},Q(n,function(e){if("option"===e)es(n,e),$(";");else throw z(e)},function(){ec(n)}),e.add(t,r,n.comment,n.options)}function es(e,t){var r,n=$("(",!0);if(!j.test(t=P()))throw z(t,"name");var i=t,s=i;n&&($(")"),s=i="("+i+")",t=N(),S.test(t)&&(r=t.slice(1),i+=t,P())),$("=");var o=eo(e,i);el(e,s,o,r)}function eo(e,t){if($("{",!0)){for(var r={};!$("}",!0);){if(!w.test(E=P()))throw z(E,"name");if(null===E)throw z(E,"end of input");var n,i,s=E;if($(":",!0),"{"===N())n=eo(e,t+"."+E);else if("["===N()){if(n=[],$("[",!0)){do i=H(!0),n.push(i);while($(",",!0));$("]"),void 0!==i&&ea(e,t+"."+E,i)}}else n=H(!0),ea(e,t+"."+E,n);var o=r[s];o&&(n=[].concat(o).concat(n)),r[s]=n,$(",",!0),$(";",!0)}return r}var a=H(!0);return ea(e,t,a),a}function ea(e,t,r){e.setOption&&e.setOption(t,r)}function el(e,t,r,n){e.setParsedOption&&e.setParsedOption(t,r,n)}function ec(e){if($("[",!0)){do es(e,"option");while($(",",!0));$("]")}return e}function eu(e,t){if(!w.test(t=P()))throw z(t,"service name");var r=new u(t);Q(r,function(e){if(!Z(r,e))if("rpc"===e)ed(r,e);else throw z(e)}),e.add(r)}function ed(e,t){var r=M(),n=t;if(!w.test(t=P()))throw z(t,"name");var i,s,o,a,l=t;if($("("),$("stream",!0)&&(s=!0),!j.test(t=P())||(i=t,$(")"),$("returns"),$("("),$("stream",!0)&&(a=!0),!j.test(t=P())))throw z(t);o=t,$(")");var c=new d(l,n,i,o,s,a);c.comment=r,Q(c,function(e){if("option"===e)es(c,e),$(";");else throw z(e)}),e.add(c)}function eh(e,t){if(!j.test(t=P()))throw z(t,"reference");var r=t;Q(null,function(t){switch(t){case"required":case"repeated":Y(e,t,r);break;case"optional":L?Y(e,"proto3_optional",r):Y(e,"optional",r);break;default:if(!L||!j.test(t))throw z(t);R(t),Y(e,"optional",r)}})}for(;null!==(E=P());)switch(E){case"package":if(!D)throw z(E);V();break;case"import":if(!D)throw z(E);K();break;case"syntax":if(!D)throw z(E);G();break;case"option":es(B,E),$(";");break;default:if(Z(B,E)){D=!1;continue}throw z(E)}return k.filename=null,{package:C,imports:x,weakImports:T,syntax:O,root:t}}},"./node_modules/@postman/protobufjs/src/reader.js":function(e,t,r){"use strict";e.exports=l;var n,i=r("./node_modules/@postman/protobufjs/src/util/minimal.js"),s=i.LongBits,o=i.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function l(e){this.buf=e,this.pos=0,this.len=e.length}var c="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new l(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new l(e);throw Error("illegal buffer")},u=function(){return i.Buffer?function(e){return(l.create=function(e){return i.Buffer.isBuffer(e)?new n(e):c(e)})(e)}:c};function d(){var e=new s(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw a(this,8);return new s(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}l.create=u(),l.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,l.prototype.uint32=function(){var e=0xffffffff;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return e}}(),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},l.prototype.bool=function(){return 0!==this.uint32()},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return h(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|h(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},l.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},l.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var n=i.Buffer;return n?n.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)},l.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},l.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do if(this.pos>=this.len)throw a(this);while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},l._configure=function(e){n=e,l.create=u(),n._configure();var t=i.Long?"toLong":"toNumber";i.merge(l.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},"./node_modules/@postman/protobufjs/src/reader_buffer.js":function(e,t,r){"use strict";e.exports=s;var n=r("./node_modules/@postman/protobufjs/src/reader.js");(s.prototype=Object.create(n.prototype)).constructor=s;var i=r("./node_modules/@postman/protobufjs/src/util/minimal.js");function s(e){n.call(this,e)}s._configure=function(){i.Buffer&&(s.prototype._slice=i.Buffer.prototype.slice)},s.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},s._configure()},"./node_modules/@postman/protobufjs/src/root.js":function(e,t,r){"use strict";e.exports=d;var n,i,s,o=r("./node_modules/@postman/protobufjs/src/namespace.js");((d.prototype=Object.create(o.prototype)).constructor=d).className="Root";var a=r("./node_modules/@postman/protobufjs/src/field.js"),l=r("./node_modules/@postman/protobufjs/src/enum.js"),c=r("./node_modules/@postman/protobufjs/src/oneof.js"),u=r("./node_modules/@postman/protobufjs/src/util.js");function d(e){o.call(this,"",e),this.deferred=[],this.files=[]}function h(){}d.fromJSON=function(e,t){return t||(t=new d),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},d.prototype.resolvePath=u.path.resolve,d.prototype.fetch=u.fetch,d.prototype.load=function e(t,r,n){"function"==typeof r&&(n=r,r=void 0);var o=this;if(!n)return u.asPromise(e,o,t,r);var a=n===h;function l(e,t){if(n){if(a)throw e;var r=n;n=null,r(e,t)}}function c(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var r=e.substring(t);if(r in s)return r}return null}function d(e,t){try{if(u.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),u.isString(t)){i.filename=e;var n,s=i(t,o,r),d=0;if(s.imports)for(;d<s.imports.length;++d)(n=c(s.imports[d])||o.resolvePath(e,s.imports[d]))&&p(n);if(s.weakImports)for(d=0;d<s.weakImports.length;++d)(n=c(s.weakImports[d])||o.resolvePath(e,s.weakImports[d]))&&p(n,!0)}else o.setOptions(t.options).addJSON(t.nested)}catch(e){l(e)}a||f||l(null,o)}function p(e,t){if(e=c(e)||e,!(o.files.indexOf(e)>-1)){if(o.files.push(e),e in s)return void(a?d(e,s[e]):(++f,setTimeout(function(){--f,d(e,s[e])})));if(a){var r;try{r=u.fs.readFileSync(e).toString("utf8")}catch(e){t||l(e);return}d(e,r)}else++f,o.fetch(e,function(r,i){if(--f,n){if(r)return void(t?f||l(null,o):l(r));d(e,i)}})}}var f=0;u.isString(t)&&(t=[t]);for(var m,g=0;g<t.length;++g)(m=o.resolvePath("",t[g]))&&p(m);if(a)return o;f||l(null,o)},d.prototype.loadSync=function(e,t){if(!u.isNode)throw Error("not supported");return this.load(e,t,h)},d.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return o.prototype.resolveAll.call(this)};var p=/^[A-Z]/;function f(e,t){var r=t.parent.lookup(t.extend);if(r){var n=new a(t.fullName,t.id,t.type,t.rule,void 0,t.options);return!!r.get(n.name)||(n.declaringField=t,t.extensionField=n,r.add(n),!0)}return!1}d.prototype._handleAdd=function(e){if(e instanceof a)void 0===e.extend||e.extensionField||f(this,e)||this.deferred.push(e);else if(e instanceof l)p.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof c)){if(e instanceof n)for(var t=0;t<this.deferred.length;)f(this,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);p.test(e.name)&&(e.parent[e.name]=e)}},d.prototype._handleRemove=function(e){if(e instanceof a){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof l)p.test(e.name)&&delete e.parent[e.name];else if(e instanceof o){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);p.test(e.name)&&delete e.parent[e.name]}},d._configure=function(e,t,r){n=e,i=t,s=r}},"./node_modules/@postman/protobufjs/src/roots.js":function(e){"use strict";e.exports={}},"./node_modules/@postman/protobufjs/src/rpc.js":function(e,t,r){"use strict";t.Service=r("./node_modules/@postman/protobufjs/src/rpc/service.js")},"./node_modules/@postman/protobufjs/src/rpc/service.js":function(e,t,r){"use strict";e.exports=i;var n=r("./node_modules/@postman/protobufjs/src/util/minimal.js");function i(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!r}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,s,o){if(!s)throw TypeError("request must be specified");var a=this;if(!o)return n.asPromise(e,a,t,r,i,s);if(!a.rpcImpl)return void setTimeout(function(){o(Error("already ended"))},0);try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(e,r){if(e)return a.emit("error",e,t),o(e);if(null===r)return void a.end(!0);if(!(r instanceof i))try{r=i[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),o(e)}return a.emit("data",r,t),o(null,r)})}catch(e){a.emit("error",e,t),setTimeout(function(){o(e)},0);return}},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},"./node_modules/@postman/protobufjs/src/service.js":function(e,t,r){"use strict";e.exports=a;var n=r("./node_modules/@postman/protobufjs/src/namespace.js");((a.prototype=Object.create(n.prototype)).constructor=a).className="Service";var i=r("./node_modules/@postman/protobufjs/src/method.js"),s=r("./node_modules/@postman/protobufjs/src/util.js"),o=r("./node_modules/@postman/protobufjs/src/rpc.js");function a(e,t){n.call(this,e,t),this.methods={},this._methodsArray=null}function l(e){return e._methodsArray=null,e}a.fromJSON=function(e,t){var r=new a(e,t.options);if(t.methods)for(var n=Object.keys(t.methods),s=0;s<n.length;++s)r.add(i.fromJSON(n[s],t.methods[n[s]]));return t.nested&&r.addJSON(t.nested),r.comment=t.comment,r},a.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&!!e.keepComments;return s.toObject(["options",t&&t.options||void 0,"methods",n.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},Object.defineProperty(a.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=s.toArray(this.methods))}}),a.prototype.get=function(e){return s.getProp(this.methods,e)||n.prototype.get.call(this,e)},a.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return n.prototype.resolve.call(this)},a.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof i?(this.methods[e.name]=e,e.parent=this,l(this)):n.prototype.add.call(this,e)},a.prototype.remove=function(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,l(this)}return n.prototype.remove.call(this,e)},a.prototype.create=function(e,t,r){for(var n,i=new o.Service(e,t,r),a=0;a<this.methodsArray.length;++a){var l=s.lcFirst((n=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");i[l]=s.codegen(["r","c"],s.isReserved(l)?l+"_":l)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return i}},"./node_modules/@postman/protobufjs/src/tokenize.js":function(e){"use strict";e.exports=d;var t=/[\s{}=;:[\],'"()<>]/g,r=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,n=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,i=/^ *[*/]+ */,s=/^\s*\*?\/*/,o=/\n/g,a=/\s/,l=/\\(.?)/g,c={0:"\0",r:"\r",n:"\n",t:"	"};function u(e){return e.replace(l,function(e,t){switch(t){case"\\":case"":return t;default:return c[t]||""}})}function d(e,l){e=e.toString();var c=0,d=e.length,h=1,p=0,f={},m=[],g=null;function y(e){return Error("illegal "+e+" (line "+h+")")}function _(){var t="'"===g?n:r;t.lastIndex=c-1;var i=t.exec(e);if(!i)throw y("string");return c=t.lastIndex,k(g),g=null,u(i[1])}function v(t){return e.charAt(t)}function b(t,r,n){var a,c={type:e.charAt(t++),lineEmpty:!1,leading:n},u=t-(l?2:3);do if(--u<0||"\n"===(a=e.charAt(u))){c.lineEmpty=!0;break}while(" "===a||"	"===a);for(var d=e.substring(t,r).split(o),m=0;m<d.length;++m)d[m]=d[m].replace(l?s:i,"").trim();c.text=d.join("\n").trim(),f[h]=c,p=h}function w(t){var r=j(t),n=e.substring(t,r);return/^\s*\/\//.test(n)}function j(e){for(var t=e;t<d&&"\n"!==v(t);)t++;return t}function S(){if(m.length>0)return m.shift();if(g)return _();var r,n,i,s,o,u=0===c;do{if(c===d)return null;for(r=!1;a.test(i=v(c));)if("\n"===i&&(u=!0,++h),++c===d)return null;if("/"===v(c)){if(++c===d)throw y("comment");if("/"===v(c))if(l){if(s=c,o=!1,w(c-1)){o=!0;do if((c=j(c))===d||(c++,!u))break;while(w(c))}else c=Math.min(d,j(c)+1);o&&(b(s,c,u),u=!0),h++,r=!0}else{for(o="/"===v(s=c+1);"\n"!==v(++c);)if(c===d)return null;++c,o&&(b(s,c-1,u),u=!0),++h,r=!0}else{if("*"!==(i=v(c)))return"/";s=c+1,o=l||"*"===v(s);do{if("\n"===i&&++h,++c===d)throw y("comment");n=i,i=v(c)}while("*"!==n||"/"!==i);++c,o&&(b(s,c-2,u),u=!0),r=!0}}}while(r);var p=c;if(t.lastIndex=0,!t.test(v(p++)))for(;p<d&&!t.test(v(p));)++p;var f=e.substring(c,c=p);return('"'===f||"'"===f)&&(g=f),f}function k(e){m.push(e)}function E(){if(!m.length){var e=S();if(null===e)return null;k(e)}return m[0]}function C(e,t){var r=E();if(r===e)return S(),!0;if(!t)throw y("token '"+r+"', '"+e+"' expected");return!1}function x(e){var t,r=null;return void 0===e?(t=f[h-1],delete f[h-1],t&&(l||"*"===t.type||t.lineEmpty)&&(r=t.leading?t.text:null)):(p<e&&E(),t=f[e],delete f[e],t&&!t.lineEmpty&&(l||"/"===t.type)&&(r=t.leading?null:t.text)),r}return Object.defineProperty({next:S,peek:E,push:k,skip:C,cmnt:x},"line",{get:function(){return h}})}d.unescape=u},"./node_modules/@postman/protobufjs/src/type.js":function(e,t,r){"use strict";e.exports=_;var n=r("./node_modules/@postman/protobufjs/src/namespace.js");((_.prototype=Object.create(n.prototype)).constructor=_).className="Type";var i=r("./node_modules/@postman/protobufjs/src/enum.js"),s=r("./node_modules/@postman/protobufjs/src/oneof.js"),o=r("./node_modules/@postman/protobufjs/src/field.js"),a=r("./node_modules/@postman/protobufjs/src/mapfield.js"),l=r("./node_modules/@postman/protobufjs/src/service.js"),c=r("./node_modules/@postman/protobufjs/src/message.js"),u=r("./node_modules/@postman/protobufjs/src/reader.js"),d=r("./node_modules/@postman/protobufjs/src/writer.js"),h=r("./node_modules/@postman/protobufjs/src/util.js"),p=r("./node_modules/@postman/protobufjs/src/encoder.js"),f=r("./node_modules/@postman/protobufjs/src/decoder.js"),m=r("./node_modules/@postman/protobufjs/src/verifier.js"),g=r("./node_modules/@postman/protobufjs/src/converter.js"),y=r("./node_modules/@postman/protobufjs/src/wrappers.js");function _(e,t){n.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function v(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(_.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],n=r.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=h.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=h.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=_.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof c||((e.prototype=new c).constructor=e,h.merge(e.prototype,t)),e.$type=e.prototype.$type=this,h.merge(e,c,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var n={};for(r=0;r<this.oneofsArray.length;++r)n[this._oneofsArray[r].resolve().name]={get:h.oneOfGetter(this._oneofsArray[r].oneof),set:h.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,n)}}}),_.generateConstructor=function(e){for(var t,r=h.codegen(["p"],e.name),n=0;n<e.fieldsArray.length;++n)(t=e._fieldsArray[n]).map?r("this%s={}",h.safeProp(t.name)):t.repeated&&r("this%s=[]",h.safeProp(t.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},_.fromJSON=function(e,t){var r=new _(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var c=Object.keys(t.fields),u=0;u<c.length;++u)r.add((void 0!==t.fields[c[u]].keyType?a.fromJSON:o.fromJSON)(c[u],t.fields[c[u]]));if(t.oneofs)for(c=Object.keys(t.oneofs),u=0;u<c.length;++u)r.add(s.fromJSON(c[u],t.oneofs[c[u]]));if(t.nested)for(c=Object.keys(t.nested),u=0;u<c.length;++u){var d=t.nested[c[u]];r.add((void 0!==d.id?o.fromJSON:void 0!==d.fields?_.fromJSON:void 0!==d.values?i.fromJSON:void 0!==d.methods?l.fromJSON:n.fromJSON)(c[u],d))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),r},_.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&!!e.keepComments;return h.toObject(["options",t&&t.options||void 0,"oneofs",n.arrayToJSON(this.oneofsArray,e),"fields",n.arrayToJSON(this.fieldsArray.filter(function(e){return!e.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},_.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var r=this.oneofsArray;for(t=0;t<r.length;)r[t++].resolve();return n.prototype.resolveAll.call(this)},_.prototype.get=function(e){return h.getProp(this.fields,e)||h.getProp(this.oneofs,e)||h.getProp(this.nested,e)||null},_.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof o&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),v(this)}return e instanceof s?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),v(this)):n.prototype.add.call(this,e)},_.prototype.remove=function(e){if(e instanceof o&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),v(this)}if(e instanceof s){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),v(this)}return n.prototype.remove.call(this,e)},_.prototype.isReservedId=function(e){return n.isReservedId(this.reserved,e)},_.prototype.isReservedName=function(e){return n.isReservedName(this.reserved,e)},_.prototype.create=function(e){return new this.ctor(e)},_.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=p(this)({Writer:d,types:t,util:h}),this.decode=f(this)({Reader:u,types:t,util:h}),this.verify=m(this)({types:t,util:h}),this.fromObject=g.fromObject(this)({types:t,util:h}),this.toObject=g.toObject(this)({types:t,util:h});var n=y[e];if(n){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(i),i.toObject=this.toObject,this.toObject=n.toObject.bind(i)}return this},_.prototype.encode=function(e,t){return this.setup().encode(e,t)},_.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},_.prototype.decode=function(e,t){return this.setup().decode(e,t)},_.prototype.decodeDelimited=function(e){return e instanceof u||(e=u.create(e)),this.decode(e,e.uint32())},_.prototype.verify=function(e){return this.setup().verify(e)},_.prototype.fromObject=function(e){return this.setup().fromObject(e)},_.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},_.d=function(e){return function(t){h.decorateType(t,e)}}},"./node_modules/@postman/protobufjs/src/types.js":function(e,t,r){"use strict";var n=t,i=r("./node_modules/@postman/protobufjs/src/util.js"),s=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function o(e,t){var r=0,n={};for(t|=0;r<e.length;)n[s[r+t]]=e[r++];return n}n.basic=o([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=o([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),n.long=o([0,0,0,1,1],7),n.mapKey=o([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=o([1,5,0,0,0,5,5,0,0,0,1,1,0])},"./node_modules/@postman/protobufjs/src/util.js":function(e,t,r){"use strict";var n,i,s=e.exports=r("./node_modules/@postman/protobufjs/src/util/minimal.js"),o=r("./node_modules/@postman/protobufjs/src/roots.js");s.codegen=r("./node_modules/@protobufjs/codegen/index.js"),s.fetch=r("./node_modules/@protobufjs/fetch/index.js"),s.path=r("./node_modules/@protobufjs/path/index.js"),s.fs=s.inquire("fs"),s.toArray=function(e){if(e){for(var t=Object.keys(e),r=Array(t.length),n=0;n<t.length;)r[n]=e[t[n++]];return r}return[]},s.toObject=function(e){for(var t={},r=0;r<e.length;){var n=e[r++],i=e[r++];void 0!==i&&(t[n]=i)}return t};var a=/\\/g,l=/"/g;s.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},s.safeProp=function(e){return!/^[$\w_]+$/.test(e)||s.isReserved(e)?'["'+e.replace(a,"\\\\").replace(l,'\\"')+'"]':"."+e},s.getProp=function(e,t){return e&&Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},s.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var c=/_([a-z])/g;s.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(c,function(e,t){return t.toUpperCase()})},s.compareFieldsById=function(e,t){return e.id-t.id},s.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(s.decorateRoot.remove(e.$type),e.$type.name=t,s.decorateRoot.add(e.$type)),e.$type;n||(n=r("./node_modules/@postman/protobufjs/src/type.js"));var i=new n(t||e.name);return s.decorateRoot.add(i),i.ctor=e,Object.defineProperty(e,"$type",{value:i,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:i,enumerable:!1}),i};var u=0;s.decorateEnum=function(e){if(e.$type)return e.$type;i||(i=r("./node_modules/@postman/protobufjs/src/enum.js"));var t=new i("Enum"+u++,e);return s.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},s.setProperty=function(e,t,r){function n(e,t,r){var i=t.shift();if("__proto__"===i||"prototype"===i)return e;if(t.length>0)e[i]=n(e[i]||{},t,r);else{var s=e[i];s&&(r=[].concat(s).concat(r)),e[i]=r}return e}if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return n(e,t=t.split("."),r)},Object.defineProperty(s,"decorateRoot",{get:function(){return o.decorated||(o.decorated=new(r("./node_modules/@postman/protobufjs/src/root.js")))}})},"./node_modules/@postman/protobufjs/src/util/longbits.js":function(e,t,r){"use strict";e.exports=i;var n=r("./node_modules/@postman/protobufjs/src/util/minimal.js");function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var s=i.zero=new i(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};var o=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return s;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/0x100000000>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>0xffffffff&&(r=0,++n>0xffffffff&&(n=0))),new i(r,n)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(n.isString(e))if(!n.Long)return i.fromNumber(parseInt(e,10));else e=n.Long.fromString(e);return e.low||e.high?new i(e.low>>>0,e.high>>>0):s},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+0x100000000*r)}return this.lo+0x100000000*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var a=String.prototype.charCodeAt;i.fromHash=function(e){return e===o?s:new i((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},"./node_modules/@postman/protobufjs/src/util/minimal.js":function(e,t,r){"use strict";var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function s(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack||""}),r&&i(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=r("./node_modules/@protobufjs/aspromise/index.js"),n.base64=r("./node_modules/@protobufjs/base64/index.js"),n.EventEmitter=r("./node_modules/@protobufjs/eventemitter/index.js"),n.float=r("./node_modules/@protobufjs/float/index.js"),n.inquire=r("./node_modules/@protobufjs/inquire/index.js"),n.utf8=r("./node_modules/@protobufjs/utf8/index.js"),n.pool=r("./node_modules/@protobufjs/pool/index.js"),n.LongBits=r("./node_modules/@postman/protobufjs/src/util/longbits.js"),n.isNode=!!("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),n.global=n.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!!(null!=r&&e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(!!t)},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=s,n.ProtocolError=s("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;if(!e){n._Buffer_from=n._Buffer_allocUnsafe=null;return}n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}}},"./node_modules/@postman/protobufjs/src/verifier.js":function(e,t,r){"use strict";e.exports=l;var n=r("./node_modules/@postman/protobufjs/src/enum.js"),i=r("./node_modules/@postman/protobufjs/src/util.js");function s(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function o(e,t,r,i){if(t.resolvedType)if(t.resolvedType instanceof n){e("switch(%s){",i)("default:")("return%j",s(t,"enum value"));for(var o=Object.keys(t.resolvedType.values),a=0;a<o.length;++a)e("case %i:",t.resolvedType.values[o[a]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",r,i)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",s(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",s(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",s(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",s(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",s(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",s(t,"buffer"))}return e}function a(e,t,r){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",r)("return%j",s(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",r)("return%j",s(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",r)("return%j",s(t,"boolean key"))}return e}function l(e){var t=i.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r=e.oneofsArray,n={};r.length&&t("var p={}");for(var l=0;l<e.fieldsArray.length;++l){var c=e._fieldsArray[l].resolve(),u="m"+i.safeProp(c.name);if(c.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",u,c.name),c.map)t("if(!util.isObject(%s))",u)("return%j",s(c,"object"))("var k=Object.keys(%s)",u)("for(var i=0;i<k.length;++i){"),a(t,c,"k[i]"),o(t,c,l,u+"[k[i]]")("}");else if(c.repeated)t("if(!Array.isArray(%s))",u)("return%j",s(c,"array"))("for(var i=0;i<%s.length;++i){",u),o(t,c,l,u+"[i]")("}");else{if(c.partOf){var d=i.safeProp(c.partOf.name);1===n[c.partOf.name]&&t("if(p%s===1)",d)("return%j",c.partOf.name+": multiple values"),n[c.partOf.name]=1,t("p%s=1",d)}o(t,c,l,u)}c.optional&&t("}")}return t("return null")}},"./node_modules/@postman/protobufjs/src/wrappers.js":function(e,t,r){"use strict";var n=t,i=r("./node_modules/@postman/protobufjs/src/message.js");n[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),r=this.lookup(t);if(r){var n="."===e["@type"].charAt(0)?e["@type"].slice(1):e["@type"];return -1===n.indexOf("/")&&(n="/"+n),this.create({type_url:n,value:r.encode(r.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var r="type.googleapis.com/",n="",s="";if(t&&t.json&&e.type_url&&e.value){s=e.type_url.substring(e.type_url.lastIndexOf("/")+1),n=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var o=this.lookup(s);o&&(e=o.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof i){var a=e.$type.toObject(e,t),l="."===e.$type.fullName[0]?e.$type.fullName.slice(1):e.$type.fullName;return""===n&&(n=r),s=n+l,a["@type"]=s,a}return this.toObject(e,t)}}},"./node_modules/@postman/protobufjs/src/writer.js":function(e,t,r){"use strict";e.exports=d;var n,i=r("./node_modules/@postman/protobufjs/src/util/minimal.js"),s=i.LongBits,o=i.base64,a=i.utf8;function l(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function c(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new l(c,0,0),this.tail=this.head,this.states=null}var h=function(){return i.Buffer?function(){return(d.create=function(){return new n})()}:function(){return new d}};function p(e,t,r){t[r]=255&e}function f(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e}function m(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function y(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}d.create=h(),d.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(d.alloc=i.pool(d.alloc,i.Array.prototype.subarray)),d.prototype._push=function(e,t,r){return this.tail=this.tail.next=new l(e,t,r),this.len+=t,this},m.prototype=Object.create(l.prototype),m.prototype.fn=f,d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new m((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(g,10,s.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=s.from(e);return this._push(g,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=s.from(e).zzEncode();return this._push(g,t.length(),t)},d.prototype.bool=function(e){return this._push(p,1,+!!e)},d.prototype.fixed32=function(e){return this._push(y,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=s.from(e);return this._push(y,4,t.lo)._push(y,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var _=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(i.isString(e)){var r=d.alloc(t=o.length(e));o.decode(e,r,0),e=r}return this.uint32(t)._push(_,t,e)},d.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(p,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new l(c,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(c,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},d._configure=function(e){n=e,d.create=h(),n._configure()}},"./node_modules/@postman/protobufjs/src/writer_buffer.js":function(e,t,r){"use strict";e.exports=s;var n=r("./node_modules/@postman/protobufjs/src/writer.js");(s.prototype=Object.create(n.prototype)).constructor=s;var i=r("./node_modules/@postman/protobufjs/src/util/minimal.js");function s(){n.call(this)}function o(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}s._configure=function(){s.alloc=i._Buffer_allocUnsafe,s.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},s.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(s.writeBytesBuffer,t,e),this},s.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},s._configure()},"./node_modules/@postman/tough-cookie/lib/cookie.js":function(e,t,r){"use strict";let n=r("./node_modules/punycode/punycode.es6.js"),i=r("./node_modules/url-parse/index.js"),s=r("./node_modules/@postman/tough-cookie/lib/pubsuffix-psl.js"),o=r("./node_modules/@postman/tough-cookie/lib/store.js").Store,a=r("./node_modules/@postman/tough-cookie/lib/memstore.js").MemoryCookieStore,l=r("./node_modules/@postman/tough-cookie/lib/pathMatch.js").pathMatch,c=r("./node_modules/@postman/tough-cookie/lib/validators.js"),u=r("./node_modules/@postman/tough-cookie/lib/version.js"),{fromCallback:d}=r("./node_modules/universalify/index.js"),{getCustomInspectSymbol:h}=r("./node_modules/@postman/tough-cookie/lib/utilHelper.js"),p=/^[\x21\x23-\x2B\x2D-\x3A\x3C-\x5B\x5D-\x7E]+$/,f=/[\x00-\x1F]/,m=["\n","\r","\0"],g=/[\x20-\x3A\x3C-\x7E]+/,y=/[\x09\x20-\x2F\x3B-\x40\x5B-\x60\x7B-\x7E]/,_={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},v=2147483647e3,b=0,w='Invalid sameSiteContext option for getCookies(); expected one of "strict", "lax", or "none"';function j(e){c.validate(c.isNonEmptyString(e),e);let t=String(e).toLowerCase();return"none"===t||"lax"===t||"strict"===t?t:null}let S=Object.freeze({SILENT:"silent",STRICT:"strict",DISABLED:"unsafe-disabled"}),k=/(?:^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$)|(?:^(?:(?:[a-f\d]{1,4}:){7}(?:[a-f\d]{1,4}|:)|(?:[a-f\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|:[a-f\d]{1,4}|:)|(?:[a-f\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,2}|:)|(?:[a-f\d]{1,4}:){4}(?:(?::[a-f\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,3}|:)|(?:[a-f\d]{1,4}:){3}(?:(?::[a-f\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,4}|:)|(?:[a-f\d]{1,4}:){2}(?:(?::[a-f\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,5}|:)|(?:[a-f\d]{1,4}:){1}(?:(?::[a-f\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,6}|:)|(?::(?:(?::[a-f\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,7}|:)))$)/,E=`
\\[?(?:
(?:[a-fA-F\\d]{1,4}:){7}(?:[a-fA-F\\d]{1,4}|:)|
(?:[a-fA-F\\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|:[a-fA-F\\d]{1,4}|:)|
(?:[a-fA-F\\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,2}|:)|
(?:[a-fA-F\\d]{1,4}:){4}(?:(?::[a-fA-F\\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,3}|:)|
(?:[a-fA-F\\d]{1,4}:){3}(?:(?::[a-fA-F\\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,4}|:)|
(?:[a-fA-F\\d]{1,4}:){2}(?:(?::[a-fA-F\\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,5}|:)|
(?:[a-fA-F\\d]{1,4}:){1}(?:(?::[a-fA-F\\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,6}|:)|
(?::(?:(?::[a-fA-F\\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,7}|:))
)(?:%[0-9a-zA-Z]{1,})?\\]?
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),C=RegExp(`^${E}$`);function x(e,t,r,n){let i=0;for(;i<e.length;){let t=e.charCodeAt(i);if(t<=47||t>=58)break;i++}return i<t||i>r||!n&&i!=e.length?null:parseInt(e.substr(0,i),10)}function T(e){let t=e.split(":"),r=[0,0,0];if(3!==t.length)return null;for(let e=0;e<3;e++){let n=2==e,i=x(t[e],1,2,n);if(null===i)return null;r[e]=i}return r}function O(e){let t=_[e=String(e).substr(0,3).toLowerCase()];return t>=0?t:null}function I(e){if(!e)return;let t=e.split(y);if(!t)return;let r=null,n=null,i=null,s=null,o=null,a=null;for(let e=0;e<t.length;e++){let l,c=t[e].trim();if(c.length){if(null===i&&(l=T(c))){r=l[0],n=l[1],i=l[2];continue}if(null===s&&null!==(l=x(c,1,2,!0))){s=l;continue}if(null===o&&null!==(l=O(c))){o=l;continue}null===a&&null!==(l=x(c,2,4,!0))&&((a=l)>=70&&a<=99?a+=1900:a>=0&&a<=69&&(a+=2e3))}}if(null!==s&&null!==o&&null!==a&&null!==i&&!(s<1)&&!(s>31)&&!(a<1601)&&!(r>23)&&!(n>59)&&!(i>59))return new Date(Date.UTC(a,o,s,r,n,i))}function A(e){return c.validate(c.isDate(e),e),e.toUTCString()}function P(e){return null==e?null:(e=e.trim().replace(/^\./,""),C.test(e)&&(e=e.replace("[","").replace("]","")),n&&/[^\u0001-\u007f]/.test(e)&&(e=n.toASCII(e)),e.toLowerCase())}function R(e,t,r){if(null==e||null==t)return null;if(!1!==r&&(e=P(e),t=P(t)),e==t)return!0;let n=e.lastIndexOf(t);return!(n<=0||e.length!==t.length+n||"."!==e.substr(n-1,1)||k.test(e))}function N(e){if(!e||"/"!==e.substr(0,1))return"/";if("/"===e)return e;let t=e.lastIndexOf("/");return 0===t?"/":e.slice(0,t)}function $(e){if(c.isEmptyString(e))return e;for(let t=0;t<m.length;t++){let r=e.indexOf(m[t]);-1!==r&&(e=e.substr(0,r))}return e}function M(e,t){let r,n;e=$(e),c.validate(c.isString(e),e);let i=e.indexOf("=");if(t)0===i&&(i=(e=e.substr(1)).indexOf("="));else if(i<=0)return;if(i<=0?(r="",n=e.trim()):(r=e.substr(0,i).trim(),n=e.substr(i+1).trim()),f.test(r)||f.test(n))return;let s=new V;return s.key=r,s.value=n,s}function D(e,t){if(t&&"object"==typeof t||(t={}),c.isEmptyString(e)||!c.isString(e))return null;let r=(e=e.trim()).indexOf(";"),n=M(-1===r?e:e.substr(0,r),!!t.loose);if(!n)return;if(-1===r)return n;let i=e.slice(r+1).trim();if(0===i.length)return n;let s=i.split(";");for(;s.length;){let e,t,r=s.shift().trim();if(0===r.length)continue;let i=r.indexOf("=");switch(-1===i?(e=r,t=null):(e=r.substr(0,i),t=r.substr(i+1)),e=e.trim().toLowerCase(),t&&(t=t.trim()),e){case"expires":if(t){let e=I(t);e&&(n.expires=e)}break;case"max-age":if(t&&/^-?[0-9]+$/.test(t)){let e=parseInt(t,10);n.setMaxAge(e)}break;case"domain":if(t){let e=t.trim().replace(/^\./,"");e&&(n.domain=e.toLowerCase())}break;case"path":n.path=t&&"/"===t[0]?t:null;break;case"secure":n.secure=!0;break;case"httponly":n.httpOnly=!0;break;case"samesite":switch(t?t.toLowerCase():""){case"strict":n.sameSite="strict";break;case"lax":n.sameSite="lax";break;case"none":n.sameSite="none";break;default:n.sameSite=void 0}break;default:n.extensions=n.extensions||[],n.extensions.push(r)}}return n}function L(e){return c.validate(c.isObject(e),e),!e.key.startsWith("__Secure-")||e.secure}function B(e){return c.validate(c.isObject(e)),!e.key.startsWith("__Host-")||e.secure&&e.hostOnly&&null!=e.path&&"/"===e.path}function U(e){let t;try{t=JSON.parse(e)}catch(e){return e}return t}function z(e){let t;if(!e||c.isEmptyString(e))return null;if("string"==typeof e){if((t=U(e))instanceof Error)return null}else t=e;let r=new V;for(let e=0;e<V.serializableProperties.length;e++){let n=V.serializableProperties[e];void 0!==t[n]&&t[n]!==J[n]&&("expires"===n||"creation"===n||"lastAccessed"===n?null===t[n]?r[n]=null:r[n]="Infinity"==t[n]?"Infinity":new Date(t[n]):r[n]=t[n])}return r}function F(e,t){c.validate(c.isObject(e),e),c.validate(c.isObject(t),t);let r=0,n=e.path?e.path.length:0;return 0!=(r=(t.path?t.path.length:0)-n)?r:0!=(r=(e.creation?e.creation.getTime():v)-(t.creation?t.creation.getTime():v))?r:r=e.creationIndex-t.creationIndex}function H(e){if(c.validate(c.isString(e)),"/"===e)return["/"];let t=[e];for(;e.length>1;){let r=e.lastIndexOf("/");if(0===r)break;e=e.substr(0,r),t.push(e)}return t.push("/"),t}function q(e){if(e instanceof Object)return e;try{e=decodeURI(e)}catch(e){}return i(e)}function W(e){return!!(e&&"string"==typeof e)&&(!!("localhost"===e||e.endsWith(".localhost"))||"::1"===e||!!k.test(e)&&e.startsWith("127."))}let J={key:"",value:"",expires:"Infinity",maxAge:null,domain:null,path:null,secure:!1,httpOnly:!1,extensions:null,hostOnly:null,pathIsDefault:null,creation:null,lastAccessed:null,sameSite:void 0};class V{constructor(e={}){let t=h();t&&(this[t]=this.inspect),Object.assign(this,J,e),this.creation=this.creation||new Date,Object.defineProperty(this,"creationIndex",{configurable:!1,enumerable:!1,writable:!0,value:++V.cookiesCreated})}inspect(){let e=Date.now(),t=null!=this.hostOnly?this.hostOnly:"?",r=this.creation?`${e-this.creation.getTime()}ms`:"?",n=this.lastAccessed?`${e-this.lastAccessed.getTime()}ms`:"?";return`Cookie="${this.toString()}; hostOnly=${t}; aAge=${n}; cAge=${r}"`}toJSON(){let e={};for(let t of V.serializableProperties)this[t]!==J[t]&&("expires"===t||"creation"===t||"lastAccessed"===t?null===this[t]?e[t]=null:e[t]="Infinity"==this[t]?"Infinity":this[t].toISOString():"maxAge"===t?null!==this[t]&&(e[t]=this[t]==1/0||this[t]==-1/0?this[t].toString():this[t]):this[t]!==J[t]&&(e[t]=this[t]));return e}clone(){return z(this.toJSON())}validate(){if(!p.test(this.value)||this.expires!=1/0&&!(this.expires instanceof Date)&&!I(this.expires)||null!=this.maxAge&&this.maxAge<=0||null!=this.path&&!g.test(this.path))return!1;let e=this.cdomain();return!(e&&(e.match(/\.$/)||null==s.getPublicSuffix(e)))&&!0}setExpires(e){e instanceof Date?this.expires=e:this.expires=I(e)||"Infinity"}setMaxAge(e){e===1/0||e===-1/0?this.maxAge=e.toString():this.maxAge=e}cookieString(){let e=this.value;return(null==e&&(e=""),""===this.key)?e:`${this.key}=${e}`}toString(){let e=this.cookieString();if(this.expires!=1/0&&(this.expires instanceof Date?e+=`; Expires=${A(this.expires)}`:e+=`; Expires=${this.expires}`),null!=this.maxAge&&this.maxAge!=1/0&&(e+=`; Max-Age=${this.maxAge}`),this.domain&&!this.hostOnly&&(e+=`; Domain=${this.domain}`),this.path&&(e+=`; Path=${this.path}`),this.secure&&(e+="; Secure"),this.httpOnly&&(e+="; HttpOnly"),this.sameSite&&"none"!==this.sameSite){let t=V.sameSiteCanonical[this.sameSite.toLowerCase()];e+=`; SameSite=${t||this.sameSite}`}return this.extensions&&this.extensions.forEach(t=>{e+=`; ${t}`}),e}TTL(e){if(null!=this.maxAge)return this.maxAge<=0?0:1e3*this.maxAge;let t=this.expires;return t!=1/0?(t instanceof Date||(t=I(t)||1/0),t==1/0)?1/0:t.getTime()-(e||Date.now()):1/0}expiryTime(e){if(null!=this.maxAge){let t=e||this.creation||new Date,r=this.maxAge<=0?-1/0:1e3*this.maxAge;return t.getTime()+r}return this.expires==1/0?1/0:this.expires.getTime()}expiryDate(e){let t=this.expiryTime(e);return new Date(t==1/0?v:t==-1/0?b:t)}isPersistent(){return null!=this.maxAge||this.expires!=1/0}canonicalizedDomain(){return null==this.domain?null:P(this.domain)}cdomain(){return this.canonicalizedDomain()}}function K(e){if(null!=e){let t=e.toLowerCase();switch(t){case S.STRICT:case S.SILENT:case S.DISABLED:return t}}return S.SILENT}V.cookiesCreated=0,V.parse=D,V.fromJSON=z,V.serializableProperties=Object.keys(J),V.sameSiteLevel={strict:3,lax:2,none:1},V.sameSiteCanonical={strict:"Strict",lax:"Lax"};class G{constructor(e,t={rejectPublicSuffixes:!0}){"boolean"==typeof t&&(t={rejectPublicSuffixes:t}),c.validate(c.isObject(t),t),this.rejectPublicSuffixes=t.rejectPublicSuffixes,this.enableLooseMode=!!t.looseMode,this.allowSpecialUseDomain="boolean"!=typeof t.allowSpecialUseDomain||t.allowSpecialUseDomain,this.store=e||new a,this.prefixSecurity=K(t.prefixSecurity),this._cloneSync=Z("clone"),this._importCookiesSync=Z("_importCookies"),this.getCookiesSync=Z("getCookies"),this.getCookieStringSync=Z("getCookieString"),this.getSetCookieStringsSync=Z("getSetCookieStrings"),this.removeAllCookiesSync=Z("removeAllCookies"),this.setCookieSync=Z("setCookie"),this.serializeSync=Z("serialize")}setCookie(e,t,r,n){let i;if(c.validate(c.isUrlStringOrObject(t),n,r),c.isFunction(t))return(n=t)(Error("No URL was specified"));let o=q(t);if(c.isFunction(r)&&(n=r,r={}),c.validate(c.isFunction(n),n),!c.isNonEmptyString(e)&&!c.isObject(e)&&e instanceof String&&0==e.length)return n(null);let a=P(o.hostname),l=r.loose||this.enableLooseMode,u=null;if(r.sameSiteContext&&!(u=j(r.sameSiteContext)))return n(Error(w));if("string"==typeof e||e instanceof String){if(!(e=V.parse(e,{loose:l})))return i=Error("Cookie failed to parse"),n(r.ignoreError?null:i)}else if(!(e instanceof V))return i=Error("First argument to setCookie must be a Cookie object or string"),n(r.ignoreError?null:i);let d=r.now||new Date;if(this.rejectPublicSuffixes&&e.domain&&null==s.getPublicSuffix(e.cdomain(),{allowSpecialUseDomain:this.allowSpecialUseDomain,ignoreError:r.ignoreError})&&!C.test(e.domain))return i=Error("Cookie has domain set to a public suffix"),n(r.ignoreError?null:i);if(e.domain){if(!R(a,e.cdomain(),!1))return i=Error(`Cookie not in this host's domain. Cookie:${e.cdomain()} Request:${a}`),n(r.ignoreError?null:i);null==e.hostOnly&&(e.hostOnly=!1)}else e.hostOnly=!0,e.domain=a;if(e.path&&"/"===e.path[0]||(e.path=N(o.pathname),e.pathIsDefault=!0),!1===r.http&&e.httpOnly)return i=Error("Cookie is HttpOnly and this isn't an HTTP API"),n(r.ignoreError?null:i);if("none"!==e.sameSite&&void 0!==e.sameSite&&u&&"none"===u)return i=Error("Cookie is SameSite but this is a cross-origin request"),n(r.ignoreError?null:i);let h=this.prefixSecurity===S.SILENT;if(this.prefixSecurity!==S.DISABLED){let t,i=!1;if(L(e)?B(e)||(i=!0,t="Cookie has __Host prefix but either Secure or HostOnly attribute is not set or Path is not '/'"):(i=!0,t="Cookie has __Secure prefix but Secure attribute is not set"),i)return n(r.ignoreError||h?null:Error(t))}let p=this.store;function f(t,i){if(t)return n(t);let s=function(t){if(t)return n(t);n(null,e)};if(i){if(!1===r.http&&i.httpOnly)return t=Error("old Cookie is HttpOnly and this isn't an HTTP API"),n(r.ignoreError?null:t);e.creation=i.creation,e.creationIndex=i.creationIndex,e.lastAccessed=d,p.updateCookie(i,e,s)}else e.creation=e.lastAccessed=d,p.putCookie(e,s)}p.updateCookie||(p.updateCookie=function(e,t,r){this.putCookie(t,r)}),p.findCookie(e.domain,e.path,e.key,f)}getCookies(e,t,r){c.validate(c.isUrlStringOrObject(e),r,e);let n=q(e);c.isFunction(t)&&(r=t,t={}),c.validate(c.isObject(t),r,t),c.validate(c.isFunction(r),r);let i=P(n.hostname),s=n.pathname||"/",o=t.secure;null==o&&n.protocol&&("https:"==n.protocol||"wss:"==n.protocol)&&(o=!0),null==o&&W(i)&&(o=!0);let a=0;if(t.sameSiteContext){let e=j(t.sameSiteContext);if(!(a=V.sameSiteLevel[e]))return r(Error(w))}let u=t.http;null==u&&(u=!0);let d=t.now||Date.now(),h=!1!==t.expire,p=!!t.allPaths,f=this.store;function m(e){if(e.hostOnly){if(e.domain!=i)return!1}else if(!R(i,e.domain,!1))return!1;return(!!p||!!l(s,e.path))&&(!e.secure||!!o)&&(!e.httpOnly||!!u)&&(!a||!(V.sameSiteLevel[e.sameSite||"none"]>a))&&(!(h&&e.expiryTime()<=d)||(f.removeCookie(e.domain,e.path,e.key,()=>{}),!1))}f.findCookies(i,p?null:s,this.allowSpecialUseDomain,(e,n)=>{if(e)return r(e);n=n.filter(m),!1!==t.sort&&(n=n.sort(F));let i=new Date;for(let e of n)e.lastAccessed=i;r(null,n)})}getCookieString(...e){let t=e.pop();c.validate(c.isFunction(t),t);let r=function(e,r){e?t(e):t(null,r.sort(F).map(e=>e.cookieString()).join("; "))};e.push(r),this.getCookies.apply(this,e)}getSetCookieStrings(...e){let t=e.pop();c.validate(c.isFunction(t),t);let r=function(e,r){e?t(e):t(null,r.map(e=>e.toString()))};e.push(r),this.getCookies.apply(this,e)}serialize(e){c.validate(c.isFunction(e),e);let t=this.store.constructor.name;c.isObject(t)&&(t=null);let r={version:`tough-cookie@${u}`,storeType:t,rejectPublicSuffixes:!!this.rejectPublicSuffixes,enableLooseMode:!!this.enableLooseMode,allowSpecialUseDomain:!!this.allowSpecialUseDomain,prefixSecurity:K(this.prefixSecurity),cookies:[]};if(!(this.store.getAllCookies&&"function"==typeof this.store.getAllCookies))return e(Error("store does not support getAllCookies and cannot be serialized"));this.store.getAllCookies((t,n)=>t?e(t):(r.cookies=n.map(e=>(e=e instanceof V?e.toJSON():e,delete e.creationIndex,e)),e(null,r)))}toJSON(){return this.serializeSync()}_importCookies(e,t){let r=e.cookies;if(!r||!Array.isArray(r))return t(Error("serialized jar has no cookies array"));r=r.slice();let n=e=>{let i;if(e)return t(e);if(!r.length)return t(e,this);try{i=z(r.shift())}catch(e){return t(e)}if(null===i)return n(null);this.store.putCookie(i,n)};n()}clone(e,t){1==arguments.length&&(t=e,e=null),this.serialize((r,n)=>{if(r)return t(r);G.deserialize(n,e,t)})}cloneSync(e){if(0==arguments.length)return this._cloneSync();if(!e.synchronous)throw Error("CookieJar clone destination store is not synchronous; use async API instead.");return this._cloneSync(e)}removeAllCookies(e){c.validate(c.isFunction(e),e);let t=this.store;if("function"==typeof t.removeAllCookies&&t.removeAllCookies!==o.prototype.removeAllCookies)return t.removeAllCookies(e);t.getAllCookies((r,n)=>{if(r)return e(r);if(0===n.length)return e(null);let i=0,s=[];function o(t){if(t&&s.push(t),++i===n.length)return e(s.length?s[0]:null)}n.forEach(e=>{t.removeCookie(e.domain,e.path,e.key,o)})})}static deserialize(e,t,r){let n;if(3!=arguments.length&&(r=t,t=null),c.validate(c.isFunction(r),r),"string"==typeof e){if((n=U(e))instanceof Error)return r(n)}else n=e;let i=new G(t,{rejectPublicSuffixes:n.rejectPublicSuffixes,looseMode:n.enableLooseMode,allowSpecialUseDomain:n.allowSpecialUseDomain,prefixSecurity:n.prefixSecurity});i._importCookies(n,e=>{if(e)return r(e);r(null,i)})}static deserializeSync(e,t){let r="string"==typeof e?JSON.parse(e):e,n=new G(t,{rejectPublicSuffixes:r.rejectPublicSuffixes,looseMode:r.enableLooseMode});if(!n.store.synchronous)throw Error("CookieJar store is not synchronous; use async API instead.");return n._importCookiesSync(r),n}}function Z(e){return function(...t){let r,n;if(!this.store.synchronous)throw Error("CookieJar store is not synchronous; use async API instead.");if(this[e](...t,(e,t)=>{r=e,n=t}),r)throw r;return n}}G.fromJSON=G.deserializeSync,["_importCookies","clone","getCookies","getCookieString","getSetCookieStrings","removeAllCookies","serialize","setCookie"].forEach(e=>{G.prototype[e]=d(G.prototype[e])}),G.deserialize=d(G.deserialize),t.version=u,t.CookieJar=G,t.Cookie=V,t.Store=o,t.MemoryCookieStore=a,t.parseDate=I,t.formatDate=A,t.parse=D,t.fromJSON=z,t.domainMatch=R,t.defaultPath=N,t.pathMatch=l,t.getPublicSuffix=s.getPublicSuffix,t.cookieCompare=F,t.permuteDomain=r("./node_modules/@postman/tough-cookie/lib/permuteDomain.js").permuteDomain,t.permutePath=H,t.canonicalDomain=P,t.PrefixSecurityEnum=S,t.ParameterError=c.ParameterError},"./node_modules/@postman/tough-cookie/lib/memstore.js":function(e,t,r){"use strict";let{fromCallback:n}=r("./node_modules/universalify/index.js"),i=r("./node_modules/@postman/tough-cookie/lib/store.js").Store,s=r("./node_modules/@postman/tough-cookie/lib/permuteDomain.js").permuteDomain,o=r("./node_modules/@postman/tough-cookie/lib/pathMatch.js").pathMatch,{getCustomInspectSymbol:a,getUtilInspect:l}=r("./node_modules/@postman/tough-cookie/lib/utilHelper.js");class c extends i{constructor(){super(),this.synchronous=!0,this.idx=Object.create(null);let e=a();e&&(this[e]=this.inspect)}inspect(){let e={inspect:l(u)};return`{ idx: ${e.inspect(this.idx,!1,2)} }`}findCookie(e,t,r,n){return this.idx[e]&&this.idx[e][t]?n(null,this.idx[e][t][r]||null):n(null,void 0)}findCookies(e,t,r,n){let i,a=[];if("function"==typeof r&&(n=r,r=!0),!e)return n(null,[]);i=t?function(e){Object.keys(e).forEach(r=>{if(o(t,r)){let t=e[r];for(let e in t)a.push(t[e])}})}:function(e){for(let t in e){let r=e[t];for(let e in r)a.push(r[e])}};let l=s(e,r)||[e],c=this.idx;l.forEach(e=>{let t=c[e];t&&i(t)}),n(null,a)}putCookie(e,t){this.idx[e.domain]||(this.idx[e.domain]=Object.create(null)),this.idx[e.domain][e.path]||(this.idx[e.domain][e.path]=Object.create(null)),this.idx[e.domain][e.path][e.key]=e,t(null)}updateCookie(e,t,r){this.putCookie(t,r)}removeCookie(e,t,r,n){this.idx[e]&&this.idx[e][t]&&this.idx[e][t][r]&&delete this.idx[e][t][r],n(null)}removeCookies(e,t,r){return this.idx[e]&&(t?delete this.idx[e][t]:delete this.idx[e]),r(null)}removeAllCookies(e){return this.idx=Object.create(null),e(null)}getAllCookies(e){let t=[],r=this.idx;Object.keys(r).forEach(e=>{Object.keys(r[e]).forEach(n=>{Object.keys(r[e][n]).forEach(i=>{null!==i&&t.push(r[e][n][i])})})}),t.sort((e,t)=>(e.creationIndex||0)-(t.creationIndex||0)),e(null,t)}}function u(e){let t=Object.keys(e);if(0===t.length)return"[Object: null prototype] {}";let r="[Object: null prototype] {\n";return Object.keys(e).forEach((n,i)=>{r+=d(n,e[n]),i<t.length-1&&(r+=","),r+="\n"}),r+="}"}function d(e,t){let r="  ",n=`${r}'${e}': [Object: null prototype] {
`;return Object.keys(t).forEach((e,r,i)=>{n+=h(e,t[e]),r<i.length-1&&(n+=","),n+="\n"}),n+=`${r}}`}function h(e,t){let r="    ",n=`${r}'${e}': [Object: null prototype] {
`;return Object.keys(t).forEach((e,r,i)=>{let s=t[e];n+=`      ${e}: ${s.inspect()}`,r<i.length-1&&(n+=","),n+="\n"}),n+=`${r}}`}["findCookie","findCookies","putCookie","updateCookie","removeCookie","removeCookies","removeAllCookies","getAllCookies"].forEach(e=>{c.prototype[e]=n(c.prototype[e])}),t.MemoryCookieStore=c},"./node_modules/@postman/tough-cookie/lib/pathMatch.js":function(e,t){"use strict";t.pathMatch=function(e,t){return t===e||0===e.indexOf(t)&&("/"===t.substr(-1)||"/"===e.substr(t.length,1))||!1}},"./node_modules/@postman/tough-cookie/lib/permuteDomain.js":function(e,t,r){"use strict";let n=r("./node_modules/@postman/tough-cookie/lib/pubsuffix-psl.js");t.permuteDomain=function(e,t){let r=n.getPublicSuffix(e,{allowSpecialUseDomain:t});if(!r)return null;if(r==e)return[e];"."==e.slice(-1)&&(e=e.slice(0,-1));let i=e.slice(0,-(r.length+1)).split(".").reverse(),s=r,o=[s];for(;i.length;)o.push(s=`${i.shift()}.${s}`);return o}},"./node_modules/@postman/tough-cookie/lib/pubsuffix-psl.js":function(e,t,r){"use strict";let n=r("./node_modules/psl/dist/psl.cjs"),i=["local","example","invalid","localhost","test"],s=["localhost","invalid"];t.getPublicSuffix=function(e,t={}){let r=e.split("."),o=r[r.length-1],a=!!t.allowSpecialUseDomain,l=!!t.ignoreError;if(a&&i.includes(o)){if(r.length>1){let e=r[r.length-2];return`${e}.${o}`}else if(s.includes(o))return`${o}`}if(!l&&!a&&i.includes(o))throw Error(`Cookie has domain set to the public suffix "${o}" which is a special use domain. To allow this, configure your CookieJar with {allowSpecialUseDomain:true, rejectPublicSuffixes: false}.`);return n.get(e)}},"./node_modules/@postman/tough-cookie/lib/store.js":function(e,t){"use strict";class r{constructor(){this.synchronous=!1}findCookie(e,t,r,n){throw Error("findCookie is not implemented")}findCookies(e,t,r,n){throw Error("findCookies is not implemented")}putCookie(e,t){throw Error("putCookie is not implemented")}updateCookie(e,t,r){throw Error("updateCookie is not implemented")}removeCookie(e,t,r,n){throw Error("removeCookie is not implemented")}removeCookies(e,t,r){throw Error("removeCookies is not implemented")}removeAllCookies(e){throw Error("removeAllCookies is not implemented")}getAllCookies(e){throw Error("getAllCookies is not implemented (therefore jar cannot be serialized)")}}t.Store=r},"./node_modules/@postman/tough-cookie/lib/utilHelper.js":function(e,t,r){function n(){try{return r("util")}catch(e){return null}}function i(){return Symbol.for("nodejs.util.inspect.custom")}function s(e){let t=(e.requireUtil||n)();return t?t.inspect.custom:null}t.getUtilInspect=function(e,t={}){let r=(t.requireUtil||n)();return function(t,n,i){return r?r.inspect(t,n,i):e(t)}},t.getCustomInspectSymbol=function(e={}){return(e.lookupCustomInspectSymbol||i)()||s(e)}},"./node_modules/@postman/tough-cookie/lib/validators.js":function(e,t){"use strict";function r(e){return"function"==typeof e}function n(e){return o(e)&&""!==e}function i(e){return l(e,Date)&&u(e.getTime())}function s(e){return""===e||e instanceof String&&""===e.toString()}function o(e){return"string"==typeof e||e instanceof String}function a(e){return"[object Object]"===toString.call(e)}function l(e,t){try{return e instanceof t}catch(e){return!1}}function c(e){return n(e)||a(e)||l(e,URL)}function u(e){return"number"==typeof e&&e%1==0}function d(e,t,n){if(r(t)||(n=t,t=null),a(n)||(n={Error:"Failed Check"}),!e)if(t)t(new h(n));else throw new h(n)}class h extends Error{constructor(...e){super(...e)}}t.ParameterError=h,t.isFunction=r,t.isNonEmptyString=n,t.isDate=i,t.isEmptyString=s,t.isString=o,t.isObject=a,t.isUrlStringOrObject=c,t.validate=d},"./node_modules/@postman/tough-cookie/lib/version.js":function(e){e.exports="4.1.3-postman.1"},"./node_modules/@postman/tunnel-agent/index.js":function(e,t,r){"use strict";r("net");var n,i=r("tls"),s=r("http"),o=r("https"),a=r("events"),l=r("util"),c=r("./node_modules/safe-buffer/index.js").Buffer;function u(e){var t=new p(e);return t.request=s.request,t.createSocket=f,t.defaultPort=443,t}function d(e){var t=new p(e);return t.request=o.request,t}function h(e){var t=new p(e);return t.request=o.request,t.createSocket=f,t.defaultPort=443,t}function p(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||s.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(e,r,n){for(var i=0,s=t.requests.length;i<s;++i){var o=t.requests[i];if(o.host===r&&o.port===n){t.requests.splice(i,1),o.request.onSocket(e);return}}e.destroy(),t.removeSocket(e)})}function f(e,t){var r=this;p.prototype.createSocket.call(r,e,function(n,s){var o,a;if(n)return t(n);r.options.extraCA&&(a=i.createSecureContext(r.options)).context.addCACert(r.options.extraCA);try{o=i.connect(0,m({},r.options,{servername:e.host,socket:s,secureContext:a}))}catch(e){return r.removeSocket(s),s.destroy(),t(e)}r.sockets[r.sockets.indexOf(s)]=o,t(null,o)})}function m(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if("object"==typeof n)for(var i=Object.keys(n),s=0,o=i.length;s<o;++s){var a=i[s];void 0!==n[a]&&(e[a]=n[a])}}return e}t.httpOverHttp=function e(e){var t=new p(e);return t.request=s.request,t},t.httpsOverHttp=u,t.httpOverHttps=d,t.httpsOverHttps=h,l.inherits(p,a.EventEmitter),p.prototype.addRequest=function(e,t){var r=this;if("string"==typeof t&&(t={host:t,port:arguments[2],path:arguments[3]}),r.sockets.length>=this.maxSockets)return void r.requests.push({host:t.host,port:t.port,request:e});r.createConnection({host:t.host,port:t.port,request:e})},p.prototype.createConnection=function(e){var t=this;t.createSocket(e,function(r,n){if(r)return void e.request.emit("error",r);function i(){t.emit("free",n,e.host,e.port)}function s(e){t.removeSocket(n),n.removeListener("free",i),n.removeListener("close",s),n.removeListener("agentRemove",s)}n.on("free",i),n.on("close",s),n.on("agentRemove",s),e.request.onSocket(n)})},p.prototype.createSocket=function(e,t){var r=this,i={};r.sockets.push(i);var s=m({},r.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1});s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+c.from(s.proxyAuth).toString("base64")),n("making CONNECT request");var o=r.request(s);function a(e){e.upgrade=!0}function l(e,t,r){process.nextTick(function(){u(e,t,r)})}function u(e,s,a){if(o.removeAllListeners(),s.removeAllListeners(),200===e.statusCode)n("tunneling connection has established"),r.sockets[r.sockets.indexOf(i)]=s,t(null,s);else{n("tunneling socket could not be established, statusCode=%d",e.statusCode);var l=Error("tunneling socket could not be established, statusCode="+e.statusCode);l.code="ECONNRESET",r.removeSocket(i),t(l)}}function d(t){o.removeAllListeners(),n("tunneling socket could not be established, cause=%s\n",t.message,t.stack);var s=Error("tunneling socket could not be established, cause="+t.message);s.code="ECONNRESET",e.request.emit("error",s),r.removeSocket(i)}o.useChunkedEncodingByDefault=!1,o.once("response",a),o.once("upgrade",l),o.once("connect",u),o.once("error",d),o.end()},p.prototype.removeSocket=function(e){var t=this.sockets.indexOf(e);if(-1!==t){this.sockets.splice(t,1);var r=this.requests.shift();r&&this.createConnection(r)}},t.debug=n=process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments);"string"==typeof e[0]?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:function(){}},"./node_modules/@protobufjs/aspromise/index.js":function(e){"use strict";e.exports=function e(e,t){for(var r=Array(arguments.length-1),n=0,i=2,s=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(i,o){r[n]=function(e){if(s)if(s=!1,e)o(e);else{for(var t=Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(e){s&&(s=!1,o(e))}})}},"./node_modules/@protobufjs/base64/index.js":function(e,t){"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=Array(64),i=Array(123),s=0;s<64;)i[n[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;r.encode=function(e,t,r){for(var i,s=null,o=[],a=0,l=0;t<r;){var c=e[t++];switch(l){case 0:o[a++]=n[c>>2],i=(3&c)<<4,l=1;break;case 1:o[a++]=n[i|c>>4],i=(15&c)<<2,l=2;break;case 2:o[a++]=n[i|c>>6],o[a++]=n[63&c],l=0}a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0)}return(l&&(o[a++]=n[i],o[a++]=61,1===l&&(o[a++]=61)),s)?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};var o="invalid encoding";r.decode=function(e,t,r){for(var n,s=r,a=0,l=0;l<e.length;){var c=e.charCodeAt(l++);if(61===c&&a>1)break;if(void 0===(c=i[c]))throw Error(o);switch(a){case 0:n=c,a=1;break;case 1:t[r++]=n<<2|(48&c)>>4,n=c,a=2;break;case 2:t[r++]=(15&n)<<4|(60&c)>>2,n=c,a=3;break;case 3:t[r++]=(3&n)<<6|c,a=0}}if(1===a)throw Error(o);return r-s},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},"./node_modules/@protobufjs/codegen/index.js":function(e){"use strict";function t(e,r){"string"==typeof e&&(r=e,e=void 0);var n=[];function i(e){if("string"!=typeof e){var r=s();if(t.verbose&&console.log("codegen: "+r),r="return "+r,e){for(var o=Object.keys(e),a=Array(o.length+1),l=Array(o.length),c=0;c<o.length;)a[c]=o[c],l[c]=e[o[c++]];return a[c]=r,Function.apply(null,a).apply(null,l)}return Function(r)()}for(var u=Array(arguments.length-1),d=0;d<u.length;)u[d]=arguments[++d];if(d=0,e=e.replace(/%([%dfijs])/g,function(e,t){var r=u[d++];switch(t){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"}),d!==u.length)throw Error("parameter count mismatch");return n.push(e),i}function s(t){return"function "+(t||r||"")+"("+(e&&e.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return i.toString=s,i}e.exports=t,t.verbose=!1},"./node_modules/@protobufjs/eventemitter/index.js":function(e){"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},"./node_modules/@protobufjs/fetch/index.js":function(e,t,r){"use strict";e.exports=s;var n=r("./node_modules/@protobufjs/aspromise/index.js"),i=r("./node_modules/@protobufjs/inquire/index.js")("fs");function s(e,t,r){return("function"==typeof t?(r=t,t={}):t||(t={}),r)?!t.xhr&&i&&i.readFile?i.readFile(e,function(n,i){return n&&"undefined"!=typeof XMLHttpRequest?s.xhr(e,t,r):n?r(n):r(null,t.binary?i:i.toString("utf8"))}):s.xhr(e,t,r):n(s,this,e,t)}s.xhr=function(e,t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(0!==n.status&&200!==n.status)return r(Error("status "+n.status));if(t.binary){var e=n.response;if(!e){e=[];for(var i=0;i<n.responseText.length;++i)e.push(255&n.responseText.charCodeAt(i))}return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return r(null,n.responseText)}},t.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send()}},"./node_modules/@protobufjs/float/index.js":function(e){"use strict";function t(e){return"undefined"!=typeof Float32Array?!function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function s(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function o(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function a(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:s,e.writeFloatBE=n?s:i,e.readFloatLE=n?o:a,e.readFloatBE=n?a:o}():!function(){function t(e,t,r,n){var i=+(t<0);if(i&&(t=-t),0===t)e(1/t>0?0:0x80000000,r,n);else if(isNaN(t))e(0x7fc00000,r,n);else if(t>34028234663852886e22)e((i<<31|0x7f800000)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var s=Math.floor(Math.log(t)/Math.LN2),o=8388607&Math.round(t*Math.pow(2,-s)*8388608);e((i<<31|s+127<<23|o)>>>0,r,n)}}function o(e,t,r){var n=e(t,r),i=(n>>31)*2+1,s=n>>>23&255,o=8388607&n;return 255===s?o?NaN:1/0*i:0===s?1401298464324817e-60*i*o:i*Math.pow(2,s-150)*(o+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=o.bind(null,i),e.readFloatBE=o.bind(null,s)}(),"undefined"!=typeof Float64Array?!function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function s(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function o(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function a(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:s,e.writeDoubleBE=n?s:i,e.readDoubleLE=n?o:a,e.readDoubleBE=n?a:o}():!function(){function t(e,t,r,n,i,s){var o,a=+(n<0);if(a&&(n=-n),0===n)e(0,i,s+t),e(1/n>0?0:0x80000000,i,s+r);else if(isNaN(n))e(0,i,s+t),e(0x7ff80000,i,s+r);else if(n>17976931348623157e292)e(0,i,s+t),e((a<<31|0x7ff00000)>>>0,i,s+r);else if(n<22250738585072014e-324)e((o=n/5e-324)>>>0,i,s+t),e((a<<31|o/0x100000000)>>>0,i,s+r);else{var l=Math.floor(Math.log(n)/Math.LN2);1024===l&&(l=1023),e(0x10000000000000*(o=n*Math.pow(2,-l))>>>0,i,s+t),e((a<<31|l+1023<<20|1048576*o&1048575)>>>0,i,s+r)}}function o(e,t,r,n,i){var s=e(n,i+t),o=e(n,i+r),a=(o>>31)*2+1,l=o>>>20&2047,c=0x100000000*(1048575&o)+s;return 2047===l?c?NaN:1/0*a:0===l?5e-324*a*c:a*Math.pow(2,l-1075)*(c+0x10000000000000)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=o.bind(null,i,0,4),e.readDoubleBE=o.bind(null,s,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},"./node_modules/@protobufjs/inquire/index.js":function(module){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},"./node_modules/@protobufjs/path/index.js":function(e,t){"use strict";var r=t,n=r.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},i=r.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),r=n(e),i="";r&&(i=t.shift()+"/");for(var s=0;s<t.length;)".."===t[s]?s>0&&".."!==t[s-1]?t.splice(--s,2):r?t.splice(s,1):++s:"."===t[s]?t.splice(s,1):++s;return i+t.join("/")};r.resolve=function(e,t,r){return(r||(t=i(t)),n(t))?t:(r||(e=i(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?i(e+"/"+t):t)}},"./node_modules/@protobufjs/pool/index.js":function(e){"use strict";e.exports=function e(e,t,r){var n=r||8192,i=n>>>1,s=null,o=n;return function(r){if(r<1||r>i)return e(r);o+r>n&&(s=e(n),o=0);var a=t.call(s,o,o+=r);return 7&o&&(o=(7|o)+1),a}}},"./node_modules/@protobufjs/utf8/index.js":function(e,t){"use strict";var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:(64512&r)==55296&&(64512&e.charCodeAt(n+1))==56320?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,s=[],o=0;t<r;)(n=e[t++])<128?s[o++]=n:n>191&&n<224?s[o++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,s[o++]=55296+(n>>10),s[o++]=56320+(1023&n)):s[o++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0);return i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))},r.write=function(e,t,r){for(var n,i,s=r,o=0;o<e.length;++o)(n=e.charCodeAt(o))<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:((64512&n)==55296&&(64512&(i=e.charCodeAt(o+1)))==56320?(n=65536+((1023&n)<<10)+(1023&i),++o,t[r++]=n>>18|240,t[r++]=n>>12&63|128):t[r++]=n>>12|224,t[r++]=n>>6&63|128),t[r++]=63&n|128);return r-s}},"./node_modules/after/index.js":function(e){function t(){}e.exports=function e(e,r,n){var i=!1;return n=n||t,s.count=e,0===e?r():s;function s(e,t){if(s.count<=0)throw Error("after called too many times");--s.count,e?(i=!0,r(e),r=n):0!==s.count||i||r(null,t)}}},"./node_modules/agent-base/dist/helpers.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.req=t.json=t.toBuffer=void 0;let o=s(r("http")),a=s(r("https"));async function l(e){let t=0,r=[];for await(let n of e)t+=n.length,r.push(n);return Buffer.concat(r,t)}t.toBuffer=l,t.json=async function(e){let t=(await l(e)).toString("utf8");try{return JSON.parse(t)}catch(r){let e=r;throw e.message+=` (input: ${t})`,e}},t.req=function(e,t={}){let r=(("string"==typeof e?e:e.href).startsWith("https:")?a:o).request(e,t),n=new Promise((e,t)=>{r.once("response",e).once("error",t).end()});return r.then=n.then.bind(n),r}},"./node_modules/agent-base/dist/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Agent=void 0;let a=s(r("net")),l=s(r("http")),c=r("https");o(r("./node_modules/agent-base/dist/helpers.js"),t);let u=Symbol("AgentBaseInternalState");class d extends l.Agent{constructor(e){super(e),this[u]={}}isSecureEndpoint(e){if(e){if("boolean"==typeof e.secureEndpoint)return e.secureEndpoint;if("string"==typeof e.protocol)return"https:"===e.protocol}let{stack:t}=Error();return"string"==typeof t&&t.split("\n").some(e=>-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:"))}incrementSockets(e){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[e]||(this.sockets[e]=[]);let t=new a.Socket({writable:!1});return this.sockets[e].push(t),this.totalSocketCount++,t}decrementSockets(e,t){if(!this.sockets[e]||null===t)return;let r=this.sockets[e],n=r.indexOf(t);-1!==n&&(r.splice(n,1),this.totalSocketCount--,0===r.length&&delete this.sockets[e])}getName(e){return("boolean"==typeof e.secureEndpoint?e.secureEndpoint:this.isSecureEndpoint(e))?c.Agent.prototype.getName.call(this,e):super.getName(e)}createSocket(e,t,r){let n={...t,secureEndpoint:this.isSecureEndpoint(t)},i=this.getName(n),s=this.incrementSockets(i);Promise.resolve().then(()=>this.connect(e,n)).then(o=>{if(this.decrementSockets(i,s),o instanceof l.Agent)try{return o.addRequest(e,n)}catch(e){return r(e)}this[u].currentSocket=o,super.createSocket(e,t,r)},e=>{this.decrementSockets(i,s),r(e)})}createConnection(){let e=this[u].currentSocket;if(this[u].currentSocket=void 0,!e)throw Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[u].defaultPort??("https:"===this.protocol?443:80)}set defaultPort(e){this[u]&&(this[u].defaultPort=e)}get protocol(){return this[u].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[u]&&(this[u].protocol=e)}}t.Agent=d},"./node_modules/backo2/index.js":function(e){function t(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=t,t.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(1&Math.floor(10*t))==0?e-r:e+r}return 0|Math.min(e,this.max)},t.prototype.reset=function(){this.attempts=0},t.prototype.setMin=function(e){this.ms=e},t.prototype.setMax=function(e){this.max=e},t.prototype.setJitter=function(e){this.jitter=e}},"./node_modules/bluebird/js/main/any.js":function(e){"use strict";e.exports=function(e){var t=e._SomePromiseArray;function r(e){var r=new t(e),n=r.promise();return r.setHowMany(1),r.setUnwrap(),r.init(),n}e.any=function(e){return r(e)},e.prototype.any=function(){return r(this)}}},"./node_modules/bluebird/js/main/async.js":function(e,t,r){"use strict";try{throw Error()}catch(e){n=e}var n,i=r("./node_modules/bluebird/js/main/schedule.js"),s=r("./node_modules/bluebird/js/main/queue.js"),o=r("./node_modules/bluebird/js/main/util.js");function a(){this._isTickUsed=!1,this._lateQueue=new s(16),this._normalQueue=new s(16),this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=i.isStatic?i(this.drainQueues):i}function l(e,t,r){this._lateQueue.push(e,t,r),this._queueTick()}function c(e,t,r){this._normalQueue.push(e,t,r),this._queueTick()}function u(e){this._normalQueue._pushOne(e),this._queueTick()}a.prototype.disableTrampolineIfNecessary=function(){o.hasDevTools&&(this._trampolineEnabled=!1)},a.prototype.enableTrampoline=function(){this._trampolineEnabled||(this._trampolineEnabled=!0,this._schedule=function(e){setTimeout(e,0)})},a.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0},a.prototype.throwLater=function(e,t){if(1==arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}},o.hasDevTools?(i.isStatic&&(i=function(e){setTimeout(e,0)}),a.prototype.invokeLater=function(e,t,r){this._trampolineEnabled?l.call(this,e,t,r):this._schedule(function(){setTimeout(function(){e.call(t,r)},100)})},a.prototype.invoke=function(e,t,r){this._trampolineEnabled?c.call(this,e,t,r):this._schedule(function(){e.call(t,r)})},a.prototype.settlePromises=function(e){this._trampolineEnabled?u.call(this,e):this._schedule(function(){e._settlePromises()})}):(a.prototype.invokeLater=l,a.prototype.invoke=c,a.prototype.settlePromises=u),a.prototype.invokeFirst=function(e,t,r){this._normalQueue.unshift(e,t,r),this._queueTick()},a.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"!=typeof t){t._settlePromises();continue}var r=e.shift(),n=e.shift();t.call(r,n)}},a.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._drainQueue(this._lateQueue)},a.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},a.prototype._reset=function(){this._isTickUsed=!1},e.exports=new a,e.exports.firstLineError=n},"./node_modules/bluebird/js/main/bind.js":function(e){"use strict";e.exports=function(e,t,r){var n=function(e,t){this._reject(t)},i=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(n,n,null,this,e)},s=function(e,t){this._isPending()&&this._resolveCallback(t.target)},o=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(n){var a=r(n),l=new e(t);l._propagateFrom(this,1);var c=this._target();if(l._setBoundTo(a),a instanceof e){var u={promiseRejectionQueued:!1,promise:l,target:c,bindingPromise:a};c._then(t,i,l._progress,l,u),a._then(s,o,l._progress,l,u)}else l._resolveCallback(c);return l},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=131072|this._bitField,this._boundTo=e):this._bitField=-131073&this._bitField},e.prototype._isBound=function(){return(131072&this._bitField)==131072},e.bind=function(n,i){var s=r(n),o=new e(t);return o._setBoundTo(s),s instanceof e?s._then(function(){o._resolveCallback(i)},o._reject,o._progress,o,null):o._resolveCallback(i),o}}},"./node_modules/bluebird/js/main/bluebird.js":function(e,t,r){"use strict";function n(){try{Promise===s&&(Promise=i)}catch(e){}return s}"undefined"!=typeof Promise&&(i=Promise);var i,s=r("./node_modules/bluebird/js/main/promise.js")();s.noConflict=n,e.exports=s},"./node_modules/bluebird/js/main/call_get.js":function(e,t,r){"use strict";var n=Object.create;if(n){var i=n(null),s=n(null);i[" size"]=s[" size"]=0}e.exports=function(e){var t,n,o=r("./node_modules/bluebird/js/main/util.js"),a=o.canEvaluate,l=o.isIdentifier,c=function(e){return Function("ensureMethod","                                    \n        return function(obj) {                                               \n            'use strict'                                                     \n            var len = this.length;                                           \n            ensureMethod(obj, 'methodName');                                 \n            switch(len) {                                                    \n                case 1: return obj.methodName(this[0]);                      \n                case 2: return obj.methodName(this[0], this[1]);             \n                case 3: return obj.methodName(this[0], this[1], this[2]);    \n                case 0: return obj.methodName();                             \n                default:                                                     \n                    return obj.methodName.apply(obj, this);                  \n            }                                                                \n        };                                                                   \n        ".replace(/methodName/g,e))(h)},u=function(e){return Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",e))},d=function(e,t,r){var n=r[e];if("function"!=typeof n){if(!l(e))return null;if(n=t(e),r[e]=n,r[" size"]++,r[" size"]>512){for(var i=Object.keys(r),s=0;s<256;++s)delete r[i[s]];r[" size"]=i.length-256}}return n};function h(t,r){var n;if(null!=t&&(n=t[r]),"function"!=typeof n){var i="Object "+o.classString(t)+" has no method '"+o.toString(r)+"'";throw new e.TypeError(i)}return n}function p(e){return h(e,this.pop()).apply(e,this)}function f(e){return e[this]}function m(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}t=function(e){return d(e,c,i)},n=function(e){return d(e,u,s)},e.prototype.call=function(e){for(var r=arguments.length,n=Array(r-1),i=1;i<r;++i)n[i-1]=arguments[i];if(a){var s=t(e);if(null!==s)return this._then(s,void 0,void 0,n,void 0)}return n.push(e),this._then(p,void 0,void 0,n,void 0)},e.prototype.get=function(e){var t;if("number"==typeof e)t=m;else if(a){var r=n(e);t=null!==r?r:f}else t=f;return this._then(t,void 0,void 0,e,void 0)}}},"./node_modules/bluebird/js/main/cancel.js":function(e,t,r){"use strict";e.exports=function(e){var t=r("./node_modules/bluebird/js/main/errors.js"),n=r("./node_modules/bluebird/js/main/async.js"),i=t.CancellationError;e.prototype._cancel=function(e){if(!this.isCancellable())return this;for(var t,r=this;void 0!==(t=r._cancellationParent)&&t.isCancellable();)r=t;this._unsetCancellable(),r._target()._rejectCallback(e,!1,!0)},e.prototype.cancel=function(e){return this.isCancellable()&&(void 0===e&&(e=new i),n.invokeLater(this._cancel,this,e)),this},e.prototype.cancellable=function(){return this._cancellable()||(n.enableTrampoline(),this._setCancellable(),this._cancellationParent=void 0),this},e.prototype.uncancellable=function(){var e=this.then();return e._unsetCancellable(),e},e.prototype.fork=function(e,t,r){var n=this._then(e,t,r,void 0,void 0);return n._setCancellable(),n._cancellationParent=void 0,n}}},"./node_modules/bluebird/js/main/captured_trace.js":function(e,t,r){"use strict";e.exports=function(){var e,t,n=r("./node_modules/bluebird/js/main/async.js"),i=r("./node_modules/bluebird/js/main/util.js"),s=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/,o=null,a=null,l=!1;function c(e){this._parent=e;var t=this._length=1+(void 0===e?0:e._length);b(this,c),t>32&&this.uncycle()}function u(e,t){for(var r=0;r<t.length-1;++r)t[r].push("From previous event:"),t[r]=t[r].join("\n");return r<t.length&&(t[r]=t[r].join("\n")),e+"\n"+t.join("\n")}function d(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function h(e){for(var t=e[0],r=1;r<e.length;++r){for(var n=e[r],i=t.length-1,s=t[i],o=-1,a=n.length-1;a>=0;--a)if(n[a]===s){o=a;break}for(var a=o;a>=0;--a){var l=n[a];if(t[i]===l)t.pop(),i--;else break}t=n}}function p(e){for(var t=[],r=0;r<e.length;++r){var n=e[r],i=o.test(n)||"    (No stack trace)"===n,s=i&&y(n);i&&!s&&(l&&" "!==n.charAt(0)&&(n="    "+n),t.push(n))}return t}function f(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),r=0;r<t.length;++r){var n=t[r];if("    (No stack trace)"===n||o.test(n))break}return r>0&&(t=t.slice(r)),t}function m(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{if(t=e.toString(),/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+g(t)+">, no stack trace)"}function g(e){var t=41;return e.length<t?e:e.substr(0,t-3)+"..."}i.inherits(c,Error),c.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],r={},n=0,i=this;void 0!==i;++n)t.push(i),i=i._parent;e=this._length=n;for(var n=e-1;n>=0;--n){var s=t[n].stack;void 0===r[s]&&(r[s]=n)}for(var n=0;n<e;++n){var o=r[t[n].stack];if(void 0!==o&&o!==n){o>0&&(t[o-1]._parent=void 0,t[o-1]._length=1),t[n]._parent=void 0,t[n]._length=1;var a=n>0?t[n-1]:this;o<e-1?(a._parent=t[o+1],a._parent.uncycle(),a._length=a._parent._length+1):(a._parent=void 0,a._length=1);for(var l=a._length+1,c=n-2;c>=0;--c)t[c]._length=l,l++;return}}}},c.prototype.parent=function(){return this._parent},c.prototype.hasParent=function(){return void 0!==this._parent},c.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=c.parseStackAndMessage(e),r=t.message,n=[t.stack],s=this;void 0!==s;)n.push(p(s.stack.split("\n"))),s=s._parent;h(n),d(n),i.notEnumerableProp(e,"stack",u(r,n)),i.notEnumerableProp(e,"__stackCleaned__",!0)}},c.parseStackAndMessage=function(e){var t=e.stack;return{message:e.toString(),stack:p(t="string"==typeof t&&t.length>0?f(e):["    (No stack trace)"])}},c.formatAndLogError=function(t,r){if("undefined"!=typeof console){var n;if("object"==typeof t||"function"==typeof t){var i=t.stack;n=r+a(i,t)}else n=r+String(t);"function"==typeof e?e(n):("function"==typeof console.log||"object"==typeof console.log)&&console.log(n)}},c.unhandledRejection=function(e){c.formatAndLogError(e,"^--- With additional stack trace: ")},c.isSupported=function(){return"function"==typeof b},c.fireRejectionEvent=function(e,r,i,s){var o=!1;try{"function"==typeof r&&(o=!0,"rejectionHandled"===e?r(s):r(i,s))}catch(e){n.throwLater(e)}var a=!1;try{a=w(e,i,s)}catch(e){a=!0,n.throwLater(e)}var l=!1;if(t)try{l=t(e.toLowerCase(),{reason:i,promise:s})}catch(e){l=!0,n.throwLater(e)}a||o||l||"unhandledRejection"!==e||c.formatAndLogError(i,"Unhandled rejection ")};var y=function(){return!1},_=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function v(e){var t=e.match(_);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}c.setBounds=function(e,t){if(c.isSupported()){for(var r,n,i=e.stack.split("\n"),o=t.stack.split("\n"),a=-1,l=-1,u=0;u<i.length;++u){var d=v(i[u]);if(d){r=d.fileName,a=d.line;break}}for(var u=0;u<o.length;++u){var d=v(o[u]);if(d){n=d.fileName,l=d.line;break}}a<0||l<0||!r||!n||r!==n||a>=l||(y=function(e){if(s.test(e))return!0;var t=v(e);return!!t&&t.fileName===r&&!!(a<=t.line)&&!!(t.line<=l)})}};var b=function(){var e,t=/^\s*at\s*/,r=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():m(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit=Error.stackTraceLimit+6,o=t,a=r;var n=Error.captureStackTrace;return y=function(e){return s.test(e)},function(e,t){Error.stackTraceLimit=Error.stackTraceLimit+6,n(e,t),Error.stackTraceLimit=Error.stackTraceLimit-6}}var i=Error();if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return o=/@/,a=r,l=!0,function(e){e.stack=Error().stack};try{throw Error()}catch(t){e="stack"in t}return"stack"in i||!e||"number"!=typeof Error.stackTraceLimit?(a=function(e,t){return"string"==typeof e?e:("object"==typeof t||"function"==typeof t)&&void 0!==t.name&&void 0!==t.message?t.toString():m(t)},null):(o=t,a=r,function(e){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw Error()}catch(t){e.stack=t.stack}Error.stackTraceLimit=Error.stackTraceLimit-6})}([]),w=function(){if(i.isNode)return function(e,t,r){return"rejectionHandled"===e?process.emit(e,r):process.emit(e,t,r)};var e=!1,r=!0;try{e=new self.CustomEvent("test")instanceof CustomEvent}catch(e){}if(!e)try{var n=document.createEvent("CustomEvent");n.initCustomEvent("testingtheevent",!1,!0,{}),self.dispatchEvent(n)}catch(e){r=!1}r&&(t=function(t,r){var n;return e?n=new self.CustomEvent(t,{detail:r,bubbles:!1,cancelable:!0}):self.dispatchEvent&&(n=document.createEvent("CustomEvent")).initCustomEvent(t,!1,!0,r),!!n&&!self.dispatchEvent(n)});var s={};return s.unhandledRejection="onunhandledrejection",s.rejectionHandled="onrejectionhandled",function(e,t,r){var n=s[e],i=self[n];return!!i&&("rejectionHandled"===e?i.call(self,r):i.call(self,t,r),!0)}}();return"undefined"!=typeof console&&void 0!==console.warn&&(e=function(e){console.warn(e)},i.isNode&&process.stderr.isTTY?e=function(e){process.stderr.write("\x1b[31m"+e+"\x1b[39m\n")}:i.isNode||"string"!=typeof Error().stack||(e=function(e){console.warn("%c"+e,"color: red")})),c}},"./node_modules/bluebird/js/main/catch_filter.js":function(e,t,r){"use strict";e.exports=function(e){var t=r("./node_modules/bluebird/js/main/util.js"),n=r("./node_modules/bluebird/js/main/errors.js"),i=t.tryCatch,s=t.errorObj,o=r("./node_modules/bluebird/js/main/es5.js").keys,a=n.TypeError;function l(e,t,r){this._instances=e,this._callback=t,this._promise=r}function c(e,t){var r={},n=i(e).call(r,t);return n===s?n:o(r).length?(s.e=new a("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"),s):n}return l.prototype.doFilter=function(t){for(var r=this._callback,n=this._promise._boundValue(),o=0,a=this._instances.length;o<a;++o){var l=this._instances[o],u=l===Error||null!=l&&l.prototype instanceof Error;if(u&&t instanceof l){var d=i(r).call(n,t);if(d===s)return e.e=d.e,e;return d}if("function"==typeof l&&!u){var h=c(l,t);if(h===s){t=s.e;break}if(h){var d=i(r).call(n,t);if(d===s)return e.e=d.e,e;return d}}}return e.e=t,e},l}},"./node_modules/bluebird/js/main/context.js":function(e){"use strict";e.exports=function(e,t,r){var n=[];function i(){this._trace=new t(o())}function s(){if(r())return new i}function o(){var e=n.length-1;if(e>=0)return n[e]}return i.prototype._pushContext=function(){r()&&void 0!==this._trace&&n.push(this._trace)},i.prototype._popContext=function(){r()&&void 0!==this._trace&&n.pop()},e.prototype._peekContext=o,e.prototype._pushContext=i.prototype._pushContext,e.prototype._popContext=i.prototype._popContext,s}},"./node_modules/bluebird/js/main/debuggability.js":function(e,t,r){"use strict";e.exports=function(e,t){var n,i,s=e._getDomain,o=r("./node_modules/bluebird/js/main/async.js"),a=r("./node_modules/bluebird/js/main/errors.js").Warning,l=r("./node_modules/bluebird/js/main/util.js"),c=l.canAttachTrace,u=l.isNode&&(!!process.env.BLUEBIRD_DEBUG||!0);return l.isNode&&0==process.env.BLUEBIRD_DEBUG&&(u=!1),u&&o.disableTrampolineIfNecessary(),e.prototype._ignoreRejections=function(){this._unsetRejectionIsUnhandled(),this._bitField=0x1000000|this._bitField},e.prototype._ensurePossibleRejectionHandled=function(){(0x1000000&this._bitField)==0&&(this._setRejectionIsUnhandled(),o.invokeLater(this._notifyUnhandledRejection,this,void 0))},e.prototype._notifyUnhandledRejectionIsHandled=function(){t.fireRejectionEvent("rejectionHandled",n,void 0,this)},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified(),t.fireRejectionEvent("unhandledRejection",i,e,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-524289&this._bitField},e.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},e.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-2097153&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},e.prototype._setCarriedStackTrace=function(e){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=e},e.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},e.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},e.prototype._captureStackTrace=function(){return u&&(this._trace=new t(this._peekContext())),this},e.prototype._attachExtraTrace=function(e,r){if(u&&c(e)){var n=this._trace;if(void 0!==n&&r&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var i=t.parseStackAndMessage(e);l.notEnumerableProp(e,"stack",i.message+"\n"+i.stack.join("\n")),l.notEnumerableProp(e,"__stackCleaned__",!0)}}},e.prototype._warn=function(e){var r=new a(e),n=this._peekContext();if(n)n.attachExtraTrace(r);else{var i=t.parseStackAndMessage(r);r.stack=i.message+"\n"+i.stack.join("\n")}t.formatAndLogError(r,"")},e.onPossiblyUnhandledRejection=function(e){var t=s();i="function"==typeof e?null===t?e:t.bind(e):void 0},e.onUnhandledRejectionHandled=function(e){var t=s();n="function"==typeof e?null===t?e:t.bind(e):void 0},e.longStackTraces=function(){if(o.haveItemsQueued()&&!1===u)throw Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n");(u=t.isSupported())&&o.disableTrampolineIfNecessary()},e.hasLongStackTraces=function(){return u&&t.isSupported()},t.isSupported()||(e.longStackTraces=function(){},u=!1),function(){return u}}},"./node_modules/bluebird/js/main/direct_resolve.js":function(e,t,r){"use strict";var n=r("./node_modules/bluebird/js/main/util.js").isPrimitive;e.exports=function(e){var t=function(){return this},r=function(){throw this},i=function(){},s=function(){throw void 0},o=function(e,t){return 1===t?function(){throw e}:2===t?function(){return e}:void 0};e.prototype.return=e.prototype.thenReturn=function(r){return void 0===r?this.then(i):n(r)?this._then(o(r,2),void 0,void 0,void 0,void 0):(r instanceof e&&r._ignoreRejections(),this._then(t,void 0,void 0,r,void 0))},e.prototype.throw=e.prototype.thenThrow=function(e){return void 0===e?this.then(s):n(e)?this._then(o(e,1),void 0,void 0,void 0,void 0):this._then(r,void 0,void 0,e,void 0)}}},"./node_modules/bluebird/js/main/each.js":function(e){"use strict";e.exports=function(e,t){var r=e.reduce;e.prototype.each=function(e){return r(this,e,null,t)},e.each=function(e,n){return r(e,n,null,t)}}},"./node_modules/bluebird/js/main/errors.js":function(e,t,r){"use strict";var n,i,s=r("./node_modules/bluebird/js/main/es5.js"),o=s.freeze,a=r("./node_modules/bluebird/js/main/util.js"),l=a.inherits,c=a.notEnumerableProp;function u(e,t){function r(n){if(!(this instanceof r))return new r(n);c(this,"message","string"==typeof n?n:t),c(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return l(r,Error),r}var d=u("Warning","warning"),h=u("CancellationError","cancellation error"),p=u("TimeoutError","timeout error"),f=u("AggregateError","aggregate error");try{n=TypeError,i=RangeError}catch(e){n=u("TypeError","type error"),i=u("RangeError","range error")}for(var m="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),g=0;g<m.length;++g)"function"==typeof Array.prototype[m[g]]&&(f.prototype[m[g]]=Array.prototype[m[g]]);s.defineProperty(f.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),f.prototype.isOperational=!0;var y=0;function _(e){if(!(this instanceof _))return new _(e);c(this,"name","OperationalError"),c(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(c(this,"message",e.message),c(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}f.prototype.toString=function(){var e=Array(4*y+1).join(" "),t="\n"+e+"AggregateError of:\n";e=Array(4*++y+1).join(" ");for(var r=0;r<this.length;++r){for(var n=this[r]===this?"[Circular AggregateError]":this[r]+"",i=n.split("\n"),s=0;s<i.length;++s)i[s]=e+i[s];t+=(n=i.join("\n"))+"\n"}return y--,t},l(_,Error);var v=Error.__BluebirdErrorTypes__;v||c(Error,"__BluebirdErrorTypes__",v=o({CancellationError:h,TimeoutError:p,OperationalError:_,RejectionError:_,AggregateError:f})),e.exports={Error:Error,TypeError:n,RangeError:i,CancellationError:v.CancellationError,OperationalError:v.OperationalError,TimeoutError:v.TimeoutError,AggregateError:v.AggregateError,Warning:d}},"./node_modules/bluebird/js/main/es5.js":function(e){var t=function(){return void 0===this}();if(t)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:t,propertyIsWritable:function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!!(!r||r.writable||r.set)}};else{var r={}.hasOwnProperty,n={}.toString,i={}.constructor.prototype,s=function(e){var t=[];for(var n in e)r.call(e,n)&&t.push(n);return t};e.exports={isArray:function(e){try{return"[object Array]"===n.call(e)}catch(e){return!1}},keys:s,names:s,defineProperty:function(e,t,r){return e[t]=r.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return i}},isES5:t,propertyIsWritable:function(){return!0}}}},"./node_modules/bluebird/js/main/filter.js":function(e){"use strict";e.exports=function(e,t){var r=e.map;e.prototype.filter=function(e,n){return r(this,e,n,t)},e.filter=function(e,n,i){return r(e,n,i,t)}}},"./node_modules/bluebird/js/main/finally.js":function(e,t,r){"use strict";e.exports=function(e,t,n){var i=r("./node_modules/bluebird/js/main/util.js"),s=i.isPrimitive,o=i.thrower;function a(){return this}function l(){throw this}function c(e){return function(){return e}}function u(e){return function(){throw e}}function d(e,t,r){var n;return n=s(t)?r?c(t):u(t):r?a:l,e._then(n,o,void 0,t,void 0)}function h(r){var i=this.promise,s=this.handler,o=i._isBound()?s.call(i._boundValue()):s();if(void 0!==o){var a=n(o,i);if(a instanceof e)return d(a=a._target(),r,i.isFulfilled())}return i.isRejected()?(t.e=r,t):r}function p(t){var r=this.promise,i=this.handler,s=r._isBound()?i.call(r._boundValue(),t):i(t);if(void 0!==s){var o=n(s,r);if(o instanceof e)return d(o=o._target(),t,!0)}return t}e.prototype._passThroughHandler=function(e,t){if("function"!=typeof e)return this.then();var r={promise:this,handler:e};return this._then(t?h:p,t?h:void 0,void 0,r,void 0)},e.prototype.lastly=e.prototype.finally=function(e){return this._passThroughHandler(e,!0)},e.prototype.tap=function(e){return this._passThroughHandler(e,!1)}}},"./node_modules/bluebird/js/main/generators.js":function(e,t,r){"use strict";e.exports=function(e,t,n,i){var s=r("./node_modules/bluebird/js/main/errors.js").TypeError,o=r("./node_modules/bluebird/js/main/util.js"),a=o.errorObj,l=o.tryCatch,c=[];function u(t,r,n){for(var s=0;s<r.length;++s){n._pushContext();var o=l(r[s])(t);if(n._popContext(),o===a){n._pushContext();var c=e.reject(a.e);return n._popContext(),c}var u=i(o,n);if(u instanceof e)return u}return null}function d(t,r,i,s){(this._promise=new e(n))._captureStackTrace(),this._stack=s,this._generatorFunction=t,this._receiver=r,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(c):c}d.prototype.promise=function(){return this._promise},d.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},d.prototype._continue=function(t){if(t===a)return this._promise._rejectCallback(t.e,!1,!0);var r=t.value;if(!0===t.done)this._promise._resolveCallback(r);else{var n=i(r,this._promise);if(!(n instanceof e)&&null===(n=u(n,this._yieldHandlers,this._promise)))return void this._throw(new s("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",r)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));n._then(this._next,this._throw,void 0,this,null)}},d.prototype._throw=function(e){this._promise._attachExtraTrace(e),this._promise._pushContext();var t=l(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},d.prototype._next=function(e){this._promise._pushContext();var t=l(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},e.coroutine=function(e,t){if("function"!=typeof e)throw new s("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var r=Object(t).yieldHandler,n=d,i=Error().stack;return function(){var t=e.apply(this,arguments),s=new n(void 0,void 0,r,i);return s._generator=t,s._next(void 0),s.promise()}},e.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new s("fn must be a function\n\n    See http://goo.gl/916lJJ\n");c.push(e)},e.spawn=function(r){if("function"!=typeof r)return t("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var n=new d(r,this),i=n.promise();return n._run(e.spawn),i}}},"./node_modules/bluebird/js/main/join.js":function(e,t,r){"use strict";e.exports=function(e,t,n,i){var s,o=r("./node_modules/bluebird/js/main/util.js"),a=o.canEvaluate,l=o.tryCatch,c=o.errorObj;if(a){for(var u=function(e){return Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,e))},d=function(e){for(var t=[],r=1;r<=e;++r)t.push("holder.p"+r);return Function("holder","                                      \n            'use strict';                                                    \n            var callback = holder.fn;                                        \n            return callback(values);                                         \n            ".replace(/values/g,t.join(", ")))},h=[],p=[void 0],f=1;f<=5;++f)h.push(u(f)),p.push(d(f));var m=function(e,t){this.p1=this.p2=this.p3=this.p4=this.p5=null,this.fn=t,this.total=e,this.now=0};m.prototype.callers=p,m.prototype.checkFulfillment=function(e){var t=this.now;t++;var r=this.total;if(t>=r){var n=this.callers[r];e._pushContext();var i=l(n)(this);e._popContext(),i===c?e._rejectCallback(i.e,!1,!0):e._resolveCallback(i)}else this.now=t};var s=function(e){this._reject(e)}}e.join=function(){var r,o=arguments.length-1;if(o>0&&"function"==typeof arguments[o]&&(r=arguments[o],o<6&&a)){var l=new e(i);l._captureStackTrace();for(var c=new m(o,r),u=h,d=0;d<o;++d){var p=n(arguments[d],l);p instanceof e?(p=p._target())._isPending()?p._then(u[d],s,void 0,l,c):p._isFulfilled()?u[d].call(l,p._value(),c):l._reject(p._reason()):u[d].call(l,p,c)}return l}for(var f=arguments.length,g=Array(f),y=0;y<f;++y)g[y]=arguments[y];r&&g.pop();var l=new t(g).promise();return void 0!==r?l.spread(r):l}}},"./node_modules/bluebird/js/main/map.js":function(e,t,r){"use strict";e.exports=function(e,t,n,i,s){var o=e._getDomain,a=r("./node_modules/bluebird/js/main/async.js"),l=r("./node_modules/bluebird/js/main/util.js"),c=l.tryCatch,u=l.errorObj,d={},h=[];function p(e,t,r,n){this.constructor$(e),this._promise._captureStackTrace();var i=o();this._callback=null===i?t:i.bind(t),this._preservedValues=n===s?Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=r>=1?[]:h,a.invoke(f,this,void 0)}function f(){this._init$(void 0,-2)}function m(e,t,r,n){var i="object"==typeof r&&null!==r?r.concurrency:0;return new p(e,t,i="number"==typeof i&&isFinite(i)&&i>=1?i:0,n)}l.inherits(p,t),p.prototype._init=function(){},p.prototype._promiseFulfilled=function(t,r){var n=this._values,s=this.length(),o=this._preservedValues,a=this._limit;if(n[r]===d){if(n[r]=t,a>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(a>=1&&this._inFlight>=a){n[r]=t,this._queue.push(r);return}null!==o&&(o[r]=t);var l=this._callback,h=this._promise._boundValue();this._promise._pushContext();var p=c(l).call(h,t,r,s);if(this._promise._popContext(),p===u)return this._reject(p.e);var f=i(p,this._promise);if(f instanceof e){if((f=f._target())._isPending())return a>=1&&this._inFlight++,n[r]=d,f._proxyPromiseArray(this,r);if(!f._isFulfilled())return this._reject(f._reason());p=f._value()}n[r]=p}++this._totalResolved>=s&&(null!==o?this._filter(n,o):this._resolve(n))},p.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,r=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var n=e.pop();this._promiseFulfilled(r[n],n)}},p.prototype._filter=function(e,t){for(var r=t.length,n=Array(r),i=0,s=0;s<r;++s)e[s]&&(n[i++]=t[s]);n.length=i,this._resolve(n)},p.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(e,t){return"function"!=typeof e?n("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):m(this,e,t,null).promise()},e.map=function(e,t,r,i){return"function"!=typeof t?n("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):m(e,t,r,i).promise()}}},"./node_modules/bluebird/js/main/method.js":function(e,t,r){"use strict";e.exports=function(e,t,n,i){var s=r("./node_modules/bluebird/js/main/util.js"),o=s.tryCatch;e.method=function(r){if("function"!=typeof r)throw new e.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");return function(){var n=new e(t);n._captureStackTrace(),n._pushContext();var i=o(r).apply(this,arguments);return n._popContext(),n._resolveFromSyncValue(i),n}},e.attempt=e.try=function(r,n,a){if("function"!=typeof r)return i("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var l=new e(t);l._captureStackTrace(),l._pushContext();var c=s.isArray(n)?o(r).apply(a,n):o(r).call(a,n);return l._popContext(),l._resolveFromSyncValue(c),l},e.prototype._resolveFromSyncValue=function(e){e===s.errorObj?this._rejectCallback(e.e,!1,!0):this._resolveCallback(e,!0)}}},"./node_modules/bluebird/js/main/nodeify.js":function(e,t,r){"use strict";e.exports=function(e){var t=r("./node_modules/bluebird/js/main/util.js"),n=r("./node_modules/bluebird/js/main/async.js"),i=t.tryCatch,s=t.errorObj;function o(e,r){var o=this;if(!t.isArray(e))return a.call(o,e,r);var l=i(r).apply(o._boundValue(),[null].concat(e));l===s&&n.throwLater(l.e)}function a(e,t){var r=this,o=r._boundValue(),a=void 0===e?i(t).call(o,null):i(t).call(o,null,e);a===s&&n.throwLater(a.e)}function l(e,t){var r=this;if(!e){var o=r._target()._getCarriedStackTrace();o.cause=e,e=o}var a=i(t).call(r._boundValue(),e);a===s&&n.throwLater(a.e)}e.prototype.asCallback=e.prototype.nodeify=function(e,t){if("function"==typeof e){var r=a;void 0!==t&&Object(t).spread&&(r=o),this._then(r,l,void 0,this,e)}return this}}},"./node_modules/bluebird/js/main/progress.js":function(e,t,r){"use strict";e.exports=function(e,t){var n=r("./node_modules/bluebird/js/main/util.js"),i=r("./node_modules/bluebird/js/main/async.js"),s=n.tryCatch,o=n.errorObj;e.prototype.progressed=function(e){return this._then(void 0,void 0,e,void 0,void 0)},e.prototype._progress=function(e){this._isFollowingOrFulfilledOrRejected()||this._target()._progressUnchecked(e)},e.prototype._progressHandlerAt=function(e){return 0===e?this._progressHandler0:this[(e<<2)+e-5+2]},e.prototype._doProgressWith=function(t){var r=t.value,i=t.handler,a=t.promise,l=t.receiver,c=s(i).call(l,r);if(c===o){if(null!=c.e&&"StopProgressPropagation"!==c.e.name){var u=n.canAttachTrace(c.e)?c.e:Error(n.toString(c.e));a._attachExtraTrace(u),a._progress(c.e)}}else c instanceof e?c._then(a._progress,null,null,a,void 0):a._progress(c)},e.prototype._progressUnchecked=function(r){for(var n=this._length(),s=this._progress,o=0;o<n;o++){var a=this._progressHandlerAt(o),l=this._promiseAt(o);if(!(l instanceof e)){var c=this._receiverAt(o);"function"==typeof a?a.call(c,r,l):c instanceof t&&!c._isResolved()&&c._promiseProgressed(r,l);continue}"function"==typeof a?i.invoke(this._doProgressWith,this,{handler:a,promise:l,receiver:this._receiverAt(o),value:r}):i.invoke(s,l,r)}}}},"./node_modules/bluebird/js/main/promise.js":function(e,t,r){"use strict";e.exports=function(){var t,n=function(){return new u("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n")},i=function(){return new k.PromiseInspection(this._target())},s=function(e){return k.reject(new u(e))},o=r("./node_modules/bluebird/js/main/util.js");t=o.isNode?function(){var e=process.domain;return void 0===e&&(e=null),e}:function(){return null},o.notEnumerableProp(k,"_getDomain",t);var a={},l=r("./node_modules/bluebird/js/main/async.js"),c=r("./node_modules/bluebird/js/main/errors.js"),u=k.TypeError=c.TypeError;k.RangeError=c.RangeError,k.CancellationError=c.CancellationError,k.TimeoutError=c.TimeoutError,k.OperationalError=c.OperationalError,k.RejectionError=c.OperationalError,k.AggregateError=c.AggregateError;var d=function(){},h={},p={e:null},f=r("./node_modules/bluebird/js/main/thenables.js")(k,d),m=r("./node_modules/bluebird/js/main/promise_array.js")(k,d,f,s),g=r("./node_modules/bluebird/js/main/captured_trace.js")(),y=r("./node_modules/bluebird/js/main/debuggability.js")(k,g),_=r("./node_modules/bluebird/js/main/context.js")(k,g,y),v=r("./node_modules/bluebird/js/main/catch_filter.js")(p),b=r("./node_modules/bluebird/js/main/promise_resolver.js"),w=b._nodebackForPromise,j=o.errorObj,S=o.tryCatch;function k(e){if("function"!=typeof e)throw new u("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n");if(this.constructor!==k)throw new u("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._progressHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,e!==d&&this._resolveFromResolver(e)}function E(e){var t=new k(d);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._progressHandler0=e,t._promise0=e,t._receiver0=e,t._settledValue=e}return k.prototype.toString=function(){return"[object Promise]"},k.prototype.caught=k.prototype.catch=function(e){var t=arguments.length;if(t>1){var r,n=Array(t-1),i=0;for(r=0;r<t-1;++r){var s=arguments[r];if("function"!=typeof s)return k.reject(new u("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"));n[i++]=s}n.length=i,e=arguments[r];var o=new v(n,e,this);return this._then(void 0,o.doFilter,void 0,o,void 0)}return this._then(void 0,e,void 0,void 0,void 0)},k.prototype.reflect=function(){return this._then(i,i,void 0,this,void 0)},k.prototype.then=function(e,t,r){if(y()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+o.classString(e);arguments.length>1&&(n+=", "+o.classString(t)),this._warn(n)}return this._then(e,t,r,void 0,void 0)},k.prototype.done=function(e,t,r){this._then(e,t,r,void 0,void 0)._setIsFinal()},k.prototype.spread=function(e,t){return this.all()._then(e,t,void 0,h,void 0)},k.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},k.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},k.prototype.all=function(){return new m(this).promise()},k.prototype.error=function(e){return this.caught(o.originatesFromRejection,e)},k.getNewLibraryCopy=e.exports,k.is=function(e){return e instanceof k},k.fromNode=function(e){var t=new k(d),r=S(e)(w(t));return r===j&&t._rejectCallback(r.e,!0,!0),t},k.all=function(e){return new m(e).promise()},k.defer=k.pending=function(){return new b(new k(d))},k.cast=function(e){var t=f(e);if(!(t instanceof k)){var r=t;(t=new k(d))._fulfillUnchecked(r)}return t},k.resolve=k.fulfilled=k.cast,k.reject=k.rejected=function(e){var t=new k(d);return t._captureStackTrace(),t._rejectCallback(e,!0),t},k.setScheduler=function(e){if("function"!=typeof e)throw new u("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var t=l._schedule;return l._schedule=e,t},k.prototype._then=function(e,r,n,i,s){var o=void 0!==s,a=o?s:new k(d);o||(a._propagateFrom(this,5),a._captureStackTrace());var c=this._target();c!==this&&(void 0===i&&(i=this._boundTo),o||a._setIsMigrated());var u=c._addCallbacks(e,r,n,a,i,t());return c._isResolved()&&!c._isSettlePromisesQueued()&&l.invoke(c._settlePromiseAtPostResolution,c,u),a},k.prototype._settlePromiseAtPostResolution=function(e){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),this._settlePromiseAt(e)},k.prototype._length=function(){return 131071&this._bitField},k.prototype._isFollowingOrFulfilledOrRejected=function(){return(0x38000000&this._bitField)>0},k.prototype._isFollowing=function(){return(0x20000000&this._bitField)==0x20000000},k.prototype._setLength=function(e){this._bitField=-131072&this._bitField|131071&e},k.prototype._setFulfilled=function(){this._bitField=0x10000000|this._bitField},k.prototype._setRejected=function(){this._bitField=0x8000000|this._bitField},k.prototype._setFollowing=function(){this._bitField=0x20000000|this._bitField},k.prototype._setIsFinal=function(){this._bitField=0x2000000|this._bitField},k.prototype._isFinal=function(){return(0x2000000&this._bitField)>0},k.prototype._cancellable=function(){return(0x4000000&this._bitField)>0},k.prototype._setCancellable=function(){this._bitField=0x4000000|this._bitField},k.prototype._unsetCancellable=function(){this._bitField=-0x4000001&this._bitField},k.prototype._setIsMigrated=function(){this._bitField=4194304|this._bitField},k.prototype._unsetIsMigrated=function(){this._bitField=-4194305&this._bitField},k.prototype._isMigrated=function(){return(4194304&this._bitField)>0},k.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[5*e-5+4];return t===a?void 0:void 0===t&&this._isBound()?this._boundValue():t},k.prototype._promiseAt=function(e){return 0===e?this._promise0:this[5*e-5+3]},k.prototype._fulfillmentHandlerAt=function(e){return 0===e?this._fulfillmentHandler0:this[5*e-5+0]},k.prototype._rejectionHandlerAt=function(e){return 0===e?this._rejectionHandler0:this[5*e-5+1]},k.prototype._boundValue=function(){var e=this._boundTo;if(void 0!==e&&e instanceof k)if(e.isFulfilled())return e.value();else return;return e},k.prototype._migrateCallbacks=function(e,t){var r=e._fulfillmentHandlerAt(t),n=e._rejectionHandlerAt(t),i=e._progressHandlerAt(t),s=e._promiseAt(t),o=e._receiverAt(t);s instanceof k&&s._setIsMigrated(),void 0===o&&(o=a),this._addCallbacks(r,n,i,s,o,null)},k.prototype._addCallbacks=function(e,t,r,n,i,s){var o=this._length();if(o>=131066&&(o=0,this._setLength(0)),0===o)this._promise0=n,void 0!==i&&(this._receiver0=i),"function"!=typeof e||this._isCarryingStackTrace()||(this._fulfillmentHandler0=null===s?e:s.bind(e)),"function"==typeof t&&(this._rejectionHandler0=null===s?t:s.bind(t)),"function"==typeof r&&(this._progressHandler0=null===s?r:s.bind(r));else{var a=5*o-5;this[a+3]=n,this[a+4]=i,"function"==typeof e&&(this[a+0]=null===s?e:s.bind(e)),"function"==typeof t&&(this[a+1]=null===s?t:s.bind(t)),"function"==typeof r&&(this[a+2]=null===s?r:s.bind(r))}return this._setLength(o+1),o},k.prototype._setProxyHandlers=function(e,t){var r=this._length();if(r>=131066&&(r=0,this._setLength(0)),0===r)this._promise0=t,this._receiver0=e;else{var n=5*r-5;this[n+3]=t,this[n+4]=e}this._setLength(r+1)},k.prototype._proxyPromiseArray=function(e,t){this._setProxyHandlers(e,t)},k.prototype._resolveCallback=function(e,t){if(!this._isFollowingOrFulfilledOrRejected()){if(e===this)return this._rejectCallback(n(),!1,!0);var r=f(e,this);if(!(r instanceof k))return this._fulfill(e);var i=1|4*!!t;this._propagateFrom(r,i);var s=r._target();if(s._isPending()){for(var o=this._length(),a=0;a<o;++a)s._migrateCallbacks(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(s)}else s._isFulfilled()?this._fulfillUnchecked(s._value()):this._rejectUnchecked(s._reason(),s._getCarriedStackTrace())}},k.prototype._rejectCallback=function(e,t,r){r||o.markAsOriginatingFromRejection(e);var n=o.ensureErrorObject(e),i=n===e;this._attachExtraTrace(n,!!t&&i),this._reject(e,i?void 0:n)},k.prototype._resolveFromResolver=function(e){var t=this;this._captureStackTrace(),this._pushContext();var r=!0,n=S(e)(function(e){null!==t&&(t._resolveCallback(e),t=null)},function(e){null!==t&&(t._rejectCallback(e,r),t=null)});r=!1,this._popContext(),void 0!==n&&n===j&&null!==t&&(t._rejectCallback(n.e,!0,!0),t=null)},k.prototype._settlePromiseFromHandler=function(e,t,r,i){if(!i._isRejected())if(i._pushContext(),s=t!==h||this._isRejected()?S(e).call(t,r):S(e).apply(this._boundValue(),r),i._popContext(),s===j||s===i||s===p){var s,o=s===i?n():s.e;i._rejectCallback(o,!1,!0)}else i._resolveCallback(s)},k.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},k.prototype._followee=function(){return this._rejectionHandler0},k.prototype._setFollowee=function(e){this._rejectionHandler0=e},k.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},k.prototype._propagateFrom=function(e,t){(1&t)>0&&e._cancellable()&&(this._setCancellable(),this._cancellationParent=e),(4&t)>0&&e._isBound()&&this._setBoundTo(e._boundTo)},k.prototype._fulfill=function(e){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(e)},k.prototype._reject=function(e,t){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(e,t)},k.prototype._settlePromiseAt=function(e){var t=this._promiseAt(e),r=t instanceof k;if(r&&t._isMigrated())return t._unsetIsMigrated(),l.invoke(this._settlePromiseAt,this,e);var n=this._isFulfilled()?this._fulfillmentHandlerAt(e):this._rejectionHandlerAt(e),i=this._isCarryingStackTrace()?this._getCarriedStackTrace():void 0,s=this._settledValue,o=this._receiverAt(e);this._clearCallbackDataAtIndex(e),"function"==typeof n?r?this._settlePromiseFromHandler(n,o,s,t):n.call(o,s,t):o instanceof m?o._isResolved()||(this._isFulfilled()?o._promiseFulfilled(s,t):o._promiseRejected(s,t)):r&&(this._isFulfilled()?t._fulfill(s):t._reject(s,i)),e>=4&&(31&e)==4&&l.invokeLater(this._setLength,this,0)},k.prototype._clearCallbackDataAtIndex=function(e){if(0===e)this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0),this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=void 0;else{var t=5*e-5;this[t+3]=this[t+4]=this[t+0]=this[t+1]=this[t+2]=void 0}},k.prototype._isSettlePromisesQueued=function(){return(-0x40000000&this._bitField)==-0x40000000},k.prototype._setSettlePromisesQueued=function(){this._bitField=-0x40000000|this._bitField},k.prototype._unsetSettlePromisesQueued=function(){this._bitField=0x3fffffff&this._bitField},k.prototype._queueSettlePromises=function(){l.settlePromises(this),this._setSettlePromisesQueued()},k.prototype._fulfillUnchecked=function(e){if(e===this){var t=n();return this._attachExtraTrace(t),this._rejectUnchecked(t,void 0)}this._setFulfilled(),this._settledValue=e,this._cleanValues(),this._length()>0&&this._queueSettlePromises()},k.prototype._rejectUncheckedCheckError=function(e){var t=o.ensureErrorObject(e);this._rejectUnchecked(e,t===e?void 0:t)},k.prototype._rejectUnchecked=function(e,t){if(e===this){var r=n();return this._attachExtraTrace(r),this._rejectUnchecked(r)}if(this._setRejected(),this._settledValue=e,this._cleanValues(),this._isFinal())return void l.throwLater(function(e){throw"stack"in e&&l.invokeFirst(g.unhandledRejection,void 0,e),e},void 0===t?e:t);void 0!==t&&t!==e&&this._setCarriedStackTrace(t),this._length()>0?this._queueSettlePromises():this._ensurePossibleRejectionHandled()},k.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();for(var e=this._length(),t=0;t<e;t++)this._settlePromiseAt(t)},o.notEnumerableProp(k,"_makeSelfResolutionError",n),r("./node_modules/bluebird/js/main/progress.js")(k,m),r("./node_modules/bluebird/js/main/method.js")(k,d,f,s),r("./node_modules/bluebird/js/main/bind.js")(k,d,f),r("./node_modules/bluebird/js/main/finally.js")(k,p,f),r("./node_modules/bluebird/js/main/direct_resolve.js")(k),r("./node_modules/bluebird/js/main/synchronous_inspection.js")(k),r("./node_modules/bluebird/js/main/join.js")(k,m,f,d),k.version="2.11.0",k.Promise=k,r("./node_modules/bluebird/js/main/map.js")(k,m,s,f,d),r("./node_modules/bluebird/js/main/cancel.js")(k),r("./node_modules/bluebird/js/main/using.js")(k,s,f,_),r("./node_modules/bluebird/js/main/generators.js")(k,s,d,f),r("./node_modules/bluebird/js/main/nodeify.js")(k),r("./node_modules/bluebird/js/main/call_get.js")(k),r("./node_modules/bluebird/js/main/props.js")(k,m,f,s),r("./node_modules/bluebird/js/main/race.js")(k,d,f,s),r("./node_modules/bluebird/js/main/reduce.js")(k,m,s,f,d),r("./node_modules/bluebird/js/main/settle.js")(k,m),r("./node_modules/bluebird/js/main/some.js")(k,m,s),r("./node_modules/bluebird/js/main/promisify.js")(k,d),r("./node_modules/bluebird/js/main/any.js")(k),r("./node_modules/bluebird/js/main/each.js")(k,d),r("./node_modules/bluebird/js/main/timers.js")(k,d),r("./node_modules/bluebird/js/main/filter.js")(k,d),o.toFastProperties(k),o.toFastProperties(k.prototype),E({a:1}),E({b:2}),E({c:3}),E(1),E(function(){}),E(void 0),E(!1),E(new k(d)),g.setBounds(l.firstLineError,o.lastLineError),k}},"./node_modules/bluebird/js/main/promise_array.js":function(e,t,r){"use strict";e.exports=function(e,t,n,i){var s=r("./node_modules/bluebird/js/main/util.js").isArray;function o(e){switch(e){case -2:return[];case -3:return{}}}function a(r){var n,i=this._promise=new e(t);r instanceof e&&(n=r,i._propagateFrom(n,5)),this._values=r,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function t(r,a){var l=n(this._values,this._promise);if(l instanceof e)if(l=l._target(),this._values=l,l._isFulfilled()){if(!s(l=l._value())){var c=new e.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");this.__hardReject__(c);return}}else if(l._isPending())return void l._then(t,this._reject,void 0,this,a);else return void this._reject(l._reason());else if(!s(l))return void this._promise._reject(i("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());if(0===l.length)return void(-5===a?this._resolveEmptyArray():this._resolve(o(a)));var u=this.getActualLength(l.length);this._length=u,this._values=this.shouldCopyValues()?Array(u):this._values;for(var d=this._promise,h=0;h<u;++h){var p=this._isResolved(),f=n(l[h],d);f instanceof e?(f=f._target(),p?f._ignoreRejections():f._isPending()?f._proxyPromiseArray(this,h):f._isFulfilled()?this._promiseFulfilled(f._value(),h):this._promiseRejected(f._reason(),h)):p||this._promiseFulfilled(f,h)}},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},a.prototype.__hardReject__=a.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1,!0)},a.prototype._promiseProgressed=function(e,t){this._promise._progress({index:t,value:e})},a.prototype._promiseFulfilled=function(e,t){this._values[t]=e,++this._totalResolved>=this._length&&this._resolve(this._values)},a.prototype._promiseRejected=function(e,t){this._totalResolved++,this._reject(e)},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(e){return e},a}},"./node_modules/bluebird/js/main/promise_resolver.js":function(e,t,r){"use strict";var n,i=r("./node_modules/bluebird/js/main/util.js"),s=i.maybeWrapAsError,o=r("./node_modules/bluebird/js/main/errors.js"),a=o.TimeoutError,l=o.OperationalError,c=i.haveGetters,u=r("./node_modules/bluebird/js/main/es5.js");function d(e){return e instanceof Error&&u.getPrototypeOf(e)===Error.prototype}var h=/^(?:name|message|stack|cause)$/;function p(e){var t;if(d(e)){(t=new l(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var r=u.keys(e),n=0;n<r.length;++n){var s=r[n];h.test(s)||(t[s]=e[s])}return t}return i.markAsOriginatingFromRejection(e),e}function f(e){return function(t,r){if(null!==e){if(t){var n=p(s(t));e._attachExtraTrace(n),e._reject(n)}else if(arguments.length>2){for(var i=arguments.length,o=Array(i-1),a=1;a<i;++a)o[a-1]=arguments[a];e._fulfill(o)}else e._fulfill(r);e=null}}}if(n=c?function(e){this.promise=e}:function(e){this.promise=e,this.asCallback=f(e),this.callback=this.asCallback},c){var m={get:function(){return f(this.promise)}};u.defineProperty(n.prototype,"asCallback",m),u.defineProperty(n.prototype,"callback",m)}n._nodebackForPromise=f,n.prototype.toString=function(){return"[object PromiseResolver]"},n.prototype.resolve=n.prototype.fulfill=function(e){if(!(this instanceof n))throw TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._resolveCallback(e)},n.prototype.reject=function(e){if(!(this instanceof n))throw TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._rejectCallback(e)},n.prototype.progress=function(e){if(!(this instanceof n))throw TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._progress(e)},n.prototype.cancel=function(e){this.promise.cancel(e)},n.prototype.timeout=function(){this.reject(new a("timeout"))},n.prototype.isResolved=function(){return this.promise.isResolved()},n.prototype.toJSON=function(){return this.promise.toJSON()},e.exports=n},"./node_modules/bluebird/js/main/promisify.js":function(e,t,r){"use strict";e.exports=function(e,t){var n,i={},s=r("./node_modules/bluebird/js/main/util.js"),o=r("./node_modules/bluebird/js/main/promise_resolver.js")._nodebackForPromise,a=s.withAppended,l=s.maybeWrapAsError,c=s.canEvaluate,u=r("./node_modules/bluebird/js/main/errors.js").TypeError,d="Async",h={__isPromisified__:!0},p=RegExp("^(?:arity|length|name|arguments|caller|callee|prototype|__isPromisified__)$"),f=function(e){return s.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e};function m(e){return!p.test(e)}function g(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function y(e,t,r){var n=s.getDataPropertyOrDefault(e,t+r,h);return!!n&&g(n)}function _(e,t,r){for(var n=0;n<e.length;n+=2){var i=e[n];if(r.test(i)){for(var s=i.replace(r,""),o=0;o<e.length;o+=2)if(e[o]===s)throw new u("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",t))}}}function v(e,t,r,n){for(var i=s.inheritedDataKeys(e),o=[],a=0;a<i.length;++a){var l=i[a],c=e[l],u=n===f||f(l,c,e);"function"==typeof c&&!g(c)&&!y(e,l,t)&&n(l,c,e,u)&&o.push(l,c)}return _(o,t,r),o}var b=function(e){return e.replace(/([$])/,"\\$")},w=function(e){for(var t=[e],r=Math.max(0,e-1-3),n=e-1;n>=r;--n)t.push(n);for(var n=e+1;n<=3;++n)t.push(n);return t},j=function(e){return s.filledRange(e,"_arg","")},S=function(e){return s.filledRange(Math.max(e,3),"_arg","")},k=function(e){return"number"==typeof e.length?Math.max(Math.min(e.length,1024),0):0};function E(r,n,c,u){var d=function(){return this}(),h=r;function p(){var s=n;n===i&&(s=this);var c=new e(t);c._captureStackTrace();var u="string"==typeof h&&this!==d?this[h]:r,p=o(c);try{u.apply(s,a(arguments,p))}catch(e){c._rejectCallback(l(e),!0,!0)}return c}return"string"==typeof h&&(r=u),s.notEnumerableProp(p,"__isPromisified__",!0),p}n=function(r,n,c,u){var d=Math.max(0,k(u)-1),h=w(d),p="string"==typeof r||n===i;function f(e){var t,r=j(e).join(", "),i=e>0?", ":"";return(t=p?"ret = callback.call(this, {{args}}, nodeback); break;\n":void 0===n?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n").replace("{{args}}",r).replace(", ",i)}function m(){for(var e="",t=0;t<h.length;++t)e+="case "+h[t]+":"+f(h[t]);return e+"                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = nodeback;                                              \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",p?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n")}var g="string"==typeof r?"this != null ? this['"+r+"'] : fn":"fn";return Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL","'use strict';                            \n        var ret = function (Parameters) {                                    \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._captureStackTrace();                                    \n            var nodeback = nodebackForPromise(promise);                      \n            var ret;                                                         \n            var callback = tryCatch([GetFunctionCode]);                      \n            switch(len) {                                                    \n                [CodeForSwitchCase]                                          \n            }                                                                \n            if (ret === errorObj) {                                          \n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n            }                                                                \n            return promise;                                                  \n        };                                                                   \n        notEnumerableProp(ret, '__isPromisified__', true);                   \n        return ret;                                                          \n        ".replace("Parameters",S(d)).replace("[CodeForSwitchCase]",m()).replace("[GetFunctionCode]",g))(e,u,n,a,l,o,s.tryCatch,s.errorObj,s.notEnumerableProp,t)};var C=c?n:E;function x(e,t,r,n){for(var o=RegExp(b(t)+"$"),a=v(e,t,o,r),l=0,c=a.length;l<c;l+=2){var u=a[l],d=a[l+1],h=u+t;if(n===C)e[h]=C(u,i,u,d,t);else{var p=n(d,function(){return C(u,i,u,d,t)});s.notEnumerableProp(p,"__isPromisified__",!0),e[h]=p}}return s.toFastProperties(e),e}function T(e,t){return C(e,t,void 0,e)}e.promisify=function(e,t){if("function"!=typeof e)throw new u("fn must be a function\n\n    See http://goo.gl/916lJJ\n");if(g(e))return e;var r=T(e,arguments.length<2?i:t);return s.copyDescriptors(e,r,m),r},e.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new u("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n");var r=(t=Object(t)).suffix;"string"!=typeof r&&(r=d);var n=t.filter;"function"!=typeof n&&(n=f);var i=t.promisifier;if("function"!=typeof i&&(i=C),!s.isIdentifier(r))throw RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n");for(var o=s.inheritedDataKeys(e),a=0;a<o.length;++a){var l=e[o[a]];"constructor"!==o[a]&&s.isClass(l)&&(x(l.prototype,r,n,i),x(l,r,n,i))}return x(e,r,n,i)}}},"./node_modules/bluebird/js/main/props.js":function(e,t,r){"use strict";e.exports=function(e,t,n,i){var s=r("./node_modules/bluebird/js/main/util.js"),o=s.isObject,a=r("./node_modules/bluebird/js/main/es5.js");function l(e){for(var t=a.keys(e),r=t.length,n=Array(2*r),i=0;i<r;++i){var s=t[i];n[i]=e[s],n[i+r]=s}this.constructor$(n)}function c(t){var r,s=n(t);return o(s)?(r=s instanceof e?s._then(e.props,void 0,void 0,void 0,void 0):new l(s).promise(),s instanceof e&&r._propagateFrom(s,4),r):i("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n")}s.inherits(l,t),l.prototype._init=function(){this._init$(void 0,-3)},l.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){for(var r={},n=this.length(),i=0,s=this.length();i<s;++i)r[this._values[i+n]]=this._values[i];this._resolve(r)}},l.prototype._promiseProgressed=function(e,t){this._promise._progress({key:this._values[t+this.length()],value:e})},l.prototype.shouldCopyValues=function(){return!1},l.prototype.getActualLength=function(e){return e>>1},e.prototype.props=function(){return c(this)},e.props=function(e){return c(e)}}},"./node_modules/bluebird/js/main/queue.js":function(e){"use strict";function t(e,t,r,n,i){for(var s=0;s<i;++s)r[s+n]=e[s+t],e[s+t]=void 0}function r(e){this._capacity=e,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(e){return this._capacity<e},r.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},r.prototype._unshiftOne=function(e){var t=this._capacity;this._checkCapacity(this.length()+1);var r=(this._front-1&t-1^t)-t;this[r]=e,this._front=r,this._length=this.length()+1},r.prototype.unshift=function(e,t,r){this._unshiftOne(r),this._unshiftOne(t),this._unshiftOne(e)},r.prototype.push=function(e,t,r){var n=this.length()+3;if(this._willBeOverCapacity(n)){this._pushOne(e),this._pushOne(t),this._pushOne(r);return}var i=this._front+n-3;this._checkCapacity(n);var s=this._capacity-1;this[i+0&s]=e,this[i+1&s]=t,this[i+2&s]=r,this._length=n},r.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(e){var r=this._capacity;this._capacity=e;var n=this._front+this._length&r-1;t(this,0,this,r,n)},e.exports=r},"./node_modules/bluebird/js/main/race.js":function(e,t,r){"use strict";e.exports=function(e,t,n,i){var s=r("./node_modules/bluebird/js/main/util.js").isArray,o=function(e){return e.then(function(t){return a(t,e)})};function a(r,a){var l=n(r);if(l instanceof e)return o(l);if(!s(r))return i("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");var c=new e(t);void 0!==a&&c._propagateFrom(a,5);for(var u=c._fulfill,d=c._reject,h=0,p=r.length;h<p;++h){var f=r[h];(void 0!==f||h in r)&&e.cast(f)._then(u,d,void 0,c,null)}return c}e.race=function(e){return a(e,void 0)},e.prototype.race=function(){return a(this,void 0)}}},"./node_modules/bluebird/js/main/reduce.js":function(e,t,r){"use strict";e.exports=function(e,t,n,i,s){var o=e._getDomain,a=r("./node_modules/bluebird/js/main/async.js"),l=r("./node_modules/bluebird/js/main/util.js"),c=l.tryCatch,u=l.errorObj;function d(t,r,n,l){this.constructor$(t),this._promise._captureStackTrace(),this._preservedValues=l===s?[]:null,this._zerothIsAccum=void 0===n,this._gotAccum=!1,this._reducingIndex=+!!this._zerothIsAccum,this._valuesPhase=void 0;var c=i(n,this._promise),u=!1,d=c instanceof e;d&&((c=c._target())._isPending()?c._proxyPromiseArray(this,-1):c._isFulfilled()?(n=c._value(),this._gotAccum=!0):(this._reject(c._reason()),u=!0)),d||this._zerothIsAccum||(this._gotAccum=!0);var p=o();this._callback=null===p?r:p.bind(r),this._accum=n,u||a.invoke(h,this,void 0)}function h(){this._init$(void 0,-5)}function p(e,t,r,i){return"function"!=typeof t?n("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):new d(e,t,r,i).promise()}l.inherits(d,t),d.prototype._init=function(){},d.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},d.prototype._promiseFulfilled=function(t,r){var n,s,o=this._values;o[r]=t;var a=this.length(),l=this._preservedValues,d=null!==l,h=this._gotAccum,p=this._valuesPhase;if(!p)for(n=0,p=this._valuesPhase=Array(a);n<a;++n)p[n]=0;if(n=p[r],0===r&&this._zerothIsAccum?(this._accum=t,this._gotAccum=h=!0,p[r]=0===n?1:2):-1===r?(this._accum=t,this._gotAccum=h=!0):0===n?p[r]=1:(p[r]=2,this._accum=t),h){for(var f=this._callback,m=this._promise._boundValue(),g=this._reducingIndex;g<a;++g){if(2===(n=p[g])){this._reducingIndex=g+1;continue}if(1!==n)return;if(t=o[g],this._promise._pushContext(),d?(l.push(t),s=c(f).call(m,t,g,a)):s=c(f).call(m,this._accum,t,g,a),this._promise._popContext(),s===u)return this._reject(s.e);var y=i(s,this._promise);if(y instanceof e){if((y=y._target())._isPending())return p[g]=4,y._proxyPromiseArray(this,g);if(!y._isFulfilled())return this._reject(y._reason());s=y._value()}this._reducingIndex=g+1,this._accum=s}this._resolve(d?l:this._accum)}},e.prototype.reduce=function(e,t){return p(this,e,t,null)},e.reduce=function(e,t,r,n){return p(e,t,r,n)}}},"./node_modules/bluebird/js/main/schedule.js":function(e,t,r){"use strict";var n,i=r("./node_modules/bluebird/js/main/util.js"),s=function(){throw Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")};if(i.isNode&&"undefined"==typeof MutationObserver){var o=global.setImmediate,a=process.nextTick;n=i.isRecentNode?function(e){o.call(global,e)}:function(e){a.call(process,e)}}else"undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?n="undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:s:(n=function(e){var t=document.createElement("div");return new MutationObserver(e).observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}}).isStatic=!0;e.exports=n},"./node_modules/bluebird/js/main/settle.js":function(e,t,r){"use strict";e.exports=function(e,t){var n=e.PromiseInspection;function i(e){this.constructor$(e)}r("./node_modules/bluebird/js/main/util.js").inherits(i,t),i.prototype._promiseResolved=function(e,t){this._values[e]=t,++this._totalResolved>=this._length&&this._resolve(this._values)},i.prototype._promiseFulfilled=function(e,t){var r=new n;r._bitField=0x10000000,r._settledValue=e,this._promiseResolved(t,r)},i.prototype._promiseRejected=function(e,t){var r=new n;r._bitField=0x8000000,r._settledValue=e,this._promiseResolved(t,r)},e.settle=function(e){return new i(e).promise()},e.prototype.settle=function(){return new i(this).promise()}}},"./node_modules/bluebird/js/main/some.js":function(e,t,r){"use strict";e.exports=function(e,t,n){var i=r("./node_modules/bluebird/js/main/util.js"),s=r("./node_modules/bluebird/js/main/errors.js").RangeError,o=r("./node_modules/bluebird/js/main/errors.js").AggregateError,a=i.isArray;function l(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function c(e,t){if((0|t)!==t||t<0)return n("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n");var r=new l(e),i=r.promise();return r.setHowMany(t),r.init(),i}i.inherits(l,t),l.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=a(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(e){this._howMany=e},l.prototype._promiseFulfilled=function(e){this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values))},l.prototype._promiseRejected=function(e){if(this._addRejected(e),this.howMany()>this._canPossiblyFulfill()){for(var t=new o,r=this.length();r<this._values.length;++r)t.push(this._values[r]);this._reject(t)}},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(e){this._values.push(e)},l.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(e){return new s("Input array must contain at least "+this._howMany+" items but contains only "+e+" items")},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(e,t){return c(e,t)},e.prototype.some=function(e){return c(this,e)},e._SomePromiseArray=l}},"./node_modules/bluebird/js/main/synchronous_inspection.js":function(e){"use strict";e.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValue=e._settledValue):(this._bitField=0,this._settledValue=void 0)}t.prototype.value=function(){if(!this.isFulfilled())throw TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return this._settledValue},t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return this._settledValue},t.prototype.isFulfilled=e.prototype._isFulfilled=function(){return(0x10000000&this._bitField)>0},t.prototype.isRejected=e.prototype._isRejected=function(){return(0x8000000&this._bitField)>0},t.prototype.isPending=e.prototype._isPending=function(){return(0x18000000&this._bitField)==0},t.prototype.isResolved=e.prototype._isResolved=function(){return(0x18000000&this._bitField)>0},e.prototype.isPending=function(){return this._target()._isPending()},e.prototype.isRejected=function(){return this._target()._isRejected()},e.prototype.isFulfilled=function(){return this._target()._isFulfilled()},e.prototype.isResolved=function(){return this._target()._isResolved()},e.prototype._value=function(){return this._settledValue},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue},e.prototype.value=function(){var e=this._target();if(!e.isFulfilled())throw TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return e._settledValue},e.prototype.reason=function(){var e=this._target();if(!e.isRejected())throw TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return e._unsetRejectionIsUnhandled(),e._settledValue},e.PromiseInspection=t}},"./node_modules/bluebird/js/main/thenables.js":function(e,t,r){"use strict";e.exports=function(e,t){var n=r("./node_modules/bluebird/js/main/util.js"),i=n.errorObj,s=n.isObject;function o(e){return e.then}var a={}.hasOwnProperty;function l(e){return a.call(e,"_promise0")}function c(r,s,o){var a=new e(t),l=a;o&&o._pushContext(),a._captureStackTrace(),o&&o._popContext();var c=!0,u=n.tryCatch(s).call(r,d,h,p);function d(e){a&&(a._resolveCallback(e),a=null)}function h(e){a&&(a._rejectCallback(e,c,!0),a=null)}function p(e){a&&"function"==typeof a._progress&&a._progress(e)}return c=!1,a&&u===i&&(a._rejectCallback(u.e,!0,!0),a=null),l}return function(r,a){if(s(r)){if(r instanceof e)return r;if(l(r)){var u=new e(t);return r._then(u._fulfillUnchecked,u._rejectUncheckedCheckError,u._progressUnchecked,u,null),u}var d=n.tryCatch(o)(r);if(d===i){a&&a._pushContext();var u=e.reject(d.e);return a&&a._popContext(),u}if("function"==typeof d)return c(r,d,a)}return r}}},"./node_modules/bluebird/js/main/timers.js":function(e,t,r){"use strict";e.exports=function(e,t){var n=r("./node_modules/bluebird/js/main/util.js"),i=e.TimeoutError,s=function(e,t){var r;e.isPending()&&(!n.isPrimitive(t)&&t instanceof Error?r=t:("string"!=typeof t&&(t="operation timed out"),r=new i(t)),n.markAsOriginatingFromRejection(r),e._attachExtraTrace(r),e._cancel(r))},o=function(e){return a(+this).thenReturn(e)},a=e.delay=function(r,n){if(void 0===n){n=r,r=void 0;var i=new e(t);return setTimeout(function(){i._fulfill()},n),i}return n*=1,e.resolve(r)._then(o,null,null,n,void 0)};function l(e){var t=this;return t instanceof Number&&(t*=1),clearTimeout(t),e}function c(e){var t=this;throw t instanceof Number&&(t*=1),clearTimeout(t),e}e.prototype.delay=function(e){return a(this,e)},e.prototype.timeout=function(e,t){e*=1;var r=this.then().cancellable();r._cancellationParent=this;var n=setTimeout(function(){s(r,t)},e);return r._then(l,c,void 0,n,void 0)}}},"./node_modules/bluebird/js/main/using.js":function(e,t,r){"use strict";e.exports=function(e,t,n,i){var s=r("./node_modules/bluebird/js/main/errors.js").TypeError,o=r("./node_modules/bluebird/js/main/util.js").inherits,a=e.PromiseInspection;function l(t){for(var r=t.length,n=0;n<r;++n){var i=t[n];if(i.isRejected())return e.reject(i.error());t[n]=i._settledValue}return t}function c(e){setTimeout(function(){throw e},0)}function u(e){var t=n(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function d(t,r){var i=0,s=t.length,o=e.defer();function a(){if(i>=s)return o.resolve();var l=u(t[i++]);if(l instanceof e&&l._isDisposable()){try{l=n(l._getDisposer().tryDispose(r),t.promise)}catch(e){return c(e)}if(l instanceof e)return l._then(a,c,null,null,null)}a()}return a(),o.promise}function h(e){var t=new a;return t._settledValue=e,t._bitField=0x10000000,d(this,t).thenReturn(e)}function p(e){var t=new a;return t._settledValue=e,t._bitField=0x8000000,d(this,t).thenThrow(e)}function f(e,t,r){this._data=e,this._promise=t,this._context=r}function m(e,t,r){this.constructor$(e,t,r)}function g(e){return f.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}f.prototype.data=function(){return this._data},f.prototype.promise=function(){return this._promise},f.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},f.prototype.tryDispose=function(e){var t=this.resource(),r=this._context;void 0!==r&&r._pushContext();var n=null!==t?this.doDispose(t,e):null;return void 0!==r&&r._popContext(),this._promise._unsetDisposable(),this._data=null,n},f.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},o(m,f),m.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},e.using=function(){var r,i=arguments.length;if(i<2)return t("you must pass at least 2 arguments to Promise.using");var s=arguments[i-1];if("function"!=typeof s)return t("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var o=!0;2===i&&Array.isArray(arguments[0])?(r=arguments[0],i=r.length,o=!1):(r=arguments,i--);for(var a=Array(i),c=0;c<i;++c){var u=r[c];if(f.isDisposer(u)){var d=u;(u=u.promise())._setDisposable(d)}else{var m=n(u);m instanceof e&&(u=m._then(g,null,null,{resources:a,index:c},void 0))}a[c]=u}var y=e.settle(a).then(l).then(function(e){var t;y._pushContext();try{t=o?s.apply(void 0,e):s.call(void 0,e)}finally{y._popContext()}return t})._then(h,p,void 0,a,void 0);return a.promise=y,y},e.prototype._setDisposable=function(e){this._bitField=262144|this._bitField,this._disposer=e},e.prototype._isDisposable=function(){return(262144&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-262145&this._bitField,this._disposer=void 0},e.prototype.disposer=function(e){if("function"==typeof e)return new m(e,this,i());throw new s}}},"./node_modules/bluebird/js/main/util.js":function(e,t,r){"use strict";var n,i=r("./node_modules/bluebird/js/main/es5.js"),s="undefined"==typeof navigator,o=function(){try{var e={};return i.defineProperty(e,"f",{get:function(){return 3}}),3===e.f}catch(e){return!1}}(),a={e:{}};function l(){try{var e=n;return n=null,e.apply(this,arguments)}catch(e){return a.e=e,a}}function c(e){return n=e,l}var u=function(e,t){var r={}.hasOwnProperty;function n(){for(var n in this.constructor=e,this.constructor$=t,t.prototype)r.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}return n.prototype=t.prototype,e.prototype=new n,e.prototype};function d(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function h(e){return!d(e)}function p(e){return d(e)?Error(E(e)):e}function f(e,t){var r,n=e.length,i=Array(n+1);for(r=0;r<n;++r)i[r]=e[r];return i[r]=t,i}function m(e,t,r){if(!i.isES5)return({}).hasOwnProperty.call(e,t)?e[t]:void 0;var n=Object.getOwnPropertyDescriptor(e,t);if(null!=n)return null==n.get&&null==n.set?n.value:r}function g(e,t,r){if(d(e))return e;var n={value:r,configurable:!0,enumerable:!1,writable:!0};return i.defineProperty(e,t,n),e}function y(e){throw e}var _=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1};if(i.isES5){var r=Object.getOwnPropertyNames;return function(e){for(var n,s=[],o=Object.create(null);null!=e&&!t(e);){try{n=r(e)}catch(e){break}for(var a=0;a<n.length;++a){var l=n[a];if(!o[l]){o[l]=!0;var c=Object.getOwnPropertyDescriptor(e,l);null!=c&&null==c.get&&null==c.set&&s.push(l)}}e=i.getPrototypeOf(e)}return s}}var n={}.hasOwnProperty;return function(r){if(t(r))return[];var i=[];e:for(var s in r)if(n.call(r,s))i.push(s);else{for(var o=0;o<e.length;++o)if(n.call(e[o],s))continue e;i.push(s)}return i}}(),v=/this\s*\.\s*\S+\s*=/;function b(e){try{if("function"==typeof e){var t=i.names(e.prototype),r=i.isES5&&t.length>1,n=t.length>0&&(1!==t.length||"constructor"!==t[0]),s=v.test(e+"")&&i.names(e).length>0;if(r||n||s)return!0}return!1}catch(e){return!1}}function w(e){function t(){}t.prototype=e;for(var r=8;r--;)new t;return e}var j=/^[a-z$_][a-z$_0-9]*$/i;function S(e){return j.test(e)}function k(e,t,r){for(var n=Array(e),i=0;i<e;++i)n[i]=t+i+r;return n}function E(e){try{return e+""}catch(e){return"[no string representation]"}}function C(e){try{g(e,"isOperational",!0)}catch(e){}}function x(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)}function T(e){return e instanceof Error&&i.propertyIsWritable(e,"stack")}var O=function(){return"stack"in Error()?function(e){return T(e)?e:Error(E(e))}:function(e){if(T(e))return e;try{throw Error(E(e))}catch(e){return e}}}();function I(e){return({}).toString.call(e)}function A(e,t,r){for(var n=i.names(e),s=0;s<n.length;++s){var o=n[s];if(r(o))try{i.defineProperty(t,o,i.getDescriptor(e,o))}catch(e){}}}var P={isClass:b,isIdentifier:S,inheritedDataKeys:_,getDataPropertyOrDefault:m,thrower:y,isArray:i.isArray,haveGetters:o,notEnumerableProp:g,isPrimitive:d,isObject:h,canEvaluate:s,errorObj:a,tryCatch:c,inherits:u,withAppended:f,maybeWrapAsError:p,toFastProperties:w,filledRange:k,toString:E,canAttachTrace:T,ensureErrorObject:O,originatesFromRejection:x,markAsOriginatingFromRejection:C,classString:I,copyDescriptors:A,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:"undefined"!=typeof process&&"[object process]"===I(process).toLowerCase()};P.isRecentNode=P.isNode&&function(){var e=process.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),P.isNode&&P.toFastProperties(process);try{throw Error()}catch(e){P.lastLineError=e}e.exports=P},"./node_modules/buffer-equal-constant-time/index.js":function(e,t,r){"use strict";var n=r("buffer").Buffer,i=r("buffer").SlowBuffer;function s(e,t){if(!n.isBuffer(e)||!n.isBuffer(t)||e.length!==t.length)return!1;for(var r=0,i=0;i<e.length;i++)r|=e[i]^t[i];return 0===r}e.exports=s,s.install=function(){n.prototype.equal=i.prototype.equal=function(e){return s(this,e)}};var o=n.prototype.equal,a=i.prototype.equal;s.restore=function(){n.prototype.equal=o,i.prototype.equal=a}},"./node_modules/component-bind/index.js":function(e){var t=[].slice;e.exports=function(e,r){if("string"==typeof r&&(r=e[r]),"function"!=typeof r)throw Error("bind() requires a function");var n=t.call(arguments,2);return function(){return r.apply(e,n.concat(t.call(arguments)))}}},"./node_modules/component-emitter/index.js":function(e){function t(e){if(e)return r(e)}function r(e){for(var r in t.prototype)e[r]=t.prototype[r];return e}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},"./node_modules/component-inherit/index.js":function(e){e.exports=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},"./node_modules/ecdsa-sig-formatter/src/ecdsa-sig-formatter.js":function(e,t,r){"use strict";var n=r("./node_modules/safe-buffer/index.js").Buffer,i=r("./node_modules/ecdsa-sig-formatter/src/param-bytes-for-alg.js"),s=128,o=48,a=2;function l(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function c(e){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,"base64");throw TypeError("ECDSA signature must be a Base64 string or a Buffer")}function u(e,t,r){for(var n=0;t+n<r&&0===e[t+n];)++n;return e[t+n]>=s&&--n,n}e.exports={derToJose:function(e,t){e=c(e);var r=i(t),u=r+1,d=e.length,h=0;if(e[h++]!==o)throw Error('Could not find expected "seq"');var p=e[h++];if(p===(1|s)&&(p=e[h++]),d-h<p)throw Error('"seq" specified length of "'+p+'", only "'+(d-h)+'" remaining');if(e[h++]!==a)throw Error('Could not find expected "int" for "r"');var f=e[h++];if(d-h-2<f)throw Error('"r" specified length of "'+f+'", only "'+(d-h-2)+'" available');if(u<f)throw Error('"r" specified length of "'+f+'", max of "'+u+'" is acceptable');var m=h;if(h+=f,e[h++]!==a)throw Error('Could not find expected "int" for "s"');var g=e[h++];if(d-h!==g)throw Error('"s" specified length of "'+g+'", expected "'+(d-h)+'"');if(u<g)throw Error('"s" specified length of "'+g+'", max of "'+u+'" is acceptable');var y=h;if((h+=g)!==d)throw Error('Expected to consume entire buffer, but "'+(d-h)+'" bytes remain');var _=r-f,v=r-g,b=n.allocUnsafe(_+f+v+g);for(h=0;h<_;++h)b[h]=0;e.copy(b,h,m+Math.max(-_,0),m+f),h=r;for(var w=h;h<w+v;++h)b[h]=0;return e.copy(b,h,y+Math.max(-v,0),y+g),b=l(b=b.toString("base64"))},joseToDer:function(e,t){e=c(e);var r=i(t),l=e.length;if(l!==2*r)throw TypeError('"'+t+'" signatures must be "'+2*r+'" bytes, saw "'+l+'"');var d=u(e,0,r),h=u(e,r,e.length),p=r-d,f=r-h,m=2+p+1+1+f,g=m<s,y=n.allocUnsafe((g?2:3)+m),_=0;return y[_++]=o,g?y[_++]=m:(y[_++]=1|s,y[_++]=255&m),y[_++]=a,y[_++]=p,d<0?(y[_++]=0,_+=e.copy(y,_,0,r)):_+=e.copy(y,_,d,r),y[_++]=a,y[_++]=f,h<0?(y[_++]=0,e.copy(y,_,r)):e.copy(y,_,r+h),y}}},"./node_modules/ecdsa-sig-formatter/src/param-bytes-for-alg.js":function(e){"use strict";function t(e){return(e/8|0)+ +(e%8!=0)}var r={ES256:t(256),ES384:t(384),ES512:t(521)};e.exports=function(e){var t=r[e];if(t)return t;throw Error('Unknown algorithm "'+e+'"')}},"./node_modules/engine.io-client/lib/globalThis.js":function(e){e.exports=global},"./node_modules/engine.io-client/lib/index.js":function(e,t,r){e.exports=r("./node_modules/engine.io-client/lib/socket.js"),e.exports.parser=r("./node_modules/engine.io-parser/lib/index.js")},"./node_modules/engine.io-client/lib/socket.js":function(e,t,r){var n=r("./node_modules/engine.io-client/lib/transports/index.js"),i=r("./node_modules/component-emitter/index.js"),s=r("./node_modules/engine.io-client/node_modules/debug/src/index.js")("engine.io-client:socket"),o=r("./node_modules/indexof/index.js"),a=r("./node_modules/engine.io-parser/lib/index.js"),l=r("./node_modules/parseuri/index.js"),c=r("./node_modules/parseqs/index.js");function u(e,t){if(!(this instanceof u))return new u(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=l(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=l(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||void 0,this.key=t.key||void 0,this.passphrase=t.passphrase||void 0,this.cert=t.cert||void 0,this.ca=t.ca||void 0,this.ciphers=t.ciphers||void 0,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function d(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}e.exports=u,u.priorWebsocketSuccess=!1,i(u.prototype),u.protocol=a.protocol,u.Socket=u,u.Transport=r("./node_modules/engine.io-client/lib/transport.js"),u.transports=r("./node_modules/engine.io-client/lib/transports/index.js"),u.parser=r("./node_modules/engine.io-parser/lib/index.js"),u.prototype.createTransport=function(e){s('creating transport "%s"',e);var t=d(this.query);t.EIO=a.protocol,t.transport=e;var r=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new n[e]({query:t,socket:this,agent:r.agent||this.agent,hostname:r.hostname||this.hostname,port:r.port||this.port,secure:r.secure||this.secure,path:r.path||this.path,forceJSONP:r.forceJSONP||this.forceJSONP,jsonp:r.jsonp||this.jsonp,forceBase64:r.forceBase64||this.forceBase64,enablesXDR:r.enablesXDR||this.enablesXDR,withCredentials:r.withCredentials||this.withCredentials,timestampRequests:r.timestampRequests||this.timestampRequests,timestampParam:r.timestampParam||this.timestampParam,policyPort:r.policyPort||this.policyPort,pfx:r.pfx||this.pfx,key:r.key||this.key,passphrase:r.passphrase||this.passphrase,cert:r.cert||this.cert,ca:r.ca||this.ca,ciphers:r.ciphers||this.ciphers,rejectUnauthorized:r.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:r.perMessageDeflate||this.perMessageDeflate,extraHeaders:r.extraHeaders||this.extraHeaders,forceNode:r.forceNode||this.forceNode,localAddress:r.localAddress||this.localAddress,requestTimeout:r.requestTimeout||this.requestTimeout,protocols:r.protocols||void 0,isReactNative:this.isReactNative})},u.prototype.open=function(){var e;if(this.rememberUpgrade&&u.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else if(0===this.transports.length){var t=this;setTimeout(function(){t.emit("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch(e){this.transports.shift(),this.open();return}e.open(),this.setTransport(e)},u.prototype.setTransport=function(e){s("setting transport %s",e.name);var t=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},u.prototype.probe=function(e){s('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),r=!1,n=this;function i(){if(n.onlyBinaryUpgrades){var i=!this.supportsBinary&&n.transport.supportsBinary;r=r||i}r||(s('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(i){if(!r)if("pong"===i.type&&"probe"===i.data){if(s('probe transport "%s" pong',e),n.upgrading=!0,n.emit("upgrading",t),!t)return;u.priorWebsocketSuccess="websocket"===t.name,s('pausing current transport "%s"',n.transport.name),n.transport.pause(function(){r||"closed"!==n.readyState&&(s("changing transport and sending upgrade packet"),h(),n.setTransport(t),t.send([{type:"upgrade"}]),n.emit("upgrade",t),t=null,n.upgrading=!1,n.flush())})}else{s('probe transport "%s" failed',e);var o=Error("probe error");o.transport=t.name,n.emit("upgradeError",o)}}))}function o(){r||(r=!0,h(),t.close(),t=null)}function a(r){var i=Error("probe error: "+r);i.transport=t.name,o(),s('probe transport "%s" failed because of error: %s',e,r),n.emit("upgradeError",i)}function l(){a("transport closed")}function c(){a("socket closed")}function d(e){t&&e.name!==t.name&&(s('"%s" works - aborting "%s"',e.name,t.name),o())}function h(){t.removeListener("open",i),t.removeListener("error",a),t.removeListener("close",l),n.removeListener("close",c),n.removeListener("upgrading",d)}u.priorWebsocketSuccess=!1,t.once("open",i),t.once("error",a),t.once("close",l),this.once("close",c),this.once("upgrading",d),t.open()},u.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",u.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},u.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(s('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else s('packet received with socket readyState "%s"',this.readyState)},u.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},u.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},u.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},u.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},u.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},u.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},u.prototype.write=u.prototype.send=function(e,t,r){return this.sendPacket("message",e,t,r),this},u.prototype.sendPacket=function(e,t,r,n){if("function"==typeof t&&(n=t,t=void 0),"function"==typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){r=r||{},r.compress=!1!==r.compress;var i={type:e,data:t,options:r};this.emit("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}},u.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():t()}):this.upgrading?n():t()}function t(){e.onClose("forced close"),s("socket closing - telling transport to close"),e.transport.close()}function r(){e.removeListener("upgrade",r),e.removeListener("upgradeError",r),t()}function n(){e.once("upgrade",r),e.once("upgradeError",r)}return this},u.prototype.onError=function(e){s("socket error %j",e),u.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},u.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){s('socket close with reason: "%s"',e);var r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),r.writeBuffer=[],r.prevBufferLen=0}},u.prototype.filterUpgrades=function(e){for(var t=[],r=0,n=e.length;r<n;r++)~o(this.transports,e[r])&&t.push(e[r]);return t}},"./node_modules/engine.io-client/lib/transport.js":function(e,t,r){var n=r("./node_modules/engine.io-parser/lib/index.js"),i=r("./node_modules/component-emitter/index.js");function s(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=s,i(s.prototype),s.prototype.onError=function(e,t){var r=Error(e);return r.type="TransportError",r.description=t,this.emit("error",r),this},s.prototype.open=function(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this},s.prototype.close=function(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this},s.prototype.send=function(e){if("open"===this.readyState)this.write(e);else throw Error("Transport not open")},s.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},s.prototype.onData=function(e){var t=n.decodePacket(e,this.socket.binaryType);this.onPacket(t)},s.prototype.onPacket=function(e){this.emit("packet",e)},s.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},"./node_modules/engine.io-client/lib/transports/index.js":function(e,t,r){var n=r("./node_modules/engine.io-client/lib/transports/xmlhttprequest.js"),i=r("./node_modules/engine.io-client/lib/transports/polling-xhr.js"),s=r("./node_modules/engine.io-client/lib/transports/polling-jsonp.js"),o=r("./node_modules/engine.io-client/lib/transports/websocket.js");t.polling=function e(e){var t=!1,r=!1,o=!1!==e.jsonp;if("undefined"!=typeof location){var a="https:"===location.protocol,l=location.port;l||(l=a?443:80),t=e.hostname!==location.hostname||l!==e.port,r=e.secure!==a}if(e.xdomain=t,e.xscheme=r,"open"in new n(e)&&!e.forceJSONP)return new i(e);if(!o)throw Error("JSONP disabled");return new s(e)},t.websocket=o},"./node_modules/engine.io-client/lib/transports/polling-jsonp.js":function(e,t,r){var n,i=r("./node_modules/engine.io-client/lib/transports/polling.js"),s=r("./node_modules/component-inherit/index.js"),o=r("./node_modules/engine.io-client/lib/globalThis.js");e.exports=u;var a=/\n/g,l=/\\n/g;function c(){}function u(e){i.call(this,e),this.query=this.query||{},n||(n=o.___eio=o.___eio||[]),this.index=n.length;var t=this;n.push(function(e){t.onData(e)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){t.script&&(t.script.onerror=c)},!1)}s(u,i),u.prototype.supportsBinary=!1,u.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},u.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(t,r):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},u.prototype.doWrite=function(e,t){var r=this;if(!this.form){var n,i=document.createElement("form"),s=document.createElement("textarea"),o=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=o,i.method="POST",i.setAttribute("accept-charset","utf-8"),s.name="d",i.appendChild(s),document.body.appendChild(i),this.form=i,this.area=s}function c(){u(),t()}function u(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(e){r.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+r.iframeId+'">';n=document.createElement(e)}catch(e){(n=document.createElement("iframe")).name=r.iframeId,n.src="javascript:0"}n.id=r.iframeId,r.form.appendChild(n),r.iframe=n}this.form.action=this.uri(),u(),e=e.replace(l,"\\\n"),this.area.value=e.replace(a,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&c()}:this.iframe.onload=c}},"./node_modules/engine.io-client/lib/transports/polling-xhr.js":function(e,t,r){var n=r("./node_modules/engine.io-client/lib/transports/xmlhttprequest.js"),i=r("./node_modules/engine.io-client/lib/transports/polling.js"),s=r("./node_modules/component-emitter/index.js"),o=r("./node_modules/component-inherit/index.js"),a=r("./node_modules/engine.io-client/node_modules/debug/src/index.js")("engine.io-client:polling-xhr"),l=r("./node_modules/engine.io-client/lib/globalThis.js");function c(){}function u(e){if(i.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,r=location.port;r||(r=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||r!==e.port,this.xs=e.secure!==t}}function d(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function h(){for(var e in d.requests)d.requests.hasOwnProperty(e)&&d.requests[e].abort()}e.exports=u,e.exports.Request=d,o(u,i),u.prototype.supportsBinary=!0,u.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new d(e)},u.prototype.doWrite=function(e,t){var r="string"!=typeof e&&void 0!==e,n=this.request({method:"POST",data:e,isBinary:r}),i=this;n.on("success",t),n.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=n},u.prototype.doPoll=function(){a("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},s(d.prototype),d.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new n(e),r=this;try{a("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.extraHeaders[i])}catch(e){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){r.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(r.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(e){}4===t.readyState&&(200===t.status||1223===t.status?r.onLoad():setTimeout(function(){r.onError("number"==typeof t.status?t.status:0)},0))},a("xhr data %s",this.data),t.send(this.data)}catch(e){setTimeout(function(){r.onError(e)},0);return}"undefined"!=typeof document&&(this.index=d.requestsCount++,d.requests[this.index]=this)},d.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},d.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},d.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},d.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete d.requests[this.index],this.xhr=null}},d.prototype.onLoad=function(){var e,t;try{try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},d.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},d.prototype.abort=function(){this.cleanup()},d.requestsCount=0,d.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",h):"function"==typeof addEventListener&&addEventListener("onpagehide"in l?"pagehide":"unload",h,!1))},"./node_modules/engine.io-client/lib/transports/polling.js":function(e,t,r){var n=r("./node_modules/engine.io-client/lib/transport.js"),i=r("./node_modules/parseqs/index.js"),s=r("./node_modules/engine.io-parser/lib/index.js"),o=r("./node_modules/component-inherit/index.js"),a=r("./node_modules/yeast/index.js"),l=r("./node_modules/engine.io-client/node_modules/debug/src/index.js")("engine.io-client:polling");e.exports=u;var c=function(){return null!=new(r("./node_modules/engine.io-client/lib/transports/xmlhttprequest.js"))({xdomain:!1}).responseType}();function u(e){var t=e&&e.forceBase64;(!c||t)&&(this.supportsBinary=!1),n.call(this,e)}o(u,n),u.prototype.name="polling",u.prototype.doOpen=function(){this.poll()},u.prototype.pause=function(e){var t=this;function r(){l("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(l("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){l("pre-pause polling complete"),--n||r()})),this.writable||(l("we are currently writing - waiting to pause"),n++,this.once("drain",function(){l("pre-pause writing complete"),--n||r()}))}else r()},u.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},u.prototype.onData=function(e){var t=this;l("polling got data %s",e);var r=function(e,r,n){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)};s.decodePayload(e,this.socket.binaryType,r),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},u.prototype.doClose=function(){var e=this;function t(){l("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(l("transport open - closing"),t()):(l("transport not open - deferring close"),this.once("open",t))},u.prototype.write=function(e){var t=this;this.writable=!1;var r=function(){t.writable=!0,t.emit("drain")};s.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,r)})},u.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",r="";return!1!==this.timestampRequests&&(e[this.timestampParam]=a()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(r=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+r+this.path+e}},"./node_modules/engine.io-client/lib/transports/websocket.js":function(e,t,r){var n,i,s=r("./node_modules/engine.io-client/lib/transport.js"),o=r("./node_modules/engine.io-parser/lib/index.js"),a=r("./node_modules/parseqs/index.js"),l=r("./node_modules/component-inherit/index.js"),c=r("./node_modules/yeast/index.js"),u=r("./node_modules/engine.io-client/node_modules/debug/src/index.js")("engine.io-client:websocket");if("undefined"!=typeof WebSocket?n=WebSocket:"undefined"!=typeof self&&(n=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{i=r("./node_modules/engine.io-client/node_modules/ws/index.js")}catch(e){}var d=n||i;function h(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=n&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(d=i),s.call(this,e)}e.exports=h,l(h,s),h.prototype.name="websocket",h.prototype.supportsBinary=!0,h.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,r={};this.isReactNative||(r.agent=this.agent,r.perMessageDeflate=this.perMessageDeflate,r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new d(e,t):new d(e):new d(e,t,r)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},h.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},h.prototype.write=function(e){var t=this;this.writable=!1;for(var r=e.length,n=0,i=r;n<i;n++)!function(e){o.encodePacket(e,t.supportsBinary,function(n){if(!t.usingBrowserWebSocket){var i={};e.options&&(i.compress=e.options.compress),t.perMessageDeflate&&("string"==typeof n?Buffer.byteLength(n):n.length)<t.perMessageDeflate.threshold&&(i.compress=!1)}try{t.usingBrowserWebSocket?t.ws.send(n):t.ws.send(n,i)}catch(e){u("websocket closed before onclose event")}--r||s()})}(e[n]);function s(){t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0)}},h.prototype.onClose=function(){s.prototype.onClose.call(this)},h.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},h.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",r="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(r=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||(e.b64=1),(e=a.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+r+this.path+e},h.prototype.check=function(){return!!d&&!("__initialize"in d&&this.name===h.prototype.name)}},"./node_modules/engine.io-client/lib/transports/xmlhttprequest.js":function(e,t,r){e.exports=r("./node_modules/xmlhttprequest-ssl/lib/XMLHttpRequest.js")},"./node_modules/engine.io-client/node_modules/debug/src/browser.js":function(e,t,r){function n(){return"undefined"!=typeof window&&!!window.process&&"renderer"===window.process.type||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),r){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var i=0,s=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(s=i))}),e.splice(s,0,n)}}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function a(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}function l(){try{return window.localStorage}catch(e){}}(t=e.exports=r("./node_modules/engine.io-client/node_modules/debug/src/debug.js")).log=s,t.formatArgs=i,t.save=o,t.load=a,t.useColors=n,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:l(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(a())},"./node_modules/engine.io-client/node_modules/debug/src/debug.js":function(e,t,r){function n(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r)|0;return t.colors[Math.abs(n)%t.colors.length]}function i(e){var r;function i(){if(i.enabled){var e=i,n=+new Date,s=n-(r||n);e.diff=s,e.prev=r,e.curr=n,r=n;for(var o=Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var l=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;l++;var i=t.formatters[n];if("function"==typeof i){var s=o[l];r=i.call(e,s),o.splice(l,1),l--}return r}),t.formatArgs.call(e,o);var c=i.log||t.log||console.log.bind(console);c.apply(e,o)}}return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=n(e),i.destroy=s,"function"==typeof t.init&&t.init(i),t.instances.push(i),i}function s(){var e=t.instances.indexOf(this);return -1!==e&&(t.instances.splice(e,1),!0)}function o(e){t.save(e),t.names=[],t.skips=[];var r,n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(RegExp("^"+e.substr(1)+"$")):t.names.push(RegExp("^"+e+"$")));for(r=0;r<t.instances.length;r++){var s=t.instances[r];s.enabled=t.enabled(s.namespace)}}function a(){t.enable("")}function l(e){var r,n;if("*"===e[e.length-1])return!0;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}(t=e.exports=i.debug=i.default=i).coerce=c,t.disable=a,t.enable=o,t.enabled=l,t.humanize=r("./node_modules/engine.io-client/node_modules/ms/index.js"),t.instances=[],t.names=[],t.skips=[],t.formatters={}},"./node_modules/engine.io-client/node_modules/debug/src/index.js":function(e,t,r){"undefined"==typeof process||"renderer"===process.type?e.exports=r("./node_modules/engine.io-client/node_modules/debug/src/browser.js"):e.exports=r("./node_modules/engine.io-client/node_modules/debug/src/node.js")},"./node_modules/engine.io-client/node_modules/debug/src/node.js":function(e,t,r){var n=r("tty"),i=r("util");(t=e.exports=r("./node_modules/engine.io-client/node_modules/debug/src/debug.js")).init=h,t.log=c,t.formatArgs=a,t.save=u,t.load=d,t.useColors=o,t.colors=[6,2,3,4,5,1];try{var s=r("./node_modules/supports-color/index.js");s&&s.level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}function o(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:n.isatty(process.stderr.fd)}function a(e){var r=this.namespace;if(this.useColors){var n=this.color,i="\x1b[3"+(n<8?n:"8;5;"+n),s="  "+i+";1m"+r+" \x1b[0m";e[0]=s+e[0].split("\n").join("\n"+s),e.push(i+"m+"+t.humanize(this.diff)+"\x1b[0m")}else e[0]=l()+r+" "+e[0]}function l(){return t.inspectOpts.hideDate?"":new Date().toISOString()+" "}function c(){return process.stderr.write(i.format.apply(i,arguments)+"\n")}function u(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e}function d(){return process.env.DEBUG}function h(e){e.inspectOpts={};for(var r=Object.keys(t.inspectOpts),n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]}t.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var r=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(e,t){return t.toUpperCase()}),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(function(e){return e.trim()}).join(" ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)},t.enable(d())},"./node_modules/engine.io-client/node_modules/ms/index.js":function(e){var t=1e3,r=6e4,n=36e5,i=864e5,s=315576e5;function o(e){if(!((e=String(e)).length>100)){var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(o){var a=parseFloat(o[1]),l=(o[2]||"ms").toLowerCase();switch(l){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function a(e){return e>=i?Math.round(e/i)+"d":e>=n?Math.round(e/n)+"h":e>=r?Math.round(e/r)+"m":e>=t?Math.round(e/t)+"s":e+"ms"}function l(e){return c(e,i,"day")||c(e,n,"hour")||c(e,r,"minute")||c(e,t,"second")||e+" ms"}function c(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}e.exports=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return o(e);if("number"===r&&!1===isNaN(e))return t.long?l(e):a(e);throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},"./node_modules/engine.io-client/node_modules/ws/index.js":function(e,t,r){"use strict";let n=r("./node_modules/engine.io-client/node_modules/ws/lib/websocket.js");n.createWebSocketStream=r("./node_modules/engine.io-client/node_modules/ws/lib/stream.js"),n.Server=r("./node_modules/engine.io-client/node_modules/ws/lib/websocket-server.js"),n.Receiver=r("./node_modules/engine.io-client/node_modules/ws/lib/receiver.js"),n.Sender=r("./node_modules/engine.io-client/node_modules/ws/lib/sender.js"),e.exports=n},"./node_modules/engine.io-client/node_modules/ws/lib/buffer-util.js":function(e,t,r){"use strict";let{EMPTY_BUFFER:n}=r("./node_modules/engine.io-client/node_modules/ws/lib/constants.js");function i(e,t){if(0===e.length)return n;if(1===e.length)return e[0];let r=Buffer.allocUnsafe(t),i=0;for(let t=0;t<e.length;t++){let n=e[t];r.set(n,i),i+=n.length}return i<t?r.slice(0,i):r}function s(e,t,r,n,i){for(let s=0;s<i;s++)r[n+s]=e[s]^t[3&s]}function o(e,t){let r=e.length;for(let n=0;n<r;n++)e[n]^=t[3&n]}function a(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function l(e){let t;return(l.readOnly=!0,Buffer.isBuffer(e))?e:(e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),l.readOnly=!1),t)}try{let t=r("../../node_modules/bufferutil/index.js"),n=t.BufferUtil||t;e.exports={concat:i,mask(e,t,r,i,o){o<48?s(e,t,r,i,o):n.mask(e,t,r,i,o)},toArrayBuffer:a,toBuffer:l,unmask(e,t){e.length<32?o(e,t):n.unmask(e,t)}}}catch(t){e.exports={concat:i,mask:s,toArrayBuffer:a,toBuffer:l,unmask:o}}},"./node_modules/engine.io-client/node_modules/ws/lib/constants.js":function(e){"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},"./node_modules/engine.io-client/node_modules/ws/lib/event-target.js":function(e){"use strict";class t{constructor(e,t){this.target=t,this.type=e}}class r extends t{constructor(e,t){super("message",t),this.data=e}}class n extends t{constructor(e,t,r){super("close",r),this.wasClean=r._closeFrameReceived&&r._closeFrameSent,this.reason=t,this.code=e}}class i extends t{constructor(e){super("open",e)}}class s extends t{constructor(e,t){super("error",t),this.message=e.message,this.error=e}}e.exports={addEventListener(e,t,o){if("function"!=typeof t)return;function a(e){t.call(this,new r(e,this))}function l(e,r){t.call(this,new n(e,r,this))}function c(e){t.call(this,new s(e,this))}function u(){t.call(this,new i(this))}let d=o&&o.once?"once":"on";"message"===e?(a._listener=t,this[d](e,a)):"close"===e?(l._listener=t,this[d](e,l)):"error"===e?(c._listener=t,this[d](e,c)):"open"===e?(u._listener=t,this[d](e,u)):this[d](e,t)},removeEventListener(e,t){let r=this.listeners(e);for(let n=0;n<r.length;n++)(r[n]===t||r[n]._listener===t)&&this.removeListener(e,r[n])}}},"./node_modules/engine.io-client/node_modules/ws/lib/extension.js":function(e){"use strict";let t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function r(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}e.exports={format:function(e){return Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>[t].concat(Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){let n,i,s=Object.create(null);if(void 0===e||""===e)return s;let o=Object.create(null),a=!1,l=!1,c=!1,u=-1,d=-1,h=0;for(;h<e.length;h++){let p=e.charCodeAt(h);if(void 0===n)if(-1===d&&1===t[p])-1===u&&(u=h);else if(32===p||9===p)-1===d&&-1!==u&&(d=h);else if(59===p||44===p){if(-1===u)throw SyntaxError(`Unexpected character at index ${h}`);-1===d&&(d=h);let t=e.slice(u,d);44===p?(r(s,t,o),o=Object.create(null)):n=t,u=d=-1}else throw SyntaxError(`Unexpected character at index ${h}`);else if(void 0===i)if(-1===d&&1===t[p])-1===u&&(u=h);else if(32===p||9===p)-1===d&&-1!==u&&(d=h);else if(59===p||44===p){if(-1===u)throw SyntaxError(`Unexpected character at index ${h}`);-1===d&&(d=h),r(o,e.slice(u,d),!0),44===p&&(r(s,n,o),o=Object.create(null),n=void 0),u=d=-1}else if(61===p&&-1!==u&&-1===d)i=e.slice(u,h),u=d=-1;else throw SyntaxError(`Unexpected character at index ${h}`);else if(l){if(1!==t[p])throw SyntaxError(`Unexpected character at index ${h}`);-1===u?u=h:a||(a=!0),l=!1}else if(c)if(1===t[p])-1===u&&(u=h);else if(34===p&&-1!==u)c=!1,d=h;else if(92===p)l=!0;else throw SyntaxError(`Unexpected character at index ${h}`);else if(34===p&&61===e.charCodeAt(h-1))c=!0;else if(-1===d&&1===t[p])-1===u&&(u=h);else if(-1!==u&&(32===p||9===p))-1===d&&(d=h);else if(59===p||44===p){if(-1===u)throw SyntaxError(`Unexpected character at index ${h}`);-1===d&&(d=h);let t=e.slice(u,d);a&&(t=t.replace(/\\/g,""),a=!1),r(o,i,t),44===p&&(r(s,n,o),o=Object.create(null),n=void 0),i=void 0,u=d=-1}else throw SyntaxError(`Unexpected character at index ${h}`)}if(-1===u||c)throw SyntaxError("Unexpected end of input");-1===d&&(d=h);let p=e.slice(u,d);return void 0===n?r(s,p,o):(void 0===i?r(o,p,!0):a?r(o,i,p.replace(/\\/g,"")):r(o,i,p),r(s,n,o)),s}}},"./node_modules/engine.io-client/node_modules/ws/lib/limiter.js":function(e){"use strict";let t=Symbol("kDone"),r=Symbol("kRun");class n{constructor(e){this[t]=()=>{this.pending--,this[r]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[r]()}[r](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[t])}}}e.exports=n},"./node_modules/engine.io-client/node_modules/ws/lib/permessage-deflate.js":function(e,t,r){"use strict";let n,i=r("zlib"),s=r("./node_modules/engine.io-client/node_modules/ws/lib/buffer-util.js"),o=r("./node_modules/engine.io-client/node_modules/ws/lib/limiter.js"),{kStatusCode:a,NOOP:l}=r("./node_modules/engine.io-client/node_modules/ws/lib/constants.js"),c=Buffer.from([0,0,255,255]),u=Symbol("permessage-deflate"),d=Symbol("total-length"),h=Symbol("callback"),p=Symbol("buffers"),f=Symbol("error");class m{constructor(e,t,r){this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,n||(n=new o(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[h];this._deflate.close(),this._deflate=null,e&&e(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,r=e.find(e=>(!1!==t.serverNoContextTakeover||!e.server_no_context_takeover)&&(!e.server_max_window_bits||!1!==t.serverMaxWindowBits&&("number"!=typeof t.serverMaxWindowBits||!(t.serverMaxWindowBits>e.server_max_window_bits)))&&("number"!=typeof t.clientMaxWindowBits||!!e.client_max_window_bits));if(!r)throw Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(r.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?r.client_max_window_bits=t.clientMaxWindowBits:(!0===r.client_max_window_bits||!1===t.clientMaxWindowBits)&&delete r.client_max_window_bits,r}acceptAsClient(e){let t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let r=e[t];if(r.length>1)throw Error(`Parameter "${t}" must have only a single value`);if(r=r[0],"client_max_window_bits"===t){if(!0!==r){let e=+r;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${t}": ${r}`)}else if("server_max_window_bits"===t){let e=+r;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if("client_no_context_takeover"===t||"server_no_context_takeover"===t){if(!0!==r)throw TypeError(`Invalid value for parameter "${t}": ${r}`)}else throw Error(`Unknown parameter "${t}"`);e[t]=r})}),e}decompress(e,t,r){n.add(n=>{this._decompress(e,t,(e,t)=>{n(),r(e,t)})})}compress(e,t,r){n.add(n=>{this._compress(e,t,(e,t)=>{n(),r(e,t)})})}_decompress(e,t,r){let n=this._isServer?"client":"server";if(!this._inflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=i.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[u]=this,this._inflate[d]=0,this._inflate[p]=[],this._inflate.on("error",_),this._inflate.on("data",y)}this._inflate[h]=r,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush(()=>{let e=this._inflate[f];if(e){this._inflate.close(),this._inflate=null,r(e);return}let i=s.concat(this._inflate[p],this._inflate[d]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[d]=0,this._inflate[p]=[],t&&this.params[`${n}_no_context_takeover`]&&this._inflate.reset()),r(null,i)})}_compress(e,t,r){let n=this._isServer?"server":"client";if(!this._deflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=i.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[d]=0,this._deflate[p]=[],this._deflate.on("error",l),this._deflate.on("data",g)}this._deflate[h]=r,this._deflate.write(e),this._deflate.flush(i.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=s.concat(this._deflate[p],this._deflate[d]);t&&(e=e.slice(0,e.length-4)),this._deflate[h]=null,this._deflate[d]=0,this._deflate[p]=[],t&&this.params[`${n}_no_context_takeover`]&&this._deflate.reset(),r(null,e)})}}function g(e){this[p].push(e),this[d]+=e.length}function y(e){if(this[d]+=e.length,this[u]._maxPayload<1||this[d]<=this[u]._maxPayload)return void this[p].push(e);this[f]=RangeError("Max payload size exceeded"),this[f].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[f][a]=1009,this.removeListener("data",y),this.reset()}function _(e){this[u]._inflate=null,e[a]=1007,this[h](e)}e.exports=m},"./node_modules/engine.io-client/node_modules/ws/lib/receiver.js":function(e,t,r){"use strict";let{Writable:n}=r("stream"),i=r("./node_modules/engine.io-client/node_modules/ws/lib/permessage-deflate.js"),{BINARY_TYPES:s,EMPTY_BUFFER:o,kStatusCode:a,kWebSocket:l}=r("./node_modules/engine.io-client/node_modules/ws/lib/constants.js"),{concat:c,toArrayBuffer:u,unmask:d}=r("./node_modules/engine.io-client/node_modules/ws/lib/buffer-util.js"),{isValidStatusCode:h,isValidUTF8:p}=r("./node_modules/engine.io-client/node_modules/ws/lib/validation.js"),f=0,m=1,g=2,y=3,_=4,v=5;class b extends n{constructor(e,t,r,n){super(),this._binaryType=e||s[0],this[l]=void 0,this._extensions=t||{},this._isServer=!!r,this._maxPayload=0|n,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=f,this._loop=!1}_write(e,t,r){if(8===this._opcode&&this._state==f)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}let t=Buffer.allocUnsafe(e);do{let r=this._buffers[0],n=t.length-e;e>=r.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),n),this._buffers[0]=r.slice(e)),e-=r.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do switch(this._state){case f:t=this.getInfo();break;case m:t=this.getPayloadLength16();break;case g:t=this.getPayloadLength64();break;case y:this.getMask();break;case _:t=this.getData(e);break;default:this._loop=!1;return}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let e=this.consume(2);if((48&e[0])!=0)return this._loop=!1,w(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let t=(64&e[0])==64;if(t&&!this._extensions[i.extensionName])return this._loop=!1,w(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(128&e[0])==128,this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,w(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,w(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,w(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=t}else{if(!(this._opcode>7)||!(this._opcode<11))return this._loop=!1,w(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin)return this._loop=!1,w(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(t)return this._loop=!1,w(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,w(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&e[1])==128,this._isServer){if(!this._masked)return this._loop=!1,w(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,w(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(126===this._payloadLength)this._state=m;else{if(127!==this._payloadLength)return this.haveLength();this._state=g}}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let e=this.consume(8),t=e.readUInt32BE(0);return t>2097151?(this._loop=!1,w(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=0x100000000*t+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,w(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=y:this._state=_}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=_}getData(e){let t=o;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&d(t,this._mask)}if(this._opcode>7)return this.controlMessage(t);if(this._compressed){this._state=v,this.decompress(t,e);return}return t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage()}decompress(e,t){this._extensions[i.extensionName].decompress(e,this._fin,(e,r)=>{if(e)return t(e);if(r.length){if(this._messageLength+=r.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(w(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(r)}let n=this.dataMessage();if(n)return t(n);this.startLoop(t)})}dataMessage(){if(this._fin){let e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let r;r="nodebuffer"===this._binaryType?c(t,e):"arraybuffer"===this._binaryType?u(c(t,e)):t,this.emit("message",r)}else{let r=c(t,e);if(!p(r))return this._loop=!1,w(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",r.toString())}}this._state=f}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit("conclude",1005,""),this.end();else{if(1===e.length)return w(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");let t=e.readUInt16BE(0);if(!h(t))return w(RangeError,`invalid status code ${t}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let r=e.slice(2);if(!p(r))return w(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",t,r.toString()),this.end()}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=f}}function w(e,t,r,n,i){let s=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(s,w),s.code=i,s[a]=n,s}e.exports=b},"./node_modules/engine.io-client/node_modules/ws/lib/sender.js":function(e,t,r){"use strict";r("net"),r("tls");let{randomFillSync:n}=r("crypto"),i=r("./node_modules/engine.io-client/node_modules/ws/lib/permessage-deflate.js"),{EMPTY_BUFFER:s}=r("./node_modules/engine.io-client/node_modules/ws/lib/constants.js"),{isValidStatusCode:o}=r("./node_modules/engine.io-client/node_modules/ws/lib/validation.js"),{mask:a,toBuffer:l}=r("./node_modules/engine.io-client/node_modules/ws/lib/buffer-util.js"),c=Buffer.alloc(4);class u{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let r=t.mask&&t.readOnly,i=t.mask?6:2,s=e.length;e.length>=65536?(i+=8,s=127):e.length>125&&(i+=2,s=126);let o=Buffer.allocUnsafe(r?e.length+i:i);return(o[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(o[0]|=64),o[1]=s,126===s?o.writeUInt16BE(e.length,2):127===s&&(o.writeUInt32BE(0,2),o.writeUInt32BE(e.length,6)),t.mask)?(n(c,0,4),o[1]|=128,o[i-4]=c[0],o[i-3]=c[1],o[i-2]=c[2],o[i-1]=c[3],r)?(a(e,c,o,i,e.length),[o]):(a(e,c,e,0,e.length),[o,e]):[o,e]}close(e,t,r,n){let i;if(void 0===e)i=s;else if("number"==typeof e&&o(e))if(void 0===t||""===t)(i=Buffer.allocUnsafe(2)).writeUInt16BE(e,0);else{let r=Buffer.byteLength(t);if(r>123)throw RangeError("The message must not be greater than 123 bytes");(i=Buffer.allocUnsafe(2+r)).writeUInt16BE(e,0),i.write(t,2)}else throw TypeError("First argument must be a valid error code number");this._deflating?this.enqueue([this.doClose,i,r,n]):this.doClose(i,r,n)}doClose(e,t,r){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),r)}ping(e,t,r){let n=l(e);if(n.length>125)throw RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,n,t,l.readOnly,r]):this.doPing(n,t,l.readOnly,r)}doPing(e,t,r,n){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:r}),n)}pong(e,t,r){let n=l(e);if(n.length>125)throw RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,n,t,l.readOnly,r]):this.doPong(n,t,l.readOnly,r)}doPong(e,t,r,n){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:r}),n)}send(e,t,r){let n=l(e),s=this._extensions[i.extensionName],o=t.binary?2:1,a=t.compress;if(this._firstFragment?(this._firstFragment=!1,a&&s&&(a=n.length>=s._threshold),this._compress=a):(a=!1,o=0),t.fin&&(this._firstFragment=!0),s){let e={fin:t.fin,rsv1:a,opcode:o,mask:t.mask,readOnly:l.readOnly};this._deflating?this.enqueue([this.dispatch,n,this._compress,e,r]):this.dispatch(n,this._compress,e,r)}else this.sendFrame(u.frame(n,{fin:t.fin,rsv1:!1,opcode:o,mask:t.mask,readOnly:l.readOnly}),r)}dispatch(e,t,r,n){if(!t)return void this.sendFrame(u.frame(e,r),n);let s=this._extensions[i.extensionName];this._bufferedBytes+=e.length,this._deflating=!0,s.compress(e,r.fin,(t,i)=>{if(this._socket.destroyed){let e=Error("The socket was closed while data was being compressed");"function"==typeof n&&n(e);for(let t=0;t<this._queue.length;t++){let r=this._queue[t][4];"function"==typeof r&&r(e)}return}this._bufferedBytes-=e.length,this._deflating=!1,r.readOnly=!1,this.sendFrame(u.frame(i,r),n),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[1].length,Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=u},"./node_modules/engine.io-client/node_modules/ws/lib/stream.js":function(e,t,r){"use strict";let{Duplex:n}=r("stream");function i(e){e.emit("close")}function s(){!this.destroyed&&this._writableState.finished&&this.destroy()}function o(e){this.removeListener("error",o),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let r=!0,a=!0;function l(){r&&e._socket.resume()}e.readyState===e.CONNECTING?e.once("open",function(){e._receiver.removeAllListeners("drain"),e._receiver.on("drain",l)}):(e._receiver.removeAllListeners("drain"),e._receiver.on("drain",l));let c=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(t){c.push(t)||(r=!1,e._socket.pause())}),e.once("error",function(e){c.destroyed||(a=!1,c.destroy(e))}),e.once("close",function(){c.destroyed||c.push(null)}),c._destroy=function(t,r){if(e.readyState===e.CLOSED){r(t),process.nextTick(i,c);return}let n=!1;e.once("error",function(e){n=!0,r(e)}),e.once("close",function(){n||r(t),process.nextTick(i,c)}),a&&e.terminate()},c._final=function(t){if(e.readyState===e.CONNECTING)return void e.once("open",function(){c._final(t)});null!==e._socket&&(e._socket._writableState.finished?(t(),c._readableState.endEmitted&&c.destroy()):(e._socket.once("finish",function(){t()}),e.close()))},c._read=function(){(e.readyState===e.OPEN||e.readyState===e.CLOSING)&&!r&&(r=!0,e._receiver._writableState.needDrain||e._socket.resume())},c._write=function(t,r,n){if(e.readyState===e.CONNECTING)return void e.once("open",function(){c._write(t,r,n)});e.send(t,n)},c.on("end",s),c.on("error",o),c}},"./node_modules/engine.io-client/node_modules/ws/lib/validation.js":function(e,t,r){"use strict";function n(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999}function i(e){let t=e.length,r=0;for(;r<t;)if((128&e[r])==0)r++;else if((224&e[r])==192){if(r+1===t||(192&e[r+1])!=128||(254&e[r])==192)return!1;r+=2}else if((240&e[r])==224){if(r+2>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||224===e[r]&&(224&e[r+1])==128||237===e[r]&&(224&e[r+1])==160)return!1;r+=3}else{if((248&e[r])!=240||r+3>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||(192&e[r+3])!=128||240===e[r]&&(240&e[r+1])==128||244===e[r]&&e[r+1]>143||e[r]>244)return!1;r+=4}return!0}try{let t=r("../../node_modules/utf-8-validate/index.js");"object"==typeof t&&(t=t.Validation.isValidUTF8),e.exports={isValidStatusCode:n,isValidUTF8:e=>e.length<150?i(e):t(e)}}catch(t){e.exports={isValidStatusCode:n,isValidUTF8:i}}},"./node_modules/engine.io-client/node_modules/ws/lib/websocket-server.js":function(e,t,r){"use strict";let n=r("events"),i=r("http");r("https"),r("net"),r("tls");let{createHash:s}=r("crypto"),o=r("./node_modules/engine.io-client/node_modules/ws/lib/permessage-deflate.js"),a=r("./node_modules/engine.io-client/node_modules/ws/lib/websocket.js"),{format:l,parse:c}=r("./node_modules/engine.io-client/node_modules/ws/lib/extension.js"),{GUID:u,kWebSocket:d}=r("./node_modules/engine.io-client/node_modules/ws/lib/constants.js"),h=/^[+/0-9A-Za-z]{22}==$/,p=0,f=1,m=2;class g extends n{constructor(e,t){if(super(),null==(e={maxPayload:0x6400000,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=i.createServer((e,t)=>{let r=i.STATUS_CODES[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let e=this.emit.bind(this,"connection");this._removeListeners=y(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,r,n)=>{this.handleUpgrade(t,r,n,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e,this._state=p}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(e&&this.once("close",e),this._state===m)return void process.nextTick(_,this);if(this._state===f)return;if(this._state=f,this.clients)for(let e of this.clients)e.terminate();let t=this._server;if(t&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port))return void t.close(_.bind(void 0,this));process.nextTick(_,this)}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,n){t.on("error",v);let i=void 0!==e.headers["sec-websocket-key"]&&e.headers["sec-websocket-key"].trim(),s=e.headers.upgrade,a=+e.headers["sec-websocket-version"],l={};if("GET"!==e.method||void 0===s||"websocket"!==s.toLowerCase()||!i||!h.test(i)||8!==a&&13!==a||!this.shouldHandle(e))return b(t,400);if(this.options.perMessageDeflate){let r=new o(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let t=c(e.headers["sec-websocket-extensions"]);t[o.extensionName]&&(r.accept(t[o.extensionName]),l[o.extensionName]=r)}catch(e){return b(t,400)}}if(this.options.verifyClient){let s={origin:e.headers[`${8===a?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(s,(s,o,a,c)=>{if(!s)return b(t,o||401,a,c);this.completeUpgrade(i,l,e,t,r,n)});if(!this.options.verifyClient(s))return b(t,401)}this.completeUpgrade(i,l,e,t,r,n)}completeUpgrade(e,t,r,n,i,c){if(!n.readable||!n.writable)return n.destroy();if(n[d])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>p)return b(n,503);let h=s("sha1").update(e+u).digest("base64"),f=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${h}`],m=new a(null),g=r.headers["sec-websocket-protocol"];if(g&&(g=g.split(",").map(w),(g=this.options.handleProtocols?this.options.handleProtocols(g,r):g[0])&&(f.push(`Sec-WebSocket-Protocol: ${g}`),m._protocol=g)),t[o.extensionName]){let e=t[o.extensionName].params,r=l({[o.extensionName]:[e]});f.push(`Sec-WebSocket-Extensions: ${r}`),m._extensions=t}this.emit("headers",f,r),n.write(f.concat("\r\n").join("\r\n")),n.removeListener("error",v),m.setSocket(n,i,this.options.maxPayload),this.clients&&(this.clients.add(m),m.on("close",()=>this.clients.delete(m))),c(m,r)}}function y(e,t){for(let r of Object.keys(t))e.on(r,t[r]);return function(){for(let r of Object.keys(t))e.removeListener(r,t[r])}}function _(e){e._state=m,e.emit("close")}function v(){this.destroy()}function b(e,t,r,n){e.writable&&(r=r||i.STATUS_CODES[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},e.write(`HTTP/1.1 ${t} ${i.STATUS_CODES[t]}\r
`+Object.keys(n).map(e=>`${e}: ${n[e]}`).join("\r\n")+"\r\n\r\n"+r)),e.removeListener("error",v),e.destroy()}function w(e){return e.trim()}e.exports=g},"./node_modules/engine.io-client/node_modules/ws/lib/websocket.js":function(e,t,r){"use strict";let n=r("events"),i=r("https"),s=r("http"),o=r("net"),a=r("tls"),{randomBytes:l,createHash:c}=r("crypto"),{Readable:u}=r("stream"),{URL:d}=r("url"),h=r("./node_modules/engine.io-client/node_modules/ws/lib/permessage-deflate.js"),p=r("./node_modules/engine.io-client/node_modules/ws/lib/receiver.js"),f=r("./node_modules/engine.io-client/node_modules/ws/lib/sender.js"),{BINARY_TYPES:m,EMPTY_BUFFER:g,GUID:y,kStatusCode:_,kWebSocket:v,NOOP:b}=r("./node_modules/engine.io-client/node_modules/ws/lib/constants.js"),{addEventListener:w,removeEventListener:j}=r("./node_modules/engine.io-client/node_modules/ws/lib/event-target.js"),{format:S,parse:k}=r("./node_modules/engine.io-client/node_modules/ws/lib/extension.js"),{toBuffer:E}=r("./node_modules/engine.io-client/node_modules/ws/lib/buffer-util.js"),C=["CONNECTING","OPEN","CLOSING","CLOSED"],x=[8,13],T=3e4;class O extends n{constructor(e,t,r){super(),this._binaryType=m[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._extensions={},this._protocol="",this._readyState=O.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(t)?t=t.join(", "):"object"==typeof t&&null!==t&&(r=t,t=void 0),I(this,e,t,r)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){m.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get onclose(){}set onclose(e){}get onerror(){}set onerror(e){}get onopen(){}set onopen(e){}get onmessage(){}set onmessage(e){}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){let n=new p(this.binaryType,this._extensions,this._isServer,r);this._sender=new f(e,this._extensions),this._receiver=n,this._socket=e,n[v]=this,e[v]=this,n.on("conclude",M),n.on("drain",D),n.on("error",L),n.on("message",U),n.on("ping",z),n.on("pong",F),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",q),e.on("data",W),e.on("end",J),e.on("error",V),this._readyState=O.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=O.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[h.extensionName]&&this._extensions[h.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=O.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==O.CLOSED){if(this.readyState===O.CONNECTING){let e="WebSocket was closed before the connection was established";return N(this,this._req,e)}if(this.readyState===O.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=O.CLOSING,this._sender.close(e,t,!this._isServer,e=>{!e&&(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),T)}}ping(e,t,r){if(this.readyState===O.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==O.OPEN)return void $(this,e,r);void 0===t&&(t=!this._isServer),this._sender.ping(e||g,t,r)}pong(e,t,r){if(this.readyState===O.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==O.OPEN)return void $(this,e,r);void 0===t&&(t=!this._isServer),this._sender.pong(e||g,t,r)}send(e,t,r){if(this.readyState===O.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(r=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==O.OPEN)return void $(this,e,r);let n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[h.extensionName]||(n.compress=!1),this._sender.send(e||g,n,r)}terminate(){if(this.readyState!==O.CLOSED){if(this.readyState===O.CONNECTING){let e="WebSocket was closed before the connection was established";return N(this,this._req,e)}this._socket&&(this._readyState=O.CLOSING,this._socket.destroy())}}}function I(e,t,r,n){let o,a,u={protocolVersion:x[1],maxPayload:0x6400000,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!x.includes(u.protocolVersion))throw RangeError(`Unsupported protocol version: ${u.protocolVersion} (supported versions: ${x.join(", ")})`);t instanceof d?(o=t,e._url=t.href):(o=new d(t),e._url=t);let p="ws+unix:"===o.protocol;if(!o.host&&(!p||!o.pathname)){let t=Error(`Invalid URL: ${e.url}`);if(0!==e._redirects)return void A(e,t);throw t}let f="wss:"===o.protocol||"https:"===o.protocol,m=f?443:80,g=l(16).toString("base64"),_=f?i.get:s.get;if(u.createConnection=f?R:P,u.defaultPort=u.defaultPort||m,u.port=o.port||m,u.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,u.headers={"Sec-WebSocket-Version":u.protocolVersion,"Sec-WebSocket-Key":g,Connection:"Upgrade",Upgrade:"websocket",...u.headers},u.path=o.pathname+o.search,u.timeout=u.handshakeTimeout,u.perMessageDeflate&&(a=new h(!0!==u.perMessageDeflate?u.perMessageDeflate:{},!1,u.maxPayload),u.headers["Sec-WebSocket-Extensions"]=S({[h.extensionName]:a.offer()})),r&&(u.headers["Sec-WebSocket-Protocol"]=r),u.origin&&(u.protocolVersion<13?u.headers["Sec-WebSocket-Origin"]=u.origin:u.headers.Origin=u.origin),(o.username||o.password)&&(u.auth=`${o.username}:${o.password}`),p){let e=u.path.split(":");u.socketPath=e[0],u.path=e[1]}if(u.followRedirects){if(0===e._redirects){e._originalUnixSocket=p,e._originalSecure=f,e._originalHostOrSocketPath=p?u.socketPath:o.host;let t=n&&n.headers;if(n={...n,headers:{}},t)for(let[e,r]of Object.entries(t))n.headers[e.toLowerCase()]=r}else{let t=p?!!e._originalUnixSocket&&u.socketPath===e._originalHostOrSocketPath:!e._originalUnixSocket&&o.host===e._originalHostOrSocketPath;t&&(!e._originalSecure||f)||(delete u.headers.authorization,delete u.headers.cookie,t||delete u.headers.host,u.auth=void 0)}u.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(u.auth).toString("base64"))}let v=e._req=_(u);u.timeout&&v.on("timeout",()=>{N(e,v,"Opening handshake has timed out")}),v.on("error",t=>{null===v||v.aborted||(v=e._req=null,A(e,t))}),v.on("response",i=>{let s=i.headers.location,o=i.statusCode;if(s&&u.followRedirects&&o>=300&&o<400){let i;if(++e._redirects>u.maxRedirects)return void N(e,v,"Maximum redirects exceeded");v.abort();try{i=new d(s,t)}catch(t){A(e,t);return}I(e,i,r,n)}else e.emit("unexpected-response",v,i)||N(e,v,`Unexpected server response: ${i.statusCode}`)}),v.on("upgrade",(t,n,i)=>{let s;if(e.emit("upgrade",t),e.readyState!==O.CONNECTING)return;v=e._req=null;let o=t.headers.upgrade;if(void 0===o||"websocket"!==o.toLowerCase())return void N(e,n,"Invalid Upgrade header");let l=c("sha1").update(g+y).digest("base64");if(t.headers["sec-websocket-accept"]!==l)return void N(e,n,"Invalid Sec-WebSocket-Accept header");let d=t.headers["sec-websocket-protocol"],p=(r||"").split(/, */);if(!r&&d?s="Server sent a subprotocol but none was requested":r&&!d?s="Server sent no subprotocol":d&&!p.includes(d)&&(s="Server sent an invalid subprotocol"),s)return void N(e,n,s);d&&(e._protocol=d);let f=t.headers["sec-websocket-extensions"];if(void 0!==f){let t;if(!a)return void N(e,n,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");try{t=k(f)}catch(t){N(e,n,"Invalid Sec-WebSocket-Extensions header");return}let r=Object.keys(t);if(r.length){if(1!==r.length||r[0]!==h.extensionName)return void N(e,n,"Server indicated an extension that was not requested");try{a.accept(t[h.extensionName])}catch(t){N(e,n,"Invalid Sec-WebSocket-Extensions header");return}e._extensions[h.extensionName]=a}}e.setSocket(n,i,u.maxPayload)})}function A(e,t){e._readyState=O.CLOSING,e.emit("error",t),e.emitClose()}function P(e){return e.path=e.socketPath,o.connect(e)}function R(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=o.isIP(e.host)?"":e.host),a.connect(e)}function N(e,t,r){e._readyState=O.CLOSING;let n=Error(r);Error.captureStackTrace(n,N),t.setHeader?(t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),t.once("abort",e.emitClose.bind(e)),e.emit("error",n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function $(e,t,r){if(t){let r=E(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}r&&r(Error(`WebSocket is not open: readyState ${e.readyState} (${C[e.readyState]})`))}function M(e,t){let r=this[v];r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,void 0!==r._socket[v]&&(r._socket.removeListener("data",W),process.nextTick(H,r._socket),1005===e?r.close():r.close(e,t))}function D(){this[v]._socket.resume()}function L(e){let t=this[v];void 0!==t._socket[v]&&(t._socket.removeListener("data",W),process.nextTick(H,t._socket),t.close(e[_])),t.emit("error",e)}function B(){this[v].emitClose()}function U(e){this[v].emit("message",e)}function z(e){let t=this[v];t.pong(e,!t._isServer,b),t.emit("ping",e)}function F(e){this[v].emit("pong",e)}function H(e){e.resume()}function q(){let e,t=this[v];this.removeListener("close",q),this.removeListener("data",W),this.removeListener("end",J),t._readyState=O.CLOSING,this._readableState.endEmitted||t._closeFrameReceived||t._receiver._writableState.errorEmitted||null===(e=t._socket.read())||t._receiver.write(e),t._receiver.end(),this[v]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",B),t._receiver.on("finish",B))}function W(e){this[v]._receiver.write(e)||this.pause()}function J(){let e=this[v];e._readyState=O.CLOSING,e._receiver.end(),this.end()}function V(){let e=this[v];this.removeListener("error",V),this.on("error",b),e&&(e._readyState=O.CLOSING,this.destroy())}Object.defineProperty(O,"CONNECTING",{enumerable:!0,value:C.indexOf("CONNECTING")}),Object.defineProperty(O.prototype,"CONNECTING",{enumerable:!0,value:C.indexOf("CONNECTING")}),Object.defineProperty(O,"OPEN",{enumerable:!0,value:C.indexOf("OPEN")}),Object.defineProperty(O.prototype,"OPEN",{enumerable:!0,value:C.indexOf("OPEN")}),Object.defineProperty(O,"CLOSING",{enumerable:!0,value:C.indexOf("CLOSING")}),Object.defineProperty(O.prototype,"CLOSING",{enumerable:!0,value:C.indexOf("CLOSING")}),Object.defineProperty(O,"CLOSED",{enumerable:!0,value:C.indexOf("CLOSED")}),Object.defineProperty(O.prototype,"CLOSED",{enumerable:!0,value:C.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","protocol","readyState","url"].forEach(e=>{Object.defineProperty(O.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(e=>{Object.defineProperty(O.prototype,`on${e}`,{enumerable:!0,get(){let t=this.listeners(e);for(let e=0;e<t.length;e++)if(t[e]._listener)return t[e]._listener},set(t){let r=this.listeners(e);for(let t=0;t<r.length;t++)r[t]._listener&&this.removeListener(e,r[t]);this.addEventListener(e,t)}})}),O.prototype.addEventListener=w,O.prototype.removeEventListener=j,e.exports=O},"./node_modules/engine.io-parser/lib/index.js":function(e,t,r){var n=r("./node_modules/engine.io-parser/lib/utf8.js"),i=r("./node_modules/has-binary2/index.js"),s=r("./node_modules/after/index.js"),o=r("./node_modules/engine.io-parser/lib/keys.js");t.protocol=3;var a=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},l=o(a),c={type:"error",data:"parser error"};let u=Buffer.concat([]);function d(e,r,n){if(!r)return t.encodeBase64Packet(e,n);var i=e.data,s=Buffer.allocUnsafe(1);return s[0]=a[e.type],n(Buffer.concat([s,i]))}function h(e){try{e=n.decode(e,{strict:!1})}catch(e){return!1}return e}function p(e){return e.length+":"+e}function f(e,t,r){for(var n=Array(e.length),i=s(e.length,r),o=0;o<e.length;o++)t(e[o],function(e,t){n[o]=t,i(e,n)})}function m(e){for(var t="",r=0,n=e.length;r<n;r++)t+=String.fromCharCode(e[r]);return t}function g(e){for(var t=Buffer.allocUnsafe(e.length),r=0,n=e.length;r<n;r++)t.writeUInt8(e.charCodeAt(r),r);return t}function y(e){var t=e.byteLength||e.length,r=e.byteOffset||0;return Buffer.from(e.buffer||e,r,t)}function _(e,r){function n(e){var t,n=""+e.length;if("string"==typeof e){(t=Buffer.allocUnsafe(n.length+2))[0]=0;for(var i=0;i<n.length;i++)t[i+1]=parseInt(n[i],10);return t[t.length-1]=255,r(null,Buffer.concat([t,g(e)]))}(t=Buffer.allocUnsafe(n.length+2))[0]=1;for(var i=0;i<n.length;i++)t[i+1]=parseInt(n[i],10);t[t.length-1]=255,r(null,Buffer.concat([t,e]))}t.encodePacket(e,!0,!0,n)}t.encodePacket=function(e,t,r,i){if("function"==typeof t&&(i=t,t=null),"function"==typeof r&&(i=r,r=null),Buffer.isBuffer(e.data))return d(e,t,i);if(e.data&&(e.data.buffer||e.data)instanceof ArrayBuffer)return d({type:e.type,data:y(e.data)},t,i);var s=a[e.type];return void 0!==e.data&&(s+=r?n.encode(String(e.data),{strict:!1}):String(e.data)),i(""+s)},t.encodeBase64Packet=function(e,t){var r=Buffer.isBuffer(e.data)?e.data:y(e.data),n="b"+a[e.type];return t(n+=r.toString("base64"))},t.decodePacket=function(e,r,n){if(void 0===e)return c;if("string"==typeof e)return"b"===(i=e.charAt(0))?t.decodeBase64Packet(e.substr(1),r):n&&!1===(e=h(e))?c:Number(i)==i&&l[i]?e.length>1?{type:l[i],data:e.substring(1)}:{type:l[i]}:c;if("arraybuffer"===r){var i,s=new Uint8Array(e);return{type:l[i=s[0]],data:s.buffer.slice(1)}}return e instanceof ArrayBuffer&&(e=y(e)),{type:l[i=e[0]],data:e.slice(1)}},t.decodeBase64Packet=function(e,t){var r=l[e.charAt(0)],n=Buffer.from(e.substr(1),"base64");if("arraybuffer"===t){for(var i=new Uint8Array(n.length),s=0;s<i.length;s++)i[s]=n[s];n=i.buffer}return{type:r,data:n}},t.encodePayload=function(e,r,n){return("function"==typeof r&&(n=r,r=null),r&&i(e))?t.encodePayloadAsBinary(e,n):e.length?void f(e,function(e,n){t.encodePacket(e,r,!1,function(e){n(null,p(e))})},function(e,t){return n(t.join(""))}):n("0:")},t.decodePayload=function(e,r,n){if("string"!=typeof e)return t.decodePayloadAsBinary(e,r,n);if("function"==typeof r&&(n=r,r=null),""===e)return n(c,0,1);for(var i,s,o,a="",l=0,u=e.length;l<u;l++){var d=e.charAt(l);if(":"!==d){a+=d;continue}if(""===a||a!=(i=Number(a))||a!=(s=e.substr(l+1,i)).length)return n(c,0,1);if(s.length){if(o=t.decodePacket(s,r,!1),c.type===o.type&&c.data===o.data)return n(c,0,1);if(!1===n(o,l+i,u))return}l+=i,a=""}if(""!==a)return n(c,0,1)},t.encodePayloadAsBinary=function(e,t){if(!e.length)return t(u);f(e,_,function(e,r){return t(Buffer.concat(r))})},t.decodePayloadAsBinary=function(e,r,n){"function"==typeof r&&(n=r,r=null);for(var i,s=e,o=[];s.length>0;){var a="",l=0===s[0];for(i=1;255!==s[i];i++){if(a.length>310)return n(c,0,1);a+=""+s[i]}s=s.slice(a.length+1);var u=parseInt(a,10),d=s.slice(1,u+1);l&&(d=m(d)),o.push(d),s=s.slice(u+1)}var h=o.length;for(i=0;i<h;i++){var p=o[i];n(t.decodePacket(p,r,!0),i,h)}}},"./node_modules/engine.io-parser/lib/keys.js":function(e){e.exports=Object.keys||function(e){var t=[],r=Object.prototype.hasOwnProperty;for(var n in e)r.call(e,n)&&t.push(n);return t}},"./node_modules/engine.io-parser/lib/utf8.js":function(e){var t,r,n,i=String.fromCharCode;function s(e){for(var t,r,n=[],i=0,s=e.length;i<s;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<s?(64512&(r=e.charCodeAt(i++)))==56320?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function o(e){for(var t,r=e.length,n=-1,s="";++n<r;)(t=e[n])>65535&&(t-=65536,s+=i(t>>>10&1023|55296),t=56320|1023&t),s+=i(t);return s}function a(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function l(e,t){return i(e>>t&63|128)}function c(e,t){if((0xffffff80&e)==0)return i(e);var r="";return(0xfffff800&e)==0?r=i(e>>6&31|192):(0xffff0000&e)==0?(a(e,t)||(e=65533),r=i(e>>12&15|224)+l(e,6)):(0xffe00000&e)==0&&(r=i(e>>18&7|240)+l(e,12)+l(e,6)),r+=i(63&e|128)}function u(){if(n>=r)throw Error("Invalid byte index");var e=255&t[n];if(n++,(192&e)==128)return 63&e;throw Error("Invalid continuation byte")}function d(e){var i,s,o,l;if(n>r)throw Error("Invalid byte index");if(n==r)return!1;if(i=255&t[n],n++,(128&i)==0)return i;if((224&i)==192){if((l=(31&i)<<6|(s=u()))>=128)return l;throw Error("Invalid continuation byte")}if((240&i)==224){if((l=(15&i)<<12|(s=u())<<6|(o=u()))>=2048)return a(l,e)?l:65533;throw Error("Invalid continuation byte")}if((248&i)==240&&(s=u(),(l=(7&i)<<18|s<<12|(o=u())<<6|u())>=65536&&l<=1114111))return l;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var r=!1!==(t=t||{}).strict,n=s(e),i=n.length,o=-1,a="";++o<i;)a+=c(n[o],r);return a},decode:function(e,i){var a,l=!1!==(i=i||{}).strict;r=(t=s(e)).length,n=0;for(var c=[];!1!==(a=d(l));)c.push(a);return o(c)}}},"./node_modules/fast-xml-parser/src/fxp.js":function(e,t,r){"use strict";let n=r("./node_modules/fast-xml-parser/src/validator.js");e.exports={XMLParser:r("./node_modules/fast-xml-parser/src/xmlparser/XMLParser.js"),XMLValidator:n,XMLBuilder:r("./node_modules/fast-xml-parser/src/xmlbuilder/json2xml.js")}},"./node_modules/fast-xml-parser/src/ignoreAttributes.js":function(e){e.exports=function(e){return"function"==typeof e?e:Array.isArray(e)?t=>{for(let r of e)if("string"==typeof r&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}},"./node_modules/fast-xml-parser/src/util.js":function(e,t){"use strict";let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",i="["+r+"]["+n+"]*",s=RegExp("^"+i+"$"),o=function(e,t){let r=[],n=t.exec(e);for(;n;){let i=[];i.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let e=0;e<s;e++)i.push(n[e]);r.push(i),n=t.exec(e)}return r},a=function(e){return null!=s.exec(e)};t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,r){if(t){let n=Object.keys(t),i=n.length;for(let s=0;s<i;s++)"strict"===r?e[n[s]]=[t[n[s]]]:e[n[s]]=t[n[s]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.isName=a,t.getAllMatches=o,t.nameRegexp=i},"./node_modules/fast-xml-parser/src/validator.js":function(e,t,r){"use strict";let n=r("./node_modules/fast-xml-parser/src/util.js"),i={allowBooleanAttributes:!1,unpairedTags:[]};function s(e){return" "===e||"	"===e||"\n"===e||"\r"===e}function o(e,t){let r=t;for(;t<e.length;t++)if("?"==e[t]||" "==e[t]){let n=e.substr(r,t-r);if(t>5&&"xml"===n)return m("InvalidXml","XML declaration allowed only at the start of the document.",_(e,t));if("?"!=e[t]||">"!=e[t+1])continue;t++;break}return t}function a(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let r=1;for(t+=8;t<e.length;t++)if("<"===e[t])r++;else if(">"===e[t]&&0==--r)break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7]){for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}}return t}t.validate=function(e,t){t=Object.assign({},i,t);let r=[],n=!1,l=!1;"\uFEFF"===e[0]&&(e=e.substr(1));for(let i=0;i<e.length;i++)if("<"===e[i]&&"?"===e[i+1]){if(i+=2,(i=o(e,i)).err)return i}else if("<"===e[i]){let c=i;if("!"===e[++i]){i=a(e,i);continue}{let d=!1;"/"===e[i]&&(d=!0,i++);let p="";for(;i<e.length&&">"!==e[i]&&" "!==e[i]&&"	"!==e[i]&&"\n"!==e[i]&&"\r"!==e[i];i++)p+=e[i];if("/"===(p=p.trim())[p.length-1]&&(p=p.substring(0,p.length-1),i--),!y(p)){let t;return m("InvalidTag",t=0===p.trim().length?"Invalid space after '<'.":"Tag '"+p+"' is an invalid name.",_(e,i))}let g=u(e,i);if(!1===g)return m("InvalidAttr","Attributes for '"+p+"' have open quote.",_(e,i));let v=g.value;if(i=g.index,"/"===v[v.length-1]){let r=i-v.length,s=h(v=v.substring(0,v.length-1),t);if(!0!==s)return m(s.err.code,s.err.msg,_(e,r+s.err.line));n=!0}else if(d)if(!g.tagClosed)return m("InvalidTag","Closing tag '"+p+"' doesn't have proper closing.",_(e,i));else{if(v.trim().length>0)return m("InvalidTag","Closing tag '"+p+"' can't have attributes or invalid starting.",_(e,c));if(0===r.length)return m("InvalidTag","Closing tag '"+p+"' has not been opened.",_(e,c));let t=r.pop();if(p!==t.tagName){let r=_(e,t.tagStartPos);return m("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+r.line+", col "+r.col+") instead of closing tag '"+p+"'.",_(e,c))}0==r.length&&(l=!0)}else{let s=h(v,t);if(!0!==s)return m(s.err.code,s.err.msg,_(e,i-v.length+s.err.line));if(!0===l)return m("InvalidXml","Multiple possible root nodes found.",_(e,i));-1!==t.unpairedTags.indexOf(p)||r.push({tagName:p,tagStartPos:c}),n=!0}for(i++;i<e.length;i++)if("<"===e[i])if("!"===e[i+1]){i=a(e,++i);continue}else if("?"===e[i+1]){if((i=o(e,++i)).err)return i}else break;else if("&"===e[i]){let t=f(e,i);if(-1==t)return m("InvalidChar","char '&' is not expected.",_(e,i));i=t}else if(!0===l&&!s(e[i]))return m("InvalidXml","Extra text at the end",_(e,i));"<"===e[i]&&i--}}else{if(s(e[i]))continue;return m("InvalidChar","char '"+e[i]+"' is not expected.",_(e,i))}return n?1==r.length?m("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",_(e,r[0].tagStartPos)):!(r.length>0)||m("InvalidXml","Invalid '"+JSON.stringify(r.map(e=>e.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):m("InvalidXml","Start tag expected.",1)};let l='"',c="'";function u(e,t){let r="",n="",i=!1;for(;t<e.length;t++){if(e[t]===l||e[t]===c)""===n?n=e[t]:n!==e[t]||(n="");else if(">"===e[t]&&""===n){i=!0;break}r+=e[t]}return""===n&&{value:r,index:t,tagClosed:i}}let d=RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function h(e,t){let r=n.getAllMatches(e,d),i={};for(let e=0;e<r.length;e++){if(0===r[e][1].length)return m("InvalidAttr","Attribute '"+r[e][2]+"' has no space in starting.",v(r[e]));if(void 0!==r[e][3]&&void 0===r[e][4])return m("InvalidAttr","Attribute '"+r[e][2]+"' is without value.",v(r[e]));if(void 0===r[e][3]&&!t.allowBooleanAttributes)return m("InvalidAttr","boolean attribute '"+r[e][2]+"' is not allowed.",v(r[e]));let n=r[e][2];if(!g(n))return m("InvalidAttr","Attribute '"+n+"' is an invalid name.",v(r[e]));if(i.hasOwnProperty(n))return m("InvalidAttr","Attribute '"+n+"' is repeated.",v(r[e]));i[n]=1}return!0}function p(e,t){let r=/\d/;for("x"===e[t]&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(r))break}return -1}function f(e,t){if(";"===e[++t])return -1;if("#"===e[t])return p(e,++t);let r=0;for(;t<e.length;t++,r++)if(!e[t].match(/\w/)||!(r<20)){if(";"===e[t])break;return -1}return t}function m(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function g(e){return n.isName(e)}function y(e){return n.isName(e)}function _(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function v(e){return e.startIndex+e[1].length}},"./node_modules/fast-xml-parser/src/xmlbuilder/json2xml.js":function(e,t,r){"use strict";let n=r("./node_modules/fast-xml-parser/src/xmlbuilder/orderedJs2Xml.js"),i=r("./node_modules/fast-xml-parser/src/ignoreAttributes.js"),s={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:RegExp("&","g"),val:"&amp;"},{regex:RegExp(">","g"),val:"&gt;"},{regex:RegExp("<","g"),val:"&lt;"},{regex:RegExp("'","g"),val:"&apos;"},{regex:RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function o(e){this.options=Object.assign({},s,e),!0===this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=i(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=c),this.processTextOrObjNode=a,this.options.format?(this.indentate=l,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function a(e,t,r,n){let i=this.j2x(e,r+1,n.concat(t));return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],t,i.attrStr,r):this.buildObjectNode(i.val,t,i.attrStr,r)}function l(e){return this.options.indentBy.repeat(e)}function c(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e!==this.options.textNodeName&&e.substr(this.attrPrefixLen)}o.prototype.build=function(e){return this.options.preserveOrder?n(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0,[]).val)},o.prototype.j2x=function(e,t,r){let n="",i="",s=r.join(".");for(let o in e)if(Object.prototype.hasOwnProperty.call(e,o))if(void 0===e[o])this.isAttribute(o)&&(i+="");else if(null===e[o])this.isAttribute(o)||o===this.options.cdataPropName?i+="":"?"===o[0]?i+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:i+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)i+=this.buildTextValNode(e[o],o,"",t);else if("object"!=typeof e[o]){let r=this.isAttribute(o);if(r&&!this.ignoreAttributesFn(r,s))n+=this.buildAttrPairStr(r,""+e[o]);else if(!r)if(o===this.options.textNodeName){let t=this.options.tagValueProcessor(o,""+e[o]);i+=this.replaceEntitiesValue(t)}else i+=this.buildTextValNode(e[o],o,"",t)}else if(Array.isArray(e[o])){let n=e[o].length,s="",a="";for(let l=0;l<n;l++){let n=e[o][l];if(void 0===n);else if(null===n)"?"===o[0]?i+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:i+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if("object"==typeof n)if(this.options.oneListGroup){let e=this.j2x(n,t+1,r.concat(o));s+=e.val,this.options.attributesGroupName&&n.hasOwnProperty(this.options.attributesGroupName)&&(a+=e.attrStr)}else s+=this.processTextOrObjNode(n,o,t,r);else if(this.options.oneListGroup){let e=this.options.tagValueProcessor(o,n);s+=e=this.replaceEntitiesValue(e)}else s+=this.buildTextValNode(n,o,"",t)}this.options.oneListGroup&&(s=this.buildObjectNode(s,o,a,t)),i+=s}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){let t=Object.keys(e[o]),r=t.length;for(let i=0;i<r;i++)n+=this.buildAttrPairStr(t[i],""+e[o][t[i]])}else i+=this.processTextOrObjNode(e[o],o,t,r);return{attrStr:n,val:i}},o.prototype.buildAttrPairStr=function(e,t){return(t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t)?" "+e:" "+e+'="'+t+'"'},o.prototype.buildObjectNode=function(e,t,r,n){if(""===e)if("?"===t[0])return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;else return this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let i="</"+t+this.tagEndChar,s="";return("?"===t[0]&&(s="?",i=""),(r||""===r)&&-1===e.indexOf("<"))?this.indentate(n)+"<"+t+r+s+">"+e+i:!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===s.length?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+s+this.tagEndChar+e+this.indentate(n)+i}},o.prototype.closeTag=function(e){let t="";return -1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(t="/"):t=this.options.suppressEmptyNode?"/":`></${e}`,t},o.prototype.buildTextValNode=function(e,t,r,n){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;{if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if("?"===t[0])return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;let i=this.options.tagValueProcessor(t,e);return""===(i=this.replaceEntitiesValue(i))?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+i+"</"+t+this.tagEndChar}},o.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e},e.exports=o},"./node_modules/fast-xml-parser/src/xmlbuilder/orderedJs2Xml.js":function(e){let t="\n";function r(e,t,a,l){let c="",u=!1;for(let d=0;d<e.length;d++){let h=e[d],p=n(h);if(void 0===p)continue;let f="";if(f=0===a.length?p:`${a}.${p}`,p===t.textNodeName){let e=h[p];s(f,t)||(e=o(e=t.tagValueProcessor(p,e),t)),u&&(c+=l),c+=e,u=!1;continue}if(p===t.cdataPropName){u&&(c+=l),c+=`<![CDATA[${h[p][0][t.textNodeName]}]]>`,u=!1;continue}if(p===t.commentPropName){c+=l+`<!--${h[p][0][t.textNodeName]}-->`,u=!0;continue}else if("?"===p[0]){let e=i(h[":@"],t),r="?xml"===p?"":l,n=h[p][0][t.textNodeName];n=0!==n.length?" "+n:"",c+=r+`<${p}${n}${e}?>`,u=!0;continue}let m=l;""!==m&&(m+=t.indentBy);let g=i(h[":@"],t),y=l+`<${p}${g}`,_=r(h[p],t,f,m);-1!==t.unpairedTags.indexOf(p)?t.suppressUnpairedNode?c+=y+">":c+=y+"/>":(!_||0===_.length)&&t.suppressEmptyNode?c+=y+"/>":_&&_.endsWith(">")?c+=y+`>${_}${l}</${p}>`:(c+=y+">",_&&""!==l&&(_.includes("/>")||_.includes("</"))?c+=l+t.indentBy+_+l:c+=_,c+=`</${p}>`),u=!0}return c}function n(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(e.hasOwnProperty(n)&&":@"!==n)return n}}function i(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){if(!e.hasOwnProperty(n))continue;let i=t.attributeValueProcessor(n,e[n]);!0===(i=o(i,t))&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${i}"`}return r}function s(e,t){let r=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function o(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}e.exports=function(e,n){let i="";return n.format&&n.indentBy.length>0&&(i=t),r(e,n,"",i)}},"./node_modules/fast-xml-parser/src/xmlparser/DocTypeReader.js":function(e,t,r){let n=r("./node_modules/fast-xml-parser/src/util.js");function i(e,t){let r="";for(;t<e.length&&"'"!==e[t]&&'"'!==e[t];t++)r+=e[t];if(-1!==(r=r.trim()).indexOf(" "))throw Error("External entites are not supported");let n=e[t++],i="";for(;t<e.length&&e[t]!==n;t++)i+=e[t];return[r,i,t]}function s(e,t){return"!"===e[t+1]&&"-"===e[t+2]&&"-"===e[t+3]}function o(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"N"===e[t+3]&&"T"===e[t+4]&&"I"===e[t+5]&&"T"===e[t+6]&&"Y"===e[t+7]||!1}function a(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"L"===e[t+3]&&"E"===e[t+4]&&"M"===e[t+5]&&"E"===e[t+6]&&"N"===e[t+7]&&"T"===e[t+8]||!1}function l(e,t){return"!"===e[t+1]&&"A"===e[t+2]&&"T"===e[t+3]&&"T"===e[t+4]&&"L"===e[t+5]&&"I"===e[t+6]&&"S"===e[t+7]&&"T"===e[t+8]||!1}function c(e,t){return"!"===e[t+1]&&"N"===e[t+2]&&"O"===e[t+3]&&"T"===e[t+4]&&"A"===e[t+5]&&"T"===e[t+6]&&"I"===e[t+7]&&"O"===e[t+8]&&"N"===e[t+9]||!1}function u(e){if(n.isName(e))return e;throw Error(`Invalid entity name ${e}`)}e.exports=function(e,t){let r={};if("O"===e[t+3]&&"C"===e[t+4]&&"T"===e[t+5]&&"Y"===e[t+6]&&"P"===e[t+7]&&"E"===e[t+8]){t+=9;let n=1,d=!1,h=!1,p="";for(;t<e.length;t++)if("<"!==e[t]||h)if(">"===e[t]){if(h?"-"===e[t-1]&&"-"===e[t-2]&&(h=!1,n--):n--,0===n)break}else"["===e[t]?d=!0:p+=e[t];else{if(d&&o(e,t)){let n,s;t+=7,[n,s,t]=i(e,t+1),-1===s.indexOf("&")&&(r[u(n)]={regx:RegExp(`&${n};`,"g"),val:s})}else if(d&&a(e,t))t+=8;else if(d&&l(e,t))t+=8;else if(d&&c(e,t))t+=9;else if(s)h=!0;else throw Error("Invalid DOCTYPE");n++,p=""}if(0!==n)throw Error("Unclosed DOCTYPE")}else throw Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}},"./node_modules/fast-xml-parser/src/xmlparser/OptionsBuilder.js":function(e,t){let r={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}};t.buildOptions=function(e){return Object.assign({},r,e)},t.defaultOptions=r},"./node_modules/fast-xml-parser/src/xmlparser/OrderedObjParser.js":function(e,t,r){"use strict";let n=r("./node_modules/fast-xml-parser/src/util.js"),i=r("./node_modules/fast-xml-parser/src/xmlparser/xmlNode.js"),s=r("./node_modules/fast-xml-parser/src/xmlparser/DocTypeReader.js"),o=r("./node_modules/strnum/strnum.js"),a=r("./node_modules/fast-xml-parser/src/ignoreAttributes.js");class l{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xa2"},pound:{regex:/&(pound|#163);/g,val:"\xa3"},yen:{regex:/&(yen|#165);/g,val:"\xa5"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"\xa9"},reg:{regex:/&(reg|#174);/g,val:"\xae"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(e,t)=>String.fromCharCode(Number.parseInt(t,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(e,t)=>String.fromCharCode(Number.parseInt(t,16))}},this.addExternalEntities=c,this.parseXml=f,this.parseTextData=u,this.resolveNameSpace=d,this.buildAttributesMap=p,this.isItStopNode=_,this.replaceEntitiesValue=g,this.readStopNodeData=j,this.saveTextToParentTag=y,this.addChild=m,this.ignoreAttributesFn=a(this.options.ignoreAttributes)}}function c(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:RegExp("&"+n+";","g"),val:e[n]}}}function u(e,t,r,n,i,s,o){if(void 0!==e&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));let n=this.options.tagValueProcessor(t,e,r,i,s);return null==n?e:typeof n!=typeof e||n!==e?n:this.options.trimValues||e.trim()===e?S(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function d(e){if(this.options.removeNSPrefix){let t=e.split(":"),r="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=r+t[1])}return e}let h=RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function p(e,t,r){if(!0!==this.options.ignoreAttributes&&"string"==typeof e){let r=n.getAllMatches(e,h),i=r.length,s={};for(let e=0;e<i;e++){let n=this.resolveNameSpace(r[e][1]);if(this.ignoreAttributesFn(n,t))continue;let i=r[e][4],o=this.options.attributeNamePrefix+n;if(n.length)if(this.options.transformAttributeName&&(o=this.options.transformAttributeName(o)),"__proto__"===o&&(o="#__proto__"),void 0!==i){this.options.trimValues&&(i=i.trim()),i=this.replaceEntitiesValue(i);let e=this.options.attributeValueProcessor(n,i,t);null==e?s[o]=i:typeof e!=typeof i||e!==i?s[o]=e:s[o]=S(i,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[o]=!0)}if(Object.keys(s).length){if(this.options.attributesGroupName){let e={};return e[this.options.attributesGroupName]=s,e}return s}}}let f=function(e){e=e.replace(/\r\n?/g,"\n");let t=new i("!xml"),r=t,n="",o="";for(let a=0;a<e.length;a++)if("<"===e[a])if("/"===e[a+1]){let t=b(e,">",a,"Closing Tag is not closed."),i=e.substring(a+2,t).trim();if(this.options.removeNSPrefix){let e=i.indexOf(":");-1!==e&&(i=i.substr(e+1))}this.options.transformTagName&&(i=this.options.transformTagName(i)),r&&(n=this.saveTextToParentTag(n,r,o));let s=o.substring(o.lastIndexOf(".")+1);if(i&&-1!==this.options.unpairedTags.indexOf(i))throw Error(`Unpaired tag can not be used as closing tag: </${i}>`);let l=0;s&&-1!==this.options.unpairedTags.indexOf(s)?(l=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):l=o.lastIndexOf("."),o=o.substring(0,l),r=this.tagsNodeStack.pop(),n="",a=t}else if("?"===e[a+1]){let t=w(e,a,!1,"?>");if(!t)throw Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),this.options.ignoreDeclaration&&"?xml"===t.tagName||this.options.ignorePiTags);else{let e=new i(t.tagName);e.add(this.options.textNodeName,""),t.tagName!==t.tagExp&&t.attrExpPresent&&(e[":@"]=this.buildAttributesMap(t.tagExp,o,t.tagName)),this.addChild(r,e,o)}a=t.closeIndex+1}else if("!--"===e.substr(a+1,3)){let t=b(e,"--\x3e",a+4,"Comment is not closed.");if(this.options.commentPropName){let i=e.substring(a+4,t-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:i}])}a=t}else if("!D"===e.substr(a+1,2)){let t=s(e,a);this.docTypeEntities=t.entities,a=t.i}else if("!["===e.substr(a+1,2)){let t=b(e,"]]>",a,"CDATA is not closed.")-2,i=e.substring(a+9,t);n=this.saveTextToParentTag(n,r,o);let s=this.parseTextData(i,r.tagname,o,!0,!1,!0,!0);void 0==s&&(s=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:i}]):r.add(this.options.textNodeName,s),a=t+2}else{let s=w(e,a,this.options.removeNSPrefix),l=s.tagName,c=s.rawTagName,u=s.tagExp,d=s.attrExpPresent,h=s.closeIndex;this.options.transformTagName&&(l=this.options.transformTagName(l)),r&&n&&"!xml"!==r.tagname&&(n=this.saveTextToParentTag(n,r,o,!1));let p=r;if(p&&-1!==this.options.unpairedTags.indexOf(p.tagname)&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),l!==t.tagname&&(o+=o?"."+l:l),this.isItStopNode(this.options.stopNodes,o,l)){let t="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)"/"===l[l.length-1]?(l=l.substr(0,l.length-1),o=o.substr(0,o.length-1),u=l):u=u.substr(0,u.length-1),a=s.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(l))a=s.closeIndex;else{let r=this.readStopNodeData(e,c,h+1);if(!r)throw Error(`Unexpected end of ${c}`);a=r.i,t=r.tagContent}let n=new i(l);l!==u&&d&&(n[":@"]=this.buildAttributesMap(u,o,l)),t&&(t=this.parseTextData(t,l,o,!0,d,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),n.add(this.options.textNodeName,t),this.addChild(r,n,o)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){"/"===l[l.length-1]?(l=l.substr(0,l.length-1),o=o.substr(0,o.length-1),u=l):u=u.substr(0,u.length-1),this.options.transformTagName&&(l=this.options.transformTagName(l));let e=new i(l);l!==u&&d&&(e[":@"]=this.buildAttributesMap(u,o,l)),this.addChild(r,e,o),o=o.substr(0,o.lastIndexOf("."))}else{let e=new i(l);this.tagsNodeStack.push(r),l!==u&&d&&(e[":@"]=this.buildAttributesMap(u,o,l)),this.addChild(r,e,o),r=e}n="",a=h}}else n+=e[a];return t.child};function m(e,t,r){let n=this.options.updateTag(t.tagname,r,t[":@"]);!1===n||("string"==typeof n&&(t.tagname=n),e.addChild(t))}let g=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function y(e,t,r,n){return e&&(void 0===n&&(n=0===t.child.length),void 0!==(e=this.parseTextData(e,t.tagname,r,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,n))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function _(e,t,r){let n="*."+r;for(let r in e){let i=e[r];if(n===i||t===i)return!0}return!1}function v(e,t,r=">"){let n,i="";for(let s=t;s<e.length;s++){let t=e[s];if(n)t===n&&(n="");else if('"'===t||"'"===t)n=t;else if(t===r[0]){if(!r[1])return{data:i,index:s};else if(e[s+1]===r[1])return{data:i,index:s}}else"	"===t&&(t=" ");i+=t}}function b(e,t,r,n){let i=e.indexOf(t,r);if(-1!==i)return i+t.length-1;throw Error(n)}function w(e,t,r,n=">"){let i=v(e,t+1,n);if(!i)return;let s=i.data,o=i.index,a=s.search(/\s/),l=s,c=!0;-1!==a&&(l=s.substring(0,a),s=s.substring(a+1).trimStart());let u=l;if(r){let e=l.indexOf(":");-1!==e&&(c=(l=l.substr(e+1))!==i.data.substr(e+1))}return{tagName:l,tagExp:s,closeIndex:o,attrExpPresent:c,rawTagName:u}}function j(e,t,r){let n=r,i=1;for(;r<e.length;r++)if("<"===e[r])if("/"===e[r+1]){let s=b(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&0==--i)return{tagContent:e.substring(n,r),i:s};r=s}else if("?"===e[r+1])r=b(e,"?>",r+1,"StopNode is not closed.");else if("!--"===e.substr(r+1,3))r=b(e,"--\x3e",r+3,"StopNode is not closed.");else if("!["===e.substr(r+1,2))r=b(e,"]]>",r,"StopNode is not closed.")-2;else{let n=w(e,r,">");n&&((n&&n.tagName)===t&&"/"!==n.tagExp[n.tagExp.length-1]&&i++,r=n.closeIndex)}}function S(e,t,r){if(t&&"string"==typeof e){let t=e.trim();return"true"===t||"false"!==t&&o(e,r)}return n.isExist(e)?e:""}e.exports=l},"./node_modules/fast-xml-parser/src/xmlparser/XMLParser.js":function(e,t,r){let{buildOptions:n}=r("./node_modules/fast-xml-parser/src/xmlparser/OptionsBuilder.js"),i=r("./node_modules/fast-xml-parser/src/xmlparser/OrderedObjParser.js"),{prettify:s}=r("./node_modules/fast-xml-parser/src/xmlparser/node2json.js"),o=r("./node_modules/fast-xml-parser/src/validator.js");class a{constructor(e){this.externalEntities={},this.options=n(e)}parse(e,t){if("string"==typeof e);else if(e.toString)e=e.toString();else throw Error("XML data is accepted in String or Bytes[] form.");if(t){!0===t&&(t={});let r=o.validate(e,t);if(!0!==r)throw Error(`${r.err.msg}:${r.err.line}:${r.err.col}`)}let r=new i(this.options);r.addExternalEntities(this.externalEntities);let n=r.parseXml(e);return this.options.preserveOrder||void 0===n?n:s(n,this.options)}addEntity(e,t){if(-1!==t.indexOf("&"))throw Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}}e.exports=a},"./node_modules/fast-xml-parser/src/xmlparser/node2json.js":function(e,t){"use strict";function r(e,t,o){let a,l={};for(let c=0;c<e.length;c++){let u=e[c],d=n(u),h="";if(h=void 0===o?d:o+"."+d,d===t.textNodeName)void 0===a?a=u[d]:a+=""+u[d];else if(void 0===d)continue;else if(u[d]){let e=r(u[d],t,h),n=s(e,t);u[":@"]?i(e,u[":@"],h,t):1!==Object.keys(e).length||void 0===e[t.textNodeName]||t.alwaysCreateTextNode?0===Object.keys(e).length&&(t.alwaysCreateTextNode?e[t.textNodeName]="":e=""):e=e[t.textNodeName],void 0!==l[d]&&l.hasOwnProperty(d)?(Array.isArray(l[d])||(l[d]=[l[d]]),l[d].push(e)):t.isArray(d,h,n)?l[d]=[e]:l[d]=e}}return"string"==typeof a?a.length>0&&(l[t.textNodeName]=a):void 0!==a&&(l[t.textNodeName]=a),l}function n(e){let t=Object.keys(e);for(let e=0;e<t.length;e++){let r=t[e];if(":@"!==r)return r}}function i(e,t,r,n){if(t){let i=Object.keys(t),s=i.length;for(let o=0;o<s;o++){let s=i[o];n.isArray(s,r+"."+s,!0,!0)?e[s]=[t[s]]:e[s]=t[s]}}}function s(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return 0===n||1===n&&(!!e[r]||"boolean"==typeof e[r]||0===e[r])}t.prettify=function(e,t){return r(e,t)}},"./node_modules/fast-xml-parser/src/xmlparser/xmlNode.js":function(e){"use strict";class t{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}e.exports=t},"./node_modules/file-type/core.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";let Token=__webpack_require__("./node_modules/token-types/lib/index.js"),strtok3=__webpack_require__("./node_modules/strtok3/lib/core.js"),{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=__webpack_require__("./node_modules/file-type/util.js"),supported=__webpack_require__("./node_modules/file-type/supported.js"),minimumBytes=4100;async function fromStream(e){let t=await strtok3.fromStream(e);try{return await fromTokenizer(t)}finally{await t.close()}}async function fromBuffer(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||Buffer.isBuffer(e)))throw TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof e}\``);let t=e instanceof Buffer?e:Buffer.from(e);if(t&&t.length>1)return fromTokenizer(strtok3.fromBuffer(t))}function _check(e,t,r){for(let[n,i]of(r={offset:0,...r},t.entries()))if(r.mask){if(i!==(r.mask[n]&e[n+r.offset]))return!1}else if(i!==e[n+r.offset])return!1;return!0}async function fromTokenizer(e){try{return _fromTokenizer(e)}catch(e){if(!(e instanceof strtok3.EndOfStreamError))throw e}}async function _fromTokenizer(e){let t=Buffer.alloc(minimumBytes),r=12,n=(e,r)=>_check(t,e,r),i=(e,t)=>n(stringToBytes(e),t);if(e.fileInfo.size||(e.fileInfo.size=Number.MAX_SAFE_INTEGER),await e.peekBuffer(t,{length:r,mayBeLess:!0}),n([66,77]))return{ext:"bmp",mime:"image/bmp"};if(n([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(n([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(n([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(n([37,33]))return(await e.peekBuffer(t,{length:24,mayBeLess:!0}),i("PS-Adobe-",{offset:2})&&i(" EPSF-",{offset:14}))?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(n([31,160])||n([31,157]))return{ext:"Z",mime:"application/x-compress"};if(n([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(n([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(n([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(n([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(i("ID3")){await e.ignore(6);let t=await e.readToken(uint32SyncSafeToken);return e.position+t>e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await e.ignore(t),fromTokenizer(e))}if(i("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===t[0]||70===t[0])&&n([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(n([71,73,70]))return{ext:"gif",mime:"image/gif"};if(i("FLIF"))return{ext:"flif",mime:"image/flif"};if(i("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(i("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(i("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(i("FORM"))return{ext:"aif",mime:"audio/aiff"};if(i("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(n([80,75,3,4])){try{for(;e.position+30<e.fileInfo.size;){await e.readBuffer(t,{length:30});let r={compressedSize:t.readUInt32LE(18),uncompressedSize:t.readUInt32LE(22),filenameLength:t.readUInt16LE(26),extraFieldLength:t.readUInt16LE(28)};if(r.filename=await e.readToken(new Token.StringType(r.filenameLength,"utf-8")),await e.ignore(r.extraFieldLength),"META-INF/mozilla.rsa"===r.filename)return{ext:"xpi",mime:"application/x-xpinstall"};if(r.filename.endsWith(".rels")||r.filename.endsWith(".xml"))switch(r.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(r.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(r.filename.startsWith("3D/")&&r.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if("mimetype"===r.filename&&r.compressedSize===r.uncompressedSize)switch(await e.readToken(new Token.StringType(r.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}if(0===r.compressedSize){let r=-1;for(;r<0&&e.position<e.fileInfo.size;)await e.peekBuffer(t,{mayBeLess:!0}),r=t.indexOf("504B0304",0,"hex"),await e.ignore(r>=0?r:t.length)}else await e.ignore(r.compressedSize)}}catch(e){if(!(e instanceof strtok3.EndOfStreamError))throw e}return{ext:"zip",mime:"application/zip"}}if(i("OggS")){await e.ignore(28);let t=Buffer.alloc(8);return(await e.readBuffer(t),_check(t,[79,112,117,115,72,101,97,100]))?{ext:"opus",mime:"audio/opus"}:_check(t,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(t,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(t,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(t,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(t,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(n([80,75])&&(3===t[2]||5===t[2]||7===t[2])&&(4===t[3]||6===t[3]||8===t[3]))return{ext:"zip",mime:"application/zip"};if(i("ftyp",{offset:4})&&(96&t[8])!=0){let e=t.toString("binary",8,12).replace("\0"," ").trim();switch(e){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:if(e.startsWith("3g")){if(e.startsWith("3g2"))return{ext:"3g2",mime:"video/3gpp2"};return{ext:"3gp",mime:"video/3gpp"}}return{ext:"mp4",mime:"video/mp4"}}}if(i("MThd"))return{ext:"mid",mime:"audio/midi"};if(i("wOFF")&&(n([0,1,0,0],{offset:4})||i("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(i("wOF2")&&(n([0,1,0,0],{offset:4})||i("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(n([212,195,178,161])||n([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(i("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(i("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(i("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(n([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(i("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(i("%PDF")){await e.ignore(1350);let t=0xa00000,r=Buffer.alloc(Math.min(t,e.fileInfo.size));return(await e.readBuffer(r,{mayBeLess:!0}),r.includes(Buffer.from("AIPrivateData")))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(n([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(n([73,73,42,0]))return i("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:n([28,0,254,0],{offset:8})||n([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:n([8,0,0,0],{offset:4})&&(n([45,0,254,0],{offset:8})||n([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(t=Buffer.alloc(24),await e.peekBuffer(t),(n([16,251,134,1],{offset:4})||n([8,0,0,0],{offset:4}))&&n([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9}))?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"};if(n([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(i("MAC "))return{ext:"ape",mime:"audio/ape"};if(n([26,69,223,163])){async function s(){let t=await e.peekNumber(Token.UINT8),r=128,n=0;for(;(t&r)==0&&0!==r;)++n,r>>=1;let i=Buffer.alloc(n+1);return await e.readBuffer(i),i}async function o(){let e=await s(),t=await s();t[0]^=128>>t.length-1;let r=Math.min(6,t.length);return{id:e.readUIntBE(0,e.length),len:t.readUIntBE(t.length-r,r)}}async function a(t,r){for(;r>0;){let t=await o();if(17026===t.id)return e.readToken(new Token.StringType(t.len,"utf-8"));await e.ignore(t.len),--r}}let t=await o();switch(await a(1,t.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(n([82,73,70,70])){if(n([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(n([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(n([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(i("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(n([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(i("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(i("MSCF")||i("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(n([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(n([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(n([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(n([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(i("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(i("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(n([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(i("IMPM"))return{ext:"it",mime:"audio/x-it"};if(i("-lh0-",{offset:2})||i("-lh1-",{offset:2})||i("-lh2-",{offset:2})||i("-lh3-",{offset:2})||i("-lh4-",{offset:2})||i("-lh5-",{offset:2})||i("-lh6-",{offset:2})||i("-lh7-",{offset:2})||i("-lzs-",{offset:2})||i("-lz4-",{offset:2})||i("-lz5-",{offset:2})||i("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(n([0,0,1,186])){if(n([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(n([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(i("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(n([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(i("<?xml "))return{ext:"xml",mime:"application/xml"};if(n([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(n([82,97,114,33,26,7])&&(0===t[6]||1===t[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(i("solid "))return{ext:"stl",mime:"model/stl"};if(i("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(i("!<arch>"))return(await e.ignore(8),"debian-binary"===await e.readToken(new Token.StringType(13,"ascii")))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(n([137,80,78,71,13,10,26,10])){async function l(){return{length:await e.readToken(Token.INT32_BE),type:await e.readToken(new Token.StringType(4,"binary"))}}await e.ignore(8);do{let t=await l();if(t.length<0)return;switch(t.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await e.ignore(t.length+4)}}while(e.position+8<e.fileInfo.size);return{ext:"png",mime:"image/png"}}if(n([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(n([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(n([102,114,101,101],{offset:4})||n([109,100,97,116],{offset:4})||n([109,111,111,118],{offset:4})||n([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(n([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(i("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(n([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(n([48,38,178,117,142,102,207,17,166,217])){async function c(){let t=Buffer.alloc(16);return await e.readBuffer(t),{id:t,size:Number(await e.readToken(Token.UINT64_LE))}}for(await e.ignore(30);e.position+24<e.fileInfo.size;){let t=await c(),r=t.size-24;if(_check(t.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){let t=Buffer.alloc(16);if(r-=await e.readBuffer(t),_check(t,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(t,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await e.ignore(r)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(n([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((n([126,16,4])||n([126,24,4]))&&n([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(n([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(n([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await e.ignore(20),await e.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(n([255,10])||n([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(n([0,0,1,186])||n([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(n([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(n([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(n([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(n([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await e.peekBuffer(t,{length:Math.min(256,e.fileInfo.size),mayBeLess:!0}),i("BEGIN:")){if(i("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(i("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(i("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(i("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(i("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(n([4,0,0,0])&&t.length>=16){let e=t.readUInt32LE(12);if(e>12&&t.length>=e+16)try{let r=t.slice(16,e+16).toString();if(JSON.parse(r).files)return{ext:"asar",mime:"application/x-asar"}}catch(e){}}if(n([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(i("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(n([71],{offset:4})&&(n([71],{offset:192})||n([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(n([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(n([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(n([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(n([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(n([76,80],{offset:34})&&(n([0,0,1],{offset:8})||n([1,0,2],{offset:8})||n([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(n([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await e.peekBuffer(t,{length:Math.min(512,e.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(t))return{ext:"tar",mime:"application/x-tar"};if(n([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(i("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(t.length>=2&&n([255,224],{offset:0,mask:[255,224]})){if(n([16],{offset:1,mask:[22]}))return n([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(n([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(n([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(n([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}let stream=readableStream=>new Promise((resolve,reject)=>{let stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{let e,t=new stream.PassThrough;e=stream.pipeline?stream.pipeline(readableStream,t,()=>{}):readableStream.pipe(t);let r=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{t.fileType=await fromBuffer(r)}catch(e){reject(e)}resolve(e)})}),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported.mimeTypes)}),module.exports=fileType},"./node_modules/file-type/index.js":function(e,t,r){"use strict";let n=r("./node_modules/strtok3/lib/index.js"),i=r("./node_modules/file-type/core.js"),s={fromFile:async function(e){let t=await n.fromFile(e);try{return await i.fromTokenizer(t)}finally{await t.close()}}};Object.assign(s,i),Object.defineProperty(s,"extensions",{get:()=>i.extensions}),Object.defineProperty(s,"mimeTypes",{get:()=>i.mimeTypes}),e.exports=s},"./node_modules/file-type/supported.js":function(e){"use strict";e.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}},"./node_modules/file-type/util.js":function(e,t){"use strict";t.stringToBytes=e=>[...e].map(e=>e.charCodeAt(0)),t.tarHeaderChecksumMatches=(e,t=0)=>{let r=parseInt(e.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(r))return!1;let n=256;for(let r=t;r<t+148;r++)n+=e[r];for(let r=t+156;r<t+512;r++)n+=e[r];return r===n},t.uint32SyncSafeToken={get:(e,t)=>127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4}},"./node_modules/has-binary2/index.js":function(e,t,r){var n=r("./node_modules/isarray/index.js"),i=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),o="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);function a(e){if(!e||"object"!=typeof e)return!1;if(n(e)){for(var t=0,r=e.length;t<r;t++)if(a(e[t]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(e)||"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||s&&e instanceof Blob||o&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1==arguments.length)return a(e.toJSON(),!0);for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&a(e[i]))return!0;return!1}e.exports=a},"./node_modules/http-signature/lib/index.js":function(e,t,r){var n=r("./node_modules/http-signature/lib/parser.js"),i=r("./node_modules/http-signature/lib/signer.js"),s=r("./node_modules/http-signature/lib/verify.js"),o=r("./node_modules/http-signature/lib/utils.js");e.exports={parse:n.parseRequest,parseRequest:n.parseRequest,sign:i.signRequest,signRequest:i.signRequest,createSigner:i.createSigner,isSigner:i.isSigner,sshKeyToPEM:o.sshKeyToPEM,sshKeyFingerprint:o.fingerprint,pemToRsaSSHKey:o.pemToRsaSSHKey,verify:s.verifySignature,verifySignature:s.verifySignature,verifyHMAC:s.verifyHMAC}},"./node_modules/http-signature/lib/parser.js":function(e,t,r){var n=r("./node_modules/assert-plus/assert.js"),i=r("util"),s=r("./node_modules/http-signature/lib/utils.js");s.HASH_ALGOS,s.PK_ALGOS;var o=s.HttpSignatureError,a=s.InvalidAlgorithmError,l=s.validateAlgorithm,c=0,u=1,d=0,h=1,p=2,f=3,m=4;function g(e){o.call(this,e,g)}function y(e){o.call(this,e,y)}function _(e){o.call(this,e,_)}function v(e){o.call(this,e,v)}function b(e){o.call(this,e,b)}i.inherits(g,o),i.inherits(y,o),i.inherits(_,o),i.inherits(v,o),i.inherits(b,o),e.exports={parseRequest:function(e,t){n.object(e,"request"),n.object(e.headers,"request.headers"),void 0===t&&(t={}),n.object(t,"options"),n.optionalFinite(t.clockSkew,"options.clockSkew");var r,i,o=[e.headers["x-date"]?"x-date":"date"];void 0!==t.headers&&(n.arrayOfString(o,"options.headers"),o=t.headers);var w=t.authorizationHeaderName,j=e.headers[w]||e.headers[s.HEADER.AUTH]||e.headers[s.HEADER.SIG];if(!j)throw new v("no "+(w||s.HEADER.AUTH+" or "+s.HEADER.SIG)+" header present in the request");t.clockSkew=t.clockSkew||300;var S=0,k=j===e.headers[s.HEADER.SIG]?u:c,E=d,C="",x="",T={scheme:j===e.headers[s.HEADER.SIG]?"Signature":"",params:{},signingString:""};for(S=0;S<j.length;S++){var O=j.charAt(S);switch(Number(k)){case c:" "!==O?T.scheme+=O:k=u;break;case u:switch(Number(E)){case d:var I=O.charCodeAt(0);if(I>=65&&I<=90||I>=97&&I<=122)C+=O;else if("="===O){if(0===C.length)throw new y("bad param format");E=h}else throw new y("bad param format");break;case h:if('"'===O)x="",E=p;else{if(E=m,(I=O.charCodeAt(0))<48||I>57)throw new y("bad param format");x=O}break;case p:'"'===O?(T.params[C]=x,E=f):x+=O;break;case m:if(","===O)T.params[C]=parseInt(x,10),C="",E=d;else{if((I=O.charCodeAt(0))<48||I>57)throw new y("bad param format");x+=O}break;case f:if(","===O)C="",E=d;else throw new y("bad param format");break;default:throw Error("Invalid substate")}break;default:throw Error("Invalid substate")}}if(T.params.headers&&""!==T.params.headers?T.params.headers=T.params.headers.split(" "):e.headers["x-date"]?T.params.headers=["x-date"]:T.params.headers=["date"],!T.scheme||"Signature"!==T.scheme)throw new y('scheme was not "Signature"');if(!T.params.keyId)throw new y("keyId was not specified");if(!T.params.algorithm)throw new y("algorithm was not specified");if(!T.params.signature)throw new y("signature was not specified");try{l(T.params.algorithm)}catch(e){if(e instanceof a)throw new _(T.params.algorithm+" is not supported");throw e}for(S=0;S<T.params.headers.length;S++){var A=T.params.headers[S].toLowerCase();if(T.params.headers[S]=A,"request-line"===A)if(t.strict)throw new b("request-line is not a valid header with strict parsing enabled.");else T.signingString+=e.method+" "+e.url+" HTTP/"+e.httpVersion;else if("(request-target)"===A)T.signingString+="(request-target): "+e.method.toLowerCase()+" "+e.url;else if("(keyid)"===A)T.signingString+="(keyid): "+T.params.keyId;else if("(algorithm)"===A)T.signingString+="(algorithm): "+T.params.algorithm;else if("(opaque)"===A){var P=T.params.opaque;if(void 0===P)throw new v("opaque param was not in the "+w+" header");T.signingString+="(opaque): "+P}else if("(created)"===A)T.signingString+="(created): "+T.params.created;else if("(expires)"===A)T.signingString+="(expires): "+T.params.expires;else{var R=e.headers[A];if(void 0===R)throw new v(A+" was not in the request");T.signingString+=A+": "+R}S+1<T.params.headers.length&&(T.signingString+="\n")}if((e.headers.date||e.headers["x-date"])&&(r=new Date(e.headers["x-date"]?e.headers["x-date"]:e.headers.date),(i=Math.abs(new Date().getTime()-r.getTime()))>1e3*t.clockSkew))throw new g("clock skew of "+i/1e3+"s was greater than "+t.clockSkew+"s");if(T.params.created&&(i=T.params.created-Math.floor(Date.now()/1e3))>t.clockSkew)throw new g("Created lies in the future (with skew "+i+"s greater than allowed "+t.clockSkew+"s");if(T.params.expires){var N=Math.floor(Date.now()/1e3)-T.params.expires;if(N>t.clockSkew)throw new g("Request expired with skew "+N+"s greater than allowed "+t.clockSkew+"s")}if(o.forEach(function(e){if(0>T.params.headers.indexOf(e.toLowerCase()))throw new v(e+" was not a signed header")}),T.params.algorithm=T.params.algorithm.toLowerCase(),t.algorithms&&-1===t.algorithms.indexOf(T.params.algorithm))throw new _(T.params.algorithm+" is not a supported algorithm");return T.algorithm=T.params.algorithm.toUpperCase(),T.keyId=T.params.keyId,T.opaque=T.params.opaque,T}}},"./node_modules/http-signature/lib/signer.js":function(e,t,r){var n=r("./node_modules/assert-plus/assert.js"),i=r("crypto"),s=r("util"),o=r("./node_modules/sshpk/lib/index.js"),a=r("./node_modules/jsprim/lib/jsprim.js"),l=r("./node_modules/http-signature/lib/utils.js"),c=r("util").format,u=l.HASH_ALGOS,d=l.PK_ALGOS,h=l.InvalidAlgorithmError,p=l.HttpSignatureError,f=l.validateAlgorithm,m=["keyId","algorithm","created","expires","opaque","headers","signature"];function g(e){p.call(this,e,g)}function y(e){p.call(this,e,y)}function _(e,t){n.string(e,"prefix"),n.object(t,"params");for(var r="",i=0;i<m.length;i++){var s=m[i],o=t[s];void 0!==o&&("number"==typeof o?r+=e+c("%s=%d",s,o):(n.string(o,"params."+s),r+=e+c('%s="%s"',s,o)),e=",")}return r}function v(e){n.object(e,"options");var t=[];if(void 0!==e.algorithm&&(n.string(e.algorithm,"options.algorithm"),t=f(e.algorithm)),this.rs_alg=t,void 0!==e.sign)n.func(e.sign,"options.sign"),this.rs_signFunc=e.sign;else if("hmac"===t[0]&&void 0!==e.key){if(n.string(e.keyId,"options.keyId"),this.rs_keyId=e.keyId,"string"!=typeof e.key&&!Buffer.isBuffer(e.key))throw TypeError("options.key for HMAC must be a string or Buffer");this.rs_signer=i.createHmac(t[1].toUpperCase(),e.key),this.rs_signer.sign=function(){var e=this.digest("base64");return{hashAlgorithm:t[1],toString:function(){return e}}}}else if(void 0!==e.key){var r=e.key;if(("string"==typeof r||Buffer.isBuffer(r))&&n.optionalString(e.keyPassphrase,"options.keyPassphrase"),r=o.parsePrivateKey(r,"auto",{passphrase:e.keyPassphrase}),n.ok(o.PrivateKey.isPrivateKey(r,[1,2]),"options.key must be a sshpk.PrivateKey"),this.rs_key=r,n.string(e.keyId,"options.keyId"),this.rs_keyId=e.keyId,!d[r.type])throw new h(r.type.toUpperCase()+" type keys are not supported");if(void 0!==t[0]&&r.type!==t[0])throw new h("options.key must be a "+t[0].toUpperCase()+" key, was given a "+r.type.toUpperCase()+" key instead");this.rs_signer=r.createSign(t[1])}else throw TypeError("options.sign (func) or options.key is required");this.rs_headers=[],this.rs_lines=[]}s.inherits(g,p),s.inherits(y,p),v.prototype.writeHeader=function(e,t){if(n.string(e,"header"),e=e.toLowerCase(),n.string(t,"value"),this.rs_headers.push(e),this.rs_signFunc)this.rs_lines.push(e+": "+t);else{var r=e+": "+t;this.rs_headers.length>0&&(r="\n"+r),this.rs_signer.update(r)}return t},v.prototype.writeDateHeader=function(){return this.writeHeader("date",a.rfc1123(new Date))},v.prototype.writeTarget=function(e,t){n.string(e,"method"),n.string(t,"path"),e=e.toLowerCase(),this.writeHeader("(request-target)",e+" "+t)},v.prototype.sign=function(e){if(n.func(e,"callback"),this.rs_headers.length<1)throw Error("At least one header must be signed");if(this.rs_signFunc){var t,r,i=this.rs_lines.join("\n"),s=this;this.rs_signFunc(i,function(i,o){if(i)return void e(i);try{n.object(o,"signature"),n.string(o.keyId,"signature.keyId"),n.string(o.algorithm,"signature.algorithm"),n.string(o.signature,"signature.signature"),t=f(o.algorithm),r=_("Signature ",{keyId:o.keyId,algorithm:o.algorithm,headers:s.rs_headers.join(" "),signature:o.signature})}catch(t){e(t);return}e(null,r)})}else{try{var o=this.rs_signer.sign()}catch(t){e(t);return}t=(this.rs_alg[0]||this.rs_key.type)+"-"+o.hashAlgorithm;var a=o.toString();e(null,r=_("Signature ",{keyId:this.rs_keyId,algorithm:t,headers:this.rs_headers.join(" "),signature:a}))}},e.exports={isSigner:function(e){return"object"==typeof e&&e instanceof v},createSigner:function(e){return new v(e)},signRequest:function(e,t){n.object(e,"request"),n.object(t,"options"),n.optionalString(t.algorithm,"options.algorithm"),n.string(t.keyId,"options.keyId"),n.optionalString(t.opaque,"options.opaque"),n.optionalArrayOfString(t.headers,"options.headers"),n.optionalString(t.httpVersion,"options.httpVersion"),n.optionalNumber(t.expiresIn,"options.expiresIn"),n.optionalString(t.keyPassphrase,"options.keyPassphrase"),e.getHeader("Date")||e.setHeader("Date",a.rfc1123(new Date));var r,s,c=["date"];t.headers&&(c=t.headers),t.httpVersion||(t.httpVersion="1.1");var p=[];t.algorithm&&(t.algorithm=t.algorithm.toLowerCase(),p=f(t.algorithm));var m=t.key;if("hmac"===p[0]){if("string"!=typeof m&&!Buffer.isBuffer(m))throw TypeError("options.key must be a string or Buffer")}else{if(("string"==typeof m||Buffer.isBuffer(m))&&(m=o.parsePrivateKey(t.key,"auto",{passphrase:t.keyPassphrase})),n.ok(o.PrivateKey.isPrivateKey(m,[1,2]),"options.key must be a sshpk.PrivateKey"),!d[m.type])throw new h(m.type.toUpperCase()+" type keys are not supported");if(void 0===p[0])p[0]=m.type;else if(m.type!==p[0])throw new h("options.key must be a "+p[0].toUpperCase()+" key, was given a "+m.type.toUpperCase()+" key instead");void 0===p[1]&&(p[1]=m.defaultHashAlgorithm()),t.algorithm=p[0]+"-"+p[1]}var v={keyId:t.keyId,algorithm:t.algorithm},b="";for(r=0;r<c.length;r++){if("string"!=typeof c[r])throw TypeError("options.headers must be an array of Strings");var w=c[r].toLowerCase();if("request-line"===w)if(t.strict)throw new y("request-line is not a valid header with strict parsing enabled.");else b+=e.method+" "+e.path+" HTTP/"+t.httpVersion;else if("(request-target)"===w)b+="(request-target): "+e.method.toLowerCase()+" "+e.path;else if("(keyid)"===w)b+="(keyid): "+t.keyId;else if("(algorithm)"===w)b+="(algorithm): "+t.algorithm;else if("(opaque)"===w){var j=t.opaque;if(void 0==j||""===j)throw new g("options.opaque was not in the request");b+="(opaque): "+j}else if("(created)"===w){var S=Math.floor(Date.now()/1e3);v.created=S,b+="(created): "+S}else if("(expires)"===w){var k=t.expiresIn;void 0===k&&(k=60);let e=Math.floor(Date.now()/1e3)+k;v.expires=e,b+="(expires): "+e}else{var E=e.getHeader(w);if(void 0===E||""===E)throw new g(w+" was not in the request");b+=w+": "+E}r+1<c.length&&(b+="\n")}if(e.hasOwnProperty("_stringToSign")&&(e._stringToSign=b),"hmac"===p[0]){var C=i.createHmac(p[1].toUpperCase(),m);C.update(b),s=C.digest("base64")}else{var x=m.createSign(p[1]);x.update(b);var T=x.sign();if(!u[T.hashAlgorithm])throw new h(T.hashAlgorithm.toUpperCase()+" is not a supported hash algorithm");n.strictEqual(p[1],T.hashAlgorithm,"hash algorithm mismatch"),s=T.toString(),n.notStrictEqual(s,"","empty signature produced")}var O=t.authorizationHeaderName||"Authorization",I=O.toLowerCase()===l.HEADER.SIG?"":"Signature ";return v.signature=s,t.opaque&&(v.opaque=t.opaque),t.headers&&(v.headers=t.headers.join(" ")),e.setHeader(O,_(I,v)),!0}}},"./node_modules/http-signature/lib/utils.js":function(e,t,r){var n=r("./node_modules/assert-plus/assert.js"),i=r("./node_modules/sshpk/lib/index.js"),s=r("util"),o={sha1:!0,sha256:!0,sha512:!0},a={rsa:!0,dsa:!0,ecdsa:!0,ed25519:!0},l={AUTH:"authorization",SIG:"signature"};function c(e,t){Error.captureStackTrace&&Error.captureStackTrace(this,t||c),this.message=e,this.name=t.name}function u(e){c.call(this,e,u)}function d(e){var t=e.toLowerCase().split("-");if(2!==t.length)throw new u(t[0].toUpperCase()+" is not a valid algorithm");if("hmac"!==t[0]&&!a[t[0]])throw new u(t[0].toUpperCase()+" type keys are not supported");if(!o[t[1]])throw new u(t[1].toUpperCase()+" is not a supported hash algorithm");return t}s.inherits(c,Error),s.inherits(u,c),e.exports={HEADER:l,HASH_ALGOS:o,PK_ALGOS:a,HttpSignatureError:c,InvalidAlgorithmError:u,validateAlgorithm:d,sshKeyToPEM:function(e){return n.string(e,"ssh_key"),i.parseKey(e,"ssh").toString("pem")},fingerprint:function(e){return n.string(e,"ssh_key"),i.parseKey(e,"ssh").fingerprint("md5").toString("hex")},pemToRsaSSHKey:function(e,t){n.equal("string",typeof e,"typeof pem");var r=i.parseKey(e,"pem");return r.comment=t,r.toString("ssh")}}},"./node_modules/http-signature/lib/verify.js":function(e,t,r){var n=r("./node_modules/assert-plus/assert.js"),i=r("crypto"),s=r("./node_modules/sshpk/lib/index.js"),o=r("./node_modules/http-signature/lib/utils.js");o.HASH_ALGOS,o.PK_ALGOS,o.InvalidAlgorithmError,o.HttpSignatureError;var a=o.validateAlgorithm;e.exports={verifySignature:function(e,t){n.object(e,"parsedSignature"),("string"==typeof t||Buffer.isBuffer(t))&&(t=s.parseKey(t)),n.ok(s.Key.isKey(t,[1,1]),"pubkey must be a sshpk.Key");var r=a(e.algorithm);if("hmac"===r[0]||r[0]!==t.type)return!1;var i=t.createVerify(r[1]);return i.update(e.signingString),i.verify(e.params.signature,"base64")},verifyHMAC:function(e,t){n.object(e,"parsedHMAC"),n("string"==typeof t||Buffer.isBuffer(t));var r=a(e.algorithm);if("hmac"!==r[0])return!1;var s=r[1].toUpperCase(),o=i.createHmac(s,t);o.update(e.signingString);var l=i.createHmac(s,t);l.update(o.digest()),l=l.digest();var c=i.createHmac(s,t);return(c.update(new Buffer(e.params.signature,"base64")),c=c.digest(),"string"==typeof l)?l===c:Buffer.isBuffer(l)&&!l.equals?l.toString("binary")===c.toString("binary"):l.equals(c)}}},"./node_modules/ieee754/index.js":function(e,t){t.read=function(e,t,r,n,i){var s,o,a=8*i-n-1,l=(1<<a)-1,c=l>>1,u=-7,d=r?i-1:0,h=r?-1:1,p=e[t+d];for(d+=h,s=p&(1<<-u)-1,p>>=-u,u+=a;u>0;s=256*s+e[t+d],d+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;u>0;o=256*o+e[t+d],d+=h,u-=8);if(0===s)s=1-c;else{if(s===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),s-=c}return(p?-1:1)*o*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var o,a,l,c=8*s-i-1,u=(1<<c)-1,d=u>>1,h=5960464477539062e-23*(23===i),p=n?0:s-1,f=n?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(a=+!!isNaN(t),o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?t+=h/l:t+=h*Math.pow(2,1-d),t*l>=2&&(o++,l/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(t*l-1)*Math.pow(2,i),o+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+p]=255&a,p+=f,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[r+p]=255&o,p+=f,o/=256,c-=8);e[r+p-f]|=128*m}},"./node_modules/indexof/index.js":function(e){var t=[].indexOf;e.exports=function(e,r){if(t)return e.indexOf(r);for(var n=0;n<e.length;++n)if(e[n]===r)return n;return -1}},"./node_modules/ip-address/dist/address-error.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressError=void 0;class r extends Error{constructor(e,t){super(e),this.name="AddressError",null!==t&&(this.parseMessage=t)}}t.AddressError=r},"./node_modules/ip-address/dist/common.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCorrect=t.isInSubnet=void 0,t.isInSubnet=function(e){return!(this.subnetMask<e.subnetMask)&&this.mask(e.subnetMask)===e.mask()},t.isCorrect=function(e){return function(){return this.addressMinusSuffix===this.correctForm()&&(this.subnetMask===e&&!this.parsedSubnet||this.parsedSubnet===String(this.subnetMask))}}},"./node_modules/ip-address/dist/ip-address.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.v6=t.AddressError=t.Address6=t.Address4=void 0;let o=r("./node_modules/ip-address/dist/ipv4.js");Object.defineProperty(t,"Address4",{enumerable:!0,get:function(){return o.Address4}});let a=r("./node_modules/ip-address/dist/ipv6.js");Object.defineProperty(t,"Address6",{enumerable:!0,get:function(){return a.Address6}});let l=r("./node_modules/ip-address/dist/address-error.js");Object.defineProperty(t,"AddressError",{enumerable:!0,get:function(){return l.AddressError}}),t.v6={helpers:s(r("./node_modules/ip-address/dist/v6/helpers.js"))}},"./node_modules/ip-address/dist/ipv4.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Address4=void 0;let o=s(r("./node_modules/ip-address/dist/common.js")),a=s(r("./node_modules/ip-address/dist/v4/constants.js")),l=r("./node_modules/ip-address/dist/address-error.js"),c=r("./node_modules/ip-address/node_modules/jsbn/index.js"),u=r("./node_modules/sprintf-js/src/sprintf.js");class d{constructor(e){this.groups=a.GROUPS,this.parsedAddress=[],this.parsedSubnet="",this.subnet="/32",this.subnetMask=32,this.v4=!0,this.isCorrect=o.isCorrect(a.BITS),this.isInSubnet=o.isInSubnet,this.address=e;let t=a.RE_SUBNET_STRING.exec(e);if(t){if(this.parsedSubnet=t[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet=`/${this.subnetMask}`,this.subnetMask<0||this.subnetMask>a.BITS)throw new l.AddressError("Invalid subnet mask.");e=e.replace(a.RE_SUBNET_STRING,"")}this.addressMinusSuffix=e,this.parsedAddress=this.parse(e)}static isValid(e){try{return new d(e),!0}catch(e){return!1}}parse(e){let t=e.split(".");if(!e.match(a.RE_ADDRESS))throw new l.AddressError("Invalid IPv4 address.");return t}correctForm(){return this.parsedAddress.map(e=>parseInt(e,10)).join(".")}static fromHex(e){let t,r=e.replace(/:/g,"").padStart(8,"0"),n=[];for(t=0;t<8;t+=2){let e=r.slice(t,t+2);n.push(parseInt(e,16))}return new d(n.join("."))}static fromInteger(e){return d.fromHex(e.toString(16))}static fromArpa(e){return new d(e.replace(/(\.in-addr\.arpa)?\.$/,"").split(".").reverse().join("."))}toHex(){return this.parsedAddress.map(e=>(0,u.sprintf)("%02x",parseInt(e,10))).join(":")}toArray(){return this.parsedAddress.map(e=>parseInt(e,10))}toGroup6(){let e,t=[];for(e=0;e<a.GROUPS;e+=2){let r=(0,u.sprintf)("%02x%02x",parseInt(this.parsedAddress[e],10),parseInt(this.parsedAddress[e+1],10));t.push((0,u.sprintf)("%x",parseInt(r,16)))}return t.join(":")}bigInteger(){return new c.BigInteger(this.parsedAddress.map(e=>(0,u.sprintf)("%02x",parseInt(e,10))).join(""),16)}_startAddress(){return new c.BigInteger(this.mask()+"0".repeat(a.BITS-this.subnetMask),2)}startAddress(){return d.fromBigInteger(this._startAddress())}startAddressExclusive(){let e=new c.BigInteger("1");return d.fromBigInteger(this._startAddress().add(e))}_endAddress(){return new c.BigInteger(this.mask()+"1".repeat(a.BITS-this.subnetMask),2)}endAddress(){return d.fromBigInteger(this._endAddress())}endAddressExclusive(){let e=new c.BigInteger("1");return d.fromBigInteger(this._endAddress().subtract(e))}static fromBigInteger(e){return d.fromInteger(parseInt(e.toString(),10))}mask(e){return void 0===e&&(e=this.subnetMask),this.getBitsBase2(0,e)}getBitsBase2(e,t){return this.binaryZeroPad().slice(e,t)}reverseForm(e){e||(e={});let t=this.correctForm().split(".").reverse().join(".");return e.omitSuffix?t:(0,u.sprintf)("%s.in-addr.arpa.",t)}isMulticast(){return this.isInSubnet(new d("224.0.0.0/4"))}binaryZeroPad(){return this.bigInteger().toString(2).padStart(a.BITS,"0")}groupForV6(){let e=this.parsedAddress;return this.address.replace(a.RE_ADDRESS,(0,u.sprintf)('<span class="hover-group group-v4 group-6">%s</span>.<span class="hover-group group-v4 group-7">%s</span>',e.slice(0,2).join("."),e.slice(2,4).join(".")))}}t.Address4=d},"./node_modules/ip-address/dist/ipv6.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Address6=void 0;let o=s(r("./node_modules/ip-address/dist/common.js")),a=s(r("./node_modules/ip-address/dist/v4/constants.js")),l=s(r("./node_modules/ip-address/dist/v6/constants.js")),c=s(r("./node_modules/ip-address/dist/v6/helpers.js")),u=r("./node_modules/ip-address/dist/ipv4.js"),d=r("./node_modules/ip-address/dist/v6/regular-expressions.js"),h=r("./node_modules/ip-address/dist/address-error.js"),p=r("./node_modules/ip-address/node_modules/jsbn/index.js"),f=r("./node_modules/sprintf-js/src/sprintf.js");function m(e){if(!e)throw Error("Assertion failed.")}function g(e){let t=/(\d+)(\d{3})/;for(;t.test(e);)e=e.replace(t,"$1,$2");return e}function y(e){return(e=e.replace(/^(0{1,})([1-9]+)$/,'<span class="parse-error">$1</span>$2')).replace(/^(0{1,})(0)$/,'<span class="parse-error">$1</span>$2')}function _(e,t){let r,n=[],i=[];for(r=0;r<e.length;r++)r<t[0]?n.push(e[r]):r>t[1]&&i.push(e[r]);return n.concat(["compact"]).concat(i)}function v(e){return(0,f.sprintf)("%04x",parseInt(e,16))}function b(e){return 255&e}class w{constructor(e,t){this.addressMinusSuffix="",this.parsedSubnet="",this.subnet="/128",this.subnetMask=128,this.v4=!1,this.zone="",this.isInSubnet=o.isInSubnet,this.isCorrect=o.isCorrect(l.BITS),void 0===t?this.groups=l.GROUPS:this.groups=t,this.address=e;let r=l.RE_SUBNET_STRING.exec(e);if(r){if(this.parsedSubnet=r[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet=`/${this.subnetMask}`,Number.isNaN(this.subnetMask)||this.subnetMask<0||this.subnetMask>l.BITS)throw new h.AddressError("Invalid subnet mask.");e=e.replace(l.RE_SUBNET_STRING,"")}else if(/\//.test(e))throw new h.AddressError("Invalid subnet mask.");let n=l.RE_ZONE_STRING.exec(e);n&&(this.zone=n[0],e=e.replace(l.RE_ZONE_STRING,"")),this.addressMinusSuffix=e,this.parsedAddress=this.parse(this.addressMinusSuffix)}static isValid(e){try{return new w(e),!0}catch(e){return!1}}static fromBigInteger(e){let t,r=e.toString(16).padStart(32,"0"),n=[];for(t=0;t<l.GROUPS;t++)n.push(r.slice(4*t,(t+1)*4));return new w(n.join(":"))}static fromURL(e){let t,r,n=null;if(-1!==e.indexOf("[")&&-1!==e.indexOf("]:")){if(null===(r=l.RE_URL_WITH_PORT.exec(e)))return{error:"failed to parse address with port",address:null,port:null};t=r[1],n=r[2]}else if(-1!==e.indexOf("/")){if(e=e.replace(/^[a-z0-9]+:\/\//,""),null===(r=l.RE_URL.exec(e)))return{error:"failed to parse address from URL",address:null,port:null};t=r[1]}else t=e;return n?((n=parseInt(n,10))<0||n>65536)&&(n=null):n=null,{address:new w(t),port:n}}static fromAddress4(e){let t=new u.Address4(e),r=l.BITS-(a.BITS-t.subnetMask);return new w(`::ffff:${t.correctForm()}/${r}`)}static fromArpa(e){let t=e.replace(/(\.ip6\.arpa)?\.$/,""),r=7;if(63!==t.length)throw new h.AddressError("Invalid 'ip6.arpa' form.");let n=t.split(".").reverse();for(let e=r;e>0;e--){let t=4*e;n.splice(t,0,":")}return new w(t=n.join(""))}microsoftTranscription(){return(0,f.sprintf)("%s.ipv6-literal.net",this.correctForm().replace(/:/g,"-"))}mask(e=this.subnetMask){return this.getBitsBase2(0,e)}possibleSubnets(e=128){let t=l.BITS-this.subnetMask-Math.abs(e-l.BITS);return t<0?"0":g(new p.BigInteger("2",10).pow(t).toString(10))}_startAddress(){return new p.BigInteger(this.mask()+"0".repeat(l.BITS-this.subnetMask),2)}startAddress(){return w.fromBigInteger(this._startAddress())}startAddressExclusive(){let e=new p.BigInteger("1");return w.fromBigInteger(this._startAddress().add(e))}_endAddress(){return new p.BigInteger(this.mask()+"1".repeat(l.BITS-this.subnetMask),2)}endAddress(){return w.fromBigInteger(this._endAddress())}endAddressExclusive(){let e=new p.BigInteger("1");return w.fromBigInteger(this._endAddress().subtract(e))}getScope(){let e=l.SCOPES[this.getBits(12,16).intValue()];return"Global unicast"===this.getType()&&"Link local"!==e&&(e="Global"),e||"Unknown"}getType(){for(let e of Object.keys(l.TYPES))if(this.isInSubnet(new w(e)))return l.TYPES[e];return"Global unicast"}getBits(e,t){return new p.BigInteger(this.getBitsBase2(e,t),2)}getBitsBase2(e,t){return this.binaryZeroPad().slice(e,t)}getBitsBase16(e,t){let r=t-e;if(r%4!=0)throw Error("Length of bits to retrieve must be divisible by four");return this.getBits(e,t).toString(16).padStart(r/4,"0")}getBitsPastSubnet(){return this.getBitsBase2(this.subnetMask,l.BITS)}reverseForm(e){e||(e={});let t=Math.floor(this.subnetMask/4),r=this.canonicalForm().replace(/:/g,"").split("").slice(0,t).reverse().join(".");return t>0?e.omitSuffix?r:(0,f.sprintf)("%s.ip6.arpa.",r):e.omitSuffix?"":"ip6.arpa."}correctForm(){let e,t=[],r=0,n=[];for(e=0;e<this.parsedAddress.length;e++){let t=parseInt(this.parsedAddress[e],16);0===t&&r++,0!==t&&r>0&&(r>1&&n.push([e-r,e-1]),r=0)}r>1&&n.push([this.parsedAddress.length-r,this.parsedAddress.length-1]);let i=n.map(e=>e[1]-e[0]+1);if(n.length>0){let e=i.indexOf(Math.max(...i));t=_(this.parsedAddress,n[e])}else t=this.parsedAddress;for(e=0;e<t.length;e++)"compact"!==t[e]&&(t[e]=parseInt(t[e],16).toString(16));let s=t.join(":");return(s=(s=s.replace(/^compact$/,"::")).replace(/^compact|compact$/,":")).replace(/compact/,"")}binaryZeroPad(){return this.bigInteger().toString(2).padStart(l.BITS,"0")}parse4in6(e){let t=e.split(":"),r=t.slice(-1)[0].match(a.RE_ADDRESS);if(r){this.parsedAddress4=r[0],this.address4=new u.Address4(this.parsedAddress4);for(let t=0;t<this.address4.groups;t++)if(/^0[0-9]+/.test(this.address4.parsedAddress[t]))throw new h.AddressError("IPv4 addresses can't have leading zeroes.",e.replace(a.RE_ADDRESS,this.address4.parsedAddress.map(y).join(".")));this.v4=!0,t[t.length-1]=this.address4.toGroup6(),e=t.join(":")}return e}parse(e){let t=(e=this.parse4in6(e)).match(l.RE_BAD_CHARACTERS);if(t)throw new h.AddressError((0,f.sprintf)("Bad character%s detected in address: %s",t.length>1?"s":"",t.join("")),e.replace(l.RE_BAD_CHARACTERS,'<span class="parse-error">$1</span>'));let r=e.match(l.RE_BAD_ADDRESS);if(r)throw new h.AddressError((0,f.sprintf)("Address failed regex: %s",r.join("")),e.replace(l.RE_BAD_ADDRESS,'<span class="parse-error">$1</span>'));let n=[],i=e.split("::");if(2===i.length){let e=i[0].split(":"),t=i[1].split(":");1===e.length&&""===e[0]&&(e=[]),1===t.length&&""===t[0]&&(t=[]);let r=this.groups-(e.length+t.length);if(!r)throw new h.AddressError("Error parsing groups");this.elidedGroups=r,this.elisionBegin=e.length,this.elisionEnd=e.length+this.elidedGroups,n=n.concat(e);for(let e=0;e<r;e++)n.push("0");n=n.concat(t)}else if(1===i.length)n=e.split(":"),this.elidedGroups=0;else throw new h.AddressError("Too many :: groups found");if((n=n.map(e=>(0,f.sprintf)("%x",parseInt(e,16)))).length!==this.groups)throw new h.AddressError("Incorrect number of groups found");return n}canonicalForm(){return this.parsedAddress.map(v).join(":")}decimal(){return this.parsedAddress.map(e=>(0,f.sprintf)("%05d",parseInt(e,16))).join(":")}bigInteger(){return new p.BigInteger(this.parsedAddress.map(v).join(""),16)}to4(){let e=this.binaryZeroPad().split("");return u.Address4.fromHex(new p.BigInteger(e.slice(96,128).join(""),2).toString(16))}to4in6(){let e=this.to4(),t=new w(this.parsedAddress.slice(0,6).join(":"),6).correctForm(),r="";return/:$/.test(t)||(r=":"),t+r+e.address}inspectTeredo(){let e=this.getBitsBase16(0,32),t=this.getBits(80,96).xor(new p.BigInteger("ffff",16)).toString(),r=u.Address4.fromHex(this.getBitsBase16(32,64)),n=u.Address4.fromHex(this.getBits(96,128).xor(new p.BigInteger("ffffffff",16)).toString(16)),i=this.getBits(64,80),s=this.getBitsBase2(64,80),o=i.testBit(15),a=i.testBit(14),l=i.testBit(8),c=i.testBit(9),d=new p.BigInteger(s.slice(2,6)+s.slice(8,16),2).toString(10);return{prefix:(0,f.sprintf)("%s:%s",e.slice(0,4),e.slice(4,8)),server4:r.address,client4:n.address,flags:s,coneNat:o,microsoft:{reserved:a,universalLocal:c,groupIndividual:l,nonce:d},udpPort:t}}inspect6to4(){let e=this.getBitsBase16(0,16),t=u.Address4.fromHex(this.getBitsBase16(16,48));return{prefix:(0,f.sprintf)("%s",e.slice(0,4)),gateway:t.address}}to6to4(){return this.is4()?new w(["2002",this.getBitsBase16(96,112),this.getBitsBase16(112,128),":/16"].join(":")):null}toByteArray(){let e=this.bigInteger().toByteArray();return 17===e.length&&0===e[0]?e.slice(1):e}toUnsignedByteArray(){return this.toByteArray().map(b)}static fromByteArray(e){return this.fromUnsignedByteArray(e.map(b))}static fromUnsignedByteArray(e){let t=new p.BigInteger("256",10),r=new p.BigInteger("0",10),n=new p.BigInteger("1",10);for(let i=e.length-1;i>=0;i--)r=r.add(n.multiply(new p.BigInteger(e[i].toString(10),10))),n=n.multiply(t);return w.fromBigInteger(r)}isCanonical(){return this.addressMinusSuffix===this.canonicalForm()}isLinkLocal(){return"1111111010000000000000000000000000000000000000000000000000000000"===this.getBitsBase2(0,64)}isMulticast(){return"Multicast"===this.getType()}is4(){return this.v4}isTeredo(){return this.isInSubnet(new w("2001::/32"))}is6to4(){return this.isInSubnet(new w("2002::/16"))}isLoopback(){return"Loopback"===this.getType()}href(e){return e=void 0===e?"":(0,f.sprintf)(":%s",e),(0,f.sprintf)("http://[%s]%s/",this.correctForm(),e)}link(e){e||(e={}),void 0===e.className&&(e.className=""),void 0===e.prefix&&(e.prefix="/#address="),void 0===e.v4&&(e.v4=!1);let t=this.correctForm;return(e.v4&&(t=this.to4in6),e.className)?(0,f.sprintf)('<a href="%1$s%2$s" class="%3$s">%2$s</a>',e.prefix,t.call(this),e.className):(0,f.sprintf)('<a href="%1$s%2$s">%2$s</a>',e.prefix,t.call(this))}group(){if(0===this.elidedGroups)return c.simpleGroup(this.address).join(":");m("number"==typeof this.elidedGroups),m("number"==typeof this.elisionBegin);let e=[],[t,r]=this.address.split("::");t.length?e.push(...c.simpleGroup(t)):e.push("");let n=["hover-group"];for(let e=this.elisionBegin;e<this.elisionBegin+this.elidedGroups;e++)n.push((0,f.sprintf)("group-%d",e));return e.push((0,f.sprintf)('<span class="%s"></span>',n.join(" "))),r.length?e.push(...c.simpleGroup(r,this.elisionEnd)):e.push(""),this.is4()&&(m(this.address4 instanceof u.Address4),e.pop(),e.push(this.address4.groupForV6())),e.join(":")}regularExpressionString(e=!1){let t=[],r=new w(this.correctForm());if(0===r.elidedGroups)t.push((0,d.simpleRegularExpression)(r.parsedAddress));else if(r.elidedGroups===l.GROUPS)t.push((0,d.possibleElisions)(l.GROUPS));else{let e=r.address.split("::");e[0].length&&t.push((0,d.simpleRegularExpression)(e[0].split(":"))),m("number"==typeof r.elidedGroups),t.push((0,d.possibleElisions)(r.elidedGroups,0!==e[0].length,0!==e[1].length)),e[1].length&&t.push((0,d.simpleRegularExpression)(e[1].split(":"))),t=[t.join(":")]}return e||(t=["(?=^|",d.ADDRESS_BOUNDARY,"|[^\\w\\:])(",...t,")(?=[^\\w\\:]|",d.ADDRESS_BOUNDARY,"|$)"]),t.join("")}regularExpression(e=!1){return RegExp(this.regularExpressionString(e),"i")}}t.Address6=w},"./node_modules/ip-address/dist/v4/constants.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RE_SUBNET_STRING=t.RE_ADDRESS=t.GROUPS=t.BITS=void 0,t.BITS=32,t.GROUPS=4,t.RE_ADDRESS=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/g,t.RE_SUBNET_STRING=/\/\d{1,2}$/},"./node_modules/ip-address/dist/v6/constants.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RE_URL_WITH_PORT=t.RE_URL=t.RE_ZONE_STRING=t.RE_SUBNET_STRING=t.RE_BAD_ADDRESS=t.RE_BAD_CHARACTERS=t.TYPES=t.SCOPES=t.GROUPS=t.BITS=void 0,t.BITS=128,t.GROUPS=8,t.SCOPES={0:"Reserved",1:"Interface local",2:"Link local",4:"Admin local",5:"Site local",8:"Organization local",14:"Global",15:"Reserved"},t.TYPES={"ff01::1/128":"Multicast (All nodes on this interface)","ff01::2/128":"Multicast (All routers on this interface)","ff02::1/128":"Multicast (All nodes on this link)","ff02::2/128":"Multicast (All routers on this link)","ff05::2/128":"Multicast (All routers in this site)","ff02::5/128":"Multicast (OSPFv3 AllSPF routers)","ff02::6/128":"Multicast (OSPFv3 AllDR routers)","ff02::9/128":"Multicast (RIP routers)","ff02::a/128":"Multicast (EIGRP routers)","ff02::d/128":"Multicast (PIM routers)","ff02::16/128":"Multicast (MLDv2 reports)","ff01::fb/128":"Multicast (mDNSv6)","ff02::fb/128":"Multicast (mDNSv6)","ff05::fb/128":"Multicast (mDNSv6)","ff02::1:2/128":"Multicast (All DHCP servers and relay agents on this link)","ff05::1:2/128":"Multicast (All DHCP servers and relay agents in this site)","ff02::1:3/128":"Multicast (All DHCP servers on this link)","ff05::1:3/128":"Multicast (All DHCP servers in this site)","::/128":"Unspecified","::1/128":"Loopback","ff00::/8":"Multicast","fe80::/10":"Link-local unicast"},t.RE_BAD_CHARACTERS=/([^0-9a-f:/%])/gi,t.RE_BAD_ADDRESS=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/gi,t.RE_SUBNET_STRING=/\/\d{1,3}(?=%|$)/,t.RE_ZONE_STRING=/%.*$/,t.RE_URL=new RegExp(/^\[{0,1}([0-9a-f:]+)\]{0,1}/),t.RE_URL_WITH_PORT=new RegExp(/\[([0-9a-f:]+)\]:([0-9]{1,5})/)},"./node_modules/ip-address/dist/v6/helpers.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.simpleGroup=t.spanLeadingZeroes=t.spanAll=t.spanAllZeroes=void 0;let n=r("./node_modules/sprintf-js/src/sprintf.js");function i(e){return e.replace(/(0+)/g,'<span class="zero">$1</span>')}function s(e){return e.replace(/^(0+)/,'<span class="zero">$1</span>')}t.spanAllZeroes=i,t.spanAll=function(e,t=0){return e.split("").map((e,r)=>(0,n.sprintf)('<span class="digit value-%s position-%d">%s</span>',e,r+t,i(e))).join("")},t.spanLeadingZeroes=function(e){return e.split(":").map(e=>s(e)).join(":")},t.simpleGroup=function(e,t=0){return e.split(":").map((e,r)=>/group-v4/.test(e)?e:(0,n.sprintf)('<span class="hover-group group-%d">%s</span>',r+t,s(e)))}},"./node_modules/ip-address/dist/v6/regular-expressions.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.possibleElisions=t.simpleRegularExpression=t.ADDRESS_BOUNDARY=t.padGroup=t.groupPossibilities=void 0;let o=s(r("./node_modules/ip-address/dist/v6/constants.js")),a=r("./node_modules/sprintf-js/src/sprintf.js");function l(e){return(0,a.sprintf)("(%s)",e.join("|"))}function c(e){return e.length<4?(0,a.sprintf)("0{0,%d}%s",4-e.length,e):e}t.groupPossibilities=l,t.padGroup=c,t.ADDRESS_BOUNDARY="[^A-Fa-f0-9:]",t.simpleRegularExpression=function(e){let t=[];e.forEach((e,r)=>{0===parseInt(e,16)&&t.push(r)});let r=t.map(t=>e.map((e,r)=>{if(r===t){let t=0===r||r===o.GROUPS-1?":":"";return l([c(e),t])}return c(e)}).join(":"));return r.push(e.map(c).join(":")),l(r)},t.possibleElisions=function(e,t,r){let n=t?"":":",i=r?"":":",s=[];t||r||s.push("::"),t&&r&&s.push(""),(r&&!t||!r&&t)&&s.push(":"),s.push((0,a.sprintf)("%s(:0{1,4}){1,%d}",n,e-1)),s.push((0,a.sprintf)("(0{1,4}:){1,%d}%s",e-1,i)),s.push((0,a.sprintf)("(0{1,4}:){%d}0{1,4}",e-1));for(let t=1;t<e-1;t++)for(let r=1;r<e-t;r++)s.push((0,a.sprintf)("(0{1,4}:){%d}:(0{1,4}:){%d}0{1,4}",r,e-r-t-1));return l(s)}},"./node_modules/ip-address/node_modules/jsbn/index.js":function(e,t){(function(){var r=!0;function n(e,t,r){null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function i(){return new n(null)}function s(e,t,r,n,i,s){for(;--s>=0;){var o=t*this[e++]+r[n]+i;i=Math.floor(o/0x4000000),r[n++]=0x3ffffff&o}return i}function o(e,t,r,n,i,s){for(var o=32767&t,a=t>>15;--s>=0;){var l=32767&this[e],c=this[e++]>>15,u=a*l+c*o;i=((l=o*l+((32767&u)<<15)+r[n]+(0x3fffffff&i))>>>30)+(u>>>15)+a*c+(i>>>30),r[n++]=0x3fffffff&l}return i}function a(e,t,r,n,i,s){for(var o=16383&t,a=t>>14;--s>=0;){var l=16383&this[e],c=this[e++]>>14,u=a*l+c*o;i=((l=o*l+((16383&u)<<14)+r[n]+i)>>28)+(u>>14)+a*c,r[n++]=0xfffffff&l}return i}var l="undefined"!=typeof navigator;l&&r&&"Microsoft Internet Explorer"==navigator.appName?(n.prototype.am=o,e7=30):l&&r&&"Netscape"!=navigator.appName?(n.prototype.am=s,e7=26):(n.prototype.am=a,e7=28),n.prototype.DB=e7,n.prototype.DM=(1<<e7)-1,n.prototype.DV=1<<e7;var c=52;n.prototype.FV=Math.pow(2,c),n.prototype.F1=c-e7,n.prototype.F2=2*e7-c;var u="0123456789abcdefghijklmnopqrstuvwxyz",d=[];for(tt=0,te=48;tt<=9;++tt)d[te++]=tt;for(tt=10,te=97;tt<36;++tt)d[te++]=tt;for(tt=10,te=65;tt<36;++tt)d[te++]=tt;function h(e){return u.charAt(e)}function p(e,t){var r=d[e.charCodeAt(t)];return null==r?-1:r}function f(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function m(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function g(e){var t=i();return t.fromInt(e),t}function y(e,t){if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var r,i=e.length,s=!1,o=0;--i>=0;){var a=8==r?255&e[i]:p(e,i);if(a<0){"-"==e.charAt(i)&&(s=!0);continue}s=!1,0==o?this[this.t++]=a:o+r>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,(o+=r)>=this.DB&&(o-=this.DB)}8==r&&(128&e[0])!=0&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),s&&n.ZERO.subTo(this,this)}function _(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function v(e){if(this.s<0)return"-"+this.negate().toString(e);if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var t,r,n=(1<<t)-1,i=!1,s="",o=this.t,a=this.DB-o*this.DB%t;if(o-- >0)for(a<this.DB&&(r=this[o]>>a)>0&&(i=!0,s=h(r));o>=0;)a<t?r=(this[o]&(1<<a)-1)<<t-a|this[--o]>>(a+=this.DB-t):(r=this[o]>>(a-=t)&n,a<=0&&(a+=this.DB,--o)),r>0&&(i=!0),i&&(s+=h(r));return i?s:"0"}function b(){var e=i();return n.ZERO.subTo(this,e),e}function w(){return this.s<0?this.negate():this}function j(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0}function S(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function k(){return this.t<=0?0:this.DB*(this.t-1)+S(this[this.t-1]^this.s&this.DM)}function E(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s}function C(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s}function x(e,t){var r,n=e%this.DB,i=this.DB-n,s=(1<<i)-1,o=Math.floor(e/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t[r+o+1]=this[r]>>i|a,a=(this[r]&s)<<n;for(r=o-1;r>=0;--r)t[r]=0;t[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()}function T(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,s=(1<<n)-1;t[0]=this[r]>>n;for(var o=r+1;o<this.t;++o)t[o-r-1]|=(this[o]&s)<<i,t[o-r]=this[o]>>n;n>0&&(t[this.t-r-1]|=(this.s&s)<<i),t.t=this.t-r,t.clamp()}function O(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()}function I(e,t){var r=this.abs(),i=e.abs(),s=r.t;for(t.t=s+i.t;--s>=0;)t[s]=0;for(s=0;s<i.t;++s)t[s+r.t]=r.am(0,i[s],t,s,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&n.ZERO.subTo(t,t)}function A(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()}function P(e,t,r){var s=e.abs();if(!(s.t<=0)){var o=this.abs();if(o.t<s.t){null!=t&&t.fromInt(0),null!=r&&this.copyTo(r);return}null==r&&(r=i());var a=i(),l=this.s,c=e.s,u=this.DB-S(s[s.t-1]);u>0?(s.lShiftTo(u,a),o.lShiftTo(u,r)):(s.copyTo(a),o.copyTo(r));var d=a.t,h=a[d-1];if(0!=h){var p=h*(1<<this.F1)+(d>1?a[d-2]>>this.F2:0),f=this.FV/p,m=(1<<this.F1)/p,g=1<<this.F2,y=r.t,_=y-d,v=null==t?i():t;for(a.dlShiftTo(_,v),r.compareTo(v)>=0&&(r[r.t++]=1,r.subTo(v,r)),n.ONE.dlShiftTo(d,v),v.subTo(a,a);a.t<d;)a[a.t++]=0;for(;--_>=0;){var b=r[--y]==h?this.DM:Math.floor(r[y]*f+(r[y-1]+g)*m);if((r[y]+=a.am(0,b,r,_,0,d))<b)for(a.dlShiftTo(_,v),r.subTo(v,r);r[y]<--b;)r.subTo(v,r)}null!=t&&(r.drShiftTo(d,t),l!=c&&n.ZERO.subTo(t,t)),r.t=d,r.clamp(),u>0&&r.rShiftTo(u,r),l<0&&n.ZERO.subTo(r,r)}}}function R(e){var t=i();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(n.ZERO)>0&&e.subTo(t,t),t}function N(e){this.m=e}function $(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function M(e){return e}function D(e){e.divRemTo(this.m,null,e)}function L(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function B(e,t){e.squareTo(t),this.reduce(t)}function U(){if(this.t<1)return 0;var e=this[0];if((1&e)==0)return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t}function z(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function F(e){var t=i();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(n.ZERO)>0&&this.m.subTo(t,t),t}function H(e){var t=i();return e.copyTo(t),this.reduce(t),t}function q(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e[r]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function W(e,t){e.squareTo(t),this.reduce(t)}function J(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function V(){return(this.t>0?1&this[0]:this.s)==0}function K(e,t){if(e>0xffffffff||e<1)return n.ONE;var r=i(),s=i(),o=t.convert(this),a=S(e)-1;for(o.copyTo(r);--a>=0;)if(t.sqrTo(r,s),(e&1<<a)>0)t.mulTo(s,o,r);else{var l=r;r=s,s=l}return t.revert(r)}function G(e,t){var r;return r=e<256||t.isEven()?new N(t):new z(t),this.exp(e,r)}function Z(){var e=i();return this.copyTo(e),e}function Q(){if(this.s<0){if(1==this.t)return this[0]-this.DV;else if(0==this.t)return -1}else if(1==this.t)return this[0];else if(0==this.t)return 0;return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function X(){return 0==this.t?this.s:this[0]<<24>>24}function Y(){return 0==this.t?this.s:this[0]<<16>>16}function ee(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function et(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function er(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=g(r),s=i(),o=i(),a="";for(this.divRemTo(n,s,o);s.signum()>0;)a=(r+o.intValue()).toString(e).substr(1)+a,s.divRemTo(n,s,o);return o.intValue().toString(e)+a}function en(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),i=Math.pow(t,r),s=!1,o=0,a=0,l=0;l<e.length;++l){var c=p(e,l);if(c<0){"-"==e.charAt(l)&&0==this.signum()&&(s=!0);continue}a=t*a+c,++o>=r&&(this.dMultiply(i),this.dAddOffset(a,0),o=0,a=0)}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(a,0)),s&&n.ZERO.subTo(this,this)}function ei(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(n.ONE.shiftLeft(e-1),eh,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(n.ONE.shiftLeft(e-1),this);else{var i=[],s=7&e;i.length=(e>>3)+1,t.nextBytes(i),s>0?i[0]&=(1<<s)-1:i[0]=0,this.fromString(i,256)}}function es(){var e=this.t,t=[];t[0]=this.s;var r,n=this.DB-e*this.DB%8,i=0;if(e-- >0)for(n<this.DB&&(r=this[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);e>=0;)n<8?r=(this[e]&(1<<n)-1)<<8-n|this[--e]>>(n+=this.DB-8):(r=this[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),(128&r)!=0&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(t[i++]=r);return t}function eo(e){return 0==this.compareTo(e)}function ea(e){return 0>this.compareTo(e)?this:e}function el(e){return this.compareTo(e)>0?this:e}function ec(e,t,r){var n,i,s=Math.min(e.t,this.t);for(n=0;n<s;++n)r[n]=t(this[n],e[n]);if(e.t<this.t){for(i=e.s&this.DM,n=s;n<this.t;++n)r[n]=t(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<e.t;++n)r[n]=t(i,e[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}function eu(e,t){return e&t}function ed(e){var t=i();return this.bitwiseTo(e,eu,t),t}function eh(e,t){return e|t}function ep(e){var t=i();return this.bitwiseTo(e,eh,t),t}function ef(e,t){return e^t}function em(e){var t=i();return this.bitwiseTo(e,ef,t),t}function eg(e,t){return e&~t}function ey(e){var t=i();return this.bitwiseTo(e,eg,t),t}function e_(){for(var e=i(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e}function ev(e){var t=i();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function eb(e){var t=i();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function ew(e){if(0==e)return -1;var t=0;return(65535&e)==0&&(e>>=16,t+=16),(255&e)==0&&(e>>=8,t+=8),(15&e)==0&&(e>>=4,t+=4),(3&e)==0&&(e>>=2,t+=2),(1&e)==0&&++t,t}function ej(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+ew(this[e]);return this.s<0?this.t*this.DB:-1}function eS(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function ek(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=eS(this[r]^t);return e}function eE(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:(this[t]&1<<e%this.DB)!=0}function eC(e,t){var r=n.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}function ex(e){return this.changeBit(e,eh)}function eT(e){return this.changeBit(e,eg)}function eO(e){return this.changeBit(e,ef)}function eI(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()}function eA(e){var t=i();return this.addTo(e,t),t}function eP(e){var t=i();return this.subTo(e,t),t}function eR(e){var t=i();return this.multiplyTo(e,t),t}function eN(){var e=i();return this.squareTo(e),e}function e$(e){var t=i();return this.divRemTo(e,t,null),t}function eM(e){var t=i();return this.divRemTo(e,null,t),t}function eD(e){var t=i(),r=i();return this.divRemTo(e,t,r),[t,r]}function eL(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function eB(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}}function eU(){}function ez(e){return e}function eF(e,t,r){e.multiplyTo(t,r)}function eH(e,t){e.squareTo(t)}function eq(e){return this.exp(e,new eU)}function eW(e,t,r){var n,i=Math.min(this.t+e.t,t);for(r.s=0,r.t=i;i>0;)r[--i]=0;for(n=r.t-this.t;i<n;++i)r[i+this.t]=this.am(0,e[i],r,i,0,this.t);for(n=Math.min(e.t,t);i<n;++i)this.am(0,e[i],r,i,0,t-i);r.clamp()}function eJ(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r[this.t+n-t]=this.am(t-n,e[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}function eV(e){this.r2=i(),this.q3=i(),n.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function eK(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(0>e.compareTo(this.m))return e;var t=i();return e.copyTo(t),this.reduce(t),t}function eG(e){return e}function eZ(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);0>e.compareTo(this.r2);)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function eQ(e,t){e.squareTo(t),this.reduce(t)}function eX(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function eY(e,t){var r,n,s=e.bitLength(),o=g(1);if(s<=0)return o;r=s<18?1:s<48?3:s<144?4:s<768?5:6,n=s<8?new N(t):t.isEven()?new eV(t):new z(t);var a=[],l=3,c=r-1,u=(1<<r)-1;if(a[1]=n.convert(this),r>1){var d=i();for(n.sqrTo(a[1],d);l<=u;)a[l]=i(),n.mulTo(d,a[l-2],a[l]),l+=2}var h,p,f=e.t-1,m=!0,y=i();for(s=S(e[f])-1;f>=0;){for(s>=c?h=e[f]>>s-c&u:(h=(e[f]&(1<<s+1)-1)<<c-s,f>0&&(h|=e[f-1]>>this.DB+s-c)),l=r;(1&h)==0;)h>>=1,--l;if((s-=l)<0&&(s+=this.DB,--f),m)a[h].copyTo(o),m=!1;else{for(;l>1;)n.sqrTo(o,y),n.sqrTo(y,o),l-=2;l>0?n.sqrTo(o,y):(p=o,o=y,y=p),n.mulTo(y,a[h],o)}for(;f>=0&&(e[f]&1<<s)==0;)n.sqrTo(o,y),p=o,o=y,y=p,--s<0&&(s=this.DB-1,--f)}return n.revert(o)}function e0(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(0>t.compareTo(r)){var n=t;t=r,r=n}var i=t.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return t;for(i<s&&(s=i),s>0&&(t.rShiftTo(s,t),r.rShiftTo(s,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}function e1(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this[n])%e;return r}function e2(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return n.ZERO;for(var r=e.clone(),i=this.clone(),s=g(1),o=g(0),a=g(0),l=g(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(s.isEven()&&o.isEven()||(s.addTo(this,s),o.subTo(e,o)),s.rShiftTo(1,s)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;i.isEven();)i.rShiftTo(1,i),t?(a.isEven()&&l.isEven()||(a.addTo(this,a),l.subTo(e,l)),a.rShiftTo(1,a)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);r.compareTo(i)>=0?(r.subTo(i,r),t&&s.subTo(a,s),o.subTo(l,o)):(i.subTo(r,i),t&&a.subTo(s,a),l.subTo(o,l))}return 0!=i.compareTo(n.ONE)?n.ZERO:l.compareTo(e)>=0?l.subtract(e):0>l.signum()&&(l.addTo(e,l),0>l.signum())?l.add(e):l}N.prototype.convert=$,N.prototype.revert=M,N.prototype.reduce=D,N.prototype.mulTo=L,N.prototype.sqrTo=B,z.prototype.convert=F,z.prototype.revert=H,z.prototype.reduce=q,z.prototype.mulTo=J,z.prototype.sqrTo=W,n.prototype.copyTo=f,n.prototype.fromInt=m,n.prototype.fromString=y,n.prototype.clamp=_,n.prototype.dlShiftTo=E,n.prototype.drShiftTo=C,n.prototype.lShiftTo=x,n.prototype.rShiftTo=T,n.prototype.subTo=O,n.prototype.multiplyTo=I,n.prototype.squareTo=A,n.prototype.divRemTo=P,n.prototype.invDigit=U,n.prototype.isEven=V,n.prototype.exp=K,n.prototype.toString=v,n.prototype.negate=b,n.prototype.abs=w,n.prototype.compareTo=j,n.prototype.bitLength=k,n.prototype.mod=R,n.prototype.modPowInt=G,n.ZERO=g(0),n.ONE=g(1),eU.prototype.convert=ez,eU.prototype.revert=ez,eU.prototype.mulTo=eF,eU.prototype.sqrTo=eH,eV.prototype.convert=eK,eV.prototype.revert=eG,eV.prototype.reduce=eZ,eV.prototype.mulTo=eX,eV.prototype.sqrTo=eQ;var e4=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],e6=0x4000000/e4[e4.length-1];function e3(e){var t,r=this.abs();if(1==r.t&&r[0]<=e4[e4.length-1]){for(t=0;t<e4.length;++t)if(r[0]==e4[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<e4.length;){for(var n=e4[t],i=t+1;i<e4.length&&n<e6;)n*=e4[i++];for(n=r.modInt(n);t<i;)if(n%e4[t++]==0)return!1}return r.millerRabin(e)}function e5(e){var t=this.subtract(n.ONE),r=t.getLowestSetBit();if(r<=0)return!1;var s=t.shiftRight(r);(e=e+1>>1)>e4.length&&(e=e4.length);for(var o=i(),a=0;a<e;++a){o.fromInt(e4[Math.floor(Math.random()*e4.length)]);var l=o.modPow(s,this);if(0!=l.compareTo(n.ONE)&&0!=l.compareTo(t)){for(var c=1;c++<r&&0!=l.compareTo(t);)if(0==(l=l.modPowInt(2,this)).compareTo(n.ONE))return!1;if(0!=l.compareTo(t))return!1}}return!0}function e8(e){tn[ti++]^=255&e,tn[ti++]^=e>>8&255,tn[ti++]^=e>>16&255,tn[ti++]^=e>>24&255,ti>=tm&&(ti-=tm)}function e9(){e8(new Date().getTime())}if(n.prototype.chunkSize=ee,n.prototype.toRadix=er,n.prototype.fromRadix=en,n.prototype.fromNumber=ei,n.prototype.bitwiseTo=ec,n.prototype.changeBit=eC,n.prototype.addTo=eI,n.prototype.dMultiply=eL,n.prototype.dAddOffset=eB,n.prototype.multiplyLowerTo=eW,n.prototype.multiplyUpperTo=eJ,n.prototype.modInt=e1,n.prototype.millerRabin=e5,n.prototype.clone=Z,n.prototype.intValue=Q,n.prototype.byteValue=X,n.prototype.shortValue=Y,n.prototype.signum=et,n.prototype.toByteArray=es,n.prototype.equals=eo,n.prototype.min=ea,n.prototype.max=el,n.prototype.and=ed,n.prototype.or=ep,n.prototype.xor=em,n.prototype.andNot=ey,n.prototype.not=e_,n.prototype.shiftLeft=ev,n.prototype.shiftRight=eb,n.prototype.getLowestSetBit=ej,n.prototype.bitCount=ek,n.prototype.testBit=eE,n.prototype.setBit=ex,n.prototype.clearBit=eT,n.prototype.flipBit=eO,n.prototype.add=eA,n.prototype.subtract=eP,n.prototype.multiply=eR,n.prototype.divide=e$,n.prototype.remainder=eM,n.prototype.divideAndRemainder=eD,n.prototype.modPow=eY,n.prototype.modInverse=e2,n.prototype.pow=eq,n.prototype.gcd=e0,n.prototype.isProbablePrime=e3,n.prototype.square=eN,n.prototype.Barrett=eV,null==tn){if(tn=[],ti=0,"undefined"!=typeof window&&window.crypto){if(window.crypto.getRandomValues){var e7,te,tt,tr,tn,ti,ts,to=new Uint8Array(32);for(window.crypto.getRandomValues(to),ts=0;ts<32;++ts)tn[ti++]=to[ts]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var ta=window.crypto.random(32);for(ts=0;ts<ta.length;++ts)tn[ti++]=255&ta.charCodeAt(ts)}}for(;ti<tm;)ts=Math.floor(65536*Math.random()),tn[ti++]=ts>>>8,tn[ti++]=255&ts;ti=0,e9()}function tl(){if(null==tr){for(e9(),(tr=tf()).init(tn),ti=0;ti<tn.length;++ti)tn[ti]=0;ti=0}return tr.next()}function tc(e){var t;for(t=0;t<e.length;++t)e[t]=tl()}function tu(){}function td(){this.i=0,this.j=0,this.S=[]}function th(e){var t,r,n;for(t=0;t<256;++t)this.S[t]=t;for(t=0,r=0;t<256;++t)r=r+this.S[t]+e[t%e.length]&255,n=this.S[t],this.S[t]=this.S[r],this.S[r]=n;this.i=0,this.j=0}function tp(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]}function tf(){return new td}tu.prototype.nextBytes=tc,td.prototype.init=th,td.prototype.next=tp;var tm=256;t=e.exports={default:n,BigInteger:n,SecureRandom:tu}}).call(this)},"./node_modules/isarray/index.js":function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},"./node_modules/jsonwebtoken/decode.js":function(e,t,r){var n=r("./node_modules/jws/index.js");e.exports=function(e,t){t=t||{};var r=n.decode(e,t);if(!r)return null;var i=r.payload;if("string"==typeof i)try{var s=JSON.parse(i);null!==s&&"object"==typeof s&&(i=s)}catch(e){}return!0===t.complete?{header:r.header,payload:i,signature:r.signature}:i}},"./node_modules/jsonwebtoken/index.js":function(e,t,r){e.exports={decode:r("./node_modules/jsonwebtoken/decode.js"),verify:r("./node_modules/jsonwebtoken/verify.js"),sign:r("./node_modules/jsonwebtoken/sign.js"),JsonWebTokenError:r("./node_modules/jsonwebtoken/lib/JsonWebTokenError.js"),NotBeforeError:r("./node_modules/jsonwebtoken/lib/NotBeforeError.js"),TokenExpiredError:r("./node_modules/jsonwebtoken/lib/TokenExpiredError.js")}},"./node_modules/jsonwebtoken/lib/JsonWebTokenError.js":function(e){var t=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,e.exports=t},"./node_modules/jsonwebtoken/lib/NotBeforeError.js":function(e,t,r){var n=r("./node_modules/jsonwebtoken/lib/JsonWebTokenError.js"),i=function(e,t){n.call(this,e),this.name="NotBeforeError",this.date=t};i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i},"./node_modules/jsonwebtoken/lib/TokenExpiredError.js":function(e,t,r){var n=r("./node_modules/jsonwebtoken/lib/JsonWebTokenError.js"),i=function(e,t){n.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i},"./node_modules/jsonwebtoken/lib/asymmetricKeyDetailsSupported.js":function(e,t,r){e.exports=r("./node_modules/jsonwebtoken/node_modules/semver/index.js").satisfies(process.version,">=15.7.0")},"./node_modules/jsonwebtoken/lib/psSupported.js":function(e,t,r){e.exports=r("./node_modules/jsonwebtoken/node_modules/semver/index.js").satisfies(process.version,"^6.12.0 || >=8.0.0")},"./node_modules/jsonwebtoken/lib/rsaPssKeyDetailsSupported.js":function(e,t,r){e.exports=r("./node_modules/jsonwebtoken/node_modules/semver/index.js").satisfies(process.version,">=16.9.0")},"./node_modules/jsonwebtoken/lib/timespan.js":function(e,t,r){var n=r("./node_modules/ms/index.js");e.exports=function(e,t){var r=t||Math.floor(Date.now()/1e3);if("string"==typeof e){var i=n(e);if(void 0===i)return;return Math.floor(r+i/1e3)}if("number"==typeof e)return r+e}},"./node_modules/jsonwebtoken/lib/validateAsymmetricKey.js":function(e,t,r){let n=r("./node_modules/jsonwebtoken/lib/asymmetricKeyDetailsSupported.js"),i=r("./node_modules/jsonwebtoken/lib/rsaPssKeyDetailsSupported.js"),s={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},o={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};e.exports=function(e,t){if(!e||!t)return;let r=t.asymmetricKeyType;if(!r)return;let a=s[r];if(!a)throw Error(`Unknown key type "${r}".`);if(!a.includes(e))throw Error(`"alg" parameter for "${r}" key type must be one of: ${a.join(", ")}.`);if(n)switch(r){case"ec":let l=t.asymmetricKeyDetails.namedCurve,c=o[e];if(l!==c)throw Error(`"alg" parameter "${e}" requires curve "${c}".`);break;case"rsa-pss":if(i){let r=parseInt(e.slice(-3),10),{hashAlgorithm:n,mgf1HashAlgorithm:i,saltLength:s}=t.asymmetricKeyDetails;if(n!==`sha${r}`||i!==n)throw Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(void 0!==s&&s>r>>3)throw Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}}}},"./node_modules/jsonwebtoken/node_modules/semver/classes/comparator.js":function(e,t,r){"use strict";let n=Symbol("SemVer ANY");class i{static get ANY(){return n}constructor(e,t){if(t=s(t),e instanceof i)if(!!t.loose===e.loose)return e;else e=e.value;c("comparator",e=e.trim().split(/\s+/).join(" "),t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){let t=this.options.loose?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],r=e.match(t);if(!r)throw TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=s(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">"))}}e.exports=i;let s=r("./node_modules/jsonwebtoken/node_modules/semver/internal/parse-options.js"),{safeRe:o,t:a}=r("./node_modules/jsonwebtoken/node_modules/semver/internal/re.js"),l=r("./node_modules/jsonwebtoken/node_modules/semver/functions/cmp.js"),c=r("./node_modules/jsonwebtoken/node_modules/semver/internal/debug.js"),u=r("./node_modules/jsonwebtoken/node_modules/semver/classes/semver.js"),d=r("./node_modules/jsonwebtoken/node_modules/semver/classes/range.js")},"./node_modules/jsonwebtoken/node_modules/semver/classes/range.js":function(e,t,r){"use strict";let n=/\s+/g;class i{constructor(e,t){if(t=o(t),e instanceof i)if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;else return new i(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let e=this.set[0];if(this.set=this.set.filter(e=>!y(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1){for(let e of this.set)if(1===e.length&&_(e[0])){this.set=[e];break}}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,r=s.get(t);if(r)return r;let n=this.options.loose,i=n?u[d.HYPHENRANGELOOSE]:u[d.HYPHENRANGE];l("hyphen replace",e=e.replace(i,I(this.options.includePrerelease))),l("comparator trim",e=e.replace(u[d.COMPARATORTRIM],h)),l("tilde trim",e=e.replace(u[d.TILDETRIM],p)),l("caret trim",e=e.replace(u[d.CARETTRIM],f));let o=e.split(" ").map(e=>b(e,this.options)).join(" ").split(/\s+/).map(e=>O(e,this.options));n&&(o=o.filter(e=>(l("loose invalid filter",e,this.options),!!e.match(u[d.COMPARATORLOOSE])))),l("range list",o);let c=new Map;for(let e of o.map(e=>new a(e,this.options))){if(y(e))return[e];c.set(e.value,e)}c.size>1&&c.has("")&&c.delete("");let _=[...c.values()];return s.set(t,_),_}intersects(e,t){if(!(e instanceof i))throw TypeError("a Range is required");return this.set.some(r=>v(r,t)&&e.set.some(e=>v(e,t)&&r.every(r=>e.every(e=>r.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(A(this.set[t],e,this.options))return!0;return!1}}e.exports=i;let s=new(r("./node_modules/jsonwebtoken/node_modules/semver/internal/lrucache.js")),o=r("./node_modules/jsonwebtoken/node_modules/semver/internal/parse-options.js"),a=r("./node_modules/jsonwebtoken/node_modules/semver/classes/comparator.js"),l=r("./node_modules/jsonwebtoken/node_modules/semver/internal/debug.js"),c=r("./node_modules/jsonwebtoken/node_modules/semver/classes/semver.js"),{safeRe:u,t:d,comparatorTrimReplace:h,tildeTrimReplace:p,caretTrimReplace:f}=r("./node_modules/jsonwebtoken/node_modules/semver/internal/re.js"),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=r("./node_modules/jsonwebtoken/node_modules/semver/internal/constants.js"),y=e=>"<0.0.0-0"===e.value,_=e=>""===e.value,v=(e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(e=>i.intersects(e,t)),i=n.pop();return r},b=(e,t)=>(l("comp",e,t),l("caret",e=k(e,t)),l("tildes",e=j(e,t)),l("xrange",e=C(e,t)),l("stars",e=T(e,t)),e),w=e=>!e||"x"===e.toLowerCase()||"*"===e,j=(e,t)=>e.trim().split(/\s+/).map(e=>S(e,t)).join(" "),S=(e,t)=>{let r=t.loose?u[d.TILDELOOSE]:u[d.TILDE];return e.replace(r,(t,r,n,i,s)=>{let o;return l("tilde",e,t,r,n,i,s),w(r)?o="":w(n)?o=`>=${r}.0.0 <${+r+1}.0.0-0`:w(i)?o=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:s?(l("replaceTilde pr",s),o=`>=${r}.${n}.${i}-${s} <${r}.${+n+1}.0-0`):o=`>=${r}.${n}.${i} <${r}.${+n+1}.0-0`,l("tilde return",o),o})},k=(e,t)=>e.trim().split(/\s+/).map(e=>E(e,t)).join(" "),E=(e,t)=>{l("caret",e,t);let r=t.loose?u[d.CARETLOOSE]:u[d.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(t,r,i,s,o)=>{let a;return l("caret",e,t,r,i,s,o),w(r)?a="":w(i)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:w(s)?a="0"===r?`>=${r}.${i}.0${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.0${n} <${+r+1}.0.0-0`:o?(l("replaceCaret pr",o),a="0"===r?"0"===i?`>=${r}.${i}.${s}-${o} <${r}.${i}.${+s+1}-0`:`>=${r}.${i}.${s}-${o} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${s}-${o} <${+r+1}.0.0-0`):(l("no pr"),a="0"===r?"0"===i?`>=${r}.${i}.${s}${n} <${r}.${i}.${+s+1}-0`:`>=${r}.${i}.${s}${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${s} <${+r+1}.0.0-0`),l("caret return",a),a})},C=(e,t)=>(l("replaceXRanges",e,t),e.split(/\s+/).map(e=>x(e,t)).join(" ")),x=(e,t)=>{e=e.trim();let r=t.loose?u[d.XRANGELOOSE]:u[d.XRANGE];return e.replace(r,(r,n,i,s,o,a)=>{l("xRange",e,r,n,i,s,o,a);let c=w(i),u=c||w(s),d=u||w(o),h=d;return"="===n&&h&&(n=""),a=t.includePrerelease?"-0":"",c?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&h?(u&&(s=0),o=0,">"===n?(n=">=",u?(i=+i+1,s=0):s=+s+1,o=0):"<="===n&&(n="<",u?i=+i+1:s=+s+1),"<"===n&&(a="-0"),r=`${n+i}.${s}.${o}${a}`):u?r=`>=${i}.0.0${a} <${+i+1}.0.0-0`:d&&(r=`>=${i}.${s}.0${a} <${i}.${+s+1}.0-0`),l("xRange return",r),r})},T=(e,t)=>(l("replaceStars",e,t),e.trim().replace(u[d.STAR],"")),O=(e,t)=>(l("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),I=e=>(t,r,n,i,s,o,a,l,c,u,d,h)=>(r=w(n)?"":w(i)?`>=${n}.0.0${e?"-0":""}`:w(s)?`>=${n}.${i}.0${e?"-0":""}`:o?`>=${r}`:`>=${r}${e?"-0":""}`,l=w(c)?"":w(u)?`<${+c+1}.0.0-0`:w(d)?`<${c}.${+u+1}.0-0`:h?`<=${c}.${u}.${d}-${h}`:e?`<${c}.${u}.${+d+1}-0`:`<=${l}`,`${r} ${l}`.trim()),A=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(l(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){let n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},"./node_modules/jsonwebtoken/node_modules/semver/classes/semver.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/internal/debug.js"),{MAX_LENGTH:i,MAX_SAFE_INTEGER:s}=r("./node_modules/jsonwebtoken/node_modules/semver/internal/constants.js"),{safeRe:o,t:a}=r("./node_modules/jsonwebtoken/node_modules/semver/internal/re.js"),l=r("./node_modules/jsonwebtoken/node_modules/semver/internal/parse-options.js"),{compareIdentifiers:c}=r("./node_modules/jsonwebtoken/node_modules/semver/internal/identifiers.js");class u{constructor(e,t){if(t=l(t),e instanceof u)if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;else e=e.version;else if("string"!=typeof e)throw TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i)throw TypeError(`version is longer than ${i} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let r=e.trim().match(t.loose?o[a.LOOSE]:o[a.FULL]);if(!r)throw TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<s)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return -1;else if(r===i)continue;else return c(r,i)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{let r=this.build[t],i=e.build[t];if(n("build compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return -1;else if(r===i)continue;else return c(r,i)}while(++t)}inc(e,t,r){if(e.startsWith("pre")){if(!t&&!1===r)throw Error("invalid increment argument: identifier is empty");if(t){let e=`-${t}`.match(this.options.loose?o[a.PRERELEASELOOSE]:o[a.PRERELEASE]);if(!e||e[1]!==t)throw Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"release":if(0===this.prerelease.length)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let e=+!!Number(r);if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},"./node_modules/jsonwebtoken/node_modules/semver/functions/clean.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/functions/parse.js");e.exports=(e,t)=>{let r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},"./node_modules/jsonwebtoken/node_modules/semver/functions/cmp.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/functions/eq.js"),i=r("./node_modules/jsonwebtoken/node_modules/semver/functions/neq.js"),s=r("./node_modules/jsonwebtoken/node_modules/semver/functions/gt.js"),o=r("./node_modules/jsonwebtoken/node_modules/semver/functions/gte.js"),a=r("./node_modules/jsonwebtoken/node_modules/semver/functions/lt.js"),l=r("./node_modules/jsonwebtoken/node_modules/semver/functions/lte.js");e.exports=(e,t,r,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,c);case"!=":return i(e,r,c);case">":return s(e,r,c);case">=":return o(e,r,c);case"<":return a(e,r,c);case"<=":return l(e,r,c);default:throw TypeError(`Invalid operator: ${t}`)}}},"./node_modules/jsonwebtoken/node_modules/semver/functions/coerce.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/classes/semver.js"),i=r("./node_modules/jsonwebtoken/node_modules/semver/functions/parse.js"),{safeRe:s,t:o}=r("./node_modules/jsonwebtoken/node_modules/semver/internal/re.js");e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let n,i=t.includePrerelease?s[o.COERCERTLFULL]:s[o.COERCERTL];for(;(n=i.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&n.index+n[0].length===r.index+r[0].length||(r=n),i.lastIndex=n.index+n[1].length+n[2].length;i.lastIndex=-1}else r=e.match(t.includePrerelease?s[o.COERCEFULL]:s[o.COERCE]);if(null===r)return null;let a=r[2],l=r[3]||"0",c=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",d=t.includePrerelease&&r[6]?`+${r[6]}`:"";return i(`${a}.${l}.${c}${u}${d}`,t)}},"./node_modules/jsonwebtoken/node_modules/semver/functions/compare-build.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/classes/semver.js");e.exports=(e,t,r)=>{let i=new n(e,r),s=new n(t,r);return i.compare(s)||i.compareBuild(s)}},"./node_modules/jsonwebtoken/node_modules/semver/functions/compare-loose.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/functions/compare.js");e.exports=(e,t)=>n(e,t,!0)},"./node_modules/jsonwebtoken/node_modules/semver/functions/compare.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/classes/semver.js");e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},"./node_modules/jsonwebtoken/node_modules/semver/functions/diff.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/functions/parse.js");e.exports=(e,t)=>{let r=n(e,null,!0),i=n(t,null,!0),s=r.compare(i);if(0===s)return null;let o=s>0,a=o?r:i,l=o?i:r,c=!!a.prerelease.length;if(l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(0===l.compareMain(a))return l.minor&&!l.patch?"minor":"patch"}let u=c?"pre":"";return r.major!==i.major?u+"major":r.minor!==i.minor?u+"minor":r.patch!==i.patch?u+"patch":"prerelease"}},"./node_modules/jsonwebtoken/node_modules/semver/functions/eq.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/functions/compare.js");e.exports=(e,t,r)=>0===n(e,t,r)},"./node_modules/jsonwebtoken/node_modules/semver/functions/gt.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/functions/compare.js");e.exports=(e,t,r)=>n(e,t,r)>0},"./node_modules/jsonwebtoken/node_modules/semver/functions/gte.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/functions/compare.js");e.exports=(e,t,r)=>n(e,t,r)>=0},"./node_modules/jsonwebtoken/node_modules/semver/functions/inc.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/classes/semver.js");e.exports=(e,t,r,i,s)=>{"string"==typeof r&&(s=i,i=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,i,s).version}catch(e){return null}}},"./node_modules/jsonwebtoken/node_modules/semver/functions/lt.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/functions/compare.js");e.exports=(e,t,r)=>0>n(e,t,r)},"./node_modules/jsonwebtoken/node_modules/semver/functions/lte.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/functions/compare.js");e.exports=(e,t,r)=>0>=n(e,t,r)},"./node_modules/jsonwebtoken/node_modules/semver/functions/major.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/classes/semver.js");e.exports=(e,t)=>new n(e,t).major},"./node_modules/jsonwebtoken/node_modules/semver/functions/minor.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/classes/semver.js");e.exports=(e,t)=>new n(e,t).minor},"./node_modules/jsonwebtoken/node_modules/semver/functions/neq.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/functions/compare.js");e.exports=(e,t,r)=>0!==n(e,t,r)},"./node_modules/jsonwebtoken/node_modules/semver/functions/parse.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/classes/semver.js");e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},"./node_modules/jsonwebtoken/node_modules/semver/functions/patch.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/classes/semver.js");e.exports=(e,t)=>new n(e,t).patch},"./node_modules/jsonwebtoken/node_modules/semver/functions/prerelease.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/functions/parse.js");e.exports=(e,t)=>{let r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},"./node_modules/jsonwebtoken/node_modules/semver/functions/rcompare.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/functions/compare.js");e.exports=(e,t,r)=>n(t,e,r)},"./node_modules/jsonwebtoken/node_modules/semver/functions/rsort.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/functions/compare-build.js");e.exports=(e,t)=>e.sort((e,r)=>n(r,e,t))},"./node_modules/jsonwebtoken/node_modules/semver/functions/satisfies.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/classes/range.js");e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},"./node_modules/jsonwebtoken/node_modules/semver/functions/sort.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/functions/compare-build.js");e.exports=(e,t)=>e.sort((e,r)=>n(e,r,t))},"./node_modules/jsonwebtoken/node_modules/semver/functions/valid.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/functions/parse.js");e.exports=(e,t)=>{let r=n(e,t);return r?r.version:null}},"./node_modules/jsonwebtoken/node_modules/semver/index.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/internal/re.js"),i=r("./node_modules/jsonwebtoken/node_modules/semver/internal/constants.js"),s=r("./node_modules/jsonwebtoken/node_modules/semver/classes/semver.js"),o=r("./node_modules/jsonwebtoken/node_modules/semver/internal/identifiers.js"),a=r("./node_modules/jsonwebtoken/node_modules/semver/functions/parse.js"),l=r("./node_modules/jsonwebtoken/node_modules/semver/functions/valid.js"),c=r("./node_modules/jsonwebtoken/node_modules/semver/functions/clean.js"),u=r("./node_modules/jsonwebtoken/node_modules/semver/functions/inc.js"),d=r("./node_modules/jsonwebtoken/node_modules/semver/functions/diff.js"),h=r("./node_modules/jsonwebtoken/node_modules/semver/functions/major.js"),p=r("./node_modules/jsonwebtoken/node_modules/semver/functions/minor.js"),f=r("./node_modules/jsonwebtoken/node_modules/semver/functions/patch.js"),m=r("./node_modules/jsonwebtoken/node_modules/semver/functions/prerelease.js"),g=r("./node_modules/jsonwebtoken/node_modules/semver/functions/compare.js"),y=r("./node_modules/jsonwebtoken/node_modules/semver/functions/rcompare.js"),_=r("./node_modules/jsonwebtoken/node_modules/semver/functions/compare-loose.js"),v=r("./node_modules/jsonwebtoken/node_modules/semver/functions/compare-build.js"),b=r("./node_modules/jsonwebtoken/node_modules/semver/functions/sort.js"),w=r("./node_modules/jsonwebtoken/node_modules/semver/functions/rsort.js"),j=r("./node_modules/jsonwebtoken/node_modules/semver/functions/gt.js"),S=r("./node_modules/jsonwebtoken/node_modules/semver/functions/lt.js"),k=r("./node_modules/jsonwebtoken/node_modules/semver/functions/eq.js"),E=r("./node_modules/jsonwebtoken/node_modules/semver/functions/neq.js"),C=r("./node_modules/jsonwebtoken/node_modules/semver/functions/gte.js"),x=r("./node_modules/jsonwebtoken/node_modules/semver/functions/lte.js"),T=r("./node_modules/jsonwebtoken/node_modules/semver/functions/cmp.js"),O=r("./node_modules/jsonwebtoken/node_modules/semver/functions/coerce.js"),I=r("./node_modules/jsonwebtoken/node_modules/semver/classes/comparator.js"),A=r("./node_modules/jsonwebtoken/node_modules/semver/classes/range.js"),P=r("./node_modules/jsonwebtoken/node_modules/semver/functions/satisfies.js"),R=r("./node_modules/jsonwebtoken/node_modules/semver/ranges/to-comparators.js"),N=r("./node_modules/jsonwebtoken/node_modules/semver/ranges/max-satisfying.js"),$=r("./node_modules/jsonwebtoken/node_modules/semver/ranges/min-satisfying.js"),M=r("./node_modules/jsonwebtoken/node_modules/semver/ranges/min-version.js"),D=r("./node_modules/jsonwebtoken/node_modules/semver/ranges/valid.js"),L=r("./node_modules/jsonwebtoken/node_modules/semver/ranges/outside.js"),B=r("./node_modules/jsonwebtoken/node_modules/semver/ranges/gtr.js"),U=r("./node_modules/jsonwebtoken/node_modules/semver/ranges/ltr.js"),z=r("./node_modules/jsonwebtoken/node_modules/semver/ranges/intersects.js");e.exports={parse:a,valid:l,clean:c,inc:u,diff:d,major:h,minor:p,patch:f,prerelease:m,compare:g,rcompare:y,compareLoose:_,compareBuild:v,sort:b,rsort:w,gt:j,lt:S,eq:k,neq:E,gte:C,lte:x,cmp:T,coerce:O,Comparator:I,Range:A,satisfies:P,toComparators:R,maxSatisfying:N,minSatisfying:$,minVersion:M,validRange:D,outside:L,gtr:B,ltr:U,intersects:z,simplifyRange:r("./node_modules/jsonwebtoken/node_modules/semver/ranges/simplify.js"),subset:r("./node_modules/jsonwebtoken/node_modules/semver/ranges/subset.js"),SemVer:s,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers}},"./node_modules/jsonwebtoken/node_modules/semver/internal/constants.js":function(e){"use strict";e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||0x1fffffffffffff,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},"./node_modules/jsonwebtoken/node_modules/semver/internal/debug.js":function(e){"use strict";e.exports="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{}},"./node_modules/jsonwebtoken/node_modules/semver/internal/identifiers.js":function(e){"use strict";let t=/^[0-9]+$/,r=(e,r)=>{let n=t.test(e),i=t.test(r);return n&&i&&(e*=1,r*=1),e===r?0:n&&!i?-1:i&&!n?1:e<r?-1:1},n=(e,t)=>r(t,e);e.exports={compareIdentifiers:r,rcompareIdentifiers:n}},"./node_modules/jsonwebtoken/node_modules/semver/internal/lrucache.js":function(e){"use strict";class t{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(void 0!==t)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){let e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}e.exports=t},"./node_modules/jsonwebtoken/node_modules/semver/internal/parse-options.js":function(e){"use strict";let t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},"./node_modules/jsonwebtoken/node_modules/semver/internal/re.js":function(e,t,r){"use strict";let{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:s}=r("./node_modules/jsonwebtoken/node_modules/semver/internal/constants.js"),o=r("./node_modules/jsonwebtoken/node_modules/semver/internal/debug.js"),a=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.safeSrc=[],d=t.t={},h=0,p="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",s],[p,i]],m=e=>{for(let[t,r]of f)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},g=(e,t,r)=>{let n=m(t),i=h++;o(e,i,t),d[e]=i,c[i]=t,u[i]=n,a[i]=new RegExp(t,r?"g":void 0),l[i]=new RegExp(n,r?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),g("MAINVERSION",`(${c[d.NUMERICIDENTIFIER]})\\.(${c[d.NUMERICIDENTIFIER]})\\.(${c[d.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${c[d.NUMERICIDENTIFIERLOOSE]})\\.(${c[d.NUMERICIDENTIFIERLOOSE]})\\.(${c[d.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${c[d.NONNUMERICIDENTIFIER]}|${c[d.NUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${c[d.NONNUMERICIDENTIFIER]}|${c[d.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASE",`(?:-(${c[d.PRERELEASEIDENTIFIER]}(?:\\.${c[d.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${c[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[d.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${p}+`),g("BUILD",`(?:\\+(${c[d.BUILDIDENTIFIER]}(?:\\.${c[d.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${c[d.MAINVERSION]}${c[d.PRERELEASE]}?${c[d.BUILD]}?`),g("FULL",`^${c[d.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${c[d.MAINVERSIONLOOSE]}${c[d.PRERELEASELOOSE]}?${c[d.BUILD]}?`),g("LOOSE",`^${c[d.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${c[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${c[d.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${c[d.XRANGEIDENTIFIER]})(?:\\.(${c[d.XRANGEIDENTIFIER]})(?:\\.(${c[d.XRANGEIDENTIFIER]})(?:${c[d.PRERELEASE]})?${c[d.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${c[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[d.XRANGEIDENTIFIERLOOSE]})(?:${c[d.PRERELEASELOOSE]})?${c[d.BUILD]}?)?)?`),g("XRANGE",`^${c[d.GTLT]}\\s*${c[d.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${c[d.GTLT]}\\s*${c[d.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),g("COERCE",`${c[d.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",c[d.COERCEPLAIN]+`(?:${c[d.PRERELEASE]})?`+`(?:${c[d.BUILD]})?`+"(?:$|[^\\d])"),g("COERCERTL",c[d.COERCE],!0),g("COERCERTLFULL",c[d.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${c[d.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${c[d.LONETILDE]}${c[d.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${c[d.LONETILDE]}${c[d.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${c[d.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${c[d.LONECARET]}${c[d.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${c[d.LONECARET]}${c[d.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${c[d.GTLT]}\\s*(${c[d.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${c[d.GTLT]}\\s*(${c[d.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${c[d.GTLT]}\\s*(${c[d.LOOSEPLAIN]}|${c[d.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${c[d.XRANGEPLAIN]})\\s+-\\s+(${c[d.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${c[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[d.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},"./node_modules/jsonwebtoken/node_modules/semver/ranges/gtr.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/ranges/outside.js");e.exports=(e,t,r)=>n(e,t,">",r)},"./node_modules/jsonwebtoken/node_modules/semver/ranges/intersects.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/classes/range.js");e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},"./node_modules/jsonwebtoken/node_modules/semver/ranges/ltr.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/ranges/outside.js");e.exports=(e,t,r)=>n(e,t,"<",r)},"./node_modules/jsonwebtoken/node_modules/semver/ranges/max-satisfying.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/classes/semver.js"),i=r("./node_modules/jsonwebtoken/node_modules/semver/classes/range.js");e.exports=(e,t,r)=>{let s=null,o=null,a=null;try{a=new i(t,r)}catch(e){return null}return e.forEach(e=>{a.test(e)&&(!s||-1===o.compare(e))&&(o=new n(s=e,r))}),s}},"./node_modules/jsonwebtoken/node_modules/semver/ranges/min-satisfying.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/classes/semver.js"),i=r("./node_modules/jsonwebtoken/node_modules/semver/classes/range.js");e.exports=(e,t,r)=>{let s=null,o=null,a=null;try{a=new i(t,r)}catch(e){return null}return e.forEach(e=>{a.test(e)&&(!s||1===o.compare(e))&&(o=new n(s=e,r))}),s}},"./node_modules/jsonwebtoken/node_modules/semver/ranges/min-version.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/classes/semver.js"),i=r("./node_modules/jsonwebtoken/node_modules/semver/classes/range.js"),s=r("./node_modules/jsonwebtoken/node_modules/semver/functions/gt.js");e.exports=(e,t)=>{e=new i(e,t);let r=new n("0.0.0");if(e.test(r)||(r=new n("0.0.0-0"),e.test(r)))return r;r=null;for(let t=0;t<e.set.length;++t){let i=e.set[t],o=null;i.forEach(e=>{let t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!o||s(t,o))&&(o=t);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${e.operator}`)}}),o&&(!r||s(r,o))&&(r=o)}return r&&e.test(r)?r:null}},"./node_modules/jsonwebtoken/node_modules/semver/ranges/outside.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/classes/semver.js"),i=r("./node_modules/jsonwebtoken/node_modules/semver/classes/comparator.js"),{ANY:s}=i,o=r("./node_modules/jsonwebtoken/node_modules/semver/classes/range.js"),a=r("./node_modules/jsonwebtoken/node_modules/semver/functions/satisfies.js"),l=r("./node_modules/jsonwebtoken/node_modules/semver/functions/gt.js"),c=r("./node_modules/jsonwebtoken/node_modules/semver/functions/lt.js"),u=r("./node_modules/jsonwebtoken/node_modules/semver/functions/lte.js"),d=r("./node_modules/jsonwebtoken/node_modules/semver/functions/gte.js");e.exports=(e,t,r,h)=>{let p,f,m,g,y;switch(e=new n(e,h),t=new o(t,h),r){case">":p=l,f=u,m=c,g=">",y=">=";break;case"<":p=c,f=d,m=l,g="<",y="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,h))return!1;for(let r=0;r<t.set.length;++r){let n=t.set[r],o=null,a=null;if(n.forEach(e=>{e.semver===s&&(e=new i(">=0.0.0")),o=o||e,a=a||e,p(e.semver,o.semver,h)?o=e:m(e.semver,a.semver,h)&&(a=e)}),o.operator===g||o.operator===y||(!a.operator||a.operator===g)&&f(e,a.semver)||a.operator===y&&m(e,a.semver))return!1}return!0}},"./node_modules/jsonwebtoken/node_modules/semver/ranges/simplify.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/functions/satisfies.js"),i=r("./node_modules/jsonwebtoken/node_modules/semver/functions/compare.js");e.exports=(e,t,r)=>{let s=[],o=null,a=null,l=e.sort((e,t)=>i(e,t,r));for(let e of l)n(e,t,r)?(a=e,o||(o=e)):(a&&s.push([o,a]),a=null,o=null);o&&s.push([o,null]);let c=[];for(let[e,t]of s)e===t?c.push(e):t||e!==l[0]?t?e===l[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");let u=c.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},"./node_modules/jsonwebtoken/node_modules/semver/ranges/subset.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/classes/range.js"),i=r("./node_modules/jsonwebtoken/node_modules/semver/classes/comparator.js"),{ANY:s}=i,o=r("./node_modules/jsonwebtoken/node_modules/semver/functions/satisfies.js"),a=r("./node_modules/jsonwebtoken/node_modules/semver/functions/compare.js"),l=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let i=!1;t:for(let n of e.set){for(let e of t.set){let t=d(n,e,r);if(i=i||null!==t,t)continue t}if(i)return!1}return!0},c=[new i(">=0.0.0-0")],u=[new i(">=0.0.0")],d=(e,t,r)=>{let n,i,l,d,f,m,g;if(e===t)return!0;if(1===e.length&&e[0].semver===s)if(1===t.length&&t[0].semver===s)return!0;else e=r.includePrerelease?c:u;if(1===t.length&&t[0].semver===s)if(r.includePrerelease)return!0;else t=u;let y=new Set;for(let t of e)">"===t.operator||">="===t.operator?n=h(n,t,r):"<"===t.operator||"<="===t.operator?i=p(i,t,r):y.add(t.semver);if(y.size>1)return null;if(n&&i&&((l=a(n.semver,i.semver,r))>0||0===l&&(">="!==n.operator||"<="!==i.operator)))return null;for(let e of y){if(n&&!o(e,String(n),r)||i&&!o(e,String(i),r))return null;for(let n of t)if(!o(e,String(n),r))return!1;return!0}let _=!!i&&!r.includePrerelease&&!!i.semver.prerelease.length&&i.semver,v=!!n&&!r.includePrerelease&&!!n.semver.prerelease.length&&n.semver;for(let e of(_&&1===_.prerelease.length&&"<"===i.operator&&0===_.prerelease[0]&&(_=!1),t)){if(g=g||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,n){if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),">"===e.operator||">="===e.operator){if((d=h(n,e,r))===e&&d!==n)return!1}else if(">="===n.operator&&!o(n.semver,String(e),r))return!1}if(i){if(_&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===_.major&&e.semver.minor===_.minor&&e.semver.patch===_.patch&&(_=!1),"<"===e.operator||"<="===e.operator){if((f=p(i,e,r))===e&&f!==i)return!1}else if("<="===i.operator&&!o(i.semver,String(e),r))return!1}if(!e.operator&&(i||n)&&0!==l)return!1}return(!n||!m||!!i||0===l)&&(!i||!g||!!n||0===l)&&!v&&!_&&!0},h=(e,t,r)=>{if(!e)return t;let n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},p=(e,t,r)=>{if(!e)return t;let n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=l},"./node_modules/jsonwebtoken/node_modules/semver/ranges/to-comparators.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/classes/range.js");e.exports=(e,t)=>new n(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},"./node_modules/jsonwebtoken/node_modules/semver/ranges/valid.js":function(e,t,r){"use strict";let n=r("./node_modules/jsonwebtoken/node_modules/semver/classes/range.js");e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},"./node_modules/jsonwebtoken/sign.js":function(e,t,r){let n=r("./node_modules/jsonwebtoken/lib/timespan.js"),i=r("./node_modules/jsonwebtoken/lib/psSupported.js"),s=r("./node_modules/jsonwebtoken/lib/validateAsymmetricKey.js"),o=r("./node_modules/jws/index.js"),a=r("./node_modules/lodash.includes/index.js"),l=r("./node_modules/lodash.isboolean/index.js"),c=r("./node_modules/lodash.isinteger/index.js"),u=r("./node_modules/lodash.isnumber/index.js"),d=r("./node_modules/lodash.isplainobject/index.js"),h=r("./node_modules/lodash.isstring/index.js"),p=r("./node_modules/lodash.once/index.js"),{KeyObject:f,createSecretKey:m,createPrivateKey:g}=r("crypto"),y=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];i&&y.splice(3,0,"PS256","PS384","PS512");let _={expiresIn:{isValid:function(e){return c(e)||h(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return c(e)||h(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return h(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:a.bind(null,y),message:'"algorithm" must be a valid string enum value'},header:{isValid:d,message:'"header" must be an object'},encoding:{isValid:h,message:'"encoding" must be a string'},issuer:{isValid:h,message:'"issuer" must be a string'},subject:{isValid:h,message:'"subject" must be a string'},jwtid:{isValid:h,message:'"jwtid" must be a string'},noTimestamp:{isValid:l,message:'"noTimestamp" must be a boolean'},keyid:{isValid:h,message:'"keyid" must be a string'},mutatePayload:{isValid:l,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:l,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:l,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},v={iat:{isValid:u,message:'"iat" should be a number of seconds'},exp:{isValid:u,message:'"exp" should be a number of seconds'},nbf:{isValid:u,message:'"nbf" should be a number of seconds'}};function b(e,t,r,n){if(!d(r))throw Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach(function(i){let s=e[i];if(!s){if(!t)throw Error('"'+i+'" is not allowed in "'+n+'"');return}if(!s.isValid(r[i]))throw Error(s.message)})}function w(e){return b(_,!1,e,"options")}function j(e){return b(v,!0,e,"payload")}let S={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},k=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,t,r,i){"function"==typeof r?(i=r,r={}):r=r||{};let a="object"==typeof e&&!Buffer.isBuffer(e),l=Object.assign({alg:r.algorithm||"HS256",typ:a?"JWT":void 0,kid:r.keyid},r.header);function c(e){if(i)return i(e);throw e}if(!t&&"none"!==r.algorithm)return c(Error("secretOrPrivateKey must have a value"));if(null!=t&&!(t instanceof f))try{t=g(t)}catch(e){try{t=m("string"==typeof t?Buffer.from(t):t)}catch(e){return c(Error("secretOrPrivateKey is not valid key material"))}}if(l.alg.startsWith("HS")&&"secret"!==t.type)return c(Error(`secretOrPrivateKey must be a symmetric key when using ${l.alg}`));if(/^(?:RS|PS|ES)/.test(l.alg)){if("private"!==t.type)return c(Error(`secretOrPrivateKey must be an asymmetric key when using ${l.alg}`));if(!r.allowInsecureKeySizes&&!l.alg.startsWith("ES")&&void 0!==t.asymmetricKeyDetails&&t.asymmetricKeyDetails.modulusLength<2048)return c(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${l.alg}`))}if(void 0===e)return c(Error("payload is required"));if(a){try{j(e)}catch(e){return c(e)}r.mutatePayload||(e=Object.assign({},e))}else{let t=k.filter(function(e){return void 0!==r[e]});if(t.length>0)return c(Error("invalid "+t.join(",")+" option for "+typeof e+" payload"))}if(void 0!==e.exp&&void 0!==r.expiresIn)return c(Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==e.nbf&&void 0!==r.notBefore)return c(Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{w(r)}catch(e){return c(e)}if(!r.allowInvalidAsymmetricKeyTypes)try{s(l.alg,t)}catch(e){return c(e)}let u=e.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete e.iat:a&&(e.iat=u),void 0!==r.notBefore){try{e.nbf=n(r.notBefore,u)}catch(e){return c(e)}if(void 0===e.nbf)return c(Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==r.expiresIn&&"object"==typeof e){try{e.exp=n(r.expiresIn,u)}catch(e){return c(e)}if(void 0===e.exp)return c(Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(S).forEach(function(t){let n=S[t];if(void 0!==r[t]){if(void 0!==e[n])return c(Error('Bad "options.'+t+'" option. The payload already has an "'+n+'" property.'));e[n]=r[t]}});let d=r.encoding||"utf8";if("function"==typeof i)i=i&&p(i),o.createSign({header:l,privateKey:t,payload:e,encoding:d}).once("error",i).once("done",function(e){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(l.alg)&&e.length<256)return i(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${l.alg}`));i(null,e)});else{let n=o.sign({header:l,payload:e,secret:t,encoding:d});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(l.alg)&&n.length<256)throw Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${l.alg}`);return n}}},"./node_modules/jsonwebtoken/verify.js":function(e,t,r){let n=r("./node_modules/jsonwebtoken/lib/JsonWebTokenError.js"),i=r("./node_modules/jsonwebtoken/lib/NotBeforeError.js"),s=r("./node_modules/jsonwebtoken/lib/TokenExpiredError.js"),o=r("./node_modules/jsonwebtoken/decode.js"),a=r("./node_modules/jsonwebtoken/lib/timespan.js"),l=r("./node_modules/jsonwebtoken/lib/validateAsymmetricKey.js"),c=r("./node_modules/jsonwebtoken/lib/psSupported.js"),u=r("./node_modules/jws/index.js"),{KeyObject:d,createSecretKey:h,createPublicKey:p}=r("crypto"),f=["RS256","RS384","RS512"],m=["ES256","ES384","ES512"],g=["RS256","RS384","RS512"],y=["HS256","HS384","HS512"];c&&(f.splice(f.length,0,"PS256","PS384","PS512"),g.splice(g.length,0,"PS256","PS384","PS512")),e.exports=function(e,t,r,c){let _,v,b;if("function"!=typeof r||c||(c=r,r={}),r||(r={}),r=Object.assign({},r),_=c||function(e,t){if(e)throw e;return t},r.clockTimestamp&&"number"!=typeof r.clockTimestamp)return _(new n("clockTimestamp must be a number"));if(void 0!==r.nonce&&("string"!=typeof r.nonce||""===r.nonce.trim()))return _(new n("nonce must be a non-empty string"));if(void 0!==r.allowInvalidAsymmetricKeyTypes&&"boolean"!=typeof r.allowInvalidAsymmetricKeyTypes)return _(new n("allowInvalidAsymmetricKeyTypes must be a boolean"));let w=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return _(new n("jwt must be provided"));if("string"!=typeof e)return _(new n("jwt must be a string"));let j=e.split(".");if(3!==j.length)return _(new n("jwt malformed"));try{v=o(e,{complete:!0})}catch(e){return _(e)}if(!v)return _(new n("invalid token"));let S=v.header;if("function"==typeof t){if(!c)return _(new n("verify must be called asynchronous if secret or public key is provided as a callback"));b=t}else b=function(e,r){return r(null,t)};return b(S,function(t,o){let c;if(t)return _(new n("error in secret or public key callback: "+t.message));let b=""!==j[2].trim();if(!b&&o)return _(new n("jwt signature is required"));if(b&&!o)return _(new n("secret or public key must be provided"));if(!b&&!r.algorithms)return _(new n('please specify "none" in "algorithms" to verify unsigned tokens'));if(null!=o&&!(o instanceof d))try{o=p(o)}catch(e){try{o=h("string"==typeof o?Buffer.from(o):o)}catch(e){return _(new n("secretOrPublicKey is not valid key material"))}}if(r.algorithms||("secret"===o.type?r.algorithms=y:["rsa","rsa-pss"].includes(o.asymmetricKeyType)?r.algorithms=g:"ec"===o.asymmetricKeyType?r.algorithms=m:r.algorithms=f),-1===r.algorithms.indexOf(v.header.alg))return _(new n("invalid algorithm"));if(S.alg.startsWith("HS")&&"secret"!==o.type)return _(new n(`secretOrPublicKey must be a symmetric key when using ${S.alg}`));if(/^(?:RS|PS|ES)/.test(S.alg)&&"public"!==o.type)return _(new n(`secretOrPublicKey must be an asymmetric key when using ${S.alg}`));if(!r.allowInvalidAsymmetricKeyTypes)try{l(S.alg,o)}catch(e){return _(e)}try{c=u.verify(e,v.header.alg,o)}catch(e){return _(e)}if(!c)return _(new n("invalid signature"));let k=v.payload;if(void 0!==k.nbf&&!r.ignoreNotBefore){if("number"!=typeof k.nbf)return _(new n("invalid nbf value"));if(k.nbf>w+(r.clockTolerance||0))return _(new i("jwt not active",new Date(1e3*k.nbf)))}if(void 0!==k.exp&&!r.ignoreExpiration){if("number"!=typeof k.exp)return _(new n("invalid exp value"));if(w>=k.exp+(r.clockTolerance||0))return _(new s("jwt expired",new Date(1e3*k.exp)))}if(r.audience){let e=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(k.aud)?k.aud:[k.aud]).some(function(t){return e.some(function(e){return e instanceof RegExp?e.test(t):e===t})}))return _(new n("jwt audience invalid. expected: "+e.join(" or ")))}if(r.issuer&&("string"==typeof r.issuer&&k.iss!==r.issuer||Array.isArray(r.issuer)&&-1===r.issuer.indexOf(k.iss)))return _(new n("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&k.sub!==r.subject)return _(new n("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&k.jti!==r.jwtid)return _(new n("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&k.nonce!==r.nonce)return _(new n("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if("number"!=typeof k.iat)return _(new n("iat required when maxAge is specified"));let e=a(r.maxAge,k.iat);if(void 0===e)return _(new n('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(w>=e+(r.clockTolerance||0))return _(new s("maxAge exceeded",new Date(1e3*e)))}return!0===r.complete?_(null,{header:S,payload:k,signature:v.signature}):_(null,k)})}},"./node_modules/jsprim/lib/jsprim.js":function(e,t,r){var n=r("./node_modules/assert-plus/assert.js");r("util");var i=r("./node_modules/extsprintf/lib/extsprintf.js"),s=r("./node_modules/verror/lib/verror.js"),o=r("./node_modules/json-schema/lib/validate.js");function a(e){var t,r,n="__deepCopy";if(e&&e[n])throw Error("attempted deep copy of cyclic object");if(e&&e.constructor==Object){for(r in t={},e[n]=!0,e)r!=n&&(t[r]=a(e[r]));return delete e[n],t}if(e&&e.constructor==Array){for(r=0,t=[],e[n]=!0;r<e.length;r++)t.push(a(e[r]));return delete e[n],t}return e}function l(e,t){var r;if(typeof e!=typeof t)return!1;if(null===e||null===t||"object"!=typeof e)return e===t;if(e.constructor!=t.constructor)return!1;for(r in e)if(!(r in t)||!l(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}function c(e){var t;for(t in e)return!1;return!0}function u(e,t){return n.equal(typeof t,"string"),Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){for(var r in e)u(e,r)&&t(r,e[r])}function h(e,t){return n.equal(typeof t,"string"),p(e,t)}function p(e,t){if(null!==e&&"object"==typeof e){if(e.hasOwnProperty(t))return e[t];var r=t.indexOf(".");if(-1!=r){var n=t.substr(0,r);if(e.hasOwnProperty(n))return p(e[n],t.substr(r+1))}}}function f(e,t,r){m(e,t,[],r)}function m(e,t,r,i){var s,o;if(0===t){(s=r.slice(0)).push(e),i(s);return}for(o in n.ok(null!==e),n.equal(typeof e,"object"),n.equal(typeof t,"number"),n.ok(t>=0),e)(s=r.slice(0)).push(o),m(e[o],t-1,s,i)}function g(e,t){if(0===t)return[e];n.ok(null!==e),n.equal(typeof e,"object"),n.equal(typeof t,"number"),n.ok(t>=0);var r,i=[];for(r in e)g(e[r],t-1).forEach(function(e){i.push([r].concat(e))});return i}function y(e,t){return e.substr(0,t.length)==t}function _(e,t){return e.substr(e.length-t.length,t.length)==t}function v(e){return"number"==typeof e&&(e=new Date(e)),n.ok(e.constructor===Date),i.sprintf("%4d-%02d-%02dT%02d:%02d:%02d.%03dZ",e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}t.deepCopy=a,t.deepEqual=l,t.isEmpty=c,t.hasKey=u,t.forEachKey=d,t.pluck=h,t.flattenObject=g,t.flattenIter=f,t.validateJsonObject=K,t.validateJsonObjectJS=K,t.randElt=G,t.extraProperties=en,t.mergeObjects=ei,t.startsWith=y,t.endsWith=_,t.parseInteger=q,t.iso8601=v,t.rfc1123=j,t.parseDateTime=S,t.hrtimediff=Q,t.hrtimeDiff=Q,t.hrtimeAccum=et,t.hrtimeAdd=er,t.hrtimeNanosec=X,t.hrtimeMicrosec=Y,t.hrtimeMillisec=ee;var b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],w=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function j(e){return i.sprintf("%s, %02d %s %04d %02d:%02d:%02d GMT",w[e.getUTCDay()],e.getUTCDate(),b[e.getUTCMonth()],e.getUTCFullYear(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}function S(e){var t=+e;return new Date(isNaN(t)?e:t)}var k=Number.MAX_SAFE_INTEGER||0x1fffffffffffff,E=Number.MIN_SAFE_INTEGER||-0x1fffffffffffff,C={base:10,allowSign:!0,allowPrefix:!1,allowTrailing:!1,allowImprecise:!1,trimWhitespace:!1,leadingZeroIsOctal:!1},x=48,T=57,O=65,I=66,A=79,P=84,R=88,N=90,$=97,M=98,D=111,L=116,B=120,U=122,z=48,F=55,H=87;function q(e,t){n.string(e,"str"),n.optionalObject(t,"options");var r,i,s=!1,o=C;t&&(s=u(t,"base"),o=ei(o,t),n.number(o.base,"options.base"),n.ok(o.base>=2,"options.base >= 2"),n.ok(o.base<=36,"options.base <= 36"),n.bool(o.allowSign,"options.allowSign"),n.bool(o.allowPrefix,"options.allowPrefix"),n.bool(o.allowTrailing,"options.allowTrailing"),n.bool(o.allowImprecise,"options.allowImprecise"),n.bool(o.trimWhitespace,"options.trimWhitespace"),n.bool(o.leadingZeroIsOctal,"options.leadingZeroIsOctal"),o.leadingZeroIsOctal&&n.ok(!s,'"base" and "leadingZeroIsOctal" are mutually exclusive'));var a=-1,l=o.base,c=1,d=0,h=0,p=e.length;if(o.trimWhitespace)for(;h<p&&J(e.charCodeAt(h));)++h;for(o.allowSign&&("-"===e[h]?(h+=1,c=-1):"+"===e[h]&&(h+=1)),"0"===e[h]&&(o.allowPrefix&&(-1===(a=V(e.charCodeAt(h+1)))||s&&a!==l||(l=a,h+=2)),-1===a&&o.leadingZeroIsOctal&&(l=8)),i=h;h<p;++h)if(-1!==(r=W(e.charCodeAt(h)))&&r<l)d*=l,d+=r;else break;if(i===h)return Error("invalid number: "+JSON.stringify(e));if(o.trimWhitespace)for(;h<p&&J(e.charCodeAt(h));)++h;if(h<p&&!o.allowTrailing)return Error("trailing characters after number: "+JSON.stringify(e.slice(h)));if(0===d)return 0;var f=d*c;return!o.allowImprecise&&(d>k||f<E)?Error("number is outside of the supported range: "+JSON.stringify(e.slice(i,h))):f}function W(e){return e>=x&&e<=T?e-z:e>=O&&e<=N?e-F:e>=$&&e<=U?e-H:-1}function J(e){return 32===e||e>=9&&e<=13||160===e||5760===e||6158===e||e>=8192&&e<=8202||8232===e||8233===e||8239===e||8287===e||12288===e||65279===e}function V(e){return e===M||e===I?2:e===D||e===A?8:e===L||e===P?10:e===B||e===R?16:-1}function K(e,t){var r,n,i=o.validate(t,e);if(0===i.errors.length)return null;var a=i.errors[0],l=a.property,c=a.message.toLowerCase();-1!=(r=c.indexOf("the property "))&&-1!=(n=c.indexOf(" is not defined in the schema and the schema does not allow additional properties"))&&(r+=13,l=""===l?c.substr(r,n-r):l+"."+c.substr(r,n-r),c="unsupported property");var u=new s.VError('property "%s": %s',l,c);return u.jsv_details=a,u}function G(e){return n.ok(Array.isArray(e)&&e.length>0,"randElt argument must be a non-empty array"),e[Math.floor(Math.random()*e.length)]}function Z(e){n.ok(e[0]>=0&&e[1]>=0,"negative numbers not allowed in hrtimes"),n.ok(e[1]<1e9,"nanoseconds column overflow")}function Q(e,t){Z(e),Z(t),n.ok(e[0]>t[0]||e[0]==t[0]&&e[1]>=t[1],"negative differences not allowed");var r=[e[0]-t[0],0];return e[1]>=t[1]?r[1]=e[1]-t[1]:(r[0]--,r[1]=1e9-(t[1]-e[1])),r}function X(e){return Z(e),Math.floor(1e9*e[0]+e[1])}function Y(e){return Z(e),Math.floor(1e6*e[0]+e[1]/1e3)}function ee(e){return Z(e),Math.floor(1e3*e[0]+e[1]/1e6)}function et(e,t){return Z(e),Z(t),e[1]+=t[1],e[1]>=1e9&&(e[0]++,e[1]-=1e9),e[0]+=t[0],e}function er(e,t){return Z(e),et([e[0],e[1]],t)}function en(e,t){n.ok("object"==typeof e&&null!==e,"obj argument must be a non-null object"),n.ok(Array.isArray(t),"allowed argument must be an array of strings");for(var r=0;r<t.length;r++)n.ok("string"==typeof t[r],"allowed argument must be an array of strings");return Object.keys(e).filter(function(e){return -1===t.indexOf(e)})}function ei(e,t,r){var n,i;if(n={},r)for(i in r)n[i]=r[i];if(e)for(i in e)n[i]=e[i];if(t)for(i in t)n[i]=t[i];return n}},"./node_modules/jwa/index.js":function(e,t,r){var n,i=r("./node_modules/safe-buffer/index.js").Buffer,s=r("crypto"),o=r("./node_modules/ecdsa-sig-formatter/src/ecdsa-sig-formatter.js"),a=r("util"),l='"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',c="secret must be a string or buffer",u="key must be a string or a buffer",d="key must be a string, a buffer or an object",h="function"==typeof s.createPublicKey;function p(e){if(!i.isBuffer(e)&&"string"!=typeof e&&(!h||"object"!=typeof e||"string"!=typeof e.type||"string"!=typeof e.asymmetricKeyType||"function"!=typeof e.export))throw _(u)}function f(e){if(!i.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw _(d)}function m(e){if(!i.isBuffer(e)){if("string"==typeof e)return e;if(!h||"object"!=typeof e||"secret"!==e.type||"function"!=typeof e.export)throw _(c)}}function g(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function y(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function _(e){var t=[].slice.call(arguments,1);return TypeError(a.format.bind(a,e).apply(null,t))}function v(e){return i.isBuffer(e)||"string"==typeof e}function b(e){return v(e)||(e=JSON.stringify(e)),e}function w(e){return function(t,r){m(r),t=b(t);var n=s.createHmac("sha"+e,r);return g((n.update(t),n.digest("base64")))}}h&&(u+=" or a KeyObject",c+="or a KeyObject");var j="timingSafeEqual"in s?function(e,t){return e.byteLength===t.byteLength&&s.timingSafeEqual(e,t)}:function(e,t){return n||(n=r("./node_modules/buffer-equal-constant-time/index.js")),n(e,t)};function S(e){return function(t,r,n){var s=w(e)(t,n);return j(i.from(r),i.from(s))}}function k(e){return function(t,r){f(r),t=b(t);var n=s.createSign("RSA-SHA"+e);return g((n.update(t),n.sign(r,"base64")))}}function E(e){return function(t,r,n){p(n),t=b(t),r=y(r);var i=s.createVerify("RSA-SHA"+e);return i.update(t),i.verify(n,r,"base64")}}function C(e){return function(t,r){f(r),t=b(t);var n=s.createSign("RSA-SHA"+e);return g((n.update(t),n.sign({key:r,padding:s.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function x(e){return function(t,r,n){p(n),t=b(t),r=y(r);var i=s.createVerify("RSA-SHA"+e);return i.update(t),i.verify({key:n,padding:s.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function T(e){var t=k(e);return function(){var r=t.apply(null,arguments);return o.derToJose(r,"ES"+e)}}function O(e){var t=E(e);return function(r,n,i){return t(r,n=o.joseToDer(n,"ES"+e).toString("base64"),i)}}function I(){return function(){return""}}function A(){return function(e,t){return""===t}}e.exports=function(e){var t={hs:w,rs:k,ps:C,es:T,none:I},r={hs:S,rs:E,ps:x,es:O,none:A},n=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!n)throw _(l,e);var i=(n[1]||n[3]).toLowerCase(),s=n[2];return{sign:t[i](s),verify:r[i](s)}}},"./node_modules/jws/index.js":function(e,t,r){var n=r("./node_modules/jws/lib/sign-stream.js"),i=r("./node_modules/jws/lib/verify-stream.js");t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=n.sign,t.verify=i.verify,t.decode=i.decode,t.isValid=i.isValid,t.createSign=function(e){return new n(e)},t.createVerify=function(e){return new i(e)}},"./node_modules/jws/lib/data-stream.js":function(e,t,r){var n=r("./node_modules/safe-buffer/index.js").Buffer,i=r("stream");function s(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=n.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=n.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick((function(){this.emit("end",e),this.readable=!1,this.emit("close")}).bind(this)),this;throw TypeError("Unexpected data type ("+typeof e+")")}r("util").inherits(s,i),s.prototype.write=function(e){this.buffer=n.concat([this.buffer,n.from(e)]),this.emit("data",e)},s.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=s},"./node_modules/jws/lib/sign-stream.js":function(e,t,r){var n=r("./node_modules/safe-buffer/index.js").Buffer,i=r("./node_modules/jws/lib/data-stream.js"),s=r("./node_modules/jwa/index.js"),o=r("stream"),a=r("./node_modules/jws/lib/tostring.js"),l=r("util");function c(e,t){return n.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(e,t,r){r=r||"utf8";var n=c(a(e),"binary"),i=c(a(t),r);return l.format("%s.%s",n,i)}function d(e){var t=e.header,r=e.payload,n=e.secret||e.privateKey,i=e.encoding,o=s(t.alg),a=u(t,r,i),c=o.sign(a,n);return l.format("%s.%s",a,c)}function h(e){var t=new i(e.secret||e.privateKey||e.key);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=t,this.payload=new i(e.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}l.inherits(h,o),h.prototype.sign=function(){try{var e=d({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},h.sign=d,e.exports=h},"./node_modules/jws/lib/tostring.js":function(e,t,r){var n=r("buffer").Buffer;e.exports=function(e){return"string"==typeof e?e:"number"==typeof e||n.isBuffer(e)?e.toString():JSON.stringify(e)}},"./node_modules/jws/lib/verify-stream.js":function(e,t,r){var n=r("./node_modules/safe-buffer/index.js").Buffer,i=r("./node_modules/jws/lib/data-stream.js"),s=r("./node_modules/jwa/index.js"),o=r("stream"),a=r("./node_modules/jws/lib/tostring.js"),l=r("util"),c=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function u(e){return"[object Object]"===Object.prototype.toString.call(e)}function d(e){if(u(e))return e;try{return JSON.parse(e)}catch(e){return}}function h(e){var t=e.split(".",1)[0];return d(n.from(t,"base64").toString("binary"))}function p(e){return e.split(".",2).join(".")}function f(e){return e.split(".")[2]}function m(e,t){t=t||"utf8";var r=e.split(".")[1];return n.from(r,"base64").toString(t)}function g(e){return c.test(e)&&!!h(e)}function y(e,t,r){if(!t){var n=Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}var i=f(e=a(e)),o=p(e);return s(t).verify(o,i,r)}function _(e,t){if(t=t||{},!g(e=a(e)))return null;var r=h(e);if(!r)return null;var n=m(e);return("JWT"===r.typ||t.json)&&(n=JSON.parse(n,t.encoding)),{header:r,payload:n,signature:f(e)}}function v(e){var t=new i((e=e||{}).secret||e.publicKey||e.key);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=t,this.signature=new i(e.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}l.inherits(v,o),v.prototype.verify=function(){try{var e=y(this.signature.buffer,this.algorithm,this.key.buffer),t=_(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},v.decode=_,v.isValid=g,v.verify=y,e.exports=v},"./node_modules/lodash.camelcase/index.js":function(e){var t=1/0,r="[object Symbol]",n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s="\ud800-\udfff",o="\\u0300-\\u036f\\ufe20-\\ufe23",a="\\u20d0-\\u20f0",l="\\u2700-\\u27bf",c="a-z\\xdf-\\xf6\\xf8-\\xff",u="A-Z\\xc0-\\xd6\\xd8-\\xde",d="\\ufe0e\\ufe0f",h="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",p="['’]",f="["+s+"]",m="["+h+"]",g="["+o+a+"]",y="\\d+",_="["+l+"]",v="["+c+"]",b="[^"+s+h+y+l+c+u+"]",w="\ud83c[\udffb-\udfff]",j="[^"+s+"]",S="(?:\ud83c[\udde6-\uddff]){2}",k="[\ud800-\udbff][\udc00-\udfff]",E="["+u+"]",C="\\u200d",x="(?:"+v+"|"+b+")",T="(?:"+E+"|"+b+")",O="(?:"+p+"(?:d|ll|m|re|s|t|ve))?",I="(?:"+p+"(?:D|LL|M|RE|S|T|VE))?",A="(?:"+g+"|"+w+")?",P="["+d+"]?",R="(?:"+C+"(?:"+[j,S,k].join("|")+")"+P+A+")*",N=P+A+R,$="(?:"+[_,S,k].join("|")+")"+N,M="(?:"+[j+g+"?",g,S,k,f].join("|")+")",D=RegExp(p,"g"),L=RegExp(g,"g"),B=RegExp(w+"(?="+w+")|"+M+N,"g"),U=RegExp([E+"?"+v+"+"+O+"(?="+[m,E,"$"].join("|")+")",T+"+"+I+"(?="+[m,E+x,"$"].join("|")+")",E+"?"+x+"+"+O,E+"+"+I,y,$].join("|"),"g"),z=RegExp("["+C+s+o+a+d+"]"),F=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,H={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"ss"},q="object"==typeof global&&global&&global.Object===Object&&global,W="object"==typeof self&&self&&self.Object===Object&&self,J=q||W||Function("return this")();function V(e,t,r,n){var i=-1,s=e?e.length:0;for(n&&s&&(r=e[++i]);++i<s;)r=t(r,e[i],i,e);return r}function K(e){return e.split("")}function G(e){return e.match(n)||[]}var Z=function(e){return function(t){return null==e?void 0:e[t]}}(H);function Q(e){return z.test(e)}function X(e){return F.test(e)}function Y(e){return Q(e)?ee(e):K(e)}function ee(e){return e.match(B)||[]}function et(e){return e.match(U)||[]}var er=Object.prototype.toString,en=J.Symbol,ei=en?en.prototype:void 0,es=ei?ei.toString:void 0;function eo(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+t];return s}function ea(e){if("string"==typeof e)return e;if(ed(e))return es?es.call(e):"";var r=e+"";return"0"==r&&1/e==-t?"-0":r}function el(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:eo(e,t,r)}function ec(e){return function(t){var r=Q(t=eh(t))?Y(t):void 0,n=r?r[0]:t.charAt(0),i=r?el(r,1).join(""):t.slice(1);return n[e]()+i}}function eu(e){return!!e&&"object"==typeof e}function ed(e){return"symbol"==typeof e||eu(e)&&er.call(e)==r}function eh(e){return null==e?"":ea(e)}var ep=function(e){return function(t){return V(ey(em(t).replace(D,"")),e,"")}}(function(e,t,r){return t=t.toLowerCase(),e+(r?ef(t):t)});function ef(e){return eg(eh(e).toLowerCase())}function em(e){return(e=eh(e))&&e.replace(i,Z).replace(L,"")}var eg=ec("toUpperCase");function ey(e,t,r){return(e=eh(e),void 0===(t=r?void 0:t))?X(e)?et(e):G(e):e.match(t)||[]}e.exports=ep},"./node_modules/lodash.includes/index.js":function(e){var t=1/0,r=0x1fffffffffffff,n=17976931348623157e292,i=0/0,s="[object Arguments]",o="[object Function]",a="[object GeneratorFunction]",l="[object String]",c="[object Symbol]",u=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,p=/^0o[0-7]+$/i,f=/^(?:0|[1-9]\d*)$/,m=parseInt;function g(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function y(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return -1}function _(e,t,r){if(t!=t)return y(e,v,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return -1}function v(e){return e!=e}function b(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function w(e,t){return g(t,function(t){return e[t]})}function j(e,t){return function(r){return e(t(r))}}var S=Object.prototype,k=S.hasOwnProperty,E=S.toString,C=S.propertyIsEnumerable,x=j(Object.keys,Object),T=Math.max;function O(e,t){var r=N(e)||R(e)?b(e.length,String):[],n=r.length,i=!!n;for(var s in e)(t||k.call(e,s))&&!(i&&("length"==s||A(s,n)))&&r.push(s);return r}function I(e){if(!P(e))return x(e);var t=[];for(var r in Object(e))k.call(e,r)&&"constructor"!=r&&t.push(r);return t}function A(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||f.test(e))&&e>-1&&e%1==0&&e<t}function P(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||S)}function R(e){return M(e)&&k.call(e,"callee")&&(!C.call(e,"callee")||E.call(e)==s)}var N=Array.isArray;function $(e){return null!=e&&L(e.length)&&!D(e)}function M(e){return U(e)&&$(e)}function D(e){var t=B(e)?E.call(e):"";return t==o||t==a}function L(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function B(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function U(e){return!!e&&"object"==typeof e}function z(e){return"string"==typeof e||!N(e)&&U(e)&&E.call(e)==l}function F(e){return"symbol"==typeof e||U(e)&&E.call(e)==c}function H(e){return e?(e=W(e))===t||e===-t?(e<0?-1:1)*n:e==e?e:0:0===e?e:0}function q(e){var t=H(e),r=t%1;return t==t?r?t-r:t:0}function W(e){if("number"==typeof e)return e;if(F(e))return i;if(B(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=B(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(u,"");var r=h.test(e);return r||p.test(e)?m(e.slice(2),r?2:8):d.test(e)?i:+e}function J(e){return $(e)?O(e):I(e)}function V(e){return e?w(e,J(e)):[]}e.exports=function(e,t,r,n){e=$(e)?e:V(e),r=r&&!n?q(r):0;var i=e.length;return r<0&&(r=T(i+r,0)),z(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&_(e,t,r)>-1}},"./node_modules/lodash.isboolean/index.js":function(e){var t="[object Boolean]",r=Object.prototype.toString;function n(e){return!!e&&"object"==typeof e}e.exports=function(e){return!0===e||!1===e||n(e)&&r.call(e)==t}},"./node_modules/lodash.isinteger/index.js":function(e){var t=1/0,r=17976931348623157e292,n=0/0,i="[object Symbol]",s=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,u=Object.prototype.toString;function d(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){return!!e&&"object"==typeof e}function p(e){return"symbol"==typeof e||h(e)&&u.call(e)==i}function f(e){return e?(e=g(e))===t||e===-t?(e<0?-1:1)*r:e==e?e:0:0===e?e:0}function m(e){var t=f(e),r=t%1;return t==t?r?t-r:t:0}function g(e){if("number"==typeof e)return e;if(p(e))return n;if(d(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=d(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var r=a.test(e);return r||l.test(e)?c(e.slice(2),r?2:8):o.test(e)?n:+e}e.exports=function(e){return"number"==typeof e&&e==m(e)}},"./node_modules/lodash.isnumber/index.js":function(e){var t="[object Number]",r=Object.prototype.toString;function n(e){return!!e&&"object"==typeof e}e.exports=function(e){return"number"==typeof e||n(e)&&r.call(e)==t}},"./node_modules/lodash.isplainobject/index.js":function(e){var t="[object Object]";function r(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function n(e,t){return function(r){return e(t(r))}}var i=Object.prototype,s=Function.prototype.toString,o=i.hasOwnProperty,a=s.call(Object),l=i.toString,c=n(Object.getPrototypeOf,Object);function u(e){return!!e&&"object"==typeof e}e.exports=function(e){if(!u(e)||l.call(e)!=t||r(e))return!1;var n=c(e);if(null===n)return!0;var i=o.call(n,"constructor")&&n.constructor;return"function"==typeof i&&i instanceof i&&s.call(i)==a}},"./node_modules/lodash.isstring/index.js":function(e){var t="[object String]",r=Object.prototype.toString,n=Array.isArray;function i(e){return!!e&&"object"==typeof e}e.exports=function(e){return"string"==typeof e||!n(e)&&i(e)&&r.call(e)==t}},"./node_modules/lodash.once/index.js":function(e){var t="Expected a function",r=1/0,n=17976931348623157e292,i=0/0,s="[object Symbol]",o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt,d=Object.prototype.toString;function h(e,r){var n;if("function"!=typeof r)throw TypeError(t);return e=y(e),function(){return--e>0&&(n=r.apply(this,arguments)),e<=1&&(r=void 0),n}}function p(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function f(e){return!!e&&"object"==typeof e}function m(e){return"symbol"==typeof e||f(e)&&d.call(e)==s}function g(e){return e?(e=_(e))===r||e===-r?(e<0?-1:1)*n:e==e?e:0:0===e?e:0}function y(e){var t=g(e),r=t%1;return t==t?r?t-r:t:0}function _(e){if("number"==typeof e)return e;if(m(e))return i;if(p(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=p(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var r=l.test(e);return r||c.test(e)?u(e.slice(2),r?2:8):a.test(e)?i:+e}e.exports=function(e){return h(2,e)}},"./node_modules/lru-cache/index.js":function(e,t,r){"use strict";let n=r("./node_modules/yallist/yallist.js"),i=Symbol("max"),s=Symbol("length"),o=Symbol("lengthCalculator"),a=Symbol("allowStale"),l=Symbol("maxAge"),c=Symbol("dispose"),u=Symbol("noDisposeOnSet"),d=Symbol("lruList"),h=Symbol("cache"),p=Symbol("updateAgeOnGet"),f=()=>1;class m{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw TypeError("max must be a non-negative number");this[i]=e.max||1/0;let t=e.length||f;if(this[o]="function"!=typeof t?f:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[c]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw TypeError("max must be a non-negative number");this[i]=e||1/0,_(this)}get max(){return this[i]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw TypeError("maxAge must be a non-negative number");this[l]=e,_(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[o]&&(this[o]=e,this[s]=0,this[d].forEach(e=>{e.length=this[o](e.value,e.key),this[s]+=e.length})),_(this)}get lengthCalculator(){return this[o]}get length(){return this[s]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let r=this[d].tail;null!==r;){let n=r.prev;w(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[d].head;null!==r;){let n=r.next;w(this,e,r,t),r=n}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){this[c]&&this[d]&&this[d].length&&this[d].forEach(e=>this[c](e.key,e.value)),this[h]=new Map,this[d]=new n,this[s]=0}dump(){return this[d].map(e=>!y(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,t,r){if((r=r||this[l])&&"number"!=typeof r)throw TypeError("maxAge must be a number");let n=r?Date.now():0,a=this[o](t,e);if(this[h].has(e)){if(a>this[i])return v(this,this[h].get(e)),!1;let o=this[h].get(e).value;return this[c]&&!this[u]&&this[c](e,o.value),o.now=n,o.maxAge=r,o.value=t,this[s]+=a-o.length,o.length=a,this.get(e),_(this),!0}let p=new b(e,t,a,n,r);return p.length>this[i]?(this[c]&&this[c](e,t),!1):(this[s]+=p.length,this[d].unshift(p),this[h].set(e,this[d].head),_(this),!0)}has(e){return!!this[h].has(e)&&!y(this,this[h].get(e).value)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){let e=this[d].tail;return e?(v(this,e),e.value):null}del(e){v(this,this[h].get(e))}load(e){this.reset();let t=Date.now();for(let r=e.length-1;r>=0;r--){let n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{let e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[h].forEach((e,t)=>g(this,t,!1))}}let g=(e,t,r)=>{let n=e[h].get(t);if(n){let t=n.value;if(y(e,t)){if(v(e,n),!e[a])return}else r&&(e[p]&&(n.value.now=Date.now()),e[d].unshiftNode(n));return t.value}},y=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;let r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[l]&&r>e[l]},_=e=>{if(e[s]>e[i])for(let t=e[d].tail;e[s]>e[i]&&null!==t;){let r=t.prev;v(e,t),t=r}},v=(e,t)=>{if(t){let r=t.value;e[c]&&e[c](r.key,r.value),e[s]-=r.length,e[h].delete(r.key),e[d].removeNode(t)}};class b{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}let w=(e,t,r,n)=>{let i=r.value;y(e,i)&&(v(e,r),e[a]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};e.exports=m},"./node_modules/object-hash/index.js":function(e,t,r){"use strict";var n=r("crypto");function i(e,t){return t=a(e,t),c(e,t)}(t=e.exports=i).sha1=function(e){return i(e)},t.keys=function(e){return i(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},t.MD5=function(e){return i(e,{algorithm:"md5",encoding:"hex"})},t.keysMD5=function(e){return i(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var s=n.getHashes?n.getHashes().slice():["sha1","md5"];s.push("passthrough");var o=["buffer","hex","binary","base64"];function a(e,t){var r={};if(r.algorithm=(t=t||{}).algorithm||"sha1",r.encoding=t.encoding||"hex",r.excludeValues=!!t.excludeValues,r.algorithm=r.algorithm.toLowerCase(),r.encoding=r.encoding.toLowerCase(),r.ignoreUnknown=!0===t.ignoreUnknown,r.respectType=!1!==t.respectType,r.respectFunctionNames=!1!==t.respectFunctionNames,r.respectFunctionProperties=!1!==t.respectFunctionProperties,r.unorderedArrays=!0===t.unorderedArrays,r.unorderedSets=!1!==t.unorderedSets,r.unorderedObjects=!1!==t.unorderedObjects,r.replacer=t.replacer||void 0,r.excludeKeys=t.excludeKeys||void 0,void 0===e)throw Error("Object argument required.");for(var n=0;n<s.length;++n)s[n].toLowerCase()===r.algorithm.toLowerCase()&&(r.algorithm=s[n]);if(-1===s.indexOf(r.algorithm))throw Error('Algorithm "'+r.algorithm+'"  not supported. supported values: '+s.join(", "));if(-1===o.indexOf(r.encoding)&&"passthrough"!==r.algorithm)throw Error('Encoding "'+r.encoding+'"  not supported. supported values: '+o.join(", "));return r}function l(e){return"function"==typeof e&&null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function c(e,t){if(void 0===(r="passthrough"!==t.algorithm?n.createHash(t.algorithm):new d).write&&(r.write=r.update,r.end=r.update),u(t,r).dispatch(e),r.update||r.end(""),r.digest)return r.digest("buffer"===t.encoding?void 0:t.encoding);var r,i=r.read();return"buffer"===t.encoding?i:i.toString(t.encoding)}function u(e,t,r){r=r||[];var n=function(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")};return{dispatch:function(t){e.replacer&&(t=e.replacer(t));var r=typeof t;return null===t&&(r="null"),this["_"+r](t)},_object:function(t){var i=/\[object (.*)\]/i,s=Object.prototype.toString.call(t),o=i.exec(s);o=(o=o?o[1]:"unknown:["+s+"]").toLowerCase();var a=null;if((a=r.indexOf(t))>=0)return this.dispatch("[CIRCULAR:"+a+"]");if(r.push(t),"undefined"!=typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t))return n("buffer:"),n(t);if("object"!==o&&"function"!==o&&"asyncfunction"!==o)if(this["_"+o])this["_"+o](t);else if(e.ignoreUnknown)return n("["+o+"]");else throw Error('Unknown object type "'+o+'"');else{var c=Object.keys(t);e.unorderedObjects&&(c=c.sort()),!1===e.respectType||l(t)||c.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(c=c.filter(function(t){return!e.excludeKeys(t)})),n("object:"+c.length+":");var u=this;return c.forEach(function(r){u.dispatch(r),n(":"),e.excludeValues||u.dispatch(t[r]),n(",")})}},_array:function(t,i){i=void 0!==i?i:!1!==e.unorderedArrays;var s=this;if(n("array:"+t.length+":"),!i||t.length<=1)return t.forEach(function(e){return s.dispatch(e)});var o=[],a=t.map(function(t){var n=new d,i=r.slice();return u(e,n,i).dispatch(t),o=o.concat(i.slice(r.length)),n.read().toString()});return r=r.concat(o),a.sort(),this._array(a,!1)},_date:function(e){return n("date:"+e.toJSON())},_symbol:function(e){return n("symbol:"+e.toString())},_error:function(e){return n("error:"+e.toString())},_boolean:function(e){return n("bool:"+e.toString())},_string:function(e){n("string:"+e.length+":"),n(e.toString())},_function:function(t){n("fn:"),l(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return n("number:"+e.toString())},_xml:function(e){return n("xml:"+e.toString())},_null:function(){return n("Null")},_undefined:function(){return n("Undefined")},_regexp:function(e){return n("regex:"+e.toString())},_uint8array:function(e){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return n("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return n("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return n("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return n("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return n("url:"+e.toString(),"utf8")},_map:function(t){n("map:");var r=Array.from(t);return this._array(r,!1!==e.unorderedSets)},_set:function(t){n("set:");var r=Array.from(t);return this._array(r,!1!==e.unorderedSets)},_file:function(e){return n("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return n("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return n("domwindow")},_bigint:function(e){return n("bigint:"+e.toString())},_process:function(){return n("process")},_timer:function(){return n("timer")},_pipe:function(){return n("pipe")},_tcp:function(){return n("tcp")},_udp:function(){return n("udp")},_tty:function(){return n("tty")},_statwatcher:function(){return n("statwatcher")},_securecontext:function(){return n("securecontext")},_connection:function(){return n("connection")},_zlib:function(){return n("zlib")},_context:function(){return n("context")},_nodescript:function(){return n("nodescript")},_httpparser:function(){return n("httpparser")},_dataview:function(){return n("dataview")},_signal:function(){return n("signal")},_fsevent:function(){return n("fsevent")},_tlswrap:function(){return n("tlswrap")}}}function d(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}t.writeToStream=function(e,t,r){return void 0===r&&(r=t,t={}),u(t=a(e,t),r).dispatch(e)}},"./node_modules/oidc-token-hash/lib/index.js":function(e,t,r){let n,{strict:i}=r("assert"),{createHash:s}=r("crypto"),{format:o}=r("util"),a=r("./node_modules/oidc-token-hash/lib/shake256.js");if(Buffer.isEncoding("base64url"))n=e=>e.toString("base64url");else{let e=e=>e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");n=t=>e(t.toString("base64"))}function l(e,t){switch(e){case"HS256":case"RS256":case"PS256":case"ES256":case"ES256K":return s("sha256");case"HS384":case"RS384":case"PS384":case"ES384":return s("sha384");case"HS512":case"RS512":case"PS512":case"ES512":case"Ed25519":return s("sha512");case"Ed448":if(!a)throw TypeError("Ed448 *_hash calculation is not supported in your Node.js runtime version");return s("shake256",{outputLength:114});case"EdDSA":switch(t){case"Ed25519":return s("sha512");case"Ed448":if(!a)throw TypeError("Ed448 *_hash calculation is not supported in your Node.js runtime version");return s("shake256",{outputLength:114});default:throw TypeError("unrecognized or invalid EdDSA curve provided")}default:throw TypeError("unrecognized or invalid JWS algorithm provided")}}function c(e,t,r){let i=l(t,r).update(e).digest();return n(i.slice(0,i.length/2))}e.exports={validate:function(e,t,r,n,s){let a,l;if("string"!=typeof e.claim||!e.claim)throw TypeError("names.claim must be a non-empty string");if("string"!=typeof e.source||!e.source)throw TypeError("names.source must be a non-empty string");i("string"==typeof t&&t,`${e.claim} must be a non-empty string`),i("string"==typeof r&&r,`${e.source} must be a non-empty string`);try{a=c(r,n,s)}catch(t){l=o("%s could not be validated (%s)",e.claim,t.message)}l=l||o("%s mismatch, expected %s, got: %s",e.claim,a,t),i.equal(a,t,l)},generate:c}},"./node_modules/oidc-token-hash/lib/shake256.js":function(e,t,r){let n=r("crypto"),[i,s]=process.version.substring(1).split(".").map(e=>parseInt(e,10));e.exports=(i>12||12===i&&s>=8)&&n.getHashes().includes("shake256")},"./node_modules/openid-client/lib/client.js":function(e,t,r){let n,{inspect:i}=r("util"),s=r("http"),o=r("crypto"),{strict:a}=r("assert"),l=r("querystring"),c=r("url"),{URL:u,URLSearchParams:d}=r("url"),h=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/index.js"),p=r("./node_modules/oidc-token-hash/lib/index.js"),f=r("./node_modules/openid-client/lib/helpers/is_key_object.js"),m=r("./node_modules/openid-client/lib/helpers/decode_jwt.js"),g=r("./node_modules/openid-client/lib/helpers/base64url.js"),y=r("./node_modules/openid-client/lib/helpers/defaults.js"),_=r("./node_modules/openid-client/lib/helpers/www_authenticate_parser.js"),{assertSigningAlgValuesSupport:v,assertIssuerConfiguration:b}=r("./node_modules/openid-client/lib/helpers/assert.js"),w=r("./node_modules/openid-client/lib/helpers/pick.js"),j=r("./node_modules/openid-client/lib/helpers/is_plain_object.js"),S=r("./node_modules/openid-client/lib/helpers/process_response.js"),k=r("./node_modules/openid-client/lib/token_set.js"),{OPError:E,RPError:C}=r("./node_modules/openid-client/lib/errors.js"),x=r("./node_modules/openid-client/lib/helpers/unix_timestamp.js"),{random:T}=r("./node_modules/openid-client/lib/helpers/generators.js"),O=r("./node_modules/openid-client/lib/helpers/request.js"),{CLOCK_TOLERANCE:I}=r("./node_modules/openid-client/lib/helpers/consts.js"),{keystores:A}=r("./node_modules/openid-client/lib/helpers/weak_cache.js"),P=r("./node_modules/openid-client/lib/helpers/keystore.js"),R=r("./node_modules/openid-client/lib/helpers/deep_clone.js"),{authenticatedPost:N,resolveResponseType:$,resolveRedirectUri:M}=r("./node_modules/openid-client/lib/helpers/client.js"),{queryKeyStore:D}=r("./node_modules/openid-client/lib/helpers/issuer.js"),L=r("./node_modules/openid-client/lib/device_flow_handle.js"),[B,U]=process.version.slice(1).split(".").map(e=>parseInt(e,10)),z=B>=17||16===B&&U>=9,F=Symbol(),H=Symbol(),q=Symbol();function W(e){return w(e,"access_token","code","error_description","error_uri","error","expires_in","id_token","iss","response","session_state","state","token_type")}function J(e,t="Bearer"){return`${t} ${e}`}function V(e){let t=c.parse(e);return t.search?l.parse(t.search.substring(1)):{}}function K(e,t,r){if(void 0===e[r])throw new C({message:`missing required JWT property ${r}`,jwt:t})}function G(e){let t={client_id:this.client_id,scope:"openid",response_type:$.call(this),redirect_uri:M.call(this),...e};return Object.entries(t).forEach(([e,r])=>{null==r?delete t[e]:"claims"===e&&"object"==typeof r?t[e]=JSON.stringify(r):"resource"===e&&Array.isArray(r)?t[e]=r:"string"!=typeof r&&(t[e]=String(r))}),t}function Z(e){if(!j(e)||!Array.isArray(e.keys)||e.keys.some(e=>!j(e)||!("kty"in e)))throw TypeError("jwks must be a JSON Web Key Set formatted object");return P.fromJWKS(e,{onlyPrivate:!0})}function Q(e,t){try{let r=e.issuer.token_endpoint_auth_methods_supported;!r.includes(t.token_endpoint_auth_method)&&r.includes("client_secret_post")&&(t.token_endpoint_auth_method="client_secret_post")}catch(e){}}function X(e,t,r){if(t.token_endpoint_auth_method||Q(e,r),t.redirect_uri){if(t.redirect_uris)throw TypeError("provide a redirect_uri or redirect_uris, not both");r.redirect_uris=[t.redirect_uri],delete r.redirect_uri}if(t.response_type){if(t.response_types)throw TypeError("provide a response_type or response_types, not both");r.response_types=[t.response_type],delete r.response_type}}function Y(e,t,r){if(!t[`${e}_endpoint`])return;let n=r.token_endpoint_auth_method,i=r.token_endpoint_auth_signing_alg,s=`${e}_endpoint_auth_method`,o=`${e}_endpoint_auth_signing_alg`;void 0===r[s]&&void 0===r[o]&&(void 0!==n&&(r[s]=n),void 0!==i&&(r[o]=i))}class ee{#e;#t;#r;#n;constructor(e,t,r={},n,i){if(this.#e=new Map,this.#t=e,this.#r=t,"string"!=typeof r.client_id||!r.client_id)throw TypeError("client_id is required");let s={grant_types:["authorization_code"],id_token_signed_response_alg:"RS256",authorization_signed_response_alg:"RS256",response_types:["code"],token_endpoint_auth_method:"client_secret_basic",...this.fapi1()?{grant_types:["authorization_code","implicit"],id_token_signed_response_alg:"PS256",authorization_signed_response_alg:"PS256",response_types:["code id_token"],tls_client_certificate_bound_access_tokens:!0,token_endpoint_auth_method:void 0}:void 0,...this.fapi2()?{id_token_signed_response_alg:"PS256",authorization_signed_response_alg:"PS256",token_endpoint_auth_method:void 0}:void 0,...r};if(this.fapi())switch(s.token_endpoint_auth_method){case"self_signed_tls_client_auth":case"tls_client_auth":break;case"private_key_jwt":if(!n)throw TypeError("jwks is required");break;case void 0:throw TypeError("token_endpoint_auth_method is required");default:throw TypeError("invalid or unsupported token_endpoint_auth_method")}if(this.fapi2()&&(s.tls_client_certificate_bound_access_tokens&&s.dpop_bound_access_tokens||!s.tls_client_certificate_bound_access_tokens&&!s.dpop_bound_access_tokens))throw TypeError("either tls_client_certificate_bound_access_tokens or dpop_bound_access_tokens must be set to true");if(X(this,r,s),v("token",this.issuer,s),["introspection","revocation"].forEach(e=>{Y(e,this.issuer,s),v(e,this.issuer,s)}),Object.entries(s).forEach(([e,t])=>{this.#e.set(e,t),this[e]||Object.defineProperty(this,e,{get(){return this.#e.get(e)},enumerable:!0})}),void 0!==n){let e=Z.call(this,n);A.set(this,e)}null!=i&&i.additionalAuthorizedParties&&(this.#n=R(i.additionalAuthorizedParties)),this[I]=0}authorizationUrl(e={}){if(!j(e))throw TypeError("params must be a plain object");b(this.issuer,"authorization_endpoint");let t=new u(this.issuer.authorization_endpoint);for(let[r,n]of Object.entries(G.call(this,e)))if(Array.isArray(n))for(let e of(t.searchParams.delete(r),n))t.searchParams.append(r,e);else t.searchParams.set(r,n);return t.href.replace(/\+/g,"%20")}authorizationPost(e={}){if(!j(e))throw TypeError("params must be a plain object");let t=G.call(this,e),r=Object.keys(t).map(e=>`<input type="hidden" name="${e}" value="${t[e]}"/>`).join("\n");return`<!DOCTYPE html>
<head>
<title>Requesting Authorization</title>
</head>
<body onload="javascript:document.forms[0].submit()">
<form method="post" action="${this.issuer.authorization_endpoint}">
  ${r}
</form>
</body>
</html>`}endSessionUrl(e={}){let t;b(this.issuer,"end_session_endpoint");let{0:r,length:n}=this.post_logout_redirect_uris||[],{post_logout_redirect_uri:i=1===n?r:void 0}=e;if({id_token_hint:t,...e}=e,t instanceof k){if(!t.id_token)throw TypeError("id_token not present in TokenSet");t=t.id_token}let s=c.parse(this.issuer.end_session_endpoint),o=y(V(this.issuer.end_session_endpoint),e,{post_logout_redirect_uri:i,client_id:this.client_id},{id_token_hint:t});return Object.entries(o).forEach(([e,t])=>{null==t&&delete o[e]}),s.search=null,s.query=o,c.format(s)}callbackParams(e){let t=e instanceof s.IncomingMessage||e&&e.method&&e.url;if("string"!=typeof e&&!t)throw TypeError("#callbackParams only accepts string urls, http.IncomingMessage or a lookalike");if(!t)return W(V(e));switch(e.method){case"GET":return W(V(e.url));case"POST":if(void 0===e.body)throw TypeError("incoming message body missing, include a body parser prior to this method call");switch(typeof e.body){case"object":case"string":if(Buffer.isBuffer(e.body))return W(l.parse(e.body.toString("utf-8")));if("string"==typeof e.body)return W(l.parse(e.body));return W(e.body);default:throw TypeError("invalid IncomingMessage body object")}default:throw TypeError("invalid IncomingMessage method")}}async callback(e,t,r={},{exchangeBody:n,clientAssertionPayload:i,DPoP:s}={}){let o=W(t);if(!r.jarm||"response"in t){if("response"in t){let e=await this.decryptJARM(o.response);o=await this.validateJARM(e)}}else throw new C({message:"expected a JARM response",checks:r,params:o});if(this.default_max_age&&!r.max_age&&(r.max_age=this.default_max_age),o.state&&!r.state)throw TypeError("checks.state argument is missing");if(!o.state&&r.state)throw new C({message:"state missing from the response",checks:r,params:o});if(r.state!==o.state)throw new C({printf:["state mismatch, expected %s, got: %s",r.state,o.state],checks:r,params:o});if("iss"in o){if(b(this.issuer,"issuer"),o.iss!==this.issuer.issuer)throw new C({printf:["iss mismatch, expected %s, got: %s",this.issuer.issuer,o.iss],params:o})}else if(this.issuer.authorization_response_iss_parameter_supported&&!("id_token"in o)&&!("response"in t))throw new C({message:"iss missing from the response",params:o});if(o.error)throw new E(o);let a={code:["code"],id_token:["id_token"],token:["access_token","token_type"]};if(r.response_type){for(let e of r.response_type.split(" "))if("none"===e){if(o.code||o.id_token||o.access_token)throw new C({message:'unexpected params encountered for "none" response',checks:r,params:o})}else for(let t of a[e])if(!o[t])throw new C({message:`${t} missing from response`,checks:r,params:o})}if(o.id_token){let e=new k(o);if(await this.decryptIdToken(e),await this.validateIdToken(e,r.nonce,"authorization",r.max_age,r.state),!o.code)return e}if(o.code){let t=await this.grant({...n,grant_type:"authorization_code",code:o.code,redirect_uri:e,code_verifier:r.code_verifier},{clientAssertionPayload:i,DPoP:s});return await this.decryptIdToken(t),await this.validateIdToken(t,r.nonce,"token",r.max_age),o.session_state&&(t.session_state=o.session_state),t}return new k(o)}async oauthCallback(e,t,r={},{exchangeBody:n,clientAssertionPayload:i,DPoP:s}={}){let o=W(t);if(!r.jarm||"response"in t){if("response"in t){let e=await this.decryptJARM(o.response);o=await this.validateJARM(e)}}else throw new C({message:"expected a JARM response",checks:r,params:o});if(o.state&&!r.state)throw TypeError("checks.state argument is missing");if(!o.state&&r.state)throw new C({message:"state missing from the response",checks:r,params:o});if(r.state!==o.state)throw new C({printf:["state mismatch, expected %s, got: %s",r.state,o.state],checks:r,params:o});if("iss"in o){if(b(this.issuer,"issuer"),o.iss!==this.issuer.issuer)throw new C({printf:["iss mismatch, expected %s, got: %s",this.issuer.issuer,o.iss],params:o})}else if(this.issuer.authorization_response_iss_parameter_supported&&!("id_token"in o)&&!("response"in t))throw new C({message:"iss missing from the response",params:o});if(o.error)throw new E(o);if("string"==typeof o.id_token&&o.id_token.length)throw new C({message:"id_token detected in the response, you must use client.callback() instead of client.oauthCallback()",params:o});delete o.id_token;let a={code:["code"],token:["access_token","token_type"]};if(r.response_type)for(let e of r.response_type.split(" ")){if("none"===e&&(o.code||o.id_token||o.access_token))throw new C({message:'unexpected params encountered for "none" response',checks:r,params:o});if(a[e]){for(let t of a[e])if(!o[t])throw new C({message:`${t} missing from response`,checks:r,params:o})}}if(o.code){let t=await this.grant({...n,grant_type:"authorization_code",code:o.code,redirect_uri:e,code_verifier:r.code_verifier},{clientAssertionPayload:i,DPoP:s});if("string"==typeof t.id_token&&t.id_token.length)throw new C({message:"id_token detected in the response, you must use client.callback() instead of client.oauthCallback()",params:o});return delete t.id_token,t}return new k(o)}async decryptIdToken(e){if(!this.id_token_encrypted_response_alg)return e;let t=e;if(t instanceof k){if(!t.id_token)throw TypeError("id_token not present in TokenSet");t=t.id_token}let r=this.id_token_encrypted_response_alg,n=this.id_token_encrypted_response_enc,i=await this.decryptJWE(t,r,n);return e instanceof k?(e.id_token=i,e):i}async validateJWTUserinfo(e){let t=this.userinfo_signed_response_alg;return this.validateJWT(e,t,[])}async decryptJARM(e){if(!this.authorization_encrypted_response_alg)return e;let t=this.authorization_encrypted_response_alg,r=this.authorization_encrypted_response_enc;return this.decryptJWE(e,t,r)}async decryptJWTUserinfo(e){if(!this.userinfo_encrypted_response_alg)return e;let t=this.userinfo_encrypted_response_alg,r=this.userinfo_encrypted_response_enc;return this.decryptJWE(e,t,r)}async decryptJWE(e,t,r="A128CBC-HS256"){let n,i=JSON.parse(g.decode(e.split(".")[0]));if(i.alg!==t)throw new C({printf:["unexpected JWE alg received, expected %s, got: %s",t,i.alg],jwt:e});if(i.enc!==r)throw new C({printf:["unexpected JWE enc received, expected %s, got: %s",r,i.enc],jwt:e});let s=e=>new TextDecoder().decode(e.plaintext);if(t.match(/^(?:RSA|ECDH)/)){let t=await A.get(this),r=h.decodeProtectedHeader(e);for(let i of t.all({...r,use:"enc"}))if(n=await h.compactDecrypt(e,await i.keyObject(r.alg)).then(s,()=>{}))break}else n=await h.compactDecrypt(e,this.secretForAlg("dir"===t?r:t)).then(s,()=>{});if(!n)throw new C({message:"failed to decrypt JWE",jwt:e});return n}async validateIdToken(e,t,r,n,i){let s=e,o=this.id_token_signed_response_alg;if(s instanceof k){if(!s.id_token)throw TypeError("id_token not present in TokenSet");s=s.id_token}s=String(s);let a=x(),{protected:l,payload:c,key:u}=await this.validateJWT(s,o);if("number"==typeof n||n!==q&&this.require_auth_time){if(!c.auth_time)throw new C({message:"missing required JWT property auth_time",jwt:s});if("number"!=typeof c.auth_time)throw new C({message:"JWT auth_time claim must be a JSON numeric value",jwt:s})}if("number"==typeof n&&c.auth_time+n<a-this[I])throw new C({printf:["too much time has elapsed since the last End-User authentication, max_age %i, auth_time: %i, now %i",n,c.auth_time,a-this[I]],now:a,tolerance:this[I],auth_time:c.auth_time,jwt:s});if(t!==H&&(c.nonce||void 0!==t)&&c.nonce!==t)throw new C({printf:["nonce mismatch, expected %s, got: %s",t,c.nonce],jwt:s});if("authorization"===r){if(!c.at_hash&&e.access_token)throw new C({message:"missing required property at_hash",jwt:s});if(!c.c_hash&&e.code)throw new C({message:"missing required property c_hash",jwt:s});if(this.fapi1()&&!c.s_hash&&(e.state||i))throw new C({message:"missing required property s_hash",jwt:s});if(c.s_hash){if(!i)throw TypeError('cannot verify s_hash, "checks.state" property not provided');try{p.validate({claim:"s_hash",source:"state"},c.s_hash,i,l.alg,u.jwk&&u.jwk.crv)}catch(e){throw new C({message:e.message,jwt:s})}}}if(this.fapi()&&c.iat<a-3600)throw new C({printf:["JWT issued too far in the past, now %i, iat %i",a,c.iat],now:a,tolerance:this[I],iat:c.iat,jwt:s});if(e.access_token&&void 0!==c.at_hash)try{p.validate({claim:"at_hash",source:"access_token"},c.at_hash,e.access_token,l.alg,u.jwk&&u.jwk.crv)}catch(e){throw new C({message:e.message,jwt:s})}if(e.code&&void 0!==c.c_hash)try{p.validate({claim:"c_hash",source:"code"},c.c_hash,e.code,l.alg,u.jwk&&u.jwk.crv)}catch(e){throw new C({message:e.message,jwt:s})}return e}async validateJWT(e,t,r=["iss","sub","aud","exp","iat"]){let n,i,s,o="https://self-issued.me"===this.issuer.issuer,l=x();try{({header:n,payload:i}=m(e,{complete:!0}))}catch(t){throw new C({printf:["failed to decode JWT (%s: %s)",t.name,t.message],jwt:e})}if(n.alg!==t)throw new C({printf:["unexpected JWT alg received, expected %s, got: %s",t,n.alg],jwt:e});if(o&&(r=[...r,"sub_jwk"]),r.forEach(K.bind(void 0,i,e)),void 0!==i.iss){let t=this.issuer.issuer;if(this.#r&&(t=this.issuer.issuer.replace("{tenantid}",i.tid)),i.iss!==t)throw new C({printf:["unexpected iss value, expected %s, got: %s",t,i.iss],jwt:e})}if(void 0!==i.iat&&"number"!=typeof i.iat)throw new C({message:"JWT iat claim must be a JSON numeric value",jwt:e});if(void 0!==i.nbf){if("number"!=typeof i.nbf)throw new C({message:"JWT nbf claim must be a JSON numeric value",jwt:e});if(i.nbf>l+this[I])throw new C({printf:["JWT not active yet, now %i, nbf %i",l+this[I],i.nbf],now:l,tolerance:this[I],nbf:i.nbf,jwt:e})}if(void 0!==i.exp){if("number"!=typeof i.exp)throw new C({message:"JWT exp claim must be a JSON numeric value",jwt:e});if(l-this[I]>=i.exp)throw new C({printf:["JWT expired, now %i, exp %i",l-this[I],i.exp],now:l,tolerance:this[I],exp:i.exp,jwt:e})}if(void 0!==i.aud){if(Array.isArray(i.aud)){if(i.aud.length>1&&!i.azp)throw new C({message:"missing required JWT property azp",jwt:e});if(!i.aud.includes(this.client_id))throw new C({printf:["aud is missing the client_id, expected %s to be included in %j",this.client_id,i.aud],jwt:e})}else if(i.aud!==this.client_id)throw new C({printf:["aud mismatch, expected %s, got: %s",this.client_id,i.aud],jwt:e})}if(void 0!==i.azp){let t=this.#n;if(!(t="string"==typeof t?[this.client_id,t]:Array.isArray(t)?[this.client_id,...t]:[this.client_id]).includes(i.azp))throw new C({printf:["azp mismatch, got: %s",i.azp],jwt:e})}if(o){try{a(j(i.sub_jwk));let e=await h.importJWK(i.sub_jwk,n.alg);a.equal(e.type,"public"),s=[{keyObject:()=>e}]}catch(t){throw new C({message:"failed to use sub_jwk claim as an asymmetric JSON Web Key",jwt:e})}if(await h.calculateJwkThumbprint(i.sub_jwk)!==i.sub)throw new C({message:"failed to match the subject with sub_jwk",jwt:e})}else n.alg.startsWith("HS")?s=[this.secretForAlg(n.alg)]:"none"!==n.alg&&(s=await D.call(this.issuer,{...n,use:"sig"}));if(!s&&"none"===n.alg)return{protected:n,payload:i};for(let t of s){let r=await h.compactVerify(e,t instanceof Uint8Array?t:await t.keyObject(n.alg)).catch(()=>{});if(r)return{payload:i,protected:r.protectedHeader,key:t}}throw new C({message:"failed to validate JWT signature",jwt:e})}async refresh(e,{exchangeBody:t,clientAssertionPayload:r,DPoP:n}={}){let i=e;if(i instanceof k){if(!i.refresh_token)throw TypeError("refresh_token not present in TokenSet");i=i.refresh_token}let s=await this.grant({...t,grant_type:"refresh_token",refresh_token:String(i)},{clientAssertionPayload:r,DPoP:n});if(s.id_token&&(await this.decryptIdToken(s),await this.validateIdToken(s,H,"token",q),e instanceof k&&e.id_token)){let t=e.claims().sub,r=s.claims().sub;if(r!==t)throw new C({printf:["sub mismatch, expected %s, got: %s",t,r],jwt:s.id_token})}return s}async requestResource(e,t,{method:r,headers:n,body:i,DPoP:s,tokenType:o=s?"DPoP":t instanceof k?t.token_type:"Bearer"}={},a){if(t instanceof k){if(!t.access_token)throw TypeError("access_token not present in TokenSet");t=t.access_token}if(t){if("string"!=typeof t)throw TypeError("invalid access token provided")}else throw TypeError("no access token provided");let l={headers:{Authorization:J(t,o),...n},body:i},c=!!this.tls_client_certificate_bound_access_tokens,u=await O.call(this,{...l,responseType:"buffer",method:r,url:e},{accessToken:t,mTLS:c,DPoP:s}),d=u.headers["www-authenticate"];return a!==F&&d&&d.toLowerCase().startsWith("dpop ")&&"use_dpop_nonce"===_(d).error?this.requestResource(e,t,{method:r,headers:n,body:i,DPoP:s,tokenType:o}):u}async userinfo(e,{method:t="GET",via:r="header",tokenType:n,params:i,DPoP:s}={}){let o;b(this.issuer,"userinfo_endpoint");let l={tokenType:n,method:String(t).toUpperCase(),DPoP:s};if("GET"!==l.method&&"POST"!==l.method)throw TypeError("#userinfo() method can only be POST or a GET");if("body"===r&&"POST"!==l.method)throw TypeError("can only send body on POST");let c=!!(this.userinfo_signed_response_alg||this.userinfo_encrypted_response_alg);c?l.headers={Accept:"application/jwt"}:l.headers={Accept:"application/json"},this.tls_client_certificate_bound_access_tokens&&this.issuer.mtls_endpoint_aliases&&(o=this.issuer.mtls_endpoint_aliases.userinfo_endpoint),o=new u(o||this.issuer.userinfo_endpoint),"body"===r&&(l.headers.Authorization=void 0,l.headers["Content-Type"]="application/x-www-form-urlencoded",l.body=new d,l.body.append("access_token",e instanceof k?e.access_token:e)),i&&("GET"===l.method?Object.entries(i).forEach(([e,t])=>{o.searchParams.append(e,t)}):l.body?Object.entries(i).forEach(([e,t])=>{l.body.append(e,t)}):(l.body=new d,l.headers["Content-Type"]="application/x-www-form-urlencoded",Object.entries(i).forEach(([e,t])=>{l.body.append(e,t)}))),l.body&&(l.body=l.body.toString());let h=await this.requestResource(o,e,l),p=S(h,{bearer:!0});if(c){if(!/^application\/jwt/.test(h.headers["content-type"]))throw new C({message:"expected application/jwt response from the userinfo_endpoint",response:h});let e=h.body.toString(),t=await this.decryptJWTUserinfo(e);if(this.userinfo_signed_response_alg)({payload:p}=await this.validateJWTUserinfo(t));else try{p=JSON.parse(t),a(j(p))}catch(e){throw new C({message:"failed to parse userinfo JWE payload as JSON",jwt:t})}}else try{p=JSON.parse(h.body)}catch(e){throw Object.defineProperty(e,"response",{value:h}),e}if(e instanceof k&&e.id_token){let t=e.claims().sub;if(p.sub!==t)throw new C({printf:["userinfo sub mismatch, expected %s, got: %s",t,p.sub],body:p,jwt:e.id_token})}return p}encryptionSecret(e){let t=e<=256?"sha256":e<=384?"sha384":e<=512&&"sha512";if(!t)throw Error("unsupported symmetric encryption key derivation");return o.createHash(t).update(this.client_secret).digest().slice(0,e/8)}secretForAlg(e){if(!this.client_secret)throw TypeError("client_secret is required");return/^A(\d{3})(?:GCM)?KW$/.test(e)?this.encryptionSecret(parseInt(RegExp.$1,10)):/^A(\d{3})(?:GCM|CBC-HS(\d{3}))$/.test(e)?this.encryptionSecret(parseInt(RegExp.$2||RegExp.$1,10)):new TextEncoder().encode(this.client_secret)}async grant(e,{clientAssertionPayload:t,DPoP:r}={},n){let i;b(this.issuer,"token_endpoint");let s=await N.call(this,"token",{form:e,responseType:"json"},{clientAssertionPayload:t,DPoP:r});try{i=S(s)}catch(i){if(n!==F&&i instanceof E&&"use_dpop_nonce"===i.error)return this.grant(e,{clientAssertionPayload:t,DPoP:r},F);throw i}return new k(i)}async deviceAuthorization(e={},{exchangeBody:t,clientAssertionPayload:r,DPoP:n}={}){b(this.issuer,"device_authorization_endpoint"),b(this.issuer,"token_endpoint");let i=G.call(this,{client_id:this.client_id,redirect_uri:null,response_type:null,...e}),s=S(await N.call(this,"device_authorization",{responseType:"json",form:i},{clientAssertionPayload:r,endpointAuthMethod:"token"}));return new L({client:this,exchangeBody:t,clientAssertionPayload:r,response:s,maxAge:e.max_age,DPoP:n})}async revoke(e,t,{revokeBody:r,clientAssertionPayload:n}={}){if(b(this.issuer,"revocation_endpoint"),void 0!==t&&"string"!=typeof t)throw TypeError("hint must be a string");let i={...r,token:e};t&&(i.token_type_hint=t),S(await N.call(this,"revocation",{form:i},{clientAssertionPayload:n}),{body:!1})}async introspect(e,t,{introspectBody:r,clientAssertionPayload:n}={}){if(b(this.issuer,"introspection_endpoint"),void 0!==t&&"string"!=typeof t)throw TypeError("hint must be a string");let i={...r,token:e};return t&&(i.token_type_hint=t),S(await N.call(this,"introspection",{form:i,responseType:"json"},{clientAssertionPayload:n}))}static async register(e,t={}){let{initialAccessToken:r,jwks:n,...i}=t;return b(this.issuer,"registration_endpoint"),void 0===n||e.jwks||e.jwks_uri||(e.jwks=(await Z.call(this,n)).toJWKS()),new this(S(await O.call(this,{headers:{Accept:"application/json",...r?{Authorization:J(r)}:void 0},responseType:"json",json:e,url:this.issuer.registration_endpoint,method:"POST"}),{statusCode:201,bearer:!0}),n,i)}get metadata(){return R(Object.fromEntries(this.#e.entries()))}static async fromUri(e,t,r,n){return new this(S(await O.call(this,{method:"GET",url:e,responseType:"json",headers:{Authorization:J(t),Accept:"application/json"}}),{bearer:!0}),r,n)}async requestObject(e={},{sign:t=this.request_object_signing_alg||"none",encrypt:{alg:r=this.request_object_encryption_alg,enc:n=this.request_object_encryption_enc||"A128CBC-HS256"}={}}={}){let i,s;if(!j(e))throw TypeError("requestObject must be a plain object");let o=x(),a={alg:t,typ:"oauth-authz-req+jwt"},l=JSON.stringify(y({},e,{iss:this.client_id,aud:this.issuer.issuer,client_id:this.client_id,jti:T(),iat:o,exp:o+300,...this.fapi()?{nbf:o}:void 0}));if("none"===t)i=[g.encode(JSON.stringify(a)),g.encode(l),""].join(".");else{let e=t.startsWith("HS");if(e)s=this.secretForAlg(t);else{let e=await A.get(this);if(!e)throw TypeError(`no keystore present for client, cannot sign using alg ${t}`);if(!(s=e.get({alg:t,use:"sig"})))throw TypeError(`no key to sign with found for alg ${t}`)}i=await new h.CompactSign(new TextEncoder().encode(l)).setProtectedHeader({...a,kid:e?void 0:s.jwk.kid}).sign(e?s:await s.keyObject(t))}if(!r)return i;let c={alg:r,enc:n,cty:"oauth-authz-req+jwt"};return c.alg.match(/^(RSA|ECDH)/)?[s]=await D.call(this.issuer,{alg:c.alg,use:"enc"},{allowMulti:!0}):s=this.secretForAlg("dir"===c.alg?c.enc:c.alg),new h.CompactEncrypt(new TextEncoder().encode(i)).setProtectedHeader({...c,kid:s instanceof Uint8Array?void 0:s.jwk.kid}).encrypt(s instanceof Uint8Array?s:await s.keyObject(c.alg))}async pushedAuthorizationRequest(e={},{clientAssertionPayload:t}={}){b(this.issuer,"pushed_authorization_request_endpoint");let r={..."request"in e?e:G.call(this,e),client_id:this.client_id},n=await N.call(this,"pushed_authorization_request",{responseType:"json",form:r},{clientAssertionPayload:t,endpointAuthMethod:"token"}),i=S(n,{statusCode:201});if(!("expires_in"in i))throw new C({message:"expected expires_in in Pushed Authorization Successful Response",response:n});if("number"!=typeof i.expires_in)throw new C({message:"invalid expires_in value in Pushed Authorization Successful Response",response:n});if(!("request_uri"in i))throw new C({message:"expected request_uri in Pushed Authorization Successful Response",response:n});if("string"!=typeof i.request_uri)throw new C({message:"invalid request_uri value in Pushed Authorization Successful Response",response:n});return i}get issuer(){return this.#t}[i.custom](){return`${this.constructor.name} ${i(this.metadata,{depth:1/0,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}fapi(){return this.fapi1()||this.fapi2()}fapi1(){return"FAPI1Client"===this.constructor.name}fapi2(){return"FAPI2Client"===this.constructor.name}async validateJARM(e){let t=this.authorization_signed_response_alg,{payload:r}=await this.validateJWT(e,t,["iss","exp","aud"]);return W(r)}async dpopProof(e,t,r){let i;if(!j(e))throw TypeError("payload must be a plain object");if(f(t))i=t;else if("CryptoKey"===t[Symbol.toStringTag])i=t;else if("node:crypto"===h.cryptoRuntime)i=o.createPrivateKey(t);else throw TypeError("unrecognized crypto runtime");if("private"!==i.type)throw TypeError('"DPoP" option must be a private key');let s=n.call(this,i,t);if(!s)throw TypeError("could not determine DPoP JWS Algorithm");return new h.SignJWT({ath:r?g.encode(o.createHash("sha256").update(r).digest()):void 0,...e}).setProtectedHeader({alg:s,typ:"dpop+jwt",jwk:await es(i,t)}).setIssuedAt().setJti(T()).sign(i)}}function et(e){switch(e.algorithm.name){case"Ed25519":case"Ed448":return"EdDSA";case"ECDSA":switch(e.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512"}break;case"RSASSA-PKCS1-v1_5":return`RS${e.algorithm.hash.name.slice(4)}`;case"RSA-PSS":return`PS${e.algorithm.hash.name.slice(4)}`;default:throw TypeError("unsupported DPoP private key")}}if("node:crypto"===h.cryptoRuntime){n=function(e,t){if("CryptoKey"===t[Symbol.toStringTag])return et(e);switch(e.asymmetricKeyType){case"ed25519":case"ed448":return"EdDSA";case"ec":return en(e,t);case"rsa":case z&&"rsa-pss":return er(e,t,this.issuer.dpop_signing_alg_values_supported);default:throw TypeError("unsupported DPoP private key")}};let e=/^(?:RS|PS)(?:256|384|512)$/;function er(t,r,n){if("object"==typeof r&&"jwk"===r.format&&r.key&&r.key.alg)return r.key.alg;if(Array.isArray(n)){let r=n.filter(RegExp.prototype.test.bind(e));return"rsa-pss"===t.asymmetricKeyType&&(r=r.filter(e=>e.startsWith("PS"))),["PS256","PS384","PS512","RS256","RS384","RS384"].find(e=>r.includes(e))}return"PS256"}let t=Buffer.from([42,134,72,206,61,3,1,7]),r=Buffer.from([43,129,4,0,34]),i=Buffer.from([43,129,4,0,35]),s=Buffer.from([43,129,4,0,10]);function en(e,n){switch("object"==typeof n&&"object"==typeof n.key&&n.key.crv){case"P-256":return"ES256";case"secp256k1":return"ES256K";case"P-384":return"ES384";case"P-512":return"ES512"}let o=e.export({format:"der",type:"pkcs8"}),a=o[1]<128?17:18,l=o[a],c=o.slice(a+1,a+1+l);if(c.equals(t))return"ES256";if(c.equals(r))return"ES384";if(c.equals(i))return"ES512";if(c.equals(s))return"ES256K";throw TypeError("unsupported DPoP private key curve")}}else n=et;let ei=new WeakMap;async function es(e,t){if("node:crypto"===h.cryptoRuntime&&"object"==typeof t&&"object"==typeof t.key&&"jwk"===t.format)return w(t.key,"kty","crv","x","y","e","n");if(ei.has(t))return ei.get(t);let r=w(await h.exportJWK(e),"kty","crv","x","y","e","n");return(f(t)||"WebCryptoAPI"===h.cryptoRuntime)&&ei.set(t,r),r}e.exports=(e,t=!1)=>class extends ee{constructor(...r){super(e,t,...r)}static get issuer(){return e}},e.exports.BaseClient=ee},"./node_modules/openid-client/lib/device_flow_handle.js":function(e,t,r){let{inspect:n}=r("util"),{RPError:i,OPError:s}=r("./node_modules/openid-client/lib/errors.js"),o=r("./node_modules/openid-client/lib/helpers/unix_timestamp.js");class a{#i;#s;#o;#a;#l;#c;#u;#d;#h;constructor({client:e,exchangeBody:t,clientAssertionPayload:r,response:n,maxAge:s,DPoP:a}){if(["verification_uri","user_code","device_code"].forEach(e=>{if("string"!=typeof n[e]||!n[e])throw new i(`expected ${e} string to be returned by Device Authorization Response, got %j`,n[e])}),!Number.isSafeInteger(n.expires_in))throw new i("expected expires_in number to be returned by Device Authorization Response, got %j",n.expires_in);this.#c=o()+n.expires_in,this.#s=e,this.#a=a,this.#d=s,this.#l=t,this.#o=r,this.#h=n,this.#u=1e3*n.interval||5e3}abort(){this.#i=!0}async poll({signal:e}={}){let t;if(e&&e.aborted||this.#i)throw new i("polling aborted");if(this.expired())throw new i("the device code %j has expired and the device authorization session has concluded",this.device_code);await new Promise(e=>setTimeout(e,this.#u));try{t=await this.#s.grant({...this.#l,grant_type:"urn:ietf:params:oauth:grant-type:device_code",device_code:this.device_code},{clientAssertionPayload:this.#o,DPoP:this.#a})}catch(t){switch(t instanceof s&&t.error){case"slow_down":this.#u+=5e3;case"authorization_pending":return this.poll({signal:e});default:throw t}}return"id_token"in t&&(await this.#s.decryptIdToken(t),await this.#s.validateIdToken(t,void 0,"token",this.#d)),t}get device_code(){return this.#h.device_code}get user_code(){return this.#h.user_code}get verification_uri(){return this.#h.verification_uri}get verification_uri_complete(){return this.#h.verification_uri_complete}get expires_in(){return Math.max.apply(null,[this.#c-o(),0])}expired(){return 0===this.expires_in}[n.custom](){return`${this.constructor.name} ${n(this.#h,{depth:1/0,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}}e.exports=a},"./node_modules/openid-client/lib/errors.js":function(e,t,r){let{format:n}=r("util");class i extends Error{constructor({error_description:e,error:t,error_uri:r,session_state:n,state:i,scope:s},o){super(e?`${t} (${e})`:t),Object.assign(this,{error:t},e&&{error_description:e},r&&{error_uri:r},i&&{state:i},s&&{scope:s},n&&{session_state:n}),o&&Object.defineProperty(this,"response",{value:o}),this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}}class s extends Error{constructor(...e){if("string"==typeof e[0])super(n(...e));else{let{message:t,printf:r,response:i,...s}=e[0];r?super(n(...r)):super(t),Object.assign(this,s),i&&Object.defineProperty(this,"response",{value:i})}this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}}e.exports={OPError:i,RPError:s}},"./node_modules/openid-client/lib/helpers/assert.js":function(e){e.exports={assertSigningAlgValuesSupport:function(e,t,r){if(!t[`${e}_endpoint`])return;let n=`${e}_endpoint_auth_method`,i=`${e}_endpoint_auth_signing_alg`,s=`${e}_endpoint_auth_signing_alg_values_supported`;if(r[n]&&r[n].endsWith("_jwt")&&!r[i]&&!t[s])throw TypeError(`${s} must be configured on the issuer if ${i} is not defined on a client`)},assertIssuerConfiguration:function(e,t){if(!e[t])throw TypeError(`${t} must be configured on the issuer`)}}},"./node_modules/openid-client/lib/helpers/base64url.js":function(e){let t;if(Buffer.isEncoding("base64url"))t=(e,t="utf8")=>Buffer.from(e,t).toString("base64url");else{let e=e=>e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");t=(t,r="utf8")=>e(Buffer.from(t,r).toString("base64"))}let r=e=>Buffer.from(e,"base64");e.exports.decode=r,e.exports.encode=t},"./node_modules/openid-client/lib/helpers/client.js":function(e,t,r){let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/index.js"),{RPError:i}=r("./node_modules/openid-client/lib/errors.js"),{assertIssuerConfiguration:s}=r("./node_modules/openid-client/lib/helpers/assert.js"),{random:o}=r("./node_modules/openid-client/lib/helpers/generators.js"),a=r("./node_modules/openid-client/lib/helpers/unix_timestamp.js"),l=r("./node_modules/openid-client/lib/helpers/request.js"),{keystores:c}=r("./node_modules/openid-client/lib/helpers/weak_cache.js"),u=r("./node_modules/openid-client/lib/helpers/merge.js"),d=e=>encodeURIComponent(e).replace(/%20/g,"+");async function h(e,t){let r=this[`${e}_endpoint_auth_signing_alg`];if(r||s(this.issuer,`${e}_endpoint_auth_signing_alg_values_supported`),"client_secret_jwt"===this[`${e}_endpoint_auth_method`]){if(!r){let t=this.issuer[`${e}_endpoint_auth_signing_alg_values_supported`];r=Array.isArray(t)&&t.find(e=>/^HS(?:256|384|512)/.test(e))}if(!r)throw new i(`failed to determine a JWS Algorithm to use for ${this[`${e}_endpoint_auth_method`]} Client Assertion`);return new n.CompactSign(Buffer.from(JSON.stringify(t))).setProtectedHeader({alg:r}).sign(this.secretForAlg(r))}let o=await c.get(this);if(!o)throw TypeError("no client jwks provided for signing a client assertion with");if(!r){let t=this.issuer[`${e}_endpoint_auth_signing_alg_values_supported`];r=Array.isArray(t)&&t.find(e=>o.get({alg:e,use:"sig"}))}if(!r)throw new i(`failed to determine a JWS Algorithm to use for ${this[`${e}_endpoint_auth_method`]} Client Assertion`);let a=o.get({alg:r,use:"sig"});if(!a)throw new i(`no key found in client jwks to sign a client assertion with using alg ${r}`);return new n.CompactSign(Buffer.from(JSON.stringify(t))).setProtectedHeader({alg:r,kid:a.jwk&&a.jwk.kid}).sign(await a.keyObject(r))}async function p(e,{clientAssertionPayload:t}={}){switch(this[`${e}_endpoint_auth_method`]){case"self_signed_tls_client_auth":case"tls_client_auth":case"none":return{form:{client_id:this.client_id}};case"client_secret_post":if("string"!=typeof this.client_secret)throw TypeError("client_secret_post client authentication method requires a client_secret");return{form:{client_id:this.client_id,client_secret:this.client_secret}};case"private_key_jwt":case"client_secret_jwt":{let r=a(),n=await h.call(this,e,{iat:r,exp:r+60,jti:o(),iss:this.client_id,sub:this.client_id,aud:this.issuer.issuer,...t});return{form:{client_id:this.client_id,client_assertion:n,client_assertion_type:"urn:ietf:params:oauth:client-assertion-type:jwt-bearer"}}}case"client_secret_basic":{if("string"!=typeof this.client_secret)throw TypeError("client_secret_basic client authentication method requires a client_secret");let e=`${d(this.client_id)}:${d(this.client_secret)}`,t=Buffer.from(e).toString("base64");return{headers:{Authorization:`Basic ${t}`}}}default:throw TypeError(`missing, or unsupported, ${e}_endpoint_auth_method`)}}async function f(e,t,{clientAssertionPayload:r,endpointAuthMethod:n=e,DPoP:i}={}){let s,o=u(t,await p.call(this,n,{clientAssertionPayload:r})),a=this[`${n}_endpoint_auth_method`].includes("tls_client_auth")||"token"===e&&this.tls_client_certificate_bound_access_tokens;if(a&&this.issuer.mtls_endpoint_aliases&&(s=this.issuer.mtls_endpoint_aliases[`${e}_endpoint`]),s=s||this.issuer[`${e}_endpoint`],"form"in o)for(let[e,t]of Object.entries(o.form))void 0===t&&delete o.form[e];return l.call(this,{...o,method:"POST",url:s,headers:{..."revocation"!==e?{Accept:"application/json"}:void 0,...o.headers}},{mTLS:a,DPoP:i})}e.exports={resolveResponseType:function(){let{length:e,0:t}=this.response_types;if(1===e)return t},resolveRedirectUri:function(){let{length:e,0:t}=this.redirect_uris||[];if(1===e)return t},authFor:p,authenticatedPost:f}},"./node_modules/openid-client/lib/helpers/consts.js":function(e){let t=Symbol();e.exports={CLOCK_TOLERANCE:Symbol(),HTTP_OPTIONS:t}},"./node_modules/openid-client/lib/helpers/decode_jwt.js":function(e,t,r){let n=r("./node_modules/openid-client/lib/helpers/base64url.js");e.exports=e=>{if("string"!=typeof e||!e)throw TypeError("JWT must be a string");let{0:t,1:r,2:i,length:s}=e.split(".");if(5===s)throw TypeError("encrypted JWTs cannot be decoded");if(3!==s)throw Error("JWTs must have three components");try{return{header:JSON.parse(n.decode(t)),payload:JSON.parse(n.decode(r)),signature:i}}catch(e){throw Error("JWT is malformed")}}},"./node_modules/openid-client/lib/helpers/deep_clone.js":function(e){e.exports=globalThis.structuredClone||(e=>JSON.parse(JSON.stringify(e)))},"./node_modules/openid-client/lib/helpers/defaults.js":function(e,t,r){let n=r("./node_modules/openid-client/lib/helpers/is_plain_object.js");function i(e,t,...r){for(let s of r)if(n(s))for(let[r,o]of Object.entries(s))"__proto__"!==r&&"constructor"!==r&&(void 0===t[r]&&void 0!==o&&(t[r]=o),e&&n(t[r])&&n(o)&&i(!0,t[r],o));return t}e.exports=i.bind(void 0,!1),e.exports.deep=i.bind(void 0,!0)},"./node_modules/openid-client/lib/helpers/generators.js":function(e,t,r){let{createHash:n,randomBytes:i}=r("crypto"),s=r("./node_modules/openid-client/lib/helpers/base64url.js"),o=(e=32)=>s.encode(i(e));e.exports={random:o,state:o,nonce:o,codeVerifier:o,codeChallenge:e=>s.encode(n("sha256").update(e).digest())}},"./node_modules/openid-client/lib/helpers/is_key_object.js":function(e,t,r){let n=r("util"),i=r("crypto");e.exports=n.types.isKeyObject||(e=>e&&e instanceof i.KeyObject)},"./node_modules/openid-client/lib/helpers/is_plain_object.js":function(e){e.exports=e=>!!e&&e.constructor===Object},"./node_modules/openid-client/lib/helpers/issuer.js":function(e,t,r){let n=r("./node_modules/object-hash/index.js"),i=r("./node_modules/lru-cache/index.js"),{RPError:s}=r("./node_modules/openid-client/lib/errors.js"),{assertIssuerConfiguration:o}=r("./node_modules/openid-client/lib/helpers/assert.js"),a=r("./node_modules/openid-client/lib/helpers/keystore.js"),{keystores:l}=r("./node_modules/openid-client/lib/helpers/weak_cache.js"),c=r("./node_modules/openid-client/lib/helpers/process_response.js"),u=r("./node_modules/openid-client/lib/helpers/request.js"),d=new WeakMap,h=new WeakMap,p=e=>(h.has(e)||h.set(e,new i({max:100})),h.get(e));async function f(e=!1){o(this,"jwks_uri");let t=l.get(this),r=p(this);return e||!t?(d.has(this)||(r.reset(),d.set(this,(async()=>{let e=c(await u.call(this,{method:"GET",responseType:"json",url:this.jwks_uri,headers:{Accept:"application/json, application/jwk-set+json"}}).finally(()=>{d.delete(this)})),t=a.fromJWKS(e,{onlyPublic:!0});return r.set("throttle",!0,6e4),l.set(this,t),t})())),d.get(this)):t}async function m({kid:e,kty:t,alg:r,use:i},{allowMulti:o=!1}={}){let a=p(this),l={kid:e,kty:t,alg:r,use:i},c=n(l,{algorithm:"sha256",ignoreUnknown:!0,unorderedArrays:!0,unorderedSets:!0,respectType:!1}),u=a.get(c)||a.get("throttle"),d=await f.call(this,!u),h=d.all(l);if(delete l.use,0===h.length)throw new s({printf:["no valid key found in issuer's jwks_uri for key parameters %j",l],jwks:d});if(!o&&h.length>1&&!e)throw new s({printf:["multiple matching keys found in issuer's jwks_uri for key parameters %j, kid must be provided in this case",l],jwks:d});return a.set(c,!0),h}e.exports.queryKeyStore=m,e.exports.keystore=f},"./node_modules/openid-client/lib/helpers/keystore.js":function(e,t,r){let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/index.js"),i=r("./node_modules/openid-client/lib/helpers/deep_clone.js"),s=r("./node_modules/openid-client/lib/helpers/is_plain_object.js"),o=Symbol(),a=(e,{alg:t,use:r})=>{let n=0;return t&&e.alg&&n++,r&&e.use&&n++,n};function l(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:return}}function c(e,t,r,i){if(t)return new Set([t]);switch(r){case"EC":{let t=[];if(("enc"===e||void 0===e)&&(t=t.concat(["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"])),"sig"===e||void 0===e)switch(i){case"P-256":case"P-384":t=t.concat([`ES${i.slice(-3)}`]);break;case"P-521":t=t.concat(["ES512"]);break;case"secp256k1":"node:crypto"===n.cryptoRuntime&&(t=t.concat(["ES256K"]))}return new Set(t)}case"OKP":return new Set(["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"]);case"RSA":{let t=[];return("enc"===e||void 0===e)&&(t=t.concat(["RSA-OAEP","RSA-OAEP-256","RSA-OAEP-384","RSA-OAEP-512"]),"node:crypto"===n.cryptoRuntime&&(t=t.concat(["RSA1_5"]))),("sig"===e||void 0===e)&&(t=t.concat(["PS256","PS384","PS512","RS256","RS384","RS512"])),new Set(t)}default:throw Error("unreachable")}}e.exports=class{#p;constructor(e,t){if(e!==o)throw Error("invalid constructor call");this.#p=t}toJWKS(){return{keys:this.map(({jwk:{d:e,p:t,q:r,dp:n,dq:i,qi:s,...o}})=>o)}}all({alg:e,kid:t,use:r}={}){if(!r||!e)throw Error();let n=l(e),i={alg:e,use:r};return this.filter(i=>{let s=!0;return void 0!==n&&i.jwk.kty!==n&&(s=!1),s&&void 0!==t&&i.jwk.kid!==t&&(s=!1),s&&void 0!==r&&void 0!==i.jwk.use&&i.jwk.use!==r&&(s=!1),s&&i.jwk.alg&&i.jwk.alg!==e?s=!1:i.algorithms.has(e)||(s=!1),s}).sort((e,t)=>a(t,i)-a(e,i))}get(...e){return this.all(...e)[0]}static async fromJWKS(e,{onlyPublic:t=!1,onlyPrivate:r=!1}={}){if(!s(e)||!Array.isArray(e.keys)||e.keys.some(e=>!s(e)||!("kty"in e)))throw TypeError("jwks must be a JSON Web Key Set formatted object");let a=[];for(let s of e.keys){let{kty:e,kid:o,crv:l}=s=i(s),{alg:u,use:d}=s;if("string"==typeof e&&e&&(void 0===d||"sig"===d||"enc"===d)&&("string"==typeof u||void 0===u)&&("string"==typeof o||void 0===o)){if("EC"===e&&"sig"===d)switch(l){case"P-256":u="ES256";break;case"P-384":u="ES384";break;case"P-521":u="ES512"}if("secp256k1"===l&&(d="sig",u="ES256K"),"OKP"===e)switch(l){case"Ed25519":case"Ed448":d="sig",u="EdDSA";break;case"X25519":case"X448":d="enc"}if(u&&!d)switch(!0){case u.startsWith("ECDH"):case u.startsWith("RSA"):d="enc"}if(r&&("oct"===s.kty||!s.d))throw Error("jwks must only contain private keys");t&&(s.d||s.k)||a.push({jwk:{...s,alg:u,use:d},async keyObject(e){if(this[e])return this[e];let t=await n.importJWK(this.jwk,e);return this[e]=t,t},get algorithms(){return Object.defineProperty(this,"algorithms",{value:c(this.jwk.use,this.jwk.alg,this.jwk.kty,this.jwk.crv),enumerable:!0,configurable:!1}),this.algorithms}})}}return new this(o,a)}filter(...e){return this.#p.filter(...e)}find(...e){return this.#p.find(...e)}every(...e){return this.#p.every(...e)}some(...e){return this.#p.some(...e)}map(...e){return this.#p.map(...e)}forEach(...e){return this.#p.forEach(...e)}reduce(...e){return this.#p.reduce(...e)}sort(...e){return this.#p.sort(...e)}*[Symbol.iterator](){for(let e of this.#p)yield e}}},"./node_modules/openid-client/lib/helpers/merge.js":function(e,t,r){let n=r("./node_modules/openid-client/lib/helpers/is_plain_object.js");function i(e,...t){for(let r of t)if(n(r))for(let[t,s]of Object.entries(r))"__proto__"!==t&&"constructor"!==t&&(n(e[t])&&n(s)?e[t]=i(e[t],s):void 0!==s&&(e[t]=s));return e}e.exports=i},"./node_modules/openid-client/lib/helpers/pick.js":function(e){e.exports=function(e,...t){let r={};for(let n of t)void 0!==e[n]&&(r[n]=e[n]);return r}},"./node_modules/openid-client/lib/helpers/process_response.js":function(e,t,r){let{STATUS_CODES:n}=r("http"),{format:i}=r("util"),{OPError:s}=r("./node_modules/openid-client/lib/errors.js"),o=r("./node_modules/openid-client/lib/helpers/www_authenticate_parser.js"),a=e=>{let t=o(e.headers["www-authenticate"]);if(t.error)throw new s(t,e)},l=e=>{let t=!1;try{let r;r="object"!=typeof e.body||Buffer.isBuffer(e.body)?JSON.parse(e.body):e.body,(t="string"==typeof r.error&&r.error.length)&&Object.defineProperty(e,"body",{value:r,configurable:!0})}catch(e){}return t};e.exports=function(e,{statusCode:t=200,body:r=!0,bearer:o=!1}={}){if(e.statusCode!==t){if(o&&a(e),l(e))throw new s(e.body,e);throw new s({error:i("expected %i %s, got: %i %s",t,n[t],e.statusCode,n[e.statusCode])},e)}if(r&&!e.body)throw new s({error:i("expected %i %s with body but no body was returned",t,n[t])},e);return e.body}},"./node_modules/openid-client/lib/helpers/request.js":function(e,t,r){let n,i=r("assert"),s=r("querystring"),o=r("http"),a=r("https"),{once:l}=r("events"),{URL:c}=r("url"),u=r("./node_modules/lru-cache/index.js"),d=r("./node_modules/openid-client/package.json"),{RPError:h}=r("./node_modules/openid-client/lib/errors.js"),p=r("./node_modules/openid-client/lib/helpers/pick.js"),{deep:f}=r("./node_modules/openid-client/lib/helpers/defaults.js"),{HTTP_OPTIONS:m}=r("./node_modules/openid-client/lib/helpers/consts.js"),g=/^[\x21\x23-\x5B\x5D-\x7E]+$/,y=["agent","ca","cert","crl","headers","key","lookup","passphrase","pfx","timeout"],_=(e,t)=>{n=f({},e.length?p(t,...e):t,n)};function v(e,t,r){r&&(e.removeHeader("content-type"),e.setHeader("content-type",r)),t&&(e.removeHeader("content-length"),e.setHeader("content-length",Buffer.byteLength(t)),e.write(t)),e.end()}_([],{headers:{"User-Agent":`${d.name}/${d.version} (${d.homepage})`,"Accept-Encoding":"identity"},timeout:3500});let b=new u({max:100});e.exports=async function(e,{accessToken:t,mTLS:r=!1,DPoP:u}={}){let d,_,w,j,S,k,E;try{d=new c(e.url),delete e.url,i(/^(https?:)$/.test(d.protocol))}catch(e){throw TypeError("only valid absolute URLs can be requested")}let C=this[m],x=e,T=`${d.origin}${d.pathname}`;if(u&&"dpopProof"in this&&(x.headers=x.headers||{},x.headers.DPoP=await this.dpopProof({htu:`${d.origin}${d.pathname}`,htm:e.method||"GET",nonce:b.get(T)},u,t)),C&&(_=p(C.call(this,d,f({},x,n)),...y)),x=f({},_,x,n),r&&!x.pfx&&!(x.key&&x.cert))throw TypeError("mutual-TLS certificate and key not set");if(x.searchParams)for(let[e,t]of Object.entries(x.searchParams))d.searchParams.delete(e),d.searchParams.set(e,t);for(let[e,t]of({form:j,responseType:w,json:S,body:k,...x}=x,Object.entries(x.headers||{})))void 0===t&&delete x.headers[e];let O=("https:"===d.protocol?a.request:o.request)(d.href,x);return(async()=>{if(S?v(O,JSON.stringify(S),"application/json"):j?v(O,s.stringify(j),"application/x-www-form-urlencoded"):k?v(O,k):v(O),[E]=await Promise.race([l(O,"response"),l(O,"timeout")]),!E)throw O.destroy(),new h(`outgoing request timed out after ${x.timeout}ms`);let e=[];for await(let t of E)e.push(t);if(e.length)switch(w){case"json":Object.defineProperty(E,"body",{get(){let t=Buffer.concat(e);try{t=JSON.parse(t)}catch(e){throw Object.defineProperty(e,"response",{value:E}),e}finally{Object.defineProperty(E,"body",{value:t,configurable:!0})}return t},configurable:!0});break;case void 0:case"buffer":Object.defineProperty(E,"body",{get(){let t=Buffer.concat(e);return Object.defineProperty(E,"body",{value:t,configurable:!0}),t},configurable:!0});break;default:throw TypeError("unsupported responseType request option")}return E})().catch(e=>{throw E&&Object.defineProperty(e,"response",{value:E}),e}).finally(()=>{let e=E&&E.headers["dpop-nonce"];e&&g.test(e)&&b.set(T,e)})},e.exports.setDefaults=_.bind(void 0,y)},"./node_modules/openid-client/lib/helpers/unix_timestamp.js":function(e){e.exports=()=>Math.floor(Date.now()/1e3)},"./node_modules/openid-client/lib/helpers/weak_cache.js":function(e){e.exports.keystores=new WeakMap},"./node_modules/openid-client/lib/helpers/webfinger_normalize.js":function(e){let t=/^\d+$/;function r(e){if(e.includes("://"))return!0;let r=e.replace(/(\/|\?)/g,"#").split("#")[0];if(r.includes(":")){let e=r.indexOf(":"),n=r.slice(e+1);if(!t.test(n))return!0}return!1}function n(e){if(!e.includes("@"))return!1;let t=e.split("@"),r=t[t.length-1];return!(r.includes(":")||r.includes("/")||r.includes("?"))}e.exports=function(e){let t;if("string"!=typeof e)throw TypeError("input must be a string");return(t=r(e)?e:n(e)?`acct:${e}`:`https://${e}`).split("#")[0]}},"./node_modules/openid-client/lib/helpers/www_authenticate_parser.js":function(e){let t=/(\w+)=("[^"]*")/g;e.exports=e=>{let r={};try{for(;null!==t.exec(e);)RegExp.$1&&RegExp.$2&&(r[RegExp.$1]=RegExp.$2.slice(1,-1))}catch(e){}return r}},"./node_modules/openid-client/lib/index.js":function(e,t,r){let n=r("./node_modules/openid-client/lib/issuer.js"),{OPError:i,RPError:s}=r("./node_modules/openid-client/lib/errors.js"),o=r("./node_modules/openid-client/lib/passport_strategy.js"),a=r("./node_modules/openid-client/lib/token_set.js"),{CLOCK_TOLERANCE:l,HTTP_OPTIONS:c}=r("./node_modules/openid-client/lib/helpers/consts.js"),u=r("./node_modules/openid-client/lib/helpers/generators.js"),{setDefaults:d}=r("./node_modules/openid-client/lib/helpers/request.js");e.exports={Issuer:n,Strategy:o,TokenSet:a,errors:{OPError:i,RPError:s},custom:{setHttpOptionsDefaults:d,http_options:c,clock_tolerance:l},generators:u}},"./node_modules/openid-client/lib/issuer.js":function(e,t,r){let{inspect:n}=r("util"),i=r("url"),{RPError:s}=r("./node_modules/openid-client/lib/errors.js"),o=r("./node_modules/openid-client/lib/client.js"),a=r("./node_modules/openid-client/lib/issuer_registry.js"),l=r("./node_modules/openid-client/lib/helpers/process_response.js"),c=r("./node_modules/openid-client/lib/helpers/webfinger_normalize.js"),u=r("./node_modules/openid-client/lib/helpers/request.js"),d=r("./node_modules/openid-client/lib/helpers/deep_clone.js"),{keystore:h}=r("./node_modules/openid-client/lib/helpers/issuer.js"),p=["https://login.microsoftonline.com/common/.well-known/openid-configuration","https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration","https://login.microsoftonline.com/organizations/v2.0/.well-known/openid-configuration","https://login.microsoftonline.com/consumers/v2.0/.well-known/openid-configuration"],f=Symbol(),m={claim_types_supported:["normal"],claims_parameter_supported:!1,grant_types_supported:["authorization_code","implicit"],request_parameter_supported:!1,request_uri_parameter_supported:!0,require_request_uri_registration:!1,response_modes_supported:["query","fragment"],token_endpoint_auth_methods_supported:["client_secret_basic"]};class g{#e;constructor(e={}){let t=e[f];delete e[f],["introspection","revocation"].forEach(t=>{e[`${t}_endpoint`]&&void 0===e[`${t}_endpoint_auth_methods_supported`]&&void 0===e[`${t}_endpoint_auth_signing_alg_values_supported`]&&(e.token_endpoint_auth_methods_supported&&(e[`${t}_endpoint_auth_methods_supported`]=e.token_endpoint_auth_methods_supported),e.token_endpoint_auth_signing_alg_values_supported&&(e[`${t}_endpoint_auth_signing_alg_values_supported`]=e.token_endpoint_auth_signing_alg_values_supported))}),this.#e=new Map,Object.entries(e).forEach(([e,t])=>{this.#e.set(e,t),this[e]||Object.defineProperty(this,e,{get(){return this.#e.get(e)},enumerable:!0})}),a.set(this.issuer,this);let r=o(this,t);Object.defineProperties(this,{Client:{value:r,enumerable:!0},FAPI1Client:{value:class extends r{},enumerable:!0},FAPI2Client:{value:class extends r{},enumerable:!0}})}get metadata(){return d(Object.fromEntries(this.#e.entries()))}static async webfinger(e){let t=c(e),{host:r}=i.parse(t),n=`https://${r}/.well-known/webfinger`,o=l(await u.call(this,{method:"GET",url:n,responseType:"json",searchParams:{resource:t,rel:"http://openid.net/specs/connect/1.0/issuer"},headers:{Accept:"application/json"}})),d=Array.isArray(o.links)&&o.links.find(e=>"object"==typeof e&&"http://openid.net/specs/connect/1.0/issuer"===e.rel&&e.href);if(!d)throw new s({message:"no issuer found in webfinger response",body:o});if("string"!=typeof d.href||!d.href.startsWith("https://"))throw new s({printf:["invalid issuer location %s",d.href],body:o});let h=d.href;if(a.has(h))return a.get(h);let p=await this.discover(h);if(p.issuer!==h)throw a.del(p.issuer),new s("discovered issuer mismatch, expected %s, got: %s",h,p.issuer);return p}static async discover(e){let t=y(e),r=l(await u.call(this,{method:"GET",responseType:"json",url:t,headers:{Accept:"application/json"}}));return new g({...m,...r,[f]:!!p.find(e=>t.startsWith(e))})}async reloadJwksUri(){await h.call(this,!0)}[n.custom](){return`${this.constructor.name} ${n(this.metadata,{depth:1/0,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}}function y(e){let t=i.parse(e);if(t.pathname.includes("/.well-known/"))return e;{let e;return e=t.pathname.endsWith("/")?`${t.pathname}.well-known/openid-configuration`:`${t.pathname}/.well-known/openid-configuration`,i.format({...t,pathname:e})}}e.exports=g},"./node_modules/openid-client/lib/issuer_registry.js":function(e,t,r){e.exports=new(r("./node_modules/lru-cache/index.js"))({max:100})},"./node_modules/openid-client/lib/passport_strategy.js":function(e,t,r){let n=r("url"),{format:i}=r("util"),s=r("./node_modules/openid-client/lib/helpers/deep_clone.js"),{RPError:o,OPError:a}=r("./node_modules/openid-client/lib/errors.js"),{BaseClient:l}=r("./node_modules/openid-client/lib/client.js"),{random:c,codeChallenge:u}=r("./node_modules/openid-client/lib/helpers/generators.js"),d=r("./node_modules/openid-client/lib/helpers/pick.js"),{resolveResponseType:h,resolveRedirectUri:p}=r("./node_modules/openid-client/lib/helpers/client.js");function f(e,t,r={}){e?this.error(e):t?this.success(t,r):this.fail(r)}function m({client:e,params:t={},passReqToCallback:r=!1,sessionKey:i,usePKCE:o=!0,extras:a={}}={},c){if(!(e instanceof l))throw TypeError("client must be an instance of openid-client Client");if("function"!=typeof c)throw TypeError("verify callback must be a function");if(!e.issuer||!e.issuer.issuer)throw TypeError("client must have an issuer with an identifier");if(this._client=e,this._issuer=e.issuer,this._verify=c,this._passReqToCallback=r,this._usePKCE=o,this._key=i||`oidc:${n.parse(this._issuer.issuer).hostname}`,this._params=s(t),delete this._params.state,delete this._params.nonce,this._extras=s(a),this._params.response_type||(this._params.response_type=h.call(e)),this._params.redirect_uri||(this._params.redirect_uri=p.call(e)),this._params.scope||(this._params.scope="openid"),!0===this._usePKCE){let e=!!Array.isArray(this._issuer.code_challenge_methods_supported)&&this._issuer.code_challenge_methods_supported;if(e&&e.includes("S256"))this._usePKCE="S256";else if(e&&e.includes("plain"))this._usePKCE="plain";else if(e)throw TypeError("neither code_challenge_method supported by the client is supported by the issuer");else this._usePKCE="S256"}else if("string"==typeof this._usePKCE&&!["plain","S256"].includes(this._usePKCE))throw TypeError(`${this._usePKCE} is not valid/implemented PKCE code_challenge_method`);this.name=n.parse(e.issuer.issuer).hostname}m.prototype.authenticate=function(e,t){(async()=>{let r=this._client;if(!e.session)throw TypeError("authentication requires session support");let n=r.callbackParams(e),s=this._key,{0:a,length:l}=Object.keys(n);if(0===l||1===l&&"iss"===a){let n={state:c(),...this._params,...t};if(!n.nonce&&n.response_type.includes("id_token")&&(n.nonce=c()),e.session[s]=d(n,"nonce","state","max_age","response_type"),this._usePKCE&&n.response_type.includes("code")){let t=c();switch(e.session[s].code_verifier=t,this._usePKCE){case"S256":n.code_challenge=u(t),n.code_challenge_method="S256";break;case"plain":n.code_challenge=t}}this.redirect(r.authorizationUrl(n));return}let h=e.session[s];if(0===Object.keys(h||{}).length)throw Error(i('did not find expected authorization request details in session, req.session["%s"] is %j',s,h));let{state:p,nonce:m,max_age:g,code_verifier:y,response_type:_}=h;try{delete e.session[s]}catch(e){}let v={redirect_uri:this._params.redirect_uri,...t},b={state:p,nonce:m,max_age:g,code_verifier:y,response_type:_},w=await r.callback(v.redirect_uri,n,b,this._extras),j=this._passReqToCallback,S=this._verify.length>(j?3:2)&&r.issuer.userinfo_endpoint,k=[w,f.bind(this)];if(S){if(!w.access_token)throw new o({message:"expected access_token to be returned when asking for userinfo in verify callback",tokenset:w});let e=await r.userinfo(w);k.splice(1,0,e)}j&&k.unshift(e),this._verify(...k)})().catch(e=>{e instanceof a&&"server_error"!==e.error&&!e.error.startsWith("invalid")||e instanceof o?this.fail(e):this.error(e)})},e.exports=m},"./node_modules/openid-client/lib/token_set.js":function(e,t,r){let n=r("./node_modules/openid-client/lib/helpers/base64url.js"),i=r("./node_modules/openid-client/lib/helpers/unix_timestamp.js");class s{constructor(e){Object.assign(this,e);let{constructor:t,...r}=Object.getOwnPropertyDescriptors(this.constructor.prototype);Object.defineProperties(this,r)}set expires_in(e){this.expires_at=i()+Number(e)}get expires_in(){return Math.max.apply(null,[this.expires_at-i(),0])}expired(){return 0===this.expires_in}claims(){if(!this.id_token)throw TypeError("id_token not present in TokenSet");return JSON.parse(n.decode(this.id_token.split(".")[1]))}}e.exports=s},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/index.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cryptoRuntime=t.base64url=t.generateSecret=t.generateKeyPair=t.errors=t.decodeJwt=t.decodeProtectedHeader=t.importJWK=t.importX509=t.importPKCS8=t.importSPKI=t.exportJWK=t.exportSPKI=t.exportPKCS8=t.UnsecuredJWT=t.createRemoteJWKSet=t.createLocalJWKSet=t.EmbeddedJWK=t.calculateJwkThumbprintUri=t.calculateJwkThumbprint=t.EncryptJWT=t.SignJWT=t.GeneralSign=t.FlattenedSign=t.CompactSign=t.FlattenedEncrypt=t.CompactEncrypt=t.jwtDecrypt=t.jwtVerify=t.generalVerify=t.flattenedVerify=t.compactVerify=t.GeneralEncrypt=t.generalDecrypt=t.flattenedDecrypt=t.compactDecrypt=void 0;var n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwe/compact/decrypt.js");Object.defineProperty(t,"compactDecrypt",{enumerable:!0,get:function(){return n.compactDecrypt}});var i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwe/flattened/decrypt.js");Object.defineProperty(t,"flattenedDecrypt",{enumerable:!0,get:function(){return i.flattenedDecrypt}});var s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwe/general/decrypt.js");Object.defineProperty(t,"generalDecrypt",{enumerable:!0,get:function(){return s.generalDecrypt}});var o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwe/general/encrypt.js");Object.defineProperty(t,"GeneralEncrypt",{enumerable:!0,get:function(){return o.GeneralEncrypt}});var a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jws/compact/verify.js");Object.defineProperty(t,"compactVerify",{enumerable:!0,get:function(){return a.compactVerify}});var l=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jws/flattened/verify.js");Object.defineProperty(t,"flattenedVerify",{enumerable:!0,get:function(){return l.flattenedVerify}});var c=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jws/general/verify.js");Object.defineProperty(t,"generalVerify",{enumerable:!0,get:function(){return c.generalVerify}});var u=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwt/verify.js");Object.defineProperty(t,"jwtVerify",{enumerable:!0,get:function(){return u.jwtVerify}});var d=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwt/decrypt.js");Object.defineProperty(t,"jwtDecrypt",{enumerable:!0,get:function(){return d.jwtDecrypt}});var h=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwe/compact/encrypt.js");Object.defineProperty(t,"CompactEncrypt",{enumerable:!0,get:function(){return h.CompactEncrypt}});var p=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwe/flattened/encrypt.js");Object.defineProperty(t,"FlattenedEncrypt",{enumerable:!0,get:function(){return p.FlattenedEncrypt}});var f=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jws/compact/sign.js");Object.defineProperty(t,"CompactSign",{enumerable:!0,get:function(){return f.CompactSign}});var m=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jws/flattened/sign.js");Object.defineProperty(t,"FlattenedSign",{enumerable:!0,get:function(){return m.FlattenedSign}});var g=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jws/general/sign.js");Object.defineProperty(t,"GeneralSign",{enumerable:!0,get:function(){return g.GeneralSign}});var y=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwt/sign.js");Object.defineProperty(t,"SignJWT",{enumerable:!0,get:function(){return y.SignJWT}});var _=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwt/encrypt.js");Object.defineProperty(t,"EncryptJWT",{enumerable:!0,get:function(){return _.EncryptJWT}});var v=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwk/thumbprint.js");Object.defineProperty(t,"calculateJwkThumbprint",{enumerable:!0,get:function(){return v.calculateJwkThumbprint}}),Object.defineProperty(t,"calculateJwkThumbprintUri",{enumerable:!0,get:function(){return v.calculateJwkThumbprintUri}});var b=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwk/embedded.js");Object.defineProperty(t,"EmbeddedJWK",{enumerable:!0,get:function(){return b.EmbeddedJWK}});var w=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwks/local.js");Object.defineProperty(t,"createLocalJWKSet",{enumerable:!0,get:function(){return w.createLocalJWKSet}});var j=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwks/remote.js");Object.defineProperty(t,"createRemoteJWKSet",{enumerable:!0,get:function(){return j.createRemoteJWKSet}});var S=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwt/unsecured.js");Object.defineProperty(t,"UnsecuredJWT",{enumerable:!0,get:function(){return S.UnsecuredJWT}});var k=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/key/export.js");Object.defineProperty(t,"exportPKCS8",{enumerable:!0,get:function(){return k.exportPKCS8}}),Object.defineProperty(t,"exportSPKI",{enumerable:!0,get:function(){return k.exportSPKI}}),Object.defineProperty(t,"exportJWK",{enumerable:!0,get:function(){return k.exportJWK}});var E=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/key/import.js");Object.defineProperty(t,"importSPKI",{enumerable:!0,get:function(){return E.importSPKI}}),Object.defineProperty(t,"importPKCS8",{enumerable:!0,get:function(){return E.importPKCS8}}),Object.defineProperty(t,"importX509",{enumerable:!0,get:function(){return E.importX509}}),Object.defineProperty(t,"importJWK",{enumerable:!0,get:function(){return E.importJWK}});var C=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/decode_protected_header.js");Object.defineProperty(t,"decodeProtectedHeader",{enumerable:!0,get:function(){return C.decodeProtectedHeader}});var x=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/decode_jwt.js");Object.defineProperty(t,"decodeJwt",{enumerable:!0,get:function(){return x.decodeJwt}}),t.errors=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js");var T=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/key/generate_key_pair.js");Object.defineProperty(t,"generateKeyPair",{enumerable:!0,get:function(){return T.generateKeyPair}});var O=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/key/generate_secret.js");Object.defineProperty(t,"generateSecret",{enumerable:!0,get:function(){return O.generateSecret}}),t.base64url=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/base64url.js");var I=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/runtime.js");Object.defineProperty(t,"cryptoRuntime",{enumerable:!0,get:function(){return I.default}})},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwe/compact/decrypt.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compactDecrypt=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwe/flattened/decrypt.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/buffer_utils.js");t.compactDecrypt=async function(e,t,r){if(e instanceof Uint8Array&&(e=s.decoder.decode(e)),"string"!=typeof e)throw new i.JWEInvalid("Compact JWE must be a string or Uint8Array");let{0:o,1:a,2:l,3:c,4:u,length:d}=e.split(".");if(5!==d)throw new i.JWEInvalid("Invalid Compact JWE");let h=await (0,n.flattenedDecrypt)({ciphertext:c,iv:l||void 0,protected:o||void 0,tag:u||void 0,encrypted_key:a||void 0},t,r),p={plaintext:h.plaintext,protectedHeader:h.protectedHeader};return"function"==typeof t?{...p,key:h.key}:p}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwe/compact/encrypt.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactEncrypt=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwe/flattened/encrypt.js");class i{constructor(e){this._flattened=new n.FlattenedEncrypt(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){let r=await this._flattened.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}t.CompactEncrypt=i},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwe/flattened/decrypt.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenedDecrypt=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/base64url.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/decrypt.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/zlib.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/is_disjoint.js"),l=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/is_object.js"),c=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/decrypt_key_management.js"),u=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/buffer_utils.js"),d=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/cek.js"),h=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/validate_crit.js"),p=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/validate_algorithms.js");t.flattenedDecrypt=async function(e,t,r){var f;let m,g,y,_,v,b,w;if(!(0,l.default)(e))throw new o.JWEInvalid("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new o.JWEInvalid("JOSE Header missing");if("string"!=typeof e.iv)throw new o.JWEInvalid("JWE Initialization Vector missing or incorrect type");if("string"!=typeof e.ciphertext)throw new o.JWEInvalid("JWE Ciphertext missing or incorrect type");if("string"!=typeof e.tag)throw new o.JWEInvalid("JWE Authentication Tag missing or incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new o.JWEInvalid("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new o.JWEInvalid("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new o.JWEInvalid("JWE AAD incorrect type");if(void 0!==e.header&&!(0,l.default)(e.header))throw new o.JWEInvalid("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!(0,l.default)(e.unprotected))throw new o.JWEInvalid("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=(0,n.decode)(e.protected);m=JSON.parse(u.decoder.decode(t))}catch{throw new o.JWEInvalid("JWE Protected Header is invalid")}if(!(0,a.default)(m,e.header,e.unprotected))throw new o.JWEInvalid("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let j={...m,...e.header,...e.unprotected};if((0,h.default)(o.JWEInvalid,new Map,null==r?void 0:r.crit,m,j),void 0!==j.zip){if(!m||!m.zip)throw new o.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==j.zip)throw new o.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:S,enc:k}=j;if("string"!=typeof S||!S)throw new o.JWEInvalid("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof k||!k)throw new o.JWEInvalid("missing JWE Encryption Algorithm (enc) in JWE Header");let E=r&&(0,p.default)("keyManagementAlgorithms",r.keyManagementAlgorithms),C=r&&(0,p.default)("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(E&&!E.has(S))throw new o.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(C&&!C.has(k))throw new o.JOSEAlgNotAllowed('"enc" (Encryption Algorithm) Header Parameter not allowed');if(void 0!==e.encrypted_key)try{g=(0,n.decode)(e.encrypted_key)}catch{throw new o.JWEInvalid("Failed to base64url decode the encrypted_key")}let x=!1;"function"==typeof t&&(t=await t(m,e),x=!0);try{y=await (0,c.default)(S,t,g,j,r)}catch(e){if(e instanceof TypeError||e instanceof o.JWEInvalid||e instanceof o.JOSENotSupported)throw e;y=(0,d.default)(k)}try{_=(0,n.decode)(e.iv)}catch{throw new o.JWEInvalid("Failed to base64url decode the iv")}try{v=(0,n.decode)(e.tag)}catch{throw new o.JWEInvalid("Failed to base64url decode the tag")}let T=u.encoder.encode(null!=(f=e.protected)?f:"");b=void 0!==e.aad?(0,u.concat)(T,u.encoder.encode("."),u.encoder.encode(e.aad)):T;try{w=(0,n.decode)(e.ciphertext)}catch{throw new o.JWEInvalid("Failed to base64url decode the ciphertext")}let O=await (0,i.default)(k,y,w,_,v,b);"DEF"===j.zip&&(O=await ((null==r?void 0:r.inflateRaw)||s.inflate)(O));let I={plaintext:O};if(void 0!==e.protected&&(I.protectedHeader=m),void 0!==e.aad)try{I.additionalAuthenticatedData=(0,n.decode)(e.aad)}catch{throw new o.JWEInvalid("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(I.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(I.unprotectedHeader=e.header),x)?{...I,key:t}:I}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwe/flattened/encrypt.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlattenedEncrypt=t.unprotected=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/base64url.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/encrypt.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/zlib.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/iv.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/encrypt_key_management.js"),l=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),c=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/is_disjoint.js"),u=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/buffer_utils.js"),d=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/validate_crit.js");t.unprotected=Symbol();class h{constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,r){let h,p,f,m,g,y,_;if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new l.JWEInvalid("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!(0,c.default)(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new l.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let v={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if((0,d.default)(l.JWEInvalid,new Map,null==r?void 0:r.crit,this._protectedHeader,v),void 0!==v.zip){if(!this._protectedHeader||!this._protectedHeader.zip)throw new l.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==v.zip)throw new l.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:b,enc:w}=v;if("string"!=typeof b||!b)throw new l.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof w||!w)throw new l.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if("dir"===b){if(this._cek)throw TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if("ECDH-ES"===b&&this._cek)throw TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");{let n;({cek:p,encryptedKey:h,parameters:n}=await (0,a.default)(b,w,e,this._cek,this._keyManagementParameters)),n&&(r&&t.unprotected in r?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...n}:this.setUnprotectedHeader(n):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...n}:this.setProtectedHeader(n))}if(this._iv||(this._iv=(0,o.default)(w)),m=this._protectedHeader?u.encoder.encode((0,n.encode)(JSON.stringify(this._protectedHeader))):u.encoder.encode(""),this._aad?(g=(0,n.encode)(this._aad),f=(0,u.concat)(m,u.encoder.encode("."),u.encoder.encode(g))):f=m,"DEF"===v.zip){let e=await ((null==r?void 0:r.deflateRaw)||s.deflate)(this._plaintext);({ciphertext:y,tag:_}=await (0,i.default)(w,e,p,this._iv,f))}else({ciphertext:y,tag:_}=await (0,i.default)(w,this._plaintext,p,this._iv,f));let j={ciphertext:(0,n.encode)(y),iv:(0,n.encode)(this._iv),tag:(0,n.encode)(_)};return h&&(j.encrypted_key=(0,n.encode)(h)),g&&(j.aad=g),this._protectedHeader&&(j.protected=u.decoder.decode(m)),this._sharedUnprotectedHeader&&(j.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(j.header=this._unprotectedHeader),j}}t.FlattenedEncrypt=h},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwe/general/decrypt.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generalDecrypt=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwe/flattened/decrypt.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/is_object.js");t.generalDecrypt=async function(e,t,r){if(!(0,s.default)(e))throw new i.JWEInvalid("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(s.default))throw new i.JWEInvalid("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new i.JWEInvalid("JWE Recipients has no members");for(let i of e.recipients)try{return await (0,n.flattenedDecrypt)({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:i.encrypted_key,header:i.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,r)}catch{}throw new i.JWEDecryptionFailed}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwe/general/encrypt.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralEncrypt=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwe/flattened/encrypt.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/cek.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/is_disjoint.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/encrypt_key_management.js"),l=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/base64url.js"),c=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/validate_crit.js");class u{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setUnprotectedHeader(e){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addRecipient(...e){return this.parent.addRecipient(...e)}encrypt(...e){return this.parent.encrypt(...e)}done(){return this.parent}}class d{constructor(e){this._recipients=[],this._plaintext=e}addRecipient(e,t){let r=new u(this,e,{crit:null==t?void 0:t.crit});return this._recipients.push(r),r}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}async encrypt(e){var t,r,u;let d;if(!this._recipients.length)throw new i.JWEInvalid("at least one recipient must be added");if(e={deflateRaw:null==e?void 0:e.deflateRaw},1===this._recipients.length){let[t]=this._recipients,r=await new n.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(t.unprotectedHeader).encrypt(t.key,{...t.options,...e}),i={ciphertext:r.ciphertext,iv:r.iv,recipients:[{}],tag:r.tag};return r.aad&&(i.aad=r.aad),r.protected&&(i.protected=r.protected),r.unprotected&&(i.unprotected=r.unprotected),r.encrypted_key&&(i.recipients[0].encrypted_key=r.encrypted_key),r.header&&(i.recipients[0].header=r.header),i}for(let e=0;e<this._recipients.length;e++){let t=this._recipients[e];if(!(0,o.default)(this._protectedHeader,this._unprotectedHeader,t.unprotectedHeader))throw new i.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let r={...this._protectedHeader,...this._unprotectedHeader,...t.unprotectedHeader},{alg:n}=r;if("string"!=typeof n||!n)throw new i.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("dir"===n||"ECDH-ES"===n)throw new i.JWEInvalid('"dir" and "ECDH-ES" alg may only be used with a single recipient');if("string"!=typeof r.enc||!r.enc)throw new i.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(d){if(d!==r.enc)throw new i.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients')}else d=r.enc;if((0,c.default)(i.JWEInvalid,new Map,t.options.crit,this._protectedHeader,r),void 0!==r.zip&&(!this._protectedHeader||!this._protectedHeader.zip))throw new i.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}let h=(0,s.default)(d),p={ciphertext:"",iv:"",recipients:[],tag:""};for(let i=0;i<this._recipients.length;i++){let s=this._recipients[i],o={};p.recipients.push(o);let c=({...this._protectedHeader,...this._unprotectedHeader,...s.unprotectedHeader}).alg.startsWith("PBES2")?2048+i:void 0;if(0===i){let t=await new n.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(h).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(s.unprotectedHeader).setKeyManagementParameters({p2c:c}).encrypt(s.key,{...s.options,...e,[n.unprotected]:!0});p.ciphertext=t.ciphertext,p.iv=t.iv,p.tag=t.tag,t.aad&&(p.aad=t.aad),t.protected&&(p.protected=t.protected),t.unprotected&&(p.unprotected=t.unprotected),o.encrypted_key=t.encrypted_key,t.header&&(o.header=t.header);continue}let{encryptedKey:f,parameters:m}=await (0,a.default)((null==(t=s.unprotectedHeader)?void 0:t.alg)||(null==(r=this._protectedHeader)?void 0:r.alg)||(null==(u=this._unprotectedHeader)?void 0:u.alg),d,s.key,h,{p2c:c});o.encrypted_key=(0,l.encode)(f),(s.unprotectedHeader||m)&&(o.header={...s.unprotectedHeader,...m})}return p}}t.GeneralEncrypt=d},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwk/embedded.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmbeddedJWK=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/key/import.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/is_object.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js");t.EmbeddedJWK=async function(e,t){let r={...e,...null==t?void 0:t.header};if(!(0,i.default)(r.jwk))throw new s.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a JSON object');let o=await (0,n.importJWK)({...r.jwk,ext:!0},r.alg,!0);if(o instanceof Uint8Array||"public"!==o.type)throw new s.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a public key');return o}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwk/thumbprint.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateJwkThumbprintUri=t.calculateJwkThumbprint=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/digest.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/base64url.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/buffer_utils.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/is_object.js"),l=(e,t)=>{if("string"!=typeof e||!e)throw new s.JWKInvalid(`${t} missing or invalid`)};async function c(e,t){let r;if(!(0,a.default)(e))throw TypeError("JWK must be an object");if(null!=t||(t="sha256"),"sha256"!==t&&"sha384"!==t&&"sha512"!==t)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(e.kty){case"EC":l(e.crv,'"crv" (Curve) Parameter'),l(e.x,'"x" (X Coordinate) Parameter'),l(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":l(e.crv,'"crv" (Subtype of Key Pair) Parameter'),l(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":l(e.e,'"e" (Exponent) Parameter'),l(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":l(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new s.JOSENotSupported('"kty" (Key Type) Parameter missing or unsupported')}let c=o.encoder.encode(JSON.stringify(r));return(0,i.encode)(await (0,n.default)(t,c))}t.calculateJwkThumbprint=c,t.calculateJwkThumbprintUri=async function(e,t){null!=t||(t="sha256");let r=await c(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${r}`}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwks/local.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLocalJWKSet=t.LocalJWKSet=t.isJWKSLike=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/key/import.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/is_object.js");function o(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new i.JOSENotSupported('Unsupported "alg" value for a JSON Web Key Set')}}function a(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(l)}function l(e){return(0,s.default)(e)}function c(e){return"function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))}t.isJWKSLike=a;class u{constructor(e){if(this._cached=new WeakMap,!a(e))throw new i.JWKSInvalid("JSON Web Key Set malformed");this._jwks=c(e)}async getKey(e,t){let{alg:r,kid:n}={...e,...null==t?void 0:t.header},s=o(r),a=this._jwks.keys.filter(e=>{let t=s===e.kty;if(t&&"string"==typeof n&&(t=n===e.kid),t&&"string"==typeof e.alg&&(t=r===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t&&"EdDSA"===r&&(t="Ed25519"===e.crv||"Ed448"===e.crv),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv}return t}),{0:l,length:c}=a;if(0===c)throw new i.JWKSNoMatchingKey;if(1!==c){let e=new i.JWKSMultipleMatchingKeys,{_cached:t}=this;throw e[Symbol.asyncIterator]=async function*(){for(let e of a)try{yield await d(t,e,r)}catch{continue}},e}return d(this._cached,l,r)}}async function d(e,t,r){let s=e.get(t)||e.set(t,{}).get(t);if(void 0===s[r]){let e=await (0,n.importJWK)({...t,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new i.JWKSInvalid("JSON Web Key Set members must be public keys");s[r]=e}return s[r]}t.LocalJWKSet=u,t.createLocalJWKSet=function(e){let t=new u(e);return async function(e,r){return t.getKey(e,r)}}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwks/remote.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRemoteJWKSet=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/fetch_jwks.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwks/local.js");function o(){return"undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime}class a extends s.LocalJWKSet{constructor(e,t){if(super({keys:[]}),this._jwks=void 0,!(e instanceof URL))throw TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:null==t?void 0:t.agent,headers:null==t?void 0:t.headers},this._timeoutDuration="number"==typeof(null==t?void 0:t.timeoutDuration)?null==t?void 0:t.timeoutDuration:5e3,this._cooldownDuration="number"==typeof(null==t?void 0:t.cooldownDuration)?null==t?void 0:t.cooldownDuration:3e4,this._cacheMaxAge="number"==typeof(null==t?void 0:t.cacheMaxAge)?null==t?void 0:t.cacheMaxAge:6e5}coolingDown(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._jwks&&this.fresh()||await this.reload();try{return await super.getKey(e,t)}catch(r){if(r instanceof i.JWKSNoMatchingKey&&!1===this.coolingDown())return await this.reload(),super.getKey(e,t);throw r}}async reload(){this._pendingFetch&&o()&&(this._pendingFetch=void 0),this._pendingFetch||(this._pendingFetch=(0,n.default)(this._url,this._timeoutDuration,this._options).then(e=>{if(!(0,s.isJWKSLike)(e))throw new i.JWKSInvalid("JSON Web Key Set malformed");this._jwks={keys:e.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(e=>{throw this._pendingFetch=void 0,e})),await this._pendingFetch}}t.createRemoteJWKSet=function(e,t){let r=new a(e,t);return async function(e,t){return r.getKey(e,t)}}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/jws/compact/sign.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactSign=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jws/flattened/sign.js");class i{constructor(e){this._flattened=new n.FlattenedSign(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){let r=await this._flattened.sign(e,t);if(void 0===r.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}t.CompactSign=i},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/jws/compact/verify.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compactVerify=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jws/flattened/verify.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/buffer_utils.js");t.compactVerify=async function(e,t,r){if(e instanceof Uint8Array&&(e=s.decoder.decode(e)),"string"!=typeof e)throw new i.JWSInvalid("Compact JWS must be a string or Uint8Array");let{0:o,1:a,2:l,length:c}=e.split(".");if(3!==c)throw new i.JWSInvalid("Invalid Compact JWS");let u=await (0,n.flattenedVerify)({payload:a,protected:o,signature:l},t,r),d={payload:u.payload,protectedHeader:u.protectedHeader};return"function"==typeof t?{...d,key:u.key}:d}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/jws/flattened/sign.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlattenedSign=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/base64url.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/sign.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/is_disjoint.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/buffer_utils.js"),l=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/check_key_type.js"),c=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/validate_crit.js");class u{constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){let r;if(!this._protectedHeader&&!this._unprotectedHeader)throw new o.JWSInvalid("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!(0,s.default)(this._protectedHeader,this._unprotectedHeader))throw new o.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let u={...this._protectedHeader,...this._unprotectedHeader},d=(0,c.default)(o.JWSInvalid,new Map([["b64",!0]]),null==t?void 0:t.crit,this._protectedHeader,u),h=!0;if(d.has("b64")&&"boolean"!=typeof(h=this._protectedHeader.b64))throw new o.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:p}=u;if("string"!=typeof p||!p)throw new o.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');(0,l.default)(p,e,"sign");let f=this._payload;h&&(f=a.encoder.encode((0,n.encode)(f))),r=this._protectedHeader?a.encoder.encode((0,n.encode)(JSON.stringify(this._protectedHeader))):a.encoder.encode("");let m=(0,a.concat)(r,a.encoder.encode("."),f),g=await (0,i.default)(p,e,m),y={signature:(0,n.encode)(g),payload:""};return h&&(y.payload=a.decoder.decode(f)),this._unprotectedHeader&&(y.header=this._unprotectedHeader),this._protectedHeader&&(y.protected=a.decoder.decode(r)),y}}t.FlattenedSign=u},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/jws/flattened/verify.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenedVerify=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/base64url.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/verify.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/buffer_utils.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/is_disjoint.js"),l=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/is_object.js"),c=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/check_key_type.js"),u=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/validate_crit.js"),d=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/validate_algorithms.js");t.flattenedVerify=async function(e,t,r){var h;let p,f;if(!(0,l.default)(e))throw new s.JWSInvalid("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new s.JWSInvalid('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new s.JWSInvalid("JWS Protected Header incorrect type");if(void 0===e.payload)throw new s.JWSInvalid("JWS Payload missing");if("string"!=typeof e.signature)throw new s.JWSInvalid("JWS Signature missing or incorrect type");if(void 0!==e.header&&!(0,l.default)(e.header))throw new s.JWSInvalid("JWS Unprotected Header incorrect type");let m={};if(e.protected)try{let t=(0,n.decode)(e.protected);m=JSON.parse(o.decoder.decode(t))}catch{throw new s.JWSInvalid("JWS Protected Header is invalid")}if(!(0,a.default)(m,e.header))throw new s.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let g={...m,...e.header},y=(0,u.default)(s.JWSInvalid,new Map([["b64",!0]]),null==r?void 0:r.crit,m,g),_=!0;if(y.has("b64")&&"boolean"!=typeof(_=m.b64))throw new s.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:v}=g;if("string"!=typeof v||!v)throw new s.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');let b=r&&(0,d.default)("algorithms",r.algorithms);if(b&&!b.has(v))throw new s.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(_){if("string"!=typeof e.payload)throw new s.JWSInvalid("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new s.JWSInvalid("JWS Payload must be a string or an Uint8Array instance");let w=!1;"function"==typeof t&&(t=await t(m,e),w=!0),(0,c.default)(v,t,"verify");let j=(0,o.concat)(o.encoder.encode(null!=(h=e.protected)?h:""),o.encoder.encode("."),"string"==typeof e.payload?o.encoder.encode(e.payload):e.payload);try{p=(0,n.decode)(e.signature)}catch{throw new s.JWSInvalid("Failed to base64url decode the signature")}if(!await (0,i.default)(v,t,p,j))throw new s.JWSSignatureVerificationFailed;if(_)try{f=(0,n.decode)(e.payload)}catch{throw new s.JWSInvalid("Failed to base64url decode the payload")}else f="string"==typeof e.payload?o.encoder.encode(e.payload):e.payload;let S={payload:f};return(void 0!==e.protected&&(S.protectedHeader=m),void 0!==e.header&&(S.unprotectedHeader=e.header),w)?{...S,key:t}:S}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/jws/general/sign.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralSign=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jws/flattened/sign.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js");class s{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setProtectedHeader(e){if(this.protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this.protectedHeader=e,this}setUnprotectedHeader(e){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addSignature(...e){return this.parent.addSignature(...e)}sign(...e){return this.parent.sign(...e)}done(){return this.parent}}class o{constructor(e){this._signatures=[],this._payload=e}addSignature(e,t){let r=new s(this,e,t);return this._signatures.push(r),r}async sign(){if(!this._signatures.length)throw new i.JWSInvalid("at least one signature must be added");let e={signatures:[],payload:""};for(let t=0;t<this._signatures.length;t++){let r=this._signatures[t],s=new n.FlattenedSign(this._payload);s.setProtectedHeader(r.protectedHeader),s.setUnprotectedHeader(r.unprotectedHeader);let{payload:o,...a}=await s.sign(r.key,r.options);if(0===t)e.payload=o;else if(e.payload!==o)throw new i.JWSInvalid("inconsistent use of JWS Unencoded Payload (RFC7797)");e.signatures.push(a)}return e}}t.GeneralSign=o},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/jws/general/verify.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generalVerify=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jws/flattened/verify.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/is_object.js");t.generalVerify=async function(e,t,r){if(!(0,s.default)(e))throw new i.JWSInvalid("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(s.default))throw new i.JWSInvalid("JWS Signatures missing or incorrect type");for(let i of e.signatures)try{return await (0,n.flattenedVerify)({header:i.header,payload:e.payload,protected:i.protected,signature:i.signature},t,r)}catch{}throw new i.JWSSignatureVerificationFailed}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwt/decrypt.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jwtDecrypt=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwe/compact/decrypt.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/jwt_claims_set.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js");t.jwtDecrypt=async function(e,t,r){let o=await (0,n.compactDecrypt)(e,t,r),a=(0,i.default)(o.protectedHeader,o.plaintext,r),{protectedHeader:l}=o;if(void 0!==l.iss&&l.iss!==a.iss)throw new s.JWTClaimValidationFailed('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(void 0!==l.sub&&l.sub!==a.sub)throw new s.JWTClaimValidationFailed('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(void 0!==l.aud&&JSON.stringify(l.aud)!==JSON.stringify(a.aud))throw new s.JWTClaimValidationFailed('replicated "aud" claim header parameter mismatch',"aud","mismatch");let c={payload:a,protectedHeader:l};return"function"==typeof t?{...c,key:o.key}:c}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwt/encrypt.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncryptJWT=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwe/compact/encrypt.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/buffer_utils.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwt/produce.js");class o extends s.ProduceJWT{setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){let r=new n.CompactEncrypt(i.encoder.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),r.encrypt(e,t)}}t.EncryptJWT=o},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwt/produce.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProduceJWT=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/epoch.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/is_object.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/secs.js");class o{constructor(e){if(!(0,i.default)(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:e}:this._payload={...this._payload,nbf:(0,n.default)(new Date)+(0,s.default)(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:e}:this._payload={...this._payload,exp:(0,n.default)(new Date)+(0,s.default)(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:(0,n.default)(new Date)}:this._payload={...this._payload,iat:e},this}}t.ProduceJWT=o},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwt/sign.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignJWT=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jws/compact/sign.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/buffer_utils.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwt/produce.js");class a extends o.ProduceJWT{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){var r;let o=new n.CompactSign(s.encoder.encode(JSON.stringify(this._payload)));if(o.setProtectedHeader(this._protectedHeader),Array.isArray(null==(r=this._protectedHeader)?void 0:r.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new i.JWTInvalid("JWTs MUST NOT use unencoded payload");return o.sign(e,t)}}t.SignJWT=a},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwt/unsecured.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnsecuredJWT=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/base64url.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/buffer_utils.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/jwt_claims_set.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwt/produce.js");class l extends a.ProduceJWT{encode(){let e=n.encode(JSON.stringify({alg:"none"})),t=n.encode(JSON.stringify(this._payload));return`${e}.${t}.`}static decode(e,t){let r;if("string"!=typeof e)throw new s.JWTInvalid("Unsecured JWT must be a string");let{0:a,1:l,2:c,length:u}=e.split(".");if(3!==u||""!==c)throw new s.JWTInvalid("Invalid Unsecured JWT");try{if(r=JSON.parse(i.decoder.decode(n.decode(a))),"none"!==r.alg)throw Error()}catch{throw new s.JWTInvalid("Invalid Unsecured JWT")}return{payload:(0,o.default)(r,n.decode(l),t),header:r}}}t.UnsecuredJWT=l},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/jwt/verify.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jwtVerify=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/jws/compact/verify.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/jwt_claims_set.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js");t.jwtVerify=async function(e,t,r){var o;let a=await (0,n.compactVerify)(e,t,r);if((null==(o=a.protectedHeader.crit)?void 0:o.includes("b64"))&&!1===a.protectedHeader.b64)throw new s.JWTInvalid("JWTs MUST NOT use unencoded payload");let l={payload:(0,i.default)(a.protectedHeader,a.payload,r),protectedHeader:a.protectedHeader};return"function"==typeof t?{...l,key:a.key}:l}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/key/export.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exportJWK=t.exportPKCS8=t.exportSPKI=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/asn1.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/asn1.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/key_to_jwk.js");t.exportSPKI=async function(e){return(0,n.toSPKI)(e)},t.exportPKCS8=async function(e){return(0,i.toPKCS8)(e)},t.exportJWK=async function(e){return(0,s.default)(e)}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/key/generate_key_pair.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateKeyPair=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/generate.js");t.generateKeyPair=async function(e,t){return(0,n.generateKeyPair)(e,t)}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/key/generate_secret.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateSecret=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/generate.js");t.generateSecret=async function(e,t){return(0,n.generateSecret)(e,t)}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/key/import.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.importJWK=t.importPKCS8=t.importX509=t.importSPKI=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/base64url.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/asn1.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/jwk_to_key.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/is_object.js");t.importSPKI=async function(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PUBLIC KEY-----"))throw TypeError('"spki" must be SPKI formatted string');return(0,i.fromSPKI)(e,t,r)},t.importX509=async function(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN CERTIFICATE-----"))throw TypeError('"x509" must be X.509 formatted string');return(0,i.fromX509)(e,t,r)},t.importPKCS8=async function(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PRIVATE KEY-----"))throw TypeError('"pkcs8" must be PKCS#8 formatted string');return(0,i.fromPKCS8)(e,t,r)},t.importJWK=async function(e,t,r){var i;if(!(0,a.default)(e))throw TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');if(null!=r||(r=!0!==e.ext),r)return(0,s.default)({...e,alg:t,ext:null!=(i=e.ext)&&i});return(0,n.decode)(e.k);case"RSA":if(void 0!==e.oth)throw new o.JOSENotSupported('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return(0,s.default)({...e,alg:t});default:throw new o.JOSENotSupported('Unsupported "kty" (Key Type) Parameter value')}}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/aesgcmkw.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unwrap=t.wrap=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/encrypt.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/decrypt.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/iv.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/base64url.js");t.wrap=async function(e,t,r,i){let a=e.slice(0,7);i||(i=(0,s.default)(a));let{ciphertext:l,tag:c}=await (0,n.default)(a,r,t,i,new Uint8Array(0));return{encryptedKey:l,iv:(0,o.encode)(i),tag:(0,o.encode)(c)}},t.unwrap=async function(e,t,r,n,s){let o=e.slice(0,7);return(0,i.default)(o,t,r,n,s,new Uint8Array(0))}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/buffer_utils.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatKdf=t.lengthAndInput=t.uint32be=t.uint64be=t.p2s=t.concat=t.decoder=t.encoder=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/digest.js");t.encoder=new TextEncoder,t.decoder=new TextDecoder;let i=0x100000000;function s(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;return e.forEach(e=>{t.set(e,r),r+=e.length}),t}function o(e,r){return s(t.encoder.encode(e),new Uint8Array([0]),r)}function a(e,t,r){if(t<0||t>=i)throw RangeError(`value must be >= 0 and <= ${i-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function l(e){let t=new Uint8Array(4);return a(t,e),t}t.concat=s,t.p2s=o,t.uint64be=function(e){let t=Math.floor(e/i),r=e%i,n=new Uint8Array(8);return a(n,t,0),a(n,r,4),n},t.uint32be=l,t.lengthAndInput=function(e){return s(l(e.length),e)},t.concatKdf=async function(e,t,r){let i=Math.ceil((t>>3)/32),s=new Uint8Array(32*i);for(let t=0;t<i;t++){let i=new Uint8Array(4+e.length+r.length);i.set(l(t+1)),i.set(e,4),i.set(r,4+e.length),s.set(await (0,n.default)("sha256",i),32*t)}return s.slice(0,t>>3)}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/cek.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bitLength=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/random.js");function s(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new n.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}t.bitLength=s,t.default=e=>(0,i.default)(new Uint8Array(s(e)>>3))},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/check_iv_length.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/iv.js");t.default=(e,t)=>{if(t.length<<3!==(0,i.bitLength)(e))throw new n.JWEInvalid("Invalid Initialization Vector length")}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/check_key_type.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/invalid_key_input.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_like.js"),s=(e,t)=>{if(!(t instanceof Uint8Array)){if(!(0,i.default)(t))throw TypeError((0,n.withAlg)(e,t,...i.types,"Uint8Array"));if("secret"!==t.type)throw TypeError(`${i.types.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},o=(e,t,r)=>{if(!(0,i.default)(t))throw TypeError((0,n.withAlg)(e,t,...i.types));if("secret"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===r&&"public"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===r&&"public"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===r&&"private"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)};t.default=(e,t,r)=>{e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?s(e,t):o(e,t,r)}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/check_p2s.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js");t.default=function(e){if(!(e instanceof Uint8Array)||e.length<8)throw new n.JWEInvalid("PBES2 Salt Input must be 8 or more octets")}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/crypto_key.js":function(e,t){"use strict";function r(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function n(e,t){return e.name===t}function i(e){return parseInt(e.name.slice(4),10)}function s(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}function o(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw TypeError(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.checkEncCryptoKey=t.checkSigCryptoKey=void 0,t.checkSigCryptoKey=function(e,t,...a){switch(t){case"HS256":case"HS384":case"HS512":{if(!n(e.algorithm,"HMAC"))throw r("HMAC");let s=parseInt(t.slice(2),10);if(i(e.algorithm.hash)!==s)throw r(`SHA-${s}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!n(e.algorithm,"RSASSA-PKCS1-v1_5"))throw r("RSASSA-PKCS1-v1_5");let s=parseInt(t.slice(2),10);if(i(e.algorithm.hash)!==s)throw r(`SHA-${s}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!n(e.algorithm,"RSA-PSS"))throw r("RSA-PSS");let s=parseInt(t.slice(2),10);if(i(e.algorithm.hash)!==s)throw r(`SHA-${s}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw r("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!n(e.algorithm,"ECDSA"))throw r("ECDSA");let i=s(t);if(e.algorithm.namedCurve!==i)throw r(i,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}o(e,a)},t.checkEncCryptoKey=function(e,t,...s){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!n(e.algorithm,"AES-GCM"))throw r("AES-GCM");let i=parseInt(t.slice(1,4),10);if(e.algorithm.length!==i)throw r(i,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!n(e.algorithm,"AES-KW"))throw r("AES-KW");let i=parseInt(t.slice(1,4),10);if(e.algorithm.length!==i)throw r(i,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw r("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!n(e.algorithm,"PBKDF2"))throw r("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!n(e.algorithm,"RSA-OAEP"))throw r("RSA-OAEP");let s=parseInt(t.slice(9),10)||1;if(i(e.algorithm.hash)!==s)throw r(`SHA-${s}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}o(e,s)}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/decrypt_key_management.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/aeskw.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/ecdhes.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/pbes2kw.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/rsaes.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/base64url.js"),l=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),c=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/cek.js"),u=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/key/import.js"),d=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/check_key_type.js"),h=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/is_object.js"),p=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/aesgcmkw.js");t.default=async function(e,t,r,f,m){switch((0,d.default)(e,t,"decrypt"),e){case"dir":if(void 0!==r)throw new l.JWEInvalid("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new l.JWEInvalid("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let s,o;if(!(0,h.default)(f.epk))throw new l.JWEInvalid('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!i.ecdhAllowed(t))throw new l.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");let d=await (0,u.importJWK)(f.epk,e);if(void 0!==f.apu){if("string"!=typeof f.apu)throw new l.JWEInvalid('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{s=(0,a.decode)(f.apu)}catch{throw new l.JWEInvalid("Failed to base64url decode the apu")}}if(void 0!==f.apv){if("string"!=typeof f.apv)throw new l.JWEInvalid('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{o=(0,a.decode)(f.apv)}catch{throw new l.JWEInvalid("Failed to base64url decode the apv")}}let p=await i.deriveKey(d,t,"ECDH-ES"===e?f.enc:e,"ECDH-ES"===e?(0,c.bitLength)(f.enc):parseInt(e.slice(-5,-2),10),s,o);if("ECDH-ES"===e)return p;if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");return(0,n.unwrap)(e.slice(-6),p,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");return(0,o.decrypt)(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let n;if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");if("number"!=typeof f.p2c)throw new l.JWEInvalid('JOSE Header "p2c" (PBES2 Count) missing or invalid');let i=(null==m?void 0:m.maxPBES2Count)||1e4;if(f.p2c>i)throw new l.JWEInvalid('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof f.p2s)throw new l.JWEInvalid('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{n=(0,a.decode)(f.p2s)}catch{throw new l.JWEInvalid("Failed to base64url decode the p2s")}return(0,s.decrypt)(e,t,r,f.p2c,n)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");return(0,n.unwrap)(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let n,i;if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");if("string"!=typeof f.iv)throw new l.JWEInvalid('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof f.tag)throw new l.JWEInvalid('JOSE Header "tag" (Authentication Tag) missing or invalid');try{n=(0,a.decode)(f.iv)}catch{throw new l.JWEInvalid("Failed to base64url decode the iv")}try{i=(0,a.decode)(f.tag)}catch{throw new l.JWEInvalid("Failed to base64url decode the tag")}return(0,p.unwrap)(e,t,r,n,i)}default:throw new l.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/encrypt_key_management.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/aeskw.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/ecdhes.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/pbes2kw.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/rsaes.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/base64url.js"),l=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/cek.js"),c=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),u=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/key/export.js"),d=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/check_key_type.js"),h=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/aesgcmkw.js");t.default=async function(e,t,r,p,f={}){let m,g,y;switch((0,d.default)(e,r,"encrypt"),e){case"dir":y=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!i.ecdhAllowed(r))throw new c.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:s,apv:o}=f,{epk:d}=f;d||(d=(await i.generateEpk(r)).privateKey);let{x:h,y:_,crv:v,kty:b}=await (0,u.exportJWK)(d),w=await i.deriveKey(r,d,"ECDH-ES"===e?t:e,"ECDH-ES"===e?(0,l.bitLength)(t):parseInt(e.slice(-5,-2),10),s,o);if(g={epk:{x:h,crv:v,kty:b}},"EC"===b&&(g.epk.y=_),s&&(g.apu=(0,a.encode)(s)),o&&(g.apv=(0,a.encode)(o)),"ECDH-ES"===e){y=w;break}y=p||(0,l.default)(t);let j=e.slice(-6);m=await (0,n.wrap)(j,w,y);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":y=p||(0,l.default)(t),m=await (0,o.encrypt)(e,r,y);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{y=p||(0,l.default)(t);let{p2c:n,p2s:i}=f;({encryptedKey:m,...g}=await (0,s.encrypt)(e,r,y,n,i));break}case"A128KW":case"A192KW":case"A256KW":y=p||(0,l.default)(t),m=await (0,n.wrap)(e,r,y);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{y=p||(0,l.default)(t);let{iv:n}=f;({encryptedKey:m,...g}=await (0,h.wrap)(e,r,y,n));break}default:throw new c.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:y,encryptedKey:m,parameters:g}}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/epoch.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>Math.floor(e.getTime()/1e3)},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/invalid_key_input.js":function(e,t){"use strict";function r(e,t,...n){if(n.length>2){let t=n.pop();e+=`one of type ${n.join(", ")}, or ${t}.`}else 2===n.length?e+=`one of type ${n[0]} or ${n[1]}.`:e+=`of type ${n[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}Object.defineProperty(t,"__esModule",{value:!0}),t.withAlg=void 0,t.default=(e,...t)=>r("Key must be ",e,...t),t.withAlg=function(e,t,...n){return r(`Key for the ${e} algorithm must be `,t,...n)}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/is_disjoint.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(...e)=>{let t,r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/is_object.js":function(e,t){"use strict";function r(e){return"object"==typeof e&&null!==e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!r(e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/iv.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bitLength=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/random.js");function s(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new n.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}t.bitLength=s,t.default=e=>(0,i.default)(new Uint8Array(s(e)>>3))},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/jwt_claims_set.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/buffer_utils.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/epoch.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/secs.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/is_object.js"),l=e=>e.toLowerCase().replace(/^application\//,""),c=(e,t)=>"string"==typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e)));t.default=(e,t,r={})=>{let u,d,{typ:h}=r;if(h&&("string"!=typeof e.typ||l(e.typ)!==l(h)))throw new n.JWTClaimValidationFailed('unexpected "typ" JWT header value',"typ","check_failed");try{u=JSON.parse(i.decoder.decode(t))}catch{}if(!(0,a.default)(u))throw new n.JWTInvalid("JWT Claims Set must be a top-level JSON object");let{requiredClaims:p=[],issuer:f,subject:m,audience:g,maxTokenAge:y}=r;for(let e of(void 0!==y&&p.push("iat"),void 0!==g&&p.push("aud"),void 0!==m&&p.push("sub"),void 0!==f&&p.push("iss"),new Set(p.reverse())))if(!(e in u))throw new n.JWTClaimValidationFailed(`missing required "${e}" claim`,e,"missing");if(f&&!(Array.isArray(f)?f:[f]).includes(u.iss))throw new n.JWTClaimValidationFailed('unexpected "iss" claim value',"iss","check_failed");if(m&&u.sub!==m)throw new n.JWTClaimValidationFailed('unexpected "sub" claim value',"sub","check_failed");if(g&&!c(u.aud,"string"==typeof g?[g]:g))throw new n.JWTClaimValidationFailed('unexpected "aud" claim value',"aud","check_failed");switch(typeof r.clockTolerance){case"string":d=(0,o.default)(r.clockTolerance);break;case"number":d=r.clockTolerance;break;case"undefined":d=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:_}=r,v=(0,s.default)(_||new Date);if((void 0!==u.iat||y)&&"number"!=typeof u.iat)throw new n.JWTClaimValidationFailed('"iat" claim must be a number',"iat","invalid");if(void 0!==u.nbf){if("number"!=typeof u.nbf)throw new n.JWTClaimValidationFailed('"nbf" claim must be a number',"nbf","invalid");if(u.nbf>v+d)throw new n.JWTClaimValidationFailed('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==u.exp){if("number"!=typeof u.exp)throw new n.JWTClaimValidationFailed('"exp" claim must be a number',"exp","invalid");if(u.exp<=v-d)throw new n.JWTExpired('"exp" claim timestamp check failed',"exp","check_failed")}if(y){let e=v-u.iat;if(e-d>("number"==typeof y?y:(0,o.default)(y)))throw new n.JWTExpired('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(e<0-d)throw new n.JWTClaimValidationFailed('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return u}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/secs.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=60,n=3600,i=86400,s=604800,o=0x1e187e0,a=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i;t.default=e=>{let t=a.exec(e);if(!t)throw TypeError("Invalid time period format");let l=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(l);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(l*r);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(l*n);case"day":case"days":case"d":return Math.round(l*i);case"week":case"weeks":case"w":return Math.round(l*s);default:return Math.round(l*o)}}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/validate_algorithms.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/validate_crit.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js");t.default=function(e,t,r,i,s){let o;if(void 0!==s.crit&&void 0===i.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!i||void 0===i.crit)return new Set;if(!Array.isArray(i.crit)||0===i.crit.length||i.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let a of(o=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,i.crit)){if(!o.has(a))throw new n.JOSENotSupported(`Extension Header Parameter "${a}" is not recognized`);if(void 0===s[a])throw new e(`Extension Header Parameter "${a}" is missing`);if(o.get(a)&&void 0===i[a])throw new e(`Extension Header Parameter "${a}" MUST be integrity protected`)}return new Set(i.crit)}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/aeskw.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unwrap=t.wrap=void 0;let n=r("buffer"),i=r("crypto"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/buffer_utils.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/webcrypto.js"),l=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/crypto_key.js"),c=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_object.js"),u=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/invalid_key_input.js"),d=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/ciphers.js"),h=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_like.js");function p(e,t){if(e.symmetricKeySize<<3!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function f(e,t,r){if((0,c.default)(e))return e;if(e instanceof Uint8Array)return(0,i.createSecretKey)(e);if((0,a.isCryptoKey)(e))return(0,l.checkEncCryptoKey)(e,t,r),i.KeyObject.from(e);throw TypeError((0,u.default)(e,...h.types,"Uint8Array"))}t.wrap=(e,t,r)=>{let a=parseInt(e.slice(1,4),10),l=`aes${a}-wrap`;if(!(0,d.default)(l))throw new s.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`);let c=f(t,e,"wrapKey");p(c,e);let u=(0,i.createCipheriv)(l,c,n.Buffer.alloc(8,166));return(0,o.concat)(u.update(r),u.final())},t.unwrap=(e,t,r)=>{let a=parseInt(e.slice(1,4),10),l=`aes${a}-wrap`;if(!(0,d.default)(l))throw new s.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`);let c=f(t,e,"unwrapKey");p(c,e);let u=(0,i.createDecipheriv)(l,c,n.Buffer.alloc(8,166));return(0,o.concat)(u.update(r),u.final())}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/asn1.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromX509=t.fromSPKI=t.fromPKCS8=t.toPKCS8=t.toSPKI=void 0;let n=r("crypto"),i=r("buffer"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/webcrypto.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_object.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/invalid_key_input.js"),l=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_like.js"),c=(e,t,r)=>{let i;if((0,s.isCryptoKey)(r)){if(!r.extractable)throw TypeError("CryptoKey is not extractable");i=n.KeyObject.from(r)}else if((0,o.default)(r))i=r;else throw TypeError((0,a.default)(r,...l.types));if(i.type!==e)throw TypeError(`key is not a ${e} key`);return i.export({format:"pem",type:t})};t.toSPKI=e=>c("public","spki",e),t.toPKCS8=e=>c("private","pkcs8",e),t.fromPKCS8=e=>(0,n.createPrivateKey)({key:i.Buffer.from(e.replace(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,""),"base64"),type:"pkcs8",format:"der"}),t.fromSPKI=e=>(0,n.createPublicKey)({key:i.Buffer.from(e.replace(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,""),"base64"),type:"spki",format:"der"}),t.fromX509=e=>(0,n.createPublicKey)({key:e,type:"spki",format:"pem"})},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/asn1_sequence_decoder.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=2,n=48;class i{constructor(e){if(e[0]!==n||(this.buffer=e,this.offset=1,this.decodeLength()!==e.length-this.offset))throw TypeError()}decodeLength(){let e=this.buffer[this.offset++];if(128&e){let t=-129&e;e=0;for(let r=0;r<t;r++)e=e<<8|this.buffer[this.offset+r];this.offset+=t}return e}unsignedInteger(){if(this.buffer[this.offset++]!==r)throw TypeError();let e=this.decodeLength();0===this.buffer[this.offset]&&(this.offset++,e--);let t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}end(){if(this.offset!==this.buffer.length)throw TypeError()}}t.default=i},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/asn1_sequence_encoder.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r("buffer"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),s=2,o=3,a=4,l=48,c=n.Buffer.from([0]),u=n.Buffer.from([s]),d=n.Buffer.from([o]),h=n.Buffer.from([l]),p=n.Buffer.from([a]),f=e=>{if(e<128)return n.Buffer.from([e]);let t=n.Buffer.alloc(5);t.writeUInt32BE(e,1);let r=1;for(;0===t[r];)r++;return t[r-1]=128|5-r,t.slice(r-1)},m=new Map([["P-256",n.Buffer.from("06 08 2A 86 48 CE 3D 03 01 07".replace(/ /g,""),"hex")],["secp256k1",n.Buffer.from("06 05 2B 81 04 00 0A".replace(/ /g,""),"hex")],["P-384",n.Buffer.from("06 05 2B 81 04 00 22".replace(/ /g,""),"hex")],["P-521",n.Buffer.from("06 05 2B 81 04 00 23".replace(/ /g,""),"hex")],["ecPublicKey",n.Buffer.from("06 07 2A 86 48 CE 3D 02 01".replace(/ /g,""),"hex")],["X25519",n.Buffer.from("06 03 2B 65 6E".replace(/ /g,""),"hex")],["X448",n.Buffer.from("06 03 2B 65 6F".replace(/ /g,""),"hex")],["Ed25519",n.Buffer.from("06 03 2B 65 70".replace(/ /g,""),"hex")],["Ed448",n.Buffer.from("06 03 2B 65 71".replace(/ /g,""),"hex")]]);class g{constructor(){this.length=0,this.elements=[]}oidFor(e){let t=m.get(e);if(!t)throw new i.JOSENotSupported("Invalid or unsupported OID");this.elements.push(t),this.length+=t.length}zero(){this.elements.push(u,n.Buffer.from([1]),c),this.length+=3}one(){this.elements.push(u,n.Buffer.from([1]),n.Buffer.from([1])),this.length+=3}unsignedInteger(e){if(128&e[0]){let t=f(e.length+1);this.elements.push(u,t,c,e),this.length+=2+t.length+e.length}else{let t=0;for(;0===e[t]&&(128&e[t+1])==0;)t++;let r=f(e.length-t);this.elements.push(u,f(e.length-t),e.slice(t)),this.length+=1+r.length+e.length-t}}octStr(e){let t=f(e.length);this.elements.push(p,f(e.length),e),this.length+=1+t.length+e.length}bitStr(e){let t=f(e.length+1);this.elements.push(d,f(e.length+1),c,e),this.length+=1+t.length+e.length+1}add(e){this.elements.push(e),this.length+=e.length}end(e=h){let t=f(this.length);return n.Buffer.concat([e,t,...this.elements],1+t.length+this.length)}}t.default=g},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/base64url.js":function(e,t,r){"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=t.encodeBase64=t.decodeBase64=void 0;let i=r("buffer"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/buffer_utils.js");function o(e){let t=e;return t instanceof Uint8Array&&(t=s.decoder.decode(t)),t}i.Buffer.isEncoding("base64url")?t.encode=n=e=>i.Buffer.from(e).toString("base64url"):t.encode=n=e=>i.Buffer.from(e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),t.decodeBase64=e=>i.Buffer.from(e,"base64"),t.encodeBase64=e=>i.Buffer.from(e).toString("base64"),t.decode=e=>i.Buffer.from(o(e),"base64")},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/cbc_tag.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r("crypto"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/buffer_utils.js");t.default=function(e,t,r,s,o,a){let l=(0,i.concat)(e,t,r,(0,i.uint64be)(e.length<<3)),c=(0,n.createHmac)(`sha${s}`,o);return c.update(l),c.digest().slice(0,a>>3)}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/check_cek_length.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_object.js");t.default=(e,t)=>{let r;switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new n.JOSENotSupported(`Content Encryption Algorithm ${e} is not supported either by JOSE or your javascript runtime`)}if(t instanceof Uint8Array){let e=t.byteLength<<3;if(e!==r)throw new n.JWEInvalid(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`);return}if((0,i.default)(t)&&"secret"===t.type){let e=t.symmetricKeySize<<3;if(e!==r)throw new n.JWEInvalid(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`);return}throw TypeError("Invalid Content Encryption Key type")}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/check_modulus_length.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setModulusLength=t.weakMap=void 0,t.weakMap=new WeakMap;let r=(e,t)=>{let n=e.readUInt8(1);if((128&n)==0)return 0===t?n:r(e.subarray(2+n),t-1);let i=127&n;n=0;for(let t=0;t<i;t++)n<<=8,n|=e.readUInt8(2+t);return 0===t?n:r(e.subarray(2+n),t-1)},n=(e,t)=>{let n=e.readUInt8(1);if((128&n)==0)return r(e.subarray(2),t);let i=127&n;return r(e.subarray(2+i),t)},i=e=>{var r,i;if(t.weakMap.has(e))return t.weakMap.get(e);let s=null!=(i=null==(r=e.asymmetricKeyDetails)?void 0:r.modulusLength)?i:n(e.export({format:"der",type:"pkcs1"}),+("private"===e.type))-1<<3;return t.weakMap.set(e,s),s},s=(e,r)=>{t.weakMap.set(e,r)};t.setModulusLength=s,t.default=(e,t)=>{if(2048>i(e))throw TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/ciphers.js":function(e,t,r){"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0});let i=r("crypto");t.default=e=>(n||(n=new Set((0,i.getCiphers)())),n.has(e))},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/decrypt.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r("crypto"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/check_iv_length.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/check_cek_length.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/buffer_utils.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),l=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/timing_safe_equal.js"),c=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/cbc_tag.js"),u=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/webcrypto.js"),d=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/crypto_key.js"),h=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_object.js"),p=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/invalid_key_input.js"),f=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/ciphers.js"),m=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_like.js");function g(e,t,r,i,s,u){let d,p,m=parseInt(e.slice(1,4),10);(0,h.default)(t)&&(t=t.export());let g=t.subarray(m>>3),y=t.subarray(0,m>>3),_=parseInt(e.slice(-3),10),v=`aes-${m}-cbc`;if(!(0,f.default)(v))throw new a.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);let b=(0,c.default)(u,i,r,_,y,m);try{d=(0,l.default)(s,b)}catch{}if(!d)throw new a.JWEDecryptionFailed;try{let e=(0,n.createDecipheriv)(v,g,i);p=(0,o.concat)(e.update(r),e.final())}catch{}if(!p)throw new a.JWEDecryptionFailed;return p}function y(e,t,r,i,s,o){let l=parseInt(e.slice(1,4),10),c=`aes-${l}-gcm`;if(!(0,f.default)(c))throw new a.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);try{let e=(0,n.createDecipheriv)(c,t,i,{authTagLength:16});e.setAuthTag(s),o.byteLength&&e.setAAD(o,{plaintextLength:r.length});let a=e.update(r);return e.final(),a}catch{throw new a.JWEDecryptionFailed}}t.default=(e,t,r,o,l,c)=>{let f;if((0,u.isCryptoKey)(t))(0,d.checkEncCryptoKey)(t,e,"decrypt"),f=n.KeyObject.from(t);else if(t instanceof Uint8Array||(0,h.default)(t))f=t;else throw TypeError((0,p.default)(t,...m.types,"Uint8Array"));switch((0,s.default)(e,f),(0,i.default)(e,o),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return g(e,f,r,o,l,c);case"A128GCM":case"A192GCM":case"A256GCM":return y(e,f,r,o,l,c);default:throw new a.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/digest.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r("crypto");t.default=(e,t)=>(0,n.createHash)(e).update(t).digest()},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/dsa_digest.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js");t.default=function(e){switch(e){case"PS256":case"RS256":case"ES256":case"ES256K":return"sha256";case"PS384":case"RS384":case"ES384":return"sha384";case"PS512":case"RS512":case"ES512":return"sha512";case"EdDSA":return;default:throw new n.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/ecdhes.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ecdhAllowed=t.generateEpk=t.deriveKey=void 0;let n=r("crypto"),i=r("util"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/get_named_curve.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/buffer_utils.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),l=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/webcrypto.js"),c=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/crypto_key.js"),u=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_object.js"),d=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/invalid_key_input.js"),h=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_like.js"),p=(0,i.promisify)(n.generateKeyPair);t.deriveKey=async function(e,t,r,i,s=new Uint8Array(0),a=new Uint8Array(0)){let p,f;if((0,l.isCryptoKey)(e))(0,c.checkEncCryptoKey)(e,"ECDH"),p=n.KeyObject.from(e);else if((0,u.default)(e))p=e;else throw TypeError((0,d.default)(e,...h.types));if((0,l.isCryptoKey)(t))(0,c.checkEncCryptoKey)(t,"ECDH","deriveBits"),f=n.KeyObject.from(t);else if((0,u.default)(t))f=t;else throw TypeError((0,d.default)(t,...h.types));let m=(0,o.concat)((0,o.lengthAndInput)(o.encoder.encode(r)),(0,o.lengthAndInput)(s),(0,o.lengthAndInput)(a),(0,o.uint32be)(i)),g=(0,n.diffieHellman)({privateKey:f,publicKey:p});return(0,o.concatKdf)(g,i,m)},t.generateEpk=async function(e){let t;if((0,l.isCryptoKey)(e))t=n.KeyObject.from(e);else if((0,u.default)(e))t=e;else throw TypeError((0,d.default)(e,...h.types));switch(t.asymmetricKeyType){case"x25519":return p("x25519");case"x448":return p("x448");case"ec":return p("ec",{namedCurve:(0,s.default)(t)});default:throw new a.JOSENotSupported("Invalid or unsupported EPK")}},t.ecdhAllowed=e=>["P-256","P-384","P-521","X25519","X448"].includes((0,s.default)(e))},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/encrypt.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r("crypto"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/check_iv_length.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/check_cek_length.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/buffer_utils.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/cbc_tag.js"),l=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/webcrypto.js"),c=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/crypto_key.js"),u=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_object.js"),d=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/invalid_key_input.js"),h=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),p=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/ciphers.js"),f=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_like.js");function m(e,t,r,i,s){let l=parseInt(e.slice(1,4),10);(0,u.default)(r)&&(r=r.export());let c=r.subarray(l>>3),d=r.subarray(0,l>>3),f=`aes-${l}-cbc`;if(!(0,p.default)(f))throw new h.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);let m=(0,n.createCipheriv)(f,c,i),g=(0,o.concat)(m.update(t),m.final()),y=parseInt(e.slice(-3),10),_=(0,a.default)(s,i,g,y,d,l);return{ciphertext:g,tag:_}}function g(e,t,r,i,s){let o=parseInt(e.slice(1,4),10),a=`aes-${o}-gcm`;if(!(0,p.default)(a))throw new h.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);let l=(0,n.createCipheriv)(a,r,i,{authTagLength:16});s.byteLength&&l.setAAD(s,{plaintextLength:t.length});let c=l.update(t);return l.final(),{ciphertext:c,tag:l.getAuthTag()}}t.default=(e,t,r,o,a)=>{let p;if((0,l.isCryptoKey)(r))(0,c.checkEncCryptoKey)(r,e,"encrypt"),p=n.KeyObject.from(r);else if(r instanceof Uint8Array||(0,u.default)(r))p=r;else throw TypeError((0,d.default)(r,...f.types,"Uint8Array"));switch((0,s.default)(e,p),(0,i.default)(e,o),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return m(e,t,p,o,a);case"A128GCM":case"A192GCM":case"A256GCM":return g(e,t,p,o,a);default:throw new h.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/fetch_jwks.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r("http"),i=r("https"),s=r("events"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/buffer_utils.js");t.default=async(e,t,r)=>{let l;switch(e.protocol){case"https:":l=i.get;break;case"http:":l=n.get;break;default:throw TypeError("Unsupported URL protocol.")}let{agent:c,headers:u}=r,d=l(e.href,{agent:c,timeout:t,headers:u}),[h]=await Promise.race([(0,s.once)(d,"response"),(0,s.once)(d,"timeout")]);if(!h)throw d.destroy(),new o.JWKSTimeout;if(200!==h.statusCode)throw new o.JOSEError("Expected 200 OK from the JSON Web Key Set HTTP response");let p=[];for await(let e of h)p.push(e);try{return JSON.parse(a.decoder.decode((0,a.concat)(...p)))}catch{throw new o.JOSEError("Failed to parse the JSON Web Key Set HTTP response as JSON")}}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/flags.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jwkImport=t.jwkExport=t.rsaPssParams=t.oneShotCallback=void 0;let[r,n]=process.versions.node.split(".").map(e=>parseInt(e,10));t.oneShotCallback=r>=16||15===r&&n>=13,t.rsaPssParams=!("electron"in process.versions)&&(r>=17||16===r&&n>=9),t.jwkExport=r>=16||15===r&&n>=9,t.jwkImport=r>=16||15===r&&n>=12},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/generate.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateKeyPair=t.generateSecret=void 0;let n=r("crypto"),i=r("util"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/random.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/check_modulus_length.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),l=(0,i.promisify)(n.generateKeyPair);t.generateSecret=async function(e,t){let r;switch(e){case"HS256":case"HS384":case"HS512":case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128KW":case"A192KW":case"A256KW":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new a.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return(0,n.createSecretKey)((0,s.default)(new Uint8Array(r>>3)))},t.generateKeyPair=async function(e,t){var r,n;switch(e){case"RS256":case"RS384":case"RS512":case"PS256":case"PS384":case"PS512":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":case"RSA1_5":{let e=null!=(r=null==t?void 0:t.modulusLength)?r:2048;if("number"!=typeof e||e<2048)throw new a.JOSENotSupported("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");let n=await l("rsa",{modulusLength:e,publicExponent:65537});return(0,o.setModulusLength)(n.privateKey,e),(0,o.setModulusLength)(n.publicKey,e),n}case"ES256":return l("ec",{namedCurve:"P-256"});case"ES256K":return l("ec",{namedCurve:"secp256k1"});case"ES384":return l("ec",{namedCurve:"P-384"});case"ES512":return l("ec",{namedCurve:"P-521"});case"EdDSA":switch(null==t?void 0:t.crv){case void 0:case"Ed25519":return l("ed25519");case"Ed448":return l("ed448");default:throw new a.JOSENotSupported("Invalid or unsupported crv option provided, supported values are Ed25519 and Ed448")}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":let i=null!=(n=null==t?void 0:t.crv)?n:"P-256";switch(i){case void 0:case"P-256":case"P-384":case"P-521":return l("ec",{namedCurve:i});case"X25519":return l("x25519");case"X448":return l("x448");default:throw new a.JOSENotSupported("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}default:throw new a.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/get_named_curve.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCurve=t.weakMap=void 0;let n=r("buffer"),i=r("crypto"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/webcrypto.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_object.js"),l=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/invalid_key_input.js"),c=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_like.js"),u=n.Buffer.from([42,134,72,206,61,3,1,7]),d=n.Buffer.from([43,129,4,0,34]),h=n.Buffer.from([43,129,4,0,35]),p=n.Buffer.from([43,129,4,0,10]);t.weakMap=new WeakMap;let f=e=>{switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new s.JOSENotSupported("Unsupported key curve for this operation")}},m=(e,r)=>{var n;let g;if((0,o.isCryptoKey)(e))g=i.KeyObject.from(e);else if((0,a.default)(e))g=e;else throw TypeError((0,l.default)(e,...c.types));if("secret"===g.type)throw TypeError('only "private" or "public" type keys can be used for this operation');switch(g.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${g.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${g.asymmetricKeyType.slice(1)}`;case"ec":{if(t.weakMap.has(g))return t.weakMap.get(g);let e=null==(n=g.asymmetricKeyDetails)?void 0:n.namedCurve;if(e||"private"!==g.type){if(!e){let t=g.export({format:"der",type:"spki"}),r=t[1]<128?14:15,n=t[r],i=t.slice(r+1,r+1+n);if(i.equals(u))e="prime256v1";else if(i.equals(d))e="secp384r1";else if(i.equals(h))e="secp521r1";else if(i.equals(p))e="secp256k1";else throw new s.JOSENotSupported("Unsupported key curve for this operation")}}else e=m((0,i.createPublicKey)(g),!0);if(r)return e;let o=f(e);return t.weakMap.set(g,o),o}default:throw TypeError("Invalid asymmetric key type for this operation")}};function g(e,r){t.weakMap.set(e,r)}t.setCurve=g,t.default=m},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/get_sign_verify_key.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r("crypto"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/webcrypto.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/crypto_key.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/invalid_key_input.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_like.js");t.default=function(e,t,r){if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError((0,o.default)(t,...a.types));return(0,n.createSecretKey)(t)}if(t instanceof n.KeyObject)return t;if((0,i.isCryptoKey)(t))return(0,s.checkSigCryptoKey)(t,e,r),n.KeyObject.from(t);throw TypeError((0,o.default)(t,...a.types,"Uint8Array"))}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/hmac_digest.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js");t.default=function(e){switch(e){case"HS256":return"sha256";case"HS384":return"sha384";case"HS512":return"sha512";default:throw new n.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_like.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.types=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/webcrypto.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_object.js");t.default=e=>(0,i.default)(e)||(0,n.isCryptoKey)(e);let s=["KeyObject"];t.types=s,(globalThis.CryptoKey||(null===n.default||void 0===n.default?void 0:n.default.CryptoKey))&&s.push("CryptoKey")},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_object.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r("crypto"),i=r("util");t.default=i.types.isKeyObject?e=>i.types.isKeyObject(e):e=>null!=e&&e instanceof n.KeyObject},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/jwk_to_key.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r("buffer"),i=r("crypto"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/base64url.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/get_named_curve.js"),l=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/check_modulus_length.js"),c=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/asn1_sequence_encoder.js"),u=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/flags.js");t.default=e=>{if(u.jwkImport&&"oct"!==e.kty)return e.d?(0,i.createPrivateKey)({format:"jwk",key:e}):(0,i.createPublicKey)({format:"jwk",key:e});switch(e.kty){case"oct":return(0,i.createSecretKey)((0,s.decode)(e.k));case"RSA":{let t=new c.default,r=void 0!==e.d,s=n.Buffer.from(e.n,"base64"),o=n.Buffer.from(e.e,"base64");r?(t.zero(),t.unsignedInteger(s),t.unsignedInteger(o),t.unsignedInteger(n.Buffer.from(e.d,"base64")),t.unsignedInteger(n.Buffer.from(e.p,"base64")),t.unsignedInteger(n.Buffer.from(e.q,"base64")),t.unsignedInteger(n.Buffer.from(e.dp,"base64")),t.unsignedInteger(n.Buffer.from(e.dq,"base64")),t.unsignedInteger(n.Buffer.from(e.qi,"base64"))):(t.unsignedInteger(s),t.unsignedInteger(o));let a={key:t.end(),format:"der",type:"pkcs1"},u=r?(0,i.createPrivateKey)(a):(0,i.createPublicKey)(a);return(0,l.setModulusLength)(u,s.length<<3),u}case"EC":{let t=new c.default,r=void 0!==e.d,s=n.Buffer.concat([n.Buffer.alloc(1,4),n.Buffer.from(e.x,"base64"),n.Buffer.from(e.y,"base64")]);if(r){t.zero();let r=new c.default;r.oidFor("ecPublicKey"),r.oidFor(e.crv),t.add(r.end());let o=new c.default;o.one(),o.octStr(n.Buffer.from(e.d,"base64"));let l=new c.default;l.bitStr(s);let u=l.end(n.Buffer.from([161]));o.add(u);let d=o.end(),h=new c.default;h.add(d);let p=h.end(n.Buffer.from([4]));t.add(p);let f=t.end(),m=(0,i.createPrivateKey)({key:f,format:"der",type:"pkcs8"});return(0,a.setCurve)(m,e.crv),m}let o=new c.default;o.oidFor("ecPublicKey"),o.oidFor(e.crv),t.add(o.end()),t.bitStr(s);let l=t.end(),u=(0,i.createPublicKey)({key:l,format:"der",type:"spki"});return(0,a.setCurve)(u,e.crv),u}case"OKP":{let t=new c.default;if(void 0!==e.d){t.zero();let r=new c.default;r.oidFor(e.crv),t.add(r.end());let s=new c.default;s.octStr(n.Buffer.from(e.d,"base64"));let o=s.end(n.Buffer.from([4]));t.add(o);let a=t.end();return(0,i.createPrivateKey)({key:a,format:"der",type:"pkcs8"})}let r=new c.default;r.oidFor(e.crv),t.add(r.end()),t.bitStr(n.Buffer.from(e.x,"base64"));let s=t.end();return(0,i.createPublicKey)({key:s,format:"der",type:"spki"})}default:throw new o.JOSENotSupported('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/key_to_jwk.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r("crypto"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/base64url.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/asn1_sequence_decoder.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/get_named_curve.js"),l=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/webcrypto.js"),c=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_object.js"),u=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/invalid_key_input.js"),d=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_like.js"),h=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/flags.js"),p=e=>{let t;if((0,l.isCryptoKey)(e)){if(!e.extractable)throw TypeError("CryptoKey is not extractable");t=n.KeyObject.from(e)}else if((0,c.default)(e))t=e;else if(e instanceof Uint8Array)return{kty:"oct",k:(0,i.encode)(e)};else throw TypeError((0,u.default)(e,...d.types,"Uint8Array"));if(h.jwkExport){if("secret"!==t.type&&!["rsa","ec","ed25519","x25519","ed448","x448"].includes(t.asymmetricKeyType))throw new o.JOSENotSupported("Unsupported key asymmetricKeyType");return t.export({format:"jwk"})}switch(t.type){case"secret":return{kty:"oct",k:(0,i.encode)(t.export())};case"private":case"public":switch(t.asymmetricKeyType){case"rsa":{let e,r=t.export({format:"der",type:"pkcs1"}),n=new s.default(r);"private"===t.type&&n.unsignedInteger();let o=(0,i.encode)(n.unsignedInteger()),a=(0,i.encode)(n.unsignedInteger());return"private"===t.type&&(e={d:(0,i.encode)(n.unsignedInteger()),p:(0,i.encode)(n.unsignedInteger()),q:(0,i.encode)(n.unsignedInteger()),dp:(0,i.encode)(n.unsignedInteger()),dq:(0,i.encode)(n.unsignedInteger()),qi:(0,i.encode)(n.unsignedInteger())}),n.end(),{kty:"RSA",n:o,e:a,...e}}case"ec":{let e,r,s,l=(0,a.default)(t);switch(l){case"secp256k1":e=64,r=33,s=-1;break;case"P-256":e=64,r=36,s=-1;break;case"P-384":e=96,r=35,s=-3;break;case"P-521":e=132,r=35,s=-3;break;default:throw new o.JOSENotSupported("Unsupported curve")}if("public"===t.type){let r=t.export({type:"spki",format:"der"});return{kty:"EC",crv:l,x:(0,i.encode)(r.subarray(-e,-e/2)),y:(0,i.encode)(r.subarray(-e/2))}}let c=t.export({type:"pkcs8",format:"der"});return c.length<100&&(r+=s),{...p((0,n.createPublicKey)(t)),d:(0,i.encode)(c.subarray(r,r+e/2))}}case"ed25519":case"x25519":{let e=(0,a.default)(t);if("public"===t.type){let r=t.export({type:"spki",format:"der"});return{kty:"OKP",crv:e,x:(0,i.encode)(r.subarray(-32))}}let r=t.export({type:"pkcs8",format:"der"});return{...p((0,n.createPublicKey)(t)),d:(0,i.encode)(r.subarray(-32))}}case"ed448":case"x448":{let e=(0,a.default)(t);if("public"===t.type){let r=t.export({type:"spki",format:"der"});return{kty:"OKP",crv:e,x:(0,i.encode)(r.subarray("Ed448"===e?-57:-56))}}let r=t.export({type:"pkcs8",format:"der"});return{...p((0,n.createPublicKey)(t)),d:(0,i.encode)(r.subarray("Ed448"===e?-57:-56))}}default:throw new o.JOSENotSupported("Unsupported key asymmetricKeyType")}default:throw new o.JOSENotSupported("Unsupported key type")}};t.default=p},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/node_key.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r("crypto"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/get_named_curve.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/check_modulus_length.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/flags.js"),l={padding:n.constants.RSA_PKCS1_PSS_PADDING,saltLength:n.constants.RSA_PSS_SALTLEN_DIGEST},c=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);t.default=function(e,t){switch(e){case"EdDSA":if(!["ed25519","ed448"].includes(t.asymmetricKeyType))throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448");return t;case"RS256":case"RS384":case"RS512":if("rsa"!==t.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");return(0,o.default)(t,e),t;case a.rsaPssParams&&"PS256":case a.rsaPssParams&&"PS384":case a.rsaPssParams&&"PS512":if("rsa-pss"===t.asymmetricKeyType){let{hashAlgorithm:r,mgf1HashAlgorithm:n,saltLength:i}=t.asymmetricKeyDetails,s=parseInt(e.slice(-3),10);if(void 0!==r&&(r!==`sha${s}`||n!==r))throw TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}`);if(void 0!==i&&i>s>>3)throw TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}`)}else if("rsa"!==t.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss");return(0,o.default)(t,e),{key:t,...l};case!a.rsaPssParams&&"PS256":case!a.rsaPssParams&&"PS384":case!a.rsaPssParams&&"PS512":if("rsa"!==t.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");return(0,o.default)(t,e),{key:t,...l};case"ES256":case"ES256K":case"ES384":case"ES512":{if("ec"!==t.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ec");let r=(0,i.default)(t),n=c.get(e);if(r!==n)throw TypeError(`Invalid key curve for the algorithm, its curve must be ${n}, got ${r}`);return{dsaEncoding:"ieee-p1363",key:t}}default:throw new s.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/pbes2kw.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decrypt=t.encrypt=void 0;let n=r("util"),i=r("crypto"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/random.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/buffer_utils.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/base64url.js"),l=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/aeskw.js"),c=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/check_p2s.js"),u=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/webcrypto.js"),d=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/crypto_key.js"),h=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_object.js"),p=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/invalid_key_input.js"),f=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_like.js"),m=(0,n.promisify)(i.pbkdf2);function g(e,t){if((0,h.default)(e))return e.export();if(e instanceof Uint8Array)return e;if((0,u.isCryptoKey)(e))return(0,d.checkEncCryptoKey)(e,t,"deriveBits","deriveKey"),i.KeyObject.from(e).export();throw TypeError((0,p.default)(e,...f.types,"Uint8Array"))}t.encrypt=async(e,t,r,n=2048,i=(0,s.default)(new Uint8Array(16)))=>{(0,c.default)(i);let u=(0,o.p2s)(e,i),d=parseInt(e.slice(13,16),10)>>3,h=g(t,e),p=await m(h,u,n,d,`sha${e.slice(8,11)}`);return{encryptedKey:await (0,l.wrap)(e.slice(-6),p,r),p2c:n,p2s:(0,a.encode)(i)}},t.decrypt=async(e,t,r,n,i)=>{(0,c.default)(i);let s=(0,o.p2s)(e,i),a=parseInt(e.slice(13,16),10)>>3,u=g(t,e),d=await m(u,s,n,a,`sha${e.slice(8,11)}`);return(0,l.unwrap)(e.slice(-6),d,r)}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/random.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("crypto");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.randomFillSync}})},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/rsaes.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decrypt=t.encrypt=void 0;let n=r("crypto"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/check_modulus_length.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/webcrypto.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/crypto_key.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_object.js"),l=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/invalid_key_input.js"),c=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_like.js"),u=(e,t)=>{if("rsa"!==e.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");(0,i.default)(e,t)},d=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return n.constants.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return n.constants.RSA_PKCS1_PADDING;default:return}},h=e=>{switch(e){case"RSA-OAEP":return"sha1";case"RSA-OAEP-256":return"sha256";case"RSA-OAEP-384":return"sha384";case"RSA-OAEP-512":return"sha512";default:return}};function p(e,t,...r){if((0,a.default)(e))return e;if((0,s.isCryptoKey)(e))return(0,o.checkEncCryptoKey)(e,t,...r),n.KeyObject.from(e);throw TypeError((0,l.default)(e,...c.types))}t.encrypt=(e,t,r)=>{let i=d(e),s=h(e),o=p(t,e,"wrapKey","encrypt");return u(o,e),(0,n.publicEncrypt)({key:o,oaepHash:s,padding:i},r)},t.decrypt=(e,t,r)=>{let i=d(e),s=h(e),o=p(t,e,"unwrapKey","decrypt");return u(o,e),(0,n.privateDecrypt)({key:o,oaepHash:s,padding:i},r)}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/runtime.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="node:crypto"},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/sign.js":function(e,t,r){"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0});let i=r("crypto"),s=r("util"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/dsa_digest.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/hmac_digest.js"),l=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/node_key.js"),c=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/get_sign_verify_key.js");n=i.sign.length>3?(0,s.promisify)(i.sign):i.sign,t.default=async(e,t,r)=>{let s=(0,c.default)(e,t,"sign");if(e.startsWith("HS")){let t=i.createHmac((0,a.default)(e),s);return t.update(r),t.digest()}return n((0,o.default)(e),r,(0,l.default)(e,s))}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/timing_safe_equal.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r("crypto").timingSafeEqual},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/verify.js":function(e,t,r){"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0});let i=r("crypto"),s=r("util"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/dsa_digest.js"),a=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/node_key.js"),l=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/sign.js"),c=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/get_sign_verify_key.js"),u=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/flags.js");n=i.verify.length>4&&u.oneShotCallback?(0,s.promisify)(i.verify):i.verify,t.default=async(e,t,r,s)=>{let u=(0,c.default)(e,t,"verify");if(e.startsWith("HS")){let t=await (0,l.default)(e,u,s),n=r;try{return i.timingSafeEqual(n,t)}catch{return!1}}let d=(0,o.default)(e),h=(0,a.default)(e,u);try{return await n(d,s,h,r)}catch{return!1}}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/webcrypto.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCryptoKey=void 0;let n=r("crypto"),i=r("util");t.default=n.webcrypto,t.isCryptoKey=i.types.isCryptoKey?e=>i.types.isCryptoKey(e):e=>!1},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/zlib.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deflate=t.inflate=void 0;let n=r("util"),i=r("zlib"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js"),o=(0,n.promisify)(i.inflateRaw),a=(0,n.promisify)(i.deflateRaw);t.inflate=e=>o(e,{maxOutputLength:25e4}).catch(()=>{throw new s.JWEDecompressionFailed}),t.deflate=e=>a(e)},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/base64url.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/base64url.js");t.encode=n.encode,t.decode=n.decode},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/decode_jwt.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeJwt=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/base64url.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/buffer_utils.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/is_object.js"),o=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js");t.decodeJwt=function(e){let t,r;if("string"!=typeof e)throw new o.JWTInvalid("JWTs must use Compact JWS serialization, JWT must be a string");let{1:a,length:l}=e.split(".");if(5===l)throw new o.JWTInvalid("Only JWTs using Compact JWS serialization can be decoded");if(3!==l)throw new o.JWTInvalid("Invalid JWT");if(!a)throw new o.JWTInvalid("JWTs must contain a payload");try{t=(0,n.decode)(a)}catch{throw new o.JWTInvalid("Failed to base64url decode the payload")}try{r=JSON.parse(i.decoder.decode(t))}catch{throw new o.JWTInvalid("Failed to parse the decoded payload as JSON")}if(!(0,s.default)(r))throw new o.JWTInvalid("Invalid JWT Claims Set");return r}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/decode_protected_header.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeProtectedHeader=void 0;let n=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/base64url.js"),i=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/buffer_utils.js"),s=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/is_object.js");t.decodeProtectedHeader=function(e){let t;if("string"==typeof e){let r=e.split(".");(3===r.length||5===r.length)&&([t]=r)}else if("object"==typeof e&&e)if("protected"in e)t=e.protected;else throw TypeError("Token does not contain a Protected Header");try{if("string"!=typeof t||!t)throw Error();let e=JSON.parse(i.decoder.decode((0,n.decode)(t)));if(!(0,s.default)(e))throw Error();return e}catch{throw TypeError("Invalid Token or Protected Header formatting")}}},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JWSSignatureVerificationFailed=t.JWKSTimeout=t.JWKSMultipleMatchingKeys=t.JWKSNoMatchingKey=t.JWKSInvalid=t.JWKInvalid=t.JWTInvalid=t.JWSInvalid=t.JWEInvalid=t.JWEDecompressionFailed=t.JWEDecryptionFailed=t.JOSENotSupported=t.JOSEAlgNotAllowed=t.JWTExpired=t.JWTClaimValidationFailed=t.JOSEError=void 0;class r extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null==(t=Error.captureStackTrace)||t.call(Error,this,this.constructor)}}t.JOSEError=r;class n extends r{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=t,this.reason=r}}t.JWTClaimValidationFailed=n;class i extends r{static get code(){return"ERR_JWT_EXPIRED"}constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_EXPIRED",this.claim=t,this.reason=r}}t.JWTExpired=i;class s extends r{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}t.JOSEAlgNotAllowed=s;class o extends r{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}t.JOSENotSupported=o;class a extends r{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}}t.JWEDecryptionFailed=a;class l extends r{constructor(){super(...arguments),this.code="ERR_JWE_DECOMPRESSION_FAILED",this.message="decompression operation failed"}static get code(){return"ERR_JWE_DECOMPRESSION_FAILED"}}t.JWEDecompressionFailed=l;class c extends r{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}}t.JWEInvalid=c;class u extends r{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}t.JWSInvalid=u;class d extends r{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}t.JWTInvalid=d;class h extends r{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}}t.JWKInvalid=h;class p extends r{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}}t.JWKSInvalid=p;class f extends r{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}}t.JWKSNoMatchingKey=f;class m extends r{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}t.JWKSMultipleMatchingKeys=m;class g extends r{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}}t.JWKSTimeout=g;class y extends r{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}t.JWSSignatureVerificationFailed=y},"./node_modules/openid-client/node_modules/jose/dist/node/cjs/util/runtime.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r("./node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/runtime.js").default},"./node_modules/parseqs/index.js":function(e,t){t.encode=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t},t.decode=function(e){for(var t={},r=e.split("&"),n=0,i=r.length;n<i;n++){var s=r[n].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}},"./node_modules/parseuri/index.js":function(e){var t=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function n(e,t){var r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return("/"==t.substr(0,1)||0===t.length)&&n.splice(0,1),"/"==t.substr(t.length-1,1)&&n.splice(n.length-1,1),n}function i(e,t){var r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,n){t&&(r[t]=n)}),r}e.exports=function(e){var s=e,o=e.indexOf("["),a=e.indexOf("]");-1!=o&&-1!=a&&(e=e.substring(0,o)+e.substring(o,a).replace(/:/g,";")+e.substring(a,e.length));for(var l=t.exec(e||""),c={},u=14;u--;)c[r[u]]=l[u]||"";return -1!=o&&-1!=a&&(c.source=s,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=n(c,c.path),c.queryKey=i(c,c.query),c}},"./node_modules/peek-readable/lib/Deferred.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Deferred=void 0;class r{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((e,t)=>{this.reject=t,this.resolve=e})}}t.Deferred=r},"./node_modules/peek-readable/lib/EndOfFileStream.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EndOfStreamError=t.defaultMessages=void 0,t.defaultMessages="End-Of-Stream";class r extends Error{constructor(){super(t.defaultMessages)}}t.EndOfStreamError=r},"./node_modules/peek-readable/lib/StreamReader.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamReader=t.EndOfStreamError=void 0;let n=r("./node_modules/peek-readable/lib/EndOfFileStream.js"),i=r("./node_modules/peek-readable/lib/Deferred.js");var s=r("./node_modules/peek-readable/lib/EndOfFileStream.js");Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return s.EndOfStreamError}});let o=1048576;class a{constructor(e){if(this.s=e,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!e.read||!e.once)throw Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new n.EndOfStreamError)),this.s.once("error",e=>this.reject(e)),this.s.once("close",()=>this.reject(Error("Stream closed")))}async peek(e,t,r){let n=await this.read(e,t,r);return this.peekQueue.push(e.subarray(t,t+n)),n}async read(e,t,r){if(0===r)return 0;if(0===this.peekQueue.length&&this.endOfStream)throw new n.EndOfStreamError;let i=r,s=0;for(;this.peekQueue.length>0&&i>0;){let r=this.peekQueue.pop();if(!r)throw Error("peekData should be defined");let n=Math.min(r.length,i);e.set(r.subarray(0,n),t+s),s+=n,i-=n,n<r.length&&this.peekQueue.push(r.subarray(n))}for(;i>0&&!this.endOfStream;){let r=Math.min(i,o),n=await this.readFromStream(e,t+s,r);if(s+=n,n<r)break;i-=n}return s}async readFromStream(e,t,r){let n=this.s.read(r);if(n)return e.set(n,t),n.length;{let n={buffer:e,offset:t,length:r,deferred:new i.Deferred};return this.deferred=n.deferred,this.s.once("readable",()=>{this.readDeferred(n)}),n.deferred.promise}}readDeferred(e){let t=this.s.read(e.length);t?(e.buffer.set(t,e.offset),e.deferred.resolve(t.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(e)})}reject(e){this.endOfStream=!0,this.deferred&&(this.deferred.reject(e),this.deferred=null)}}t.StreamReader=a},"./node_modules/peek-readable/lib/index.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamReader=t.EndOfStreamError=void 0;var n=r("./node_modules/peek-readable/lib/EndOfFileStream.js");Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return n.EndOfStreamError}});var i=r("./node_modules/peek-readable/lib/StreamReader.js");Object.defineProperty(t,"StreamReader",{enumerable:!0,get:function(){return i.StreamReader}})},"./node_modules/postman-request/index.js":function(e,t,r){"use strict";var n=r("./node_modules/extend/index.js"),i=r("./node_modules/postman-request/lib/cookies.js");function s(e,t,r){"function"==typeof t&&(r=t);var i={protocolVersion:"http1"};return null!==t&&"object"==typeof t?n(i,t,{uri:e}):"string"==typeof e?n(i,{uri:e}):n(i,e),i.callback=r||i.callback,i.agents&&!(i.agents.http1||i.agents.auto||i.agents.http2)&&(i.protocolVersion="http1"),(i.tunnel||i.proxy)&&(i.protocolVersion="http1"),"undefined"!=typeof window&&window.XMLHttpRequest&&(i.protocolVersion="http1"),i}function o(e,t,r){if(void 0===e)throw Error("undefined is not a valid uri or options object.");var n=s(e,t,r);return new o.Request(n)}function a(e){var t=e.toUpperCase();return function(e,r,n){var i=s(e,r,n);return i.method=t,o(i,i.callback)}}function l(e,t,r,i){return function(o,a,l){var c=s(o,a,l),u={};return n(!0,u,t,c),u.pool=c.pool||t.pool,i&&(u.method=i.toUpperCase()),"function"==typeof r&&(e=r),e(u,u.callback)}}o.get=a("get"),o.head=a("head"),o.options=a("options"),o.post=a("post"),o.put=a("put"),o.patch=a("patch"),o.del=a("delete"),o.delete=a("delete"),o.jar=function(e){return i.jar(e)},o.cookie=function(e){return i.parse(e)},o.defaults=function(e,t){var r=this;"function"==typeof(e=e||{})&&(t=e,e={});var n=l(r,e,t);return["get","head","post","put","patch","del","delete"].forEach(function(i){n[i]=l(r[i],e,t,i)}),n.cookie=l(r.cookie,e,t),n.jar=r.jar,n.defaults=r.defaults,n},o.forever=function(e,t){var r={};return t&&n(r,t),e&&(r.agentOptions=e),r.forever=!0,o.defaults(r)},e.exports=o,o.Request=r("./node_modules/postman-request/request.js"),o.initParams=s,Object.defineProperty(o,"debug",{enumerable:!0,get:function(){return o.Request.debug},set:function(e){o.Request.debug=e}})},"./node_modules/postman-request/lib/auth.js":function(e,t,r){"use strict";var n=r("./node_modules/caseless/index.js"),i=r("./node_modules/postman-request/node_modules/uuid/dist/esm-node/index.js").v4,s=r("./node_modules/postman-request/lib/helpers.js"),o=s.md5,a=s.toBase64;function l(e){this.request=e,this.hasAuth=!1,this.sentAuth=!1,this.bearerToken=null,this.user=null,this.pass=null}l.prototype.basic=function(e,t,r){var n=this;("string"!=typeof e||void 0!==t&&"string"!=typeof t)&&n.request.emit("error",Error("auth() received invalid user or password")),n.user=e,n.pass=t,n.hasAuth=!0;var i=e+":"+(t||"");if(r||void 0===r){var s="Basic "+a(i);return n.sentAuth=!0,s}},l.prototype.bearer=function(e,t){var r=this;if(r.bearerToken=e,r.hasAuth=!0,t||void 0===t){"function"==typeof e&&(e=e());var n="Bearer "+(e||"");return r.sentAuth=!0,n}},l.prototype.digest=function(e,t,r){for(var n=this,s={},a=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;;){var l=a.exec(r);if(!l)break;s[l[1]]=l[2]||l[3]}var c=function(e,t,r,n,i,s){var a=o(t+":"+r+":"+n);return e&&"md5-sess"===e.toLowerCase()?o(a+":"+i+":"+s):a},u=/(^|,)\s*auth\s*($|,)/.test(s.qop)&&"auth",d=u&&"00000001",h=u&&i().replace(/-/g,""),p=c(s.algorithm,n.user,s.realm,n.pass,s.nonce,h),f=o(e+":"+t),m=u?o(p+":"+s.nonce+":"+d+":"+h+":"+u+":"+f):o(p+":"+s.nonce+":"+f),g={username:n.user,realm:s.realm,nonce:s.nonce,uri:t,qop:u,response:m,nc:d,cnonce:h,algorithm:s.algorithm,opaque:s.opaque};for(var y in r=[],g)g[y]&&("qop"===y||"nc"===y||"algorithm"===y?r.push(y+"="+g[y]):r.push(y+'="'+g[y]+'"'));return r="Digest "+r.join(", "),n.sentAuth=!0,r},l.prototype.onRequest=function(e,t,r,n){var i,s=this,o=s.request;void 0===n&&void 0===e?s.request.emit("error",Error("no auth mechanism defined")):i=void 0!==n?s.bearer(n,r):s.basic(e,t,r),i&&o.setHeader("Authorization",i)},l.prototype.onResponse=function(e){var t=this,r=t.request;if(!t.hasAuth||t.sentAuth)return null;var i=n(e.headers).get("www-authenticate"),s=i&&i.split(" ")[0].toLowerCase();switch(r.debug("reauth",s),s){case"basic":return t.basic(t.user,t.pass,!0);case"bearer":return t.bearer(t.bearerToken,!0);case"digest":return t.digest(r.method,r.path,i)}},t.Auth=l},"./node_modules/postman-request/lib/autohttp/agent.js":function(e,t,r){let{Agent:n}=r("./node_modules/postman-request/lib/http2/index.js"),i=r("https"),s=r("tls"),{EventEmitter:o}=r("events"),a=r("net"),{getName:l}=r("./node_modules/postman-request/lib/autohttp/requestName.js"),c=["h2","http/1.1","http/1.0","http/0.9"];function u(e){let t=e.host||"",r=e.headers&&e.headers.host;if(r){if("string"!=typeof r)throw TypeError("host header content must be a string, received"+r);if(r.startsWith("[")){let e=r.indexOf("]");t=-1===e?r:r.substring(1,e)}else t=r.split(":",1)[0]}return a.isIP(t)&&(t=""),t}class d extends o{constructor(e){super(),this.http2Agent=new n(e),this.httpsAgent=new i.Agent(e),this.ALPNCache=new Map,this.options=e,this.defaultPort=443}createConnection(e,t,r,n){let s,o={...t,...this.options,port:Number(t.port||this.options.port||this.defaultPort),host:t.hostname||t.host||"localhost"},a=l(o),[c,u]=this.ALPNCache.get(a)||[];if(!c||!u||u.closed||u.destroyed){this.ALPNCache.delete(a),this.createNewSocketConnection(e,o,r,n);return}if("h2"===c){let t,i={...o,path:o.socketPath};try{let r=o.uri;t=this.http2Agent.createConnection(e,r,i)}catch(e){r(e),t&&t.socket&&n(t.socket);return}r(null,"http2",t),n(t.socket);return}let d={...o,agent:this.httpsAgent};try{s=i.request(d)}catch(e){r(e);return}s.on("socket",e=>n(e)),r(null,"http1",s)}createNewSocketConnection(e,t,r,n){let o=t.uri,a=l(t),d=s.connect({...t,path:t.socketPath,ALPNProtocols:c,servername:t.servername||u(t)});n(d);let h=e=>{r(e)};d.on("error",h),d.once("secureConnect",()=>{let n;d.removeListener("error",h);let s=d.alpnProtocol||"http/1.1";if(!c.includes(s))return void r(Error("Unknown protocol"+s));if(this.ALPNCache.set(a,[s,d]),d.once("close",()=>{this.ALPNCache.delete(a)}),"h2"===s){let n={...t,path:t.socketPath};try{let t=this.http2Agent.createConnection(e,o,n,d);r(null,"http2",t)}catch(e){r(e)}return}let l=this.httpsAgent.createConnection;this.httpsAgent.createConnection=()=>d;let u={...t,agent:this.httpsAgent};try{n=i.request(u)}catch(e){r(e);return}finally{this.httpsAgent.createConnection=l}r(null,"http1",n)})}}e.exports={AutoHttp2Agent:d,globalAgent:new d({})}},"./node_modules/postman-request/lib/autohttp/headerValidations.js":function(e,t,r){let{constants:n={}}=r("http2"),i=new Set([n.HTTP2_HEADER_STATUS,n.HTTP2_HEADER_METHOD,n.HTTP2_HEADER_AUTHORITY,n.HTTP2_HEADER_SCHEME,n.HTTP2_HEADER_PATH]);function s(e){if(!i.has(e))throw Error("Invalid PseudoHeader "+e)}let o=/^[\^_`a-zA-Z\-0-9!#$%&'*+.|~]+$/;function a(e){return null!==RegExp(o).exec(e)}e.exports={validateRequestHeaders:function(e){if(null!=e){let t=Object.keys(e);for(let e=0;e<t.length;e++){let r=t[e];if(":"===r[0])s(r);else if(r&&!a(r))throw Error("Invalid HTTP Token: Header name"+r)}}}}},"./node_modules/postman-request/lib/autohttp/index.js":function(e,t,r){let{AutoHttp2Agent:n,globalAgent:i}=r("./node_modules/postman-request/lib/autohttp/agent.js"),{request:s}=r("./node_modules/postman-request/lib/autohttp/request.js");e.exports={Agent:n,request:s,globalAgent:i}},"./node_modules/postman-request/lib/autohttp/request.js":function(e,t,r){let{EventEmitter:n}=r("events"),{Http2Request:i}=r("./node_modules/postman-request/lib/http2/request.js"),{globalAgent:s}=r("./node_modules/postman-request/lib/autohttp/agent.js"),{validateRequestHeaders:o}=r("./node_modules/postman-request/lib/autohttp/headerValidations.js"),a=Symbol("kJobs");class l extends n{constructor(e){super(),this[a]=[],this.options=e,this.options.host=e.hostname||e.host||"localhost",(e.agent||s).createConnection(this,e,(e,t,r)=>{if(e)return void this.emit("error",e);"http2"===t&&this.onHttp2(r),"http1"===t&&this.onHttp(r)},e=>{process.nextTick(()=>this.emit("socket",e)),this.socket=e})}onHttp2(e){let t,r={...this.options,agent:{createConnection:()=>e}};try{t=new i(r)}catch(e){this.emit("error",e);return}this.registerCallbacks(t),this._req=t,this.processQueuedOpens()}onHttp(e){this.registerCallbacks(e),this._req=e,this.processQueuedOpens()}registerCallbacks(e){e.on("drain",(...e)=>this.emit("drain",...e)),e.on("end",(...e)=>this.emit("end",...e)),e.on("close",(...e)=>this.emit("close",...e)),e.on("response",(...e)=>this.emit("response",...e)),e.on("error",(...e)=>this.emit("error",...e))}processQueuedOpens(){this[a].forEach(e=>{e()}),this[a]=[]}write(e){let t=()=>this._req.write(e);return this._req?t():this[a].push(t),!0}end(e){let t=()=>{this._req.end(e)};return this._req?t():this[a].push(t),this}setDefaultEncoding(e){let t=()=>this._req.setDefaultEncoding(e);return this._req?t():this[a].push(t),this}get _header(){return this._req&&this._req._header?this._req._header:new Promise(e=>{let t=()=>e(this._req._header);this[a].push(t)})}pipe(e,t){let r=()=>this._req.pipe(e,t);return this._req?r():this[a].push(r),e}setTimeout(e,t){let r=()=>this._req.setTimeout(e,t);return this._req?r():this[a].push(r),this}abort(){let e=()=>this._req.abort();return this._req?e():this[a].push(e),this}setHeader(e,t){let r=()=>this._req.setHeader(e,t);return this._req?r():this[a].push(r),this}removeHeader(e){let t=()=>this._req.removeHeader(e);return this._req?t():this[a].push(t),this}}e.exports={request:function(e){return o(e.headers),new l(e)},MultiProtocolRequest:l}},"./node_modules/postman-request/lib/autohttp/requestName.js":function(e){e.exports={getName:function(e){let t=e.host||"localhost";return t+=":",e.port&&(t+=e.port),t+=":",e.localAddress&&(t+=e.localAddress),e.socketPath&&(t+=`:${e.socketPath}`),t+=":",e.ca&&(t+=e.ca),t+=":",e.extraCA&&(t+=e.extraCA),t+=":",e.cert&&(t+=e.cert),t+=":",e.clientCertEngine&&(t+=e.clientCertEngine),t+=":",e.ciphers&&(t+=e.ciphers),t+=":",e.key&&(t+=e.key),t+=":",e.pfx&&(t+=e.pfx),t+=":",void 0!==e.rejectUnauthorized&&(t+=e.rejectUnauthorized),t+=":",e.servername&&e.servername!==e.host&&(t+=e.servername),t+=":",e.minVersion&&(t+=e.minVersion),t+=":",e.maxVersion&&(t+=e.maxVersion),t+=":",e.secureProtocol&&(t+=e.secureProtocol),t+=":",e.crl&&(t+=e.crl),t+=":",void 0!==e.honorCipherOrder&&(t+=e.honorCipherOrder),t+=":",e.ecdhCurve&&(t+=e.ecdhCurve),t+=":",e.dhparam&&(t+=e.dhparam),t+=":",void 0!==e.secureOptions&&(t+=e.secureOptions),t+=":",e.sessionIdContext&&(t+=e.sessionIdContext),t+=":",e.sigalgs&&(t+=JSON.stringify(e.sigalgs)),t+=":",e.privateKeyIdentifier&&(t+=e.privateKeyIdentifier),t+=":",e.privateKeyEngine&&(t+=e.privateKeyEngine),t+=":"+!!e.verbose}}},"./node_modules/postman-request/lib/cookies.js":function(e,t,r){"use strict";var n=r("./node_modules/@postman/tough-cookie/lib/cookie.js"),i=n.Cookie,s=n.CookieJar;t.parse=function(e){if(e&&e.uri&&(e=e.uri),"string"!=typeof e)throw Error("The cookie function only accepts STRING as param");return i.parse(e,{loose:!0})},t.jar=function(e){return new s(e,{looseMode:!0})}},"./node_modules/postman-request/lib/getProxyFromURI.js":function(e){"use strict";function t(e){return e.replace(/^\.*/,".").toLowerCase()}function r(e){var r=(e=e.trim().toLowerCase()).split(":",2);return{hostname:t(r[0]),port:r[1],hasPort:e.indexOf(":")>-1}}function n(e,n){var i=e.port||("https:"===e.protocol?"443":"80"),s=t(e.hostname);return n.split(",").map(r).some(function(e){var t=s.indexOf(e.hostname),r=t>-1&&t===s.length-e.hostname.length;return e.hasPort?i===e.port&&r:r})}e.exports=function(e){var t=process.env.NO_PROXY||process.env.no_proxy||"";return"*"===t||""!==t&&n(e,t)?null:"http:"===e.protocol?process.env.HTTP_PROXY||process.env.http_proxy||null:"https:"===e.protocol&&(process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy)||null}},"./node_modules/postman-request/lib/har.js":function(e,t,r){"use strict";var n=r("fs"),i=r("querystring"),s=r("./node_modules/extend/index.js");function o(e){this.request=e}o.prototype.reducer=function(e,t){if(void 0===e[t.name])return e[t.name]=t.value,e;var r=[e[t.name],t.value];return e[t.name]=r,e},o.prototype.prep=function(e){if(e.queryObj={},e.headersObj={},e.postData.jsonObj=!1,e.postData.paramsObj=!1,e.queryString&&e.queryString.length&&(e.queryObj=e.queryString.reduce(this.reducer,{})),e.headers&&e.headers.length&&(e.headersObj=e.headers.reduceRight(function(e,t){return e[t.name]=t.value,e},{})),e.cookies&&e.cookies.length){var t=e.cookies.map(function(e){return e.name+"="+e.value});t.length&&(e.headersObj.cookie=t.join("; "))}function r(t){return t.some(function(t){return 0===e.postData.mimeType.indexOf(t)})}if(r(["multipart/mixed","multipart/related","multipart/form-data","multipart/alternative"]))e.postData.mimeType="multipart/form-data";else if(r(["application/x-www-form-urlencoded"]))e.postData.params?(e.postData.paramsObj=e.postData.params.reduce(this.reducer,{}),e.postData.text=i.stringify(e.postData.paramsObj)):e.postData.text="";else if(r(["text/json","text/x-json","application/json","application/x-json"])&&(e.postData.mimeType="application/json",e.postData.text))try{e.postData.jsonObj=JSON.parse(e.postData.text)}catch(t){this.request.debug(t),e.postData.mimeType="text/plain"}return e},o.prototype.options=function(e){if(!e.har)return e;var t={};s(t,e.har),t.log&&t.log.entries&&(t=t.log.entries[0]),t.url=t.url||e.url||e.uri||e.baseUrl||"/",t.httpVersion=t.httpVersion||"HTTP/1.1",t.queryString=t.queryString||[],t.headers=t.headers||[],t.cookies=t.cookies||[],t.postData=t.postData||{},t.postData.mimeType=t.postData.mimeType||"application/octet-stream",t.bodySize=0,t.headersSize=0,t.postData.size=0;var r=this.prep(t);function i(e){return 0===r.postData.mimeType.indexOf(e)}return r.url&&(e.url=r.url),r.method&&(e.method=r.method),Object.keys(r.queryObj).length&&(e.qs=r.queryObj),Object.keys(r.headersObj).length&&(e.headers=r.headersObj),i("application/x-www-form-urlencoded")?e.form=r.postData.paramsObj:i("application/json")?r.postData.jsonObj&&(e.body=r.postData.jsonObj,e.json=!0):i("multipart/form-data")?(e.formData={},r.postData.params.forEach(function(t){var r={};if(!t.fileName&&!t.contentType){e.formData[t.name]=t.value;return}t.fileName&&!t.value?r.value=n.createReadStream(t.fileName):t.value&&(r.value=t.value),t.fileName&&(r.options={filename:t.fileName,contentType:t.contentType?t.contentType:null}),e.formData[t.name]=r})):r.postData.text&&(e.body=r.postData.text),e},t.Har=o},"./node_modules/postman-request/lib/hawk.js":function(e,t,r){"use strict";var n=r("crypto");function i(e){var t=(e+1)*6;return n.randomBytes(Math.ceil(t/8)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"").slice(0,e)}function s(e,t,r){var i=n.createHash(t);return i.update("hawk.1.payload\n"),i.update((r?r.split(";")[0].trim().toLowerCase():"")+"\n"),i.update(e||""),i.update("\n"),i.digest("base64")}t.calculateMac=function(e,t){var r="hawk.1.header\n"+t.ts+"\n"+t.nonce+"\n"+(t.method||"").toUpperCase()+"\n"+t.resource+"\n"+t.host.toLowerCase()+"\n"+t.port+"\n"+(t.hash||"")+"\n";return t.ext&&(r+=t.ext.replace("\\","\\\\").replace("\n","\\n")),r+="\n",t.app&&(r=r+t.app+"\n"+(t.dlg||"")+"\n"),n.createHmac(e.algorithm,e.key).update(r).digest("base64")},t.header=function(e,r,n){var o=n.timestamp||Math.floor((Date.now()+(n.localtimeOffsetMsec||0))/1e3),a=n.credentials;if(!a||!a.id||!a.key||!a.algorithm||-1===["sha1","sha256"].indexOf(a.algorithm))return"";var l={ts:o,nonce:n.nonce||i(6),method:r,resource:e.pathname+(e.search||""),host:e.hostname,port:e.port||("http:"===e.protocol?80:443),hash:n.hash,ext:n.ext,app:n.app,dlg:n.dlg};!l.hash&&(n.payload||""===n.payload)&&(l.hash=s(n.payload,a.algorithm,n.contentType));var c=t.calculateMac(a,l),u=null!==l.ext&&void 0!==l.ext&&""!==l.ext,d='Hawk id="'+a.id+'", ts="'+l.ts+'", nonce="'+l.nonce+(l.hash?'", hash="'+l.hash:"")+(u?'", ext="'+l.ext.replace(/\\/g,"\\\\").replace(/"/g,'\\"'):"")+'", mac="'+c+'"';return l.app&&(d=d+', app="'+l.app+(l.dlg?'", dlg="'+l.dlg:"")+'"'),d}},"./node_modules/postman-request/lib/helpers.js":function(e,t,r){"use strict";var n=r("./node_modules/json-stringify-safe/stringify.js"),i=r("crypto"),s=r("./node_modules/safe-buffer/index.js").Buffer,{Transform:o}=r("stream"),a="undefined"==typeof setImmediate?process.nextTick:setImmediate;function l(e,t){var r;try{r=JSON.stringify(e,t)}catch(i){r=n(e,t)}return r}function c(e){return i.createHash("md5").update(e).digest("hex")}function u(e){return e.readable&&e.path&&e.mode}function d(e){return s.from(e||"","utf8").toString("base64")}function h(e){var t={};return Object.keys(e).forEach(function(r){t[r]=e[r]}),t}function p(){var e=process.version.replace("v","").split(".");return{major:parseInt(e[0],10),minor:parseInt(e[1],10),patch:parseInt(e[2],10)}}function f(){return performance.now()}class m extends o{constructor(e){super(e),this.size=0}_transform(e,t,r){this.size+=e.length,this.push(e),r()}_flush(e){e()}}t.safeStringify=l,t.md5=c,t.isReadStream=u,t.toBase64=d,t.copy=h,t.version=p,t.defer=a,t.SizeTrackerStream=m,t.now=f},"./node_modules/postman-request/lib/http2/agent.js":function(e,t,r){let{EventEmitter:n}=r("events"),i=r("http2"),{getName:s}=r("./node_modules/postman-request/lib/autohttp/requestName.js");class o extends n{constructor(e){super(),this.options=e,this.connections={}}createConnection(e,t,r,n){let o={...r,...this.options},a=s(o),l=this.connections[a];if(!l||l.destroyed||l.closed||n){let e={...o,port:o.port||443,settings:{enablePush:!1}};n&&(e.createConnection=()=>n),(l=i.connect(t,e)).unref();let r=l.ref,s=l.unref,c=()=>{delete u[a],l.close()};l.refCount=0,l.ref=function(){this.refCount++,r.call(this),l.off("timeout",c),l.setTimeout(0)};let u=this.connections;l.unref=function(){this.refCount--,0===this.refCount&&(s.call(this),o.timeout&&l.setTimeout(o.timeout,c))},l.on("error",()=>{delete this.connections[a]}),l.once("close",()=>{delete this.connections[a]}),this.connections[a]=l}return l}}e.exports={Http2Agent:o,globalAgent:new o({})}},"./node_modules/postman-request/lib/http2/index.js":function(e,t,r){let{Http2Agent:n,globalAgent:i}=r("./node_modules/postman-request/lib/http2/agent.js"),{request:s}=r("./node_modules/postman-request/lib/http2/request.js");e.exports={Agent:n,request:s,globalAgent:i}},"./node_modules/postman-request/lib/http2/request.js":function(e,t,r){let n=r("url"),i=r("http2"),{EventEmitter:s}=r("events"),{globalAgent:o}=r("./node_modules/postman-request/lib/http2/agent.js"),{validateRequestHeaders:a}=r("./node_modules/postman-request/lib/autohttp/headerValidations.js"),l=Symbol("kHeadersFlushed"),c=["connection","host","proxy-connection","keep-alive","transfer-encoding","upgrade"],u=i.constants||{},d={[u.NGHTTP2_NO_ERROR]:"NGHTTP2_NO_ERROR",[u.NGHTTP2_PROTOCOL_ERROR]:"NGHTTP2_PROTOCOL_ERROR",[u.NGHTTP2_INTERNAL_ERROR]:"NGHTTP2_INTERNAL_ERROR",[u.NGHTTP2_FLOW_CONTROL_ERROR]:"NGHTTP2_FLOW_CONTROL_ERROR",[u.NGHTTP2_SETTINGS_TIMEOUT]:"NGHTTP2_SETTINGS_TIMEOUT",[u.NGHTTP2_STREAM_CLOSED]:"NGHTTP2_STREAM_CLOSED",[u.NGHTTP2_FRAME_SIZE_ERROR]:"NGHTTP2_FRAME_SIZE_ERROR",[u.NGHTTP2_REFUSED_STREAM]:"NGHTTP2_REFUSED_STREAM",[u.NGHTTP2_CANCEL]:"NGHTTP2_CANCEL",[u.NGHTTP2_COMPRESSION_ERROR]:"NGHTTP2_COMPRESSION_ERROR",[u.NGHTTP2_CONNECT_ERROR]:"NGHTTP2_CONNECT_ERROR",[u.NGHTTP2_ENHANCE_YOUR_CALM]:"NGHTTP2_ENHANCE_YOUR_CALM",[u.NGHTTP2_INADEQUATE_SECURITY]:"NGHTTP2_INADEQUATE_SECURITY",[u.NGHTTP2_HTTP_1_1_REQUIRED]:"NGHTTP2_HTTP_1_1_REQUIRED"};function h(e){return n.format({protocol:"https",host:e.host||"localhost"})}class p extends s{constructor(e){super(),this.onError=this.onError.bind(this),this.onDrain=this.onDrain.bind(this),this.onClose=this.onClose.bind(this),this.onResponse=this.onResponse.bind(this),this.onEnd=this.onEnd.bind(this),this.onTimeout=this.onTimeout.bind(this),this.registerListeners=this.registerListeners.bind(this),this._flushHeaders=this._flushHeaders.bind(this),this[l]=!1;let t=h(e),r={...e,port:Number(e.port||443),path:void 0,host:e.hostname||e.host||"localhost"};e.socketPath&&(r.path=e.socketPath);let n=e.agent||o;this._client=n.createConnection(this,t,r);let s=e.headers||{};this.requestHeaders={...s,[i.constants.HTTP2_HEADER_PATH]:e.path||"/",[i.constants.HTTP2_HEADER_METHOD]:r.method,[i.constants.HTTP2_HEADER_AUTHORITY]:r.host+(443!==r.port?":"+e.port:"")},(e.uri.isUnix||"unix"===s.host||"unix"===r.host)&&(this.requestHeaders={...this.requestHeaders,[i.constants.HTTP2_HEADER_AUTHORITY]:"localhost"}),this.socket=this._client.socket,this._client.once("error",this.onError)}get _header(){return"\r\n"+Object.entries(this.stream.sentHeaders).map(([e,t])=>`${e}: ${t}`).join("\r\n")+"\r\n\r\n"}get httpVersion(){return"2.0"}registerListeners(){this.stream.on("drain",this.onDrain),this.stream.on("error",this.onError),this.stream.on("close",this.onClose),this.stream.on("response",this.onResponse),this.stream.on("end",this.onEnd),this.stream.on("timeout",this.onTimeout)}onDrain(...e){this.emit("drain",...e)}onError(e){this.emit("error",e)}onResponse(e){this.emit("response",new m(e,this.stream))}onEnd(){this.emit("end")}onTimeout(){this.stream.close()}onClose(...e){this.stream.rstCode&&this.onError(Error(`HTTP/2 Stream closed with error code ${d[this.stream.rstCode]}`)),this.emit("close",...e),this._client.off("error",this.onError),this.stream.off("drain",this.onDrain),this.stream.off("error",this.onError),this.stream.off("response",this.onResponse),this.stream.off("end",this.onEnd),this.stream.off("close",this.onClose),this.stream.off("timeout",this.onTimeout),this.removeAllListeners()}setDefaultEncoding(e){return this[l]||this._flushHeaders(),this.stream.setDefaultEncoding(e),this}setEncoding(e){return this[l]||this._flushHeaders(),this.stream.setEncoding(e),this}write(e){return this[l]||this._flushHeaders(),this.stream.write(e)}_flushHeaders(e=!1){if(this[l])throw Error("Headers already flushed");this.requestHeaders=Object.fromEntries(Object.entries(this.requestHeaders).filter(([e])=>!c.includes(e.toLowerCase()))),this._client.ref(),this.stream=this._client.request(this.requestHeaders,{endStream:e});let t=()=>{this._client.unref(),this.stream.off("close",t)};this.stream.on("close",t),this.registerListeners(),this[l]=!0}pipe(e){return this[l]||this._flushHeaders(),this.stream.pipe(e),e}on(e,t){return"socket"===e?(t(this.socket),this):super.on(e,t)}abort(){return this[l]||this._flushHeaders(),this.stream.destroy(),this}end(){return this[l]||this._flushHeaders(!0),this.stream.end(),this}setTimeout(e,t){return this[l]||this._flushHeaders(),this.stream.setTimeout(e,t),this}removeHeader(e){if(this[l])throw Error("Headers already flushed. Cannot remove header");if(!e.startsWith(":"))return delete this.requestHeaders[e],this}setHeader(e,t){if(this[l])throw Error("Headers already flushed. Cannot set header");if(!e.startsWith(":"))return this.requestHeaders[e]=t,this}}function f(e){return a(e.headers),new p(e)}class m extends s{constructor(e,t){super(),this.httpVersion="2.0",this.reqStream=t,this.response=e,this.on=this.on.bind(this),this.registerRequestListeners(),this.socket=this.reqStream.session.socket}registerRequestListeners(){this.reqStream.on("error",e=>this.emit("error",e)),this.reqStream.on("close",()=>{this.emit("close")})}on(e,t){return super.on(e,t),"data"===e&&this.reqStream.on("data",e=>{this.emit("data",e)}),"end"===e&&(this.reqStream.readableEnded?process.nextTick(t):this.reqStream.on("end",t)),this}get statusCode(){return this.response[i.constants.HTTP2_HEADER_STATUS]}get rawHeaders(){return Object.entries(this.response).flat()}get headers(){return Object.fromEntries(Object.entries(this.response))}pause(){return this.reqStream.pause(),this}resume(){return this.reqStream.resume(),this}pipe(e){return this.reqStream.pipe(e),e}setEncoding(e){return this.reqStream.setEncoding(e),this}destroy(){return this.reqStream.destroy(),this}}e.exports={request:f,Http2Request:p}},"./node_modules/postman-request/lib/inflate.js":function(e,t,r){"use strict";var n,i=r("zlib"),s=r("stream"),o=r("util").inherits,a=r("./node_modules/safe-buffer/index.js").Buffer;o(n=function(e){this.options=e,this._stream=null,s.Transform.call(this)},s.Transform),n.prototype._transform=function(e,t,r){var n=this;n._stream||((15&a.from(e,t)[0])==8?n._stream=i.createInflate(n.options):n._stream=i.createInflateRaw(n.options),n._stream.on("error",function(e){n.emit("error",e)}),n._stream.on("data",function(e){n.push(e)}),n._stream.once("end",function(){n._ended=!0,n.push(null)})),n._stream.write(e,t,r)},n.prototype._flush=function(e){this._stream&&!this._ended?(this._stream.once("end",e),this._stream.end()):e()},e.exports.createInflate=function(e){return new n(e)}},"./node_modules/postman-request/lib/multipart.js":function(e,t,r){"use strict";var n=r("./node_modules/postman-request/node_modules/uuid/dist/esm-node/index.js").v4,i=r("./node_modules/combined-stream/lib/combined_stream.js"),s=r("./node_modules/isstream/isstream.js"),o=r("./node_modules/safe-buffer/index.js").Buffer;function a(e){this.request=e,this.boundary=n(),this.chunked=!1,this.body=null}a.prototype.isChunked=function(e){var t=this,r=!1,n=e.data||e;return n.forEach||t.request.emit("error",Error("Argument error, options.multipart.")),void 0!==e.chunked&&(r=e.chunked),"chunked"===t.request.getHeader("transfer-encoding")&&(r=!0),r||n.forEach(function(e){void 0===e.body&&t.request.emit("error",Error("Body attribute missing in multipart.")),s(e.body)&&(r=!0)}),r},a.prototype.setHeaders=function(e){var t=this;e&&!t.request.hasHeader("transfer-encoding")&&t.request.setHeader("Transfer-Encoding","chunked");var r=t.request.getHeader("content-type");r&&-1!==r.indexOf("multipart")?-1!==r.indexOf("boundary")?t.boundary=r.replace(/.*boundary=([^\s;]+).*/,"$1"):t.request.setHeader("Content-Type",r+"; boundary="+t.boundary):t.request.setHeader("Content-Type","multipart/related; boundary="+t.boundary)},a.prototype.build=function(e,t){var r=this,n=t?new i:[];function s(e){return"number"==typeof e&&(e=e.toString()),t?n.append(e):n.push(o.from(e))}return r.request.preambleCRLF&&s("\r\n"),e.forEach(function(e){var t="--"+r.boundary+"\r\n";Object.keys(e).forEach(function(r){"body"!==r&&(t+=r+": "+e[r]+"\r\n")}),s(t+="\r\n"),s(e.body),s("\r\n")}),s("--"+r.boundary+"--"),r.request.postambleCRLF&&s("\r\n"),n},a.prototype.onRequest=function(e){var t=this,r=t.isChunked(e),n=e.data||e;t.setHeaders(r),t.chunked=r,t.body=t.build(n,r)},t.Multipart=a},"./node_modules/postman-request/lib/oauth.js":function(e,t,r){"use strict";var n=r("./node_modules/postman-request/node_modules/qs/lib/index.js"),i=r("./node_modules/caseless/index.js"),s=r("./node_modules/postman-request/node_modules/uuid/dist/esm-node/index.js").v4,o=r("./node_modules/oauth-sign/index.js"),a=r("crypto"),l=r("./node_modules/safe-buffer/index.js").Buffer;function c(e){this.request=e,this.params=null}c.prototype.buildParams=function(e,t,r,n,i,a){var l={};for(var c in e)l["oauth_"+c]=e[c];l.oauth_version||(l.oauth_version="1.0"),l.oauth_timestamp||(l.oauth_timestamp=Math.floor(Date.now()/1e3).toString()),l.oauth_nonce||(l.oauth_nonce=s().replace(/-/g,"")),l.oauth_signature_method||(l.oauth_signature_method="HMAC-SHA1");var u=l.oauth_consumer_secret||l.oauth_private_key;delete l.oauth_consumer_secret,delete l.oauth_private_key;var d=l.oauth_token_secret;delete l.oauth_token_secret;var h=l.oauth_realm;delete l.oauth_realm,delete l.oauth_transport_method;var p=t.protocol+"//"+t.host+t.pathname,f=a.parse([].concat(n,i,a.stringify(l)).join("&"));return l.oauth_signature=o.sign(l.oauth_signature_method,r,p,f,u,d),h&&(l.realm=h),l},c.prototype.buildBodyHash=function(e,t){0>["HMAC-SHA1","RSA-SHA1"].indexOf(e.signature_method||"HMAC-SHA1")&&this.request.emit("error",Error("oauth: "+e.signature_method+" signature_method not supported with body_hash signing."));var r=a.createHash("sha1");r.update(t||"");var n=r.digest("hex");return l.from(n,"hex").toString("base64")},c.prototype.concatParams=function(e,t,r){r=r||"";var n=Object.keys(e).filter(function(e){return"realm"!==e&&"oauth_signature"!==e}).sort();return e.realm&&n.splice(0,0,"realm"),n.push("oauth_signature"),n.map(function(t){return t+"="+r+o.rfc3986(e[t])+r}).join(t)},c.prototype.onRequest=function(e){var t,r,s=this;s.params=e;var o=s.request.uri||{},a=s.request.method||"",l=i(s.request.headers),c=s.request.body||"",u=s.request.qsLib||n,d=l.get("content-type")||"",h="application/x-www-form-urlencoded",p=e.transport_method||"header";d.slice(0,h.length)===h&&(d=h,t=c),o.query&&(r=o.query),"body"===p&&("POST"!==a||d!==h)&&s.request.emit("error",Error("oauth: transport_method of body requires POST and content-type "+h)),t||"boolean"!=typeof e.body_hash||(e.body_hash=s.buildBodyHash(e,s.request.body.toString()));var f=s.buildParams(e,o,a,r,t,u);switch(p){case"header":s.request.setHeader("Authorization","OAuth "+s.concatParams(f,",",'"'));break;case"query":var m=s.request.uri.href+=(r?"&":"?")+s.concatParams(f,"&");s.request.uri=s.request.urlParser.parse(m),s.request.path=s.request.uri.path;break;case"body":s.request.body=(t?t+"&":"")+s.concatParams(f,"&");break;default:s.request.emit("error",Error("oauth: transport_method invalid"))}},t.OAuth=c},"./node_modules/postman-request/lib/querystring.js":function(e,t,r){"use strict";var n=r("./node_modules/postman-request/node_modules/qs/lib/index.js"),i=r("querystring");function s(e){this.request=e,this.lib=null,this.useQuerystring=null,this.parseOptions=null,this.stringifyOptions=null}s.prototype.init=function(e){this.lib||(this.useQuerystring=e.useQuerystring,this.lib=this.useQuerystring?i:n,this.parseOptions=e.qsParseOptions||{},this.stringifyOptions=e.qsStringifyOptions||{})},s.prototype.stringify=function(e){return this.useQuerystring?this.rfc3986(this.lib.stringify(e,this.stringifyOptions.sep||null,this.stringifyOptions.eq||null,this.stringifyOptions)):this.lib.stringify(e,this.stringifyOptions)},s.prototype.parse=function(e){return this.useQuerystring?this.lib.parse(e,this.parseOptions.sep||null,this.parseOptions.eq||null,this.parseOptions):this.lib.parse(e,this.parseOptions)},s.prototype.rfc3986=function(e){return e.replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})},s.prototype.unescape=i.unescape,t.Querystring=s},"./node_modules/postman-request/lib/redirect.js":function(e,t,r){"use strict";var n=r("fs"),i=/^https?:/;function s(e){this.request=e,this.followRedirect=!0,this.followRedirects=!0,this.followAllRedirects=!1,this.followOriginalHttpMethod=!1,this.followAuthorizationHeader=!1,this.allowRedirect=function(){return!0},this.maxRedirects=10,this.redirects=[],this.redirectsFollowed=0,this.removeRefererHeader=!1}s.prototype.onRequest=function(e){var t=this;void 0!==e.maxRedirects&&(t.maxRedirects=e.maxRedirects),"function"==typeof e.followRedirect&&(t.allowRedirect=e.followRedirect),void 0!==e.followRedirect&&(t.followRedirects=!!e.followRedirect),void 0!==e.followAllRedirects&&(t.followAllRedirects=e.followAllRedirects),(t.followRedirects||t.followAllRedirects)&&(t.redirects=t.redirects||[]),void 0!==e.removeRefererHeader&&(t.removeRefererHeader=e.removeRefererHeader),void 0!==e.followOriginalHttpMethod&&(t.followOriginalHttpMethod=e.followOriginalHttpMethod),void 0!==e.followAuthorizationHeader&&(t.followAuthorizationHeader=e.followAuthorizationHeader)},s.prototype.redirectTo=function(e){var t=this,r=t.request,n=null;if(e.statusCode>=300&&e.statusCode<400&&e.caseless.has("location")){var i=e.caseless.get("location");if(r.debug("redirect",i),t.followAllRedirects)n=i;else if(t.followRedirects)switch(r.method){case"PATCH":case"PUT":case"POST":case"DELETE":break;default:n=i}}else if(401===e.statusCode){var s=r._auth.onResponse(e);s&&(r.setHeader("Authorization",s),n=r.uri)}return n},s.prototype.onResponse=function(e){var t=this,r=t.request,s=r.urlParser,o={},a=t.redirectTo(e);if(!a||!t.allowRedirect.call(r,e))return!1;if(r.debug("redirect to",a),e.resume&&e.resume(),t.redirectsFollowed>=t.maxRedirects)return r.emit("error",Error("Exceeded maxRedirects. Probably stuck in a redirect loop "+r.uri.href)),!1;t.redirectsFollowed+=1,i.test(a)||(a=s.resolve(r.uri.href,a));var l=r.uri;if(r.uri=s.parse(a),r.uri.protocol!==l.protocol&&delete r.agent,t.redirects.push({statusCode:e.statusCode,redirectUri:a}),r.headers&&l.hostname!==r.uri.hostname&&(r.removeHeader("host"),t.followAuthorizationHeader||r.removeHeader("authorization")),delete r.src,delete r.req,delete r._started,!t.followOriginalHttpMethod&&401!==e.statusCode&&307!==e.statusCode&&308!==e.statusCode&&("HEAD"!==r.method&&(r.method="GET"),delete r.body,delete r._form,delete r._multipart,r.headers&&(r.removeHeader("content-type"),r.removeHeader("content-length"))),r.formData&&r._form&&r._form._released&&r._form._streams&&!r._form._streams.length){delete r._form,r.removeHeader("content-type"),r.removeHeader("content-length");for(var c=[],u=function(e,t,r){if("function"==typeof(t&&t.pipe)){if(!(t.hasOwnProperty("fd")&&t.path))return;t=n.createReadStream(t.path)}c.push({key:e,value:t,options:r})},d=0,h=r.formData.length;d<h;d++){var p=r.formData[d];p&&u(p.key,p.value,p.options)}o.formData=c}return t.removeRefererHeader||r.setHeader("Referer",l.href),r.emit("redirect"),r.init(o),!0},t.Redirect=s},"./node_modules/postman-request/lib/socks.js":function(e,t,r){"use strict";var{SocksProxyAgent:n}=r("./node_modules/socks-proxy-agent/dist/index.js"),i=["socks4:","socks4a:","socks5:","socks5h:","socks:"];function s(e){this.request=e}s.prototype.isEnabled=function(){var e=this,t=e.request;return"string"==typeof t.proxy&&(t.proxy=t.urlParser.parse(t.proxy)),!!t.proxy&&t.proxy.href&&i.includes(t.proxy.protocol)},s.prototype.setup=function(){var e=this,t=e.request;if(!e.isEnabled())return!1;var r=t.proxy.href;return t.proxy.auth&&-1===r.indexOf("@")&&(r=t.proxy.protocol+"//"+t.proxy.auth+"@"+t.proxy.host),t.agent=new n(r),!0},t.SocksProxy=s},"./node_modules/postman-request/lib/tunnel.js":function(e,t,r){"use strict";var n=r("./node_modules/@postman/tunnel-agent/index.js"),i=["accept","accept-charset","accept-encoding","accept-language","accept-ranges","cache-control","content-encoding","content-language","content-location","content-md5","content-range","content-type","connection","date","expect","max-forwards","pragma","referer","te","user-agent","via"],s=["proxy-authorization"];function o(e){var t=e.port,r=e.protocol,n=e.hostname+":";return t?n+=t:"https:"===r?n+="443":n+="80",n}function a(e,t){var r=t.reduce(function(e,t){return e[t.toLowerCase()]=!0,e},{});return Object.keys(e).filter(function(e){return r[e.toLowerCase()]}).reduce(function(t,r){return t[r]=e[r],t},{})}function l(e,t){var r=e.proxy;return{proxy:{host:r.hostname,port:+r.port,proxyAuth:r.auth,headers:t},headers:e.headers,ca:e.ca,cert:e.cert,key:e.key,passphrase:e.passphrase,pfx:e.pfx,ciphers:e.ciphers,rejectUnauthorized:e.rejectUnauthorized,secureOptions:e.secureOptions,secureProtocol:e.secureProtocol,extraCA:e.extraCA}}function c(e,t){return["https:"===e.protocol?"https":"http","https:"===t.protocol?"Https":"Http"].join("Over")}function u(e){return n[c(e.uri,e.proxy)]}function d(e){this.request=e,this.proxyHeaderWhiteList=i,this.proxyHeaderExclusiveList=[],void 0!==e.tunnel&&(this.tunnelOverride=e.tunnel)}d.prototype.isEnabled=function(){var e=this,t=e.request;return void 0!==e.tunnelOverride?e.tunnelOverride:"https:"===t.uri.protocol},d.prototype.setup=function(e){var t=this,r=t.request;if(e=e||{},"string"==typeof r.proxy&&(r.proxy=r.urlParser.parse(r.proxy)),!r.proxy||!r.tunnel)return!1;e.proxyHeaderWhiteList&&(t.proxyHeaderWhiteList=e.proxyHeaderWhiteList),e.proxyHeaderExclusiveList&&(t.proxyHeaderExclusiveList=e.proxyHeaderExclusiveList);var n=t.proxyHeaderExclusiveList.concat(s),i=t.proxyHeaderWhiteList.concat(n),c=a(r.headers,i);c.host=o(r.uri),n.forEach(r.removeHeader,r);var d=u(r),h=l(r,c);return r.agent=d(h),!0},d.defaultProxyHeaderWhiteList=i,d.defaultProxyHeaderExclusiveList=s,t.Tunnel=d},"./node_modules/postman-request/lib/url-parse.js":function(e,t,r){var n,i,s=r("url"),o="",a="0",l="%",c="string",u="&",d="=",h="?",p=function(e){var t=e.toString(16).toUpperCase();return 1===t.length&&(t=a+t),l+t},f=function(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102},m=function(e,t){return 37===e[t]&&f(e[t+1])&&f(e[t+2])},g=function(e){return e<35||e>126||60===e||62===e||40===e||41===e||37===e||39===e||42===e},y=function(e){if(!e)return o;var t,r,n=Buffer.from(e),i=o;for(t=0,r=n.length;t<r;++t)g(n[t])&&!m(n,t)?i+=p(n[t]):i+=String.fromCodePoint(n[t]);return i};i=function(e){var t;return typeof e===c?(t=e.split(u)).map(function(e,r){if(e===o&&r!==t.length-1)return{key:null,value:null};var n=typeof e===c?e.indexOf(d):-1,i={};return n<0?(i.key=e.substr(0,e.length),i.value=null):(i.key=e.substr(0,n),i.value=e.substr(n+1)),i}):[]},n=function(e){return e?e.map(function(e){var t=e.key,r=e.value;return void 0===r?o:(null===t&&(t=o),null===r)?y(t):y(t)+d+y(r)}).join(u):o},e.exports=function(e){var t,r,o,a,l=s.parse(e);return(t=l.query)&&t.length&&(r=h+(a=n(i(l.query))),o=l.pathname+r,l.query=a,l.search=r,l.path=o,e=s.format(l)),s.parse(e)},e.exports.parse=i,e.exports.stringify=n},"./node_modules/postman-request/node_modules/qs/lib/formats.js":function(e){"use strict";var t=String.prototype.replace,r=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return t.call(e,r,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},"./node_modules/postman-request/node_modules/qs/lib/index.js":function(e,t,r){"use strict";var n=r("./node_modules/postman-request/node_modules/qs/lib/stringify.js"),i=r("./node_modules/postman-request/node_modules/qs/lib/parse.js");e.exports={formats:r("./node_modules/postman-request/node_modules/qs/lib/formats.js"),parse:i,stringify:n}},"./node_modules/postman-request/node_modules/qs/lib/parse.js":function(e,t,r){"use strict";var n=r("./node_modules/postman-request/node_modules/qs/lib/utils.js"),i=Object.prototype.hasOwnProperty,s={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:n.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},o=function(e,t){for(var r={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,a=n.split(t.delimiter,o),l=0;l<a.length;++l){var c,u,d=a[l],h=d.indexOf("]="),p=-1===h?d.indexOf("="):h+1;-1===p?(c=t.decoder(d,s.decoder),u=t.strictNullHandling?null:""):(c=t.decoder(d.slice(0,p),s.decoder),u=t.decoder(d.slice(p+1),s.decoder)),i.call(r,c)?r[c]=[].concat(r[c]).concat(u):r[c]=u}return r},a=function(e,t,r){for(var n=t,i=e.length-1;i>=0;--i){var s,o=e[i];if("[]"===o&&r.parseArrays)s=[].concat(n);else{s=r.plainObjects?Object.create(null):{};var a="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,l=parseInt(a,10);r.parseArrays||""!==a?!isNaN(l)&&o!==a&&String(l)===a&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(s=[])[l]=n:"__proto__"!==a&&(s[a]=n):s={0:n}}n=s}return n},l=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,l=s.exec(n),c=l?n.slice(0,l.index):n,u=[];if(c){if(!r.plainObjects&&i.call(Object.prototype,c)&&!r.allowPrototypes)return;u.push(c)}for(var d=0;null!==(l=o.exec(n))&&d<r.depth;){if(d+=1,!r.plainObjects&&i.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(l[1])}return l&&u.push("["+n.slice(l.index)+"]"),a(u,t,r)}};e.exports=function(e,t){var r=t?n.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:s.delimiter,r.depth="number"==typeof r.depth?r.depth:s.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:s.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:s.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:s.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:s.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:s.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:s.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:s.strictNullHandling,""===e||null==e)return r.plainObjects?Object.create(null):{};for(var i="string"==typeof e?o(e,r):e,a=r.plainObjects?Object.create(null):{},c=Object.keys(i),u=0;u<c.length;++u){var d=c[u],h=l(d,i[d],r);a=n.merge(a,h,r)}return n.compact(a)}},"./node_modules/postman-request/node_modules/qs/lib/stringify.js":function(e,t,r){"use strict";var n=r("./node_modules/postman-request/node_modules/qs/lib/utils.js"),i=r("./node_modules/postman-request/node_modules/qs/lib/formats.js"),s={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},o=Array.isArray,a=Array.prototype.push,l=function(e,t){a.apply(e,o(t)?t:[t])},c=Date.prototype.toISOString,u={delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,serializeDate:function(e){return c.call(e)},skipNulls:!1,strictNullHandling:!1},d=function e(t,r,i,s,a,c,d,h,p,f,m,g){var y,_=t;if("function"==typeof d?_=d(r,_):_ instanceof Date&&(_=f(_)),null===_){if(s)return c&&!g?c(r,u.encoder):r;_=""}if("string"==typeof _||"number"==typeof _||"boolean"==typeof _||n.isBuffer(_))return c?[m(g?r:c(r,u.encoder))+"="+m(c(_,u.encoder))]:[m(r)+"="+m(String(_))];var v=[];if(void 0===_)return v;if(o(d))y=d;else{var b=Object.keys(_);y=h?b.sort(h):b}for(var w=0;w<y.length;++w){var j=y[w];a&&null===_[j]||(o(_)?l(v,e(_[j],i(r,j),i,s,a,c,d,h,p,f,m,g)):l(v,e(_[j],r+(p?"."+j:"["+j+"]"),i,s,a,c,d,h,p,f,m,g)))}return v};e.exports=function(e,t){var r,a,c,h=e,p=t?n.assign({},t):{};if(null!==p.encoder&&void 0!==p.encoder&&"function"!=typeof p.encoder)throw TypeError("Encoder has to be a function.");var f=void 0===p.delimiter?u.delimiter:p.delimiter,m="boolean"==typeof p.strictNullHandling?p.strictNullHandling:u.strictNullHandling,g="boolean"==typeof p.skipNulls?p.skipNulls:u.skipNulls,y="boolean"==typeof p.encode?p.encode:u.encode,_="function"==typeof p.encoder?p.encoder:u.encoder,v="function"==typeof p.sort?p.sort:null,b=void 0!==p.allowDots&&p.allowDots,w="function"==typeof p.serializeDate?p.serializeDate:u.serializeDate,j="boolean"==typeof p.encodeValuesOnly?p.encodeValuesOnly:u.encodeValuesOnly;if(void 0===p.format)p.format=i.default;else if(!Object.prototype.hasOwnProperty.call(i.formatters,p.format))throw TypeError("Unknown format option provided.");var S=i.formatters[p.format];"function"==typeof p.filter?h=(a=p.filter)("",h):o(p.filter)&&(r=a=p.filter);var k=[];if("object"!=typeof h||null===h)return"";c=p.arrayFormat in s?p.arrayFormat:"indices"in p?p.indices?"indices":"repeat":"indices";var E=s[c];r||(r=Object.keys(h)),v&&r.sort(v);for(var C=0;C<r.length;++C){var x=r[C];g&&null===h[x]||l(k,d(h[x],x,E,m,g,y?_:null,a,v,b,w,S,j))}var T=k.join(f),O=!0===p.addQueryPrefix?"?":"";return T.length>0?O+T:""}},"./node_modules/postman-request/node_modules/qs/lib/utils.js":function(e){"use strict";var t=Object.prototype.hasOwnProperty,r=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),n=function(e){for(var t;e.length;){var r=e.pop();if(Array.isArray(t=r.obj[r.prop])){for(var n=[],i=0;i<t.length;++i)void 0!==t[i]&&n.push(t[i]);r.obj[r.prop]=n}}return t},i=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r},s=function e(r,n,s){if(!n)return r;if("object"!=typeof n){if(Array.isArray(r))r.push(n);else{if(!r||"object"!=typeof r)return[r,n];(s&&(s.plainObjects||s.allowPrototypes)||!t.call(Object.prototype,n))&&(r[n]=!0)}return r}if(!r||"object"!=typeof r)return[r].concat(n);var o=r;return(Array.isArray(r)&&!Array.isArray(n)&&(o=i(r,s)),Array.isArray(r)&&Array.isArray(n))?(n.forEach(function(n,i){if(t.call(r,i)){var o=r[i];o&&"object"==typeof o&&n&&"object"==typeof n?r[i]=e(o,n,s):r.push(n)}else r[i]=n}),r):Object.keys(n).reduce(function(r,i){var o=n[i];return t.call(r,i)?r[i]=e(r[i],o,s):r[i]=o,r},o)};e.exports={arrayToObject:i,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],i=0;i<t.length;++i)for(var s=t[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var c=a[l],u=o[c];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:o,prop:c}),r.push(u))}return n(t)},decode:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},encode:function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),n="",i=0;i<t.length;++i){var s=t.charCodeAt(i);if(45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122){n+=t.charAt(i);continue}if(s<128){n+=r[s];continue}if(s<2048){n+=r[192|s>>6]+r[128|63&s];continue}if(s<55296||s>=57344){n+=r[224|s>>12]+r[128|s>>6&63]+r[128|63&s];continue}i+=1,n+=r[240|(s=65536+((1023&s)<<10|1023&t.charCodeAt(i)))>>18]+r[128|s>>12&63]+r[128|s>>6&63]+r[128|63&s]}return n},isBuffer:function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:s}},"./node_modules/postman-request/node_modules/uuid/dist/esm-node/index.js":function(e,t,r){"use strict";r.d(t,{v4:()=>n.A});var n=r("./node_modules/postman-request/node_modules/uuid/dist/esm-node/v4.js")},"./node_modules/postman-request/node_modules/uuid/dist/esm-node/regex.js":function(e,t,r){"use strict";r.d(t,{A:()=>n});let n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},"./node_modules/postman-request/node_modules/uuid/dist/esm-node/rng.js":function(e,t,r){"use strict";r.d(t,{A:()=>a});var n=r("crypto"),i=r.n(n);let s=new Uint8Array(256),o=s.length;function a(){return o>s.length-16&&(i().randomFillSync(s),o=0),s.slice(o,o+=16)}},"./node_modules/postman-request/node_modules/uuid/dist/esm-node/stringify.js":function(e,t,r){"use strict";r.d(t,{A:()=>s});var n=r("./node_modules/postman-request/node_modules/uuid/dist/esm-node/validate.js");let i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).substr(1));let s=function(e,t=0){let r=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!(0,n.A)(r))throw TypeError("Stringified UUID is invalid");return r}},"./node_modules/postman-request/node_modules/uuid/dist/esm-node/v4.js":function(e,t,r){"use strict";r.d(t,{A:()=>s});var n=r("./node_modules/postman-request/node_modules/uuid/dist/esm-node/rng.js"),i=r("./node_modules/postman-request/node_modules/uuid/dist/esm-node/stringify.js");let s=function(e,t,r){let s=(e=e||{}).random||(e.rng||n.A)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=s[e];return t}return(0,i.A)(s)}},"./node_modules/postman-request/node_modules/uuid/dist/esm-node/validate.js":function(e,t,r){"use strict";r.d(t,{A:()=>i});var n=r("./node_modules/postman-request/node_modules/uuid/dist/esm-node/regex.js");let i=function(e){return"string"==typeof e&&n.A.test(e)}},"./node_modules/postman-request/request.js":function(e,t,r){"use strict";var n=r("tls"),i=r("http"),s=r("https"),o=r("./node_modules/postman-request/lib/http2/index.js"),a=r("./node_modules/postman-request/lib/autohttp/index.js"),l=r("url"),c=r("util"),u=r("stream"),d=r("zlib"),h=r("./node_modules/aws-sign2/index.js"),p=r("./node_modules/aws4/aws4.js"),f=r("./node_modules/postman-request/node_modules/uuid/dist/esm-node/index.js").v4,m=r("./node_modules/http-signature/lib/index.js"),g=r("./node_modules/mime-types/index.js"),y=r("./node_modules/caseless/index.js"),_=r("./node_modules/forever-agent/index.js"),v=r("./node_modules/@postman/form-data/lib/form_data.js"),b=r("./node_modules/extend/index.js"),w=r("./node_modules/isstream/isstream.js"),j=r("./node_modules/stream-length/index.js"),S=r("./node_modules/is-typedarray/index.js").strict,k=r("./node_modules/postman-request/lib/helpers.js"),E=r("./node_modules/postman-request/lib/cookies.js"),C=r("./node_modules/postman-request/lib/getProxyFromURI.js"),x=r("./node_modules/postman-request/lib/querystring.js").Querystring,T=r("./node_modules/postman-request/lib/har.js").Har,O=r("./node_modules/postman-request/lib/auth.js").Auth,I=r("./node_modules/postman-request/lib/oauth.js").OAuth,A=r("./node_modules/postman-request/lib/hawk.js"),P=r("./node_modules/postman-request/lib/multipart.js").Multipart,R=r("./node_modules/postman-request/lib/redirect.js").Redirect,N=r("./node_modules/postman-request/lib/tunnel.js").Tunnel,$=r("./node_modules/postman-request/lib/socks.js").SocksProxy,M=r("./node_modules/safe-buffer/index.js").Buffer,D=r("./node_modules/postman-request/lib/inflate.js"),L=r("./node_modules/postman-request/lib/url-parse.js"),B=k.safeStringify,U=k.isReadStream,z=k.toBase64,F=k.defer,H=k.copy,q=k.version,W=k.now,J=k.SizeTrackerStream,V=E.jar(),K={};function G(e,t){var r={};for(var n in t)-1===e.indexOf(n)&&(r[n]=t[n]);return r}function Z(e,t){var r={};for(var n in t){var i=-1!==e.indexOf(n),s="function"==typeof t[n];i&&s||(r[n]=t[n])}return r}function Q(e){var t=[],r=function(e,r){t.push({key:e,value:r&&r.hasOwnProperty("value")?r.value:r,options:r&&r.hasOwnProperty("options")?r.options:void 0})};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(Array.isArray(i))for(var s=0;s<i.length;s++)r(n,i[s]);else r(n,i)}return t}function X(){var e=this;return{uri:e.uri,method:e.method,headers:e.headers}}function Y(){var e=this;return{statusCode:e.statusCode,body:e.body,headers:e.headers,request:X.call(e.request)}}function ee(e){for(var t=e.split("\r\n"),r=[],n=1;n<t.length-2;n++){var i=t[n].indexOf(":",1);r.push({key:t[n].slice(0,i),value:t[n].slice(i+2)})}return r}function et(e){for(var t=[],r=0;r<e.length;r+=2)t.push({key:e[r],value:e[r+1]});return t}function er(e){var t=this;e.har&&(t._har=new T(t),e=t._har.options(e)),e.formData&&!Array.isArray(e.formData)&&(e.formData=Q(e.formData)),e.urlParser&&"function"==typeof e.urlParser.parse&&"function"==typeof e.urlParser.resolve||(e.urlParser={parse:l.parse,resolve:l.resolve}),u.Stream.call(t);var r=Object.keys(er.prototype);b(t,G(r,e)),e=Z(r,e),t.readable=!0,t.writable=!0,t._debug=[],e.method&&(t.explicitMethod=!0),t._qs=new x(t),t._auth=new O(t),t._oauth=new I(t),t._multipart=new P(t),t._redirect=new R(t),t._tunnel=new N(t),t._socks=new $(t),t.init(e)}function en(){er.debug&&console.error("REQUEST %s",c.format.apply(c,arguments))}c.inherits(er,u.Stream),er.debug=process.env.NODE_DEBUG&&/\brequest\b/.test(process.env.NODE_DEBUG),er.prototype.debug=en,er.prototype.init=function(e){var t=this;for(var r in e||(e={}),t.headers=t.headers?H(t.headers):{},t._reqResInfo={},t._debug.push(t._reqResInfo),e.bindOn&&Object.keys(e.bindOn).forEach(function(r){Array.isArray(e.bindOn[r])||(e.bindOn[r]=[e.bindOn[r]]),e.bindOn[r].forEach(function(e){t.on(r,e)})}),e.once&&Object.keys(e.once).forEach(function(r){Array.isArray(e.bindOnce[r])||(e.bindOnce[r]=[e.bindOnce[r]]),e.bindOnce[r].forEach(function(e){t.once(r,e)})}),t.headers)(void 0===t.headers[r]||r.startsWith(":"))&&delete t.headers[r];if(y.httpify(t,t.headers),t.method||(t.method=e.method||"GET"),t.localAddress||(t.localAddress=e.localAddress),t._qs.init(e),en(e),t.pool||!1===t.pool||(t.pool=K),t.dests=t.dests||[],t.__isRequestRequest=!0,!t._callback&&t.callback&&(t._callback=t.callback,t.callback=function(e,r,n){t._callbackCalled||(t._callbackCalled=!0,t._callback(e,r,n,t._debug))},t.on("error",t.callback.bind()),t.on("complete",t.callback.bind(t,null))),!t.uri&&t.url&&(t.uri=t.url,delete t.url),t.baseUrl){if("string"!=typeof t.baseUrl)return t.emit("error",Error("options.baseUrl must be a string"));if("string"!=typeof t.uri)return t.emit("error",Error("options.uri must be a string when using options.baseUrl"));if(0===t.uri.indexOf("//")||-1!==t.uri.indexOf("://"))return t.emit("error",Error("options.uri must be a path when using options.baseUrl"));var n=t.baseUrl.lastIndexOf("/")===t.baseUrl.length-1,c=0===t.uri.indexOf("/");n&&c?t.uri=t.baseUrl+t.uri.slice(1):n||c?t.uri=t.baseUrl+t.uri:""===t.uri?t.uri=t.baseUrl:t.uri=t.baseUrl+"/"+t.uri,delete t.baseUrl}if(!t.uri)return t.emit("error",Error("options.uri is a required argument"));if("string"==typeof t.uri&&(t.uri=t.urlParser.parse(t.uri)),t.uri.href||(t.uri.href=l.format(t.uri)),"unix:"===t.uri.protocol)return t.emit("error",Error("`unix://` URL scheme is no longer supported. Please use the format `http://unix:SOCKET:PATH`"));if("unix"===t.uri.host&&t.enableUnixSocket(),!1===t.strictSSL&&(t.rejectUnauthorized=!1),t.uri.pathname||(t.uri.pathname="/"),!(t.uri.host||t.uri.hostname&&t.uri.port)&&!t.uri.isUnix){var u='Invalid URI "'+l.format(t.uri)+'"';return 0===Object.keys(e).length&&(u+=". This can be caused by a crappy redirection."),t.abort(),t.emit("error",Error(u))}if(t.hasOwnProperty("proxy")||(t.proxy=C(t.uri)),"string"==typeof t.proxy&&(t.proxy=t.urlParser.parse(t.proxy),t.proxy.auth&&(t.proxy.auth=t._qs.unescape(t.proxy.auth))),t.tunnel=t._tunnel.isEnabled(),t.socks=t._socks.isEnabled(),t.proxy&&(t.socks?t._socks.setup():t._tunnel.setup(e)),t._redirect.onRequest(e),t.setHost=void 0===t.setHost||!!t.setHost,!t.hasHeader("host")&&t.setHost){var d=t.originalHostHeaderName||"Host";t.setHeader(d,t.uri.host),t.uri.port&&("80"===t.uri.port&&"http:"===t.uri.protocol||"443"===t.uri.port&&"https:"===t.uri.protocol)&&t.setHeader(d,t.uri.hostname)}if(t.uri.port||("http:"===t.uri.protocol?t.uri.port=80:"https:"===t.uri.protocol&&(t.uri.port=443)),!t.proxy||t.tunnel||t.socks?(t.port=t.uri.port,t.host=t.uri.hostname):(t.port=t.proxy.port,t.host=t.proxy.hostname),e.form&&t.form(e.form),e.formData)for(var h=e.formData,p=t.form(),f=0,m=h.length;f<m;f++){var v=h[f];v&&(v.options?p.append(v.key,v.value,v.options):p.append(v.key,v.value))}if(e.qs&&t.qs(e.qs),t.uri.path?t.path=t.uri.path:t.path=t.uri.pathname+(t.uri.search||""),0===t.path.length&&(t.path="/"),e.aws&&t.aws(e.aws),e.hawk&&t.hawk(e.hawk),e.httpSignature&&t.httpSignature(e.httpSignature),e.auth&&(Object.prototype.hasOwnProperty.call(e.auth,"username")&&(e.auth.user=e.auth.username),Object.prototype.hasOwnProperty.call(e.auth,"password")&&(e.auth.pass=e.auth.password),t.auth(e.auth.user,e.auth.pass,e.auth.sendImmediately,e.auth.bearer)),!t.hasHeader("accept-encoding")){var b="";t.gzip&&(b+="gzip, deflate"),t.brotli&&(b&&(b+=", "),b+="br"),b&&t.setHeader("Accept-Encoding",b)}if(t.uri.auth&&!t.hasHeader("authorization")){var k=t.uri.auth.split(":").map(function(e){return t._qs.unescape(e)});t.auth(k[0],k.slice(1).join(":"),!0)}function E(){if(S(t.body)&&(t.body=M.from(t.body)),!t.hasHeader("content-length")){var e;(e="string"==typeof t.body?M.byteLength(t.body):Array.isArray(t.body)?t.body.reduce(function(e,t){return e+t.length},0):t.body.length)?t.setHeader("Content-Length",e):t.emit("error",Error("Argument error, options.body."))}}t.tunnel||t.socks||!t.proxy||!t.proxy.auth||t.hasHeader("proxy-authorization")||t.setHeader("Proxy-Authorization","Basic "+z(t.proxy.auth)),!t.proxy||t.tunnel||t.socks||(t.path=t.uri.protocol+"//"+t.uri.host+t.path),e.json&&t.json(e.json),e.multipart&&t.multipart(e.multipart),(e.time||e.verbose)&&(t.timing=!0,t.elapsedTime=t.elapsedTime||0),e.verbose&&(t.verbose=!0),"number"==typeof e.maxResponseSize&&(t.maxResponseSize=e.maxResponseSize),t.body&&!w(t.body)&&E(),e.oauth?t.oauth(e.oauth):t._oauth.params&&t.hasHeader("authorization")&&t.oauth(t._oauth.params);var x=!t.proxy||t.tunnel||t.socks?t.uri.protocol:t.proxy.protocol,T={"http:":{http2:i,http1:i,auto:i},"https:":{http1:s,http2:o,auto:a}},O=t.httpModules||{};if(t.httpModule=O[x]&&O[x][t.protocolVersion]||O[x]||T[x]&&T[x][t.protocolVersion],O[x]&&!O[x][e.protocolVersion]&&(t.protocolVersion="http1"),!t.httpModule)return t.emit("error",Error("Invalid protocol: "+x));if(e.ca&&(t.ca=e.ca),t.agents&&!t.agent){var I="http:"===x?t.agents.http:t.agents.https;I&&(I.agentClass||I.agentOptions?(e.agentClass=I.agentClass||e.agentClass,e.agentOptions=I.agentOptions||e.agentOptions):t.agent=I)}if(!t.agent)if(e.agentOptions&&(t.agentOptions=e.agentOptions),e.agentClass)t.agentClass=e.agentClass;else if(e.forever){var A=q();0===A.major&&A.minor<=10?t.agentClass="http:"===x?_:_.SSL:(t.agentClass=t.httpModule.Agent,t.agentOptions=t.agentOptions||{},t.agentOptions.keepAlive=!0)}else t.agentClass=t.httpModule.Agent;if(!1===t.pool)t.agent=!1;else try{t.agent=t.agent||t.getNewAgent({agentIdleTimeout:e.agentIdleTimeout})}catch(e){return t.emit("error",e)}t.on("pipe",function(e){if(t.ntick&&t._started&&t.emit("error",Error("You cannot pipe to this stream after the outbound request has started.")),t.src=e,U(e))t.hasHeader("content-type")||t.setHeader("Content-Type",g.lookup(e.path)||"application/octet-stream");else{if(e.headers)for(var r in e.headers)t.hasHeader(r)||t.setHeader(r,e.headers[r]);t._json&&!t.hasHeader("content-type")&&t.setHeader("Content-Type","application/json"),e.method&&!t.explicitMethod&&(t.method=e.method)}}),F(function(){if(!t._aborted){var r=function(){if(t._form&&(!t._auth.hasAuth||t._auth.hasAuth&&t._auth.sentAuth))try{t._form.pipe(t)}catch(r){t.abort(),e.callback&&e.callback(r);return}if(t._multipart&&t._multipart.chunked&&t._multipart.body.pipe(t),t.body)w(t.body)?t.hasHeader("content-length")?t.body.pipe(t):j(t.body,{},function(e,r){e||t._started||t.hasHeader("content-length")||null===r||r<0||t.setHeader("Content-Length",r),t.body.pipe(t)}):(E(),Array.isArray(t.body)?t.body.forEach(function(e){t.write(e)}):t.write(t.body),t.end());else if(t.requestBodyStream)console.warn("options.requestBodyStream is deprecated, please pass the request object to stream.pipe."),t.requestBodyStream.pipe(t);else if(!t.src){if(t._auth.hasAuth&&!t._auth.sentAuth||t.hasHeader("content-length"))return void t.end();switch(t.method){case"GET":case"HEAD":case"TRACE":case"DELETE":case"CONNECT":case"OPTIONS":case void 0:break;default:t.setHeader("Content-Length",0)}t.end()}};t.jar(t._jar||e.jar,function(){t._form&&!t.hasHeader("content-length")?t._form.getLength(function(e,n){e||isNaN(n)||t.setHeader("Content-Length",n),r()}):r()}),t.ntick=!0}})},er.prototype.getNewAgent=function({agentIdleTimeout:e}){var t=this,r=t.agentClass,i={};if(t.agentOptions)for(var s in t.agentOptions)i[s]=t.agentOptions[s];t.ca&&(i.ca=t.ca),t.extraCA&&(i.extraCA=t.extraCA),t.ciphers&&(i.ciphers=t.ciphers),t.secureProtocol&&(i.secureProtocol=t.secureProtocol),t.secureOptions&&(i.secureOptions=t.secureOptions),void 0!==t.rejectUnauthorized&&(i.rejectUnauthorized=t.rejectUnauthorized),t.cert&&t.key&&(i.key=t.key,i.cert=t.cert),t.pfx&&(i.pfx=t.pfx),t.passphrase&&(i.passphrase=t.passphrase);var o="";r!==t.httpModule.Agent&&(o+=r.name);var a=t.proxy;if("string"==typeof a&&(a=t.urlParser.parse(a)),a&&"https:"===a.protocol||"https:"===this.uri.protocol){if(i.ca&&(o&&(o+=":"),o+=i.ca),i.extraCA){o&&(o+=":"),o+=i.extraCA;var l=n.createSecureContext(i);l.context.addCACert(i.extraCA),i.secureContext=l}void 0!==i.rejectUnauthorized&&(o&&(o+=":"),o+=i.rejectUnauthorized),i.cert&&(o&&(o+=":"),o+=i.cert.toString("ascii")+i.key.toString("ascii")),i.pfx&&(o&&(o+=":"),o+=i.pfx.toString("ascii")),i.passphrase&&(o&&(o+=":"),o+=i.passphrase),i.ciphers&&(o&&(o+=":"),o+=i.ciphers),i.secureProtocol&&(o&&(o+=":"),o+=i.secureProtocol),i.secureOptions&&(o&&(o+=":"),o+=i.secureOptions)}if(t.pool===K&&!o&&0===Object.keys(i).length&&t.httpModule.globalAgent&&"number"!=typeof e)return t.httpModule.globalAgent;o=t.protocolVersion+":"+t.uri.protocol+o;let c=t.pool[o];return(!c||"number"==typeof e&&(c.lastUsedAt||0)+e<Date.now())&&(c=t.pool[o]=new r(i),t.pool.maxSockets&&(t.pool[o].maxSockets=t.pool.maxSockets)),c.lastUsedAt=Date.now(),c},er.prototype.start=function(){var e,t=this;if(t.timing)var r=new Date().getTime(),n=W();if(!t._aborted){t.emit("start"),t._started=!0,t.method=t.method||"GET",t.href=t.uri.href,t.src&&t.src.stat&&t.src.stat.size&&!t.hasHeader("content-length")&&t.setHeader("Content-Length",t.src.stat.size),t._aws&&t.aws(t._aws,!0),t._reqResInfo.request={method:t.method,href:t.uri.href,headers:[],proxy:t.proxy&&{href:t.proxy.href}||void 0,httpVersion:"1.1"};var i=H(t);if(delete i.auth,!(t.disableUrlEncoding||t.proxy||t.uri.isUnix))try{b(i,L(t.uri.href))}catch(e){}en("make request",t.uri.href),delete i.timeout;try{t.req=t.httpModule.request(i),Array.isArray(t.blacklistHeaders)&&t.blacklistHeaders.length&&t.blacklistHeaders.forEach(function(e){t.req.removeHeader(e),t.removeHeader(e)})}catch(e){t.emit("error",e);return}t.timing&&(t.startTime=r,t.startTimeNow=n,t.timings={}),t.timeout&&!t.timeoutTimer&&(t.timeout<0?e=0:"number"==typeof t.timeout&&isFinite(t.timeout)&&(e=t.timeout)),t.req.on("response",t.onRequestResponse.bind(t)),t.req.on("error",t.onRequestError.bind(t)),t.req.on("drain",function(){t.emit("drain")}),t.req.on("socket",function(r){if(t.verbose){var n=!!(r.__SESSION_ID&&r.__SESSION_DATA);n||(r.__SESSION_ID=f(),r.__SESSION_DATA={}),t._reqResInfo.session={id:r.__SESSION_ID,reused:n,data:r.__SESSION_DATA}}var i=r._connecting||r.connecting;if(t.timing&&(t.timings.socket=W()-t.startTimeNow,i)){var s=function(){t.timings.lookup=W()-t.startTimeNow},o=function(){t.timings.connect=W()-t.startTimeNow,t.verbose&&(r.__SESSION_DATA.addresses={local:"function"==typeof r.address&&r.address(),remote:{address:r.remoteAddress,family:r.remoteFamily,port:r.remotePort}})},a=function(){if(t.timings.secureConnect=W()-t.startTimeNow,t.verbose){r.__SESSION_DATA.tls={reused:"function"==typeof r.isSessionReused&&r.isSessionReused(),authorized:r.authorized,authorizationError:r.authorizationError,cipher:"function"==typeof r.getCipher&&r.getCipher(),protocol:"function"==typeof r.getProtocol&&r.getProtocol(),ephemeralKeyInfo:"function"==typeof r.getEphemeralKeyInfo&&r.getEphemeralKeyInfo()};var e="function"==typeof r.getPeerCertificate&&(r.getPeerCertificate()||{});r.__SESSION_DATA.tls.peerCertificate={subject:e.subject&&{country:e.subject.C,stateOrProvince:e.subject.ST,locality:e.subject.L,organization:e.subject.O,organizationalUnit:e.subject.OU,commonName:e.subject.CN,alternativeNames:e.subjectaltname},issuer:e.issuer&&{country:e.issuer.C,stateOrProvince:e.issuer.ST,locality:e.issuer.L,organization:e.issuer.O,organizationalUnit:e.issuer.OU,commonName:e.issuer.CN},validFrom:e.valid_from,validTo:e.valid_to,fingerprint:e.fingerprint,serialNumber:e.serialNumber}}};r.once("lookup",s),r.once("connect",o),r.once("secureConnect",a),t.req.once("error",function(){try{r.removeListener("lookup",s),r.removeListener("connect",o)}catch(e){if("ERR_HTTP2_SOCKET_UNBOUND"!==e.code)throw e}})}var l=function(){t.req.setTimeout(e,function(){if(t.req){t.abort();var e=Error("ESOCKETTIMEDOUT");e.code="ESOCKETTIMEDOUT",e.connect=!1,t.emit("error",e)}})};if(void 0!==e)if(i){var c=function(){r.removeListener("connect",c),t.clearTimeout(),l()};r.on("connect",c),t.req.on("error",function(e){try{r.removeListener("connect",c)}catch(e){if("ERR_HTTP2_SOCKET_UNBOUND"!==e.code)throw e}}),t.timeoutTimer=setTimeout(function(){r.removeListener("connect",c),t.abort();var e=Error("ETIMEDOUT");e.code="ETIMEDOUT",e.connect=!0,t.emit("error",e)},e)}else l();t.emit("socket",r)}),t.emit("request",t.req)}},er.prototype.onRequestError=function(e){var t=this;if(!t._aborted){if(t.req&&t.req._reusedSocket&&"ECONNRESET"===e.code&&t.agent.addRequestNoreuse){t.agent={addRequest:t.agent.addRequestNoreuse.bind(t.agent)},t.start(),t.req.end();return}t.clearTimeout(),t.emit("error",e)}},er.prototype.onRequestResponse=function(e){var t=this;let r=t.startTimeNow;if(t.timing&&(t.timings.response=W()-r),en("onRequestResponse",t.uri.href,e.statusCode,e.headers),e.on("end",function(){t.timing&&(t.timings.end=W()-r,e.timingStart=t.startTime,e.timingStartTimer=r,t.timings.socket||(t.timings.socket=0),t.timings.lookup||(t.timings.lookup=t.timings.socket),t.timings.connect||(t.timings.connect=t.timings.lookup),t.timings.secureConnect||"https:"!==t.uri.protocol||(t.timings.secureConnect=t.timings.connect),t.timings.response||(t.timings.response=t.timings.connect),en("elapsed time",t.timings.end),t.elapsedTime+=Math.round(t.timings.end),e.elapsedTime=t.elapsedTime,e.timings=t.timings,e.timingPhases={wait:t.timings.socket,dns:t.timings.lookup-t.timings.socket,tcp:t.timings.connect-t.timings.lookup,firstByte:t.timings.response-t.timings.connect,download:t.timings.end-t.timings.response,total:t.timings.end},t.timings.secureConnect&&(e.timingPhases.secureHandshake=t.timings.secureConnect-t.timings.connect,e.timingPhases.firstByte=t.timings.response-t.timings.secureConnect)),en("response end",t.uri.href,e.statusCode,e.headers)}),t._aborted){en("aborted",t.uri.href),e.resume();return}if(t._reqResInfo.response={statusCode:e.statusCode,headers:et(e.rawHeaders),httpVersion:e.httpVersion},t._reqResInfo.request.httpVersion=e.httpVersion,t.timing&&(t._reqResInfo.timingStart=t.startTime,t._reqResInfo.timingStartTimer=t.startTimeNow,t._reqResInfo.timings=t.timings),t.response=e,e.request=t,e.toJSON=Y,"https:"===t.uri.protocol&&t.strictSSL&&(!e.hasOwnProperty("socket")||!e.socket.authorized)){en("strict ssl error",t.uri.href);var n=e.hasOwnProperty("socket")?e.socket.authorizationError:t.uri.href+" does not support SSL";t.emit("error",Error("SSL Error: "+n));return}function i(){if(!t._redirect.onResponse(e)){e.once("close",function(){t._ended||t.response.emit("end")}),e.once("end",function(){t._ended=!0});var r,n,i=function(e){return"HEAD"===t.method||e>=100&&e<200||204===e||304===e},s=new J;if((t.gzip||t.brotli)&&!i(e.statusCode)){var o=e.headers["content-encoding"]||"identity";o=o.trim().toLowerCase();var a={flush:d.Z_SYNC_FLUSH,finishFlush:d.Z_SYNC_FLUSH};t.gzip&&"gzip"===o?(r=d.createGunzip(a),e.pipe(s).pipe(r)):t.gzip&&"deflate"===o?(r=D.createInflate(a),e.pipe(s).pipe(r)):t.brotli&&"br"===o?(r=d.createBrotliDecompress(),e.pipe(s).pipe(r)):("identity"!==o&&en("ignoring unrecognized Content-Encoding "+o),r=e.pipe(s))}else r=e.pipe(s);t.encoding&&(0!==t.dests.length?console.error("Ignoring encoding parameter as this stream is being piped to another stream which makes the encoding option invalid."):r.setEncoding(t.encoding));var l=String(e.statusMessage);t.statusMessageEncoding&&/[^\w\s-']/.test(l)&&(e.statusMessage=M.from(l,"latin1").toString(t.statusMessageEncoding)),t._paused&&r.pause(),t.responseContent=r,t.emit("response",e),t.dests.forEach(function(e){t.pipeDest(e)});var c=!1;"number"==typeof t.maxResponseSize&&(c=!0,n=t.maxResponseSize),r.on("data",function(r){if(t.timing&&!t.responseStarted&&(t.responseStartTime=new Date().getTime(),e.responseStartTime=t.responseStartTime),c&&(n-=r.length)<0){t.emit("error",Error("Maximum response size reached")),t.destroy(),t.abort();return}t._destdata=!0,t.emit("data",r)}),r.once("end",function(e){t._reqResInfo.response.downloadedBytes=s.size,t.emit("end",e)}),r.on("error",function(e){t.emit("error",e)}),r.on("close",function(){t.emit("close")}),t.callback?t.readResponseBody(e):t.on("end",function(){if(t._aborted)return void en("aborted",t.uri.href);t.emit("complete",e)})}}function s(e,t,r){if(r||(r=function(){}),!(Array.isArray(e)&&t))return r();var n=0,i=e.length;function s(o){if(o||n>=i)return r(o);try{t.call(e,e[n++],s)}catch(e){return r(e)}}if(!i)return r();s()}t.originalHost=t.getHeader("host"),t.originalHostHeaderName||(t.originalHostHeaderName=t.hasHeader("host")),t.setHost&&t.removeHeader("host"),t.clearTimeout();var o=t._jar&&t._jar.setCookie?t._jar:V,a=function(e,r){o.setCookie(e,t.uri,{ignoreError:!0},function(){r()})};if(e.caseless=y(e.headers),e.caseless.has("set-cookie")&&!t._disableCookies){var l=e.caseless.has("set-cookie");Array.isArray(e.headers[l])?s(e.headers[l],a,function(e){if(e)return t.emit("error",e);i()}):a(e.headers[l],i)}else i();en("finish init function",t.uri.href)},er.prototype.readResponseBody=function(e){var t=this;en("reading response's body");var r=[],n=0,i=[];t.on("data",function(e){M.isBuffer(e)?e.length&&(n+=e.length,r.push(e)):i.push(e)}),t.on("end",function(){if(en("end event",t.uri.href),t._aborted){en("aborted",t.uri.href),r=[],n=0;return}if(n?(en("has body",t.uri.href,n),e.body=M.concat(r,n),null!==t.encoding&&(e.body=e.body.toString(t.encoding)),r=[],n=0):i.length&&("utf8"===t.encoding&&i[0].length>0&&"\uFEFF"===i[0][0]&&(i[0]=i[0].substring(1)),e.body=i.join("")),t._json)try{e.body=JSON.parse(e.body,t._jsonReviver)}catch(e){en("invalid JSON received",t.uri.href)}en("emitting complete",t.uri.href),void 0!==e.body||t._json||(e.body=null===t.encoding?M.alloc(0):""),t.emit("complete",e,e.body)})},er.prototype.abort=function(){var e=this;e._aborted=!0,e.req?e.req.abort():e.response&&e.response.destroy(),e.clearTimeout(),e.emit("abort")},er.prototype.pipeDest=function(e){var t=this,r=t.response;if(e.headers&&!e.headersSent){if(r.caseless.has("content-type")){var n=r.caseless.has("content-type");e.setHeader?e.setHeader(n,r.headers[n]):e.headers[n]=r.headers[n]}if(r.caseless.has("content-length")){var i=r.caseless.has("content-length");e.setHeader?e.setHeader(i,r.headers[i]):e.headers[i]=r.headers[i]}}if(e.setHeader&&!e.headersSent){for(var s in r.headers)!s.startsWith(":")&&(t.gzip&&"content-encoding"===s||e.setHeader(s,r.headers[s]));e.statusCode=r.statusCode}t.pipefilter&&t.pipefilter(r,e)},er.prototype.qs=function(e,t){var r,n=this;for(var i in r=!t&&n.uri.query?n._qs.parse(n.uri.query):{},e)r[i]=e[i];var s=n._qs.stringify(r);return""===s||(n.uri=n.urlParser.parse(n.uri.href.split("?")[0]+"?"+s),n.url=n.uri,n.path=n.uri.path,"unix"===n.uri.host&&n.enableUnixSocket()),n},er.prototype.form=function(e){var t=this,r=t.getHeader("content-type"),n=!r||!t.allowContentTypeOverride;if(e)return n&&!/^application\/x-www-form-urlencoded\b/.test(r)&&t.setHeader("Content-Type","application/x-www-form-urlencoded"),t.body="string"==typeof e?t._qs.rfc3986(e.toString("utf8")):t._qs.stringify(e).toString("utf8"),t;var i=r&&r.match&&r.match(/^multipart\/form-data;.*boundary=(?:"([^"]+)"|([^;]+))/);return t._form=new v({_boundary:i&&(i[1]||i[2])}),t._form.on("error",function(e){e.message="form-data: "+e.message,t.emit("error",e),t.abort()}),n&&!i&&t.setHeader("Content-Type","multipart/form-data; boundary="+t._form.getBoundary()),t._form},er.prototype.multipart=function(e){var t=this;return t._multipart.onRequest(e),t._multipart.chunked||(t.body=t._multipart.body),t},er.prototype.json=function(e){var t=this;return t.hasHeader("accept")||t.setHeader("Accept","application/json"),"function"==typeof t.jsonReplacer&&(t._jsonReplacer=t.jsonReplacer),t._json=!0,"boolean"==typeof e?void 0!==t.body&&(/^application\/x-www-form-urlencoded\b/.test(t.getHeader("content-type"))?t.body=t._qs.rfc3986(t.body):t.body=B(t.body,t._jsonReplacer),t.hasHeader("content-type")||t.setHeader("Content-Type","application/json")):(t.body=B(e,t._jsonReplacer),t.hasHeader("content-type")||t.setHeader("Content-Type","application/json")),"function"==typeof t.jsonReviver&&(t._jsonReviver=t.jsonReviver),t},er.prototype.getHeader=function(e,t){var r,n,i=this;return t||(t=i.headers),Object.keys(t).forEach(function(i){i.length===e.length&&(n=RegExp(e,"i"),i.match(n)&&(r=t[i]))}),r},er.prototype.enableUnixSocket=function(){var e=this.uri.path.split(":"),t=e[0],r=e[1];this.socketPath=t,this.uri.pathname=r,this.uri.path=r,this.uri.host=t,this.uri.hostname=t,this.uri.isUnix=!0},er.prototype.auth=function(e,t,r,n){var i=this;return i._auth.onRequest(e,t,r,n),i},er.prototype.aws=function(e,t){var r=this;if(!t)return r._aws=e,r;if(4===e.sign_version||"4"===e.sign_version){var n={host:r.uri.host,path:r.uri.path,method:r.method,headers:r.headers,body:r.body};e.service&&(n.service=e.service);var i=p.sign(n,{accessKeyId:e.key,secretAccessKey:e.secret,sessionToken:e.session});r.setHeader("Authorization",i.headers.Authorization),r.setHeader("X-Amz-Date",i.headers["X-Amz-Date"]),i.headers["X-Amz-Security-Token"]&&r.setHeader("X-Amz-Security-Token",i.headers["X-Amz-Security-Token"])}else{var s=new Date;r.setHeader("Date",s.toUTCString());var o={key:e.key,secret:e.secret,verb:r.method.toUpperCase(),date:s,contentType:r.getHeader("content-type")||"",md5:r.getHeader("content-md5")||"",amazonHeaders:h.canonicalizeHeaders(r.headers)},a=r.uri.path;e.bucket&&a?o.resource="/"+e.bucket+a:e.bucket&&!a?o.resource="/"+e.bucket:!e.bucket&&a?o.resource=a:e.bucket||a||(o.resource="/"),o.resource=h.canonicalizeResource(o.resource),r.setHeader("Authorization",h.authorization(o))}return r},er.prototype.httpSignature=function(e){var t=this;return m.signRequest({getHeader:function(e){return t.getHeader(e,t.headers)},setHeader:function(e,r){t.setHeader(e,r)},method:t.method,path:t.path},e),en("httpSignature authorization",t.getHeader("authorization")),t},er.prototype.hawk=function(e){var t=this;t.setHeader("Authorization",A.header(t.uri,t.method,e))},er.prototype.oauth=function(e){var t=this;return t._oauth.onRequest(e),t},er.prototype.jar=function(e,t){var r=this;if(r._jar=e,!e)return r._disableCookies=!0,t();0===r._redirect.redirectsFollowed&&(r.originalCookieHeader=r.getHeader("cookie")),(e.getCookieString?e:V).getCookieString(r.uri,function(e,n){if(e)return t();n&&n.length&&(r.originalCookieHeader?(Array.isArray(r.originalCookieHeader)&&(r.originalCookieHeader=r.originalCookieHeader.join("; ")),r.setHeader("Cookie",r.originalCookieHeader+"; "+n)):r.setHeader("Cookie",n)),t()})},er.prototype.pipe=function(e,t){var r=this;if(!r.response)return r.dests.push(e),u.Stream.prototype.pipe.call(r,e,t),e;if(r._destdata)r.emit("error",Error("You cannot pipe after data has been emitted from the response."));else{if(!r._ended)return u.Stream.prototype.pipe.call(r,e,t),r.pipeDest(e),e;r.emit("error",Error("You cannot pipe after the response has been ended."))}},er.prototype.write=function(){var e=this;if(!e._aborted&&(e._started||e.start(),e.req))return e.req.write.apply(e.req,arguments)},er.prototype.end=function(e){var t=this;if(!t._aborted&&(e&&t.write(e),t._started||t.start(),t.req)){t.req.end();let e=t._reqResInfo.request;Promise.resolve(t.req._header).then(function(t){if(!t){e.headers=[];return}e.headers=ee(t)})}},er.prototype.pause=function(){var e=this;e.responseContent?e.responseContent.pause.apply(e.responseContent,arguments):e._paused=!0},er.prototype.resume=function(){var e=this;e.responseContent?e.responseContent.resume.apply(e.responseContent,arguments):e._paused=!1},er.prototype.destroy=function(){var e=this;this.clearTimeout(),e._ended?e.response&&e.response.destroy():e.end()},er.prototype.clearTimeout=function(){this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null)},er.defaultProxyHeaderWhiteList=N.defaultProxyHeaderWhiteList.slice(),er.defaultProxyHeaderExclusiveList=N.defaultProxyHeaderExclusiveList.slice(),er.prototype.toJSON=X,e.exports=er},"./node_modules/postman-ws/index.js":function(e,t,r){"use strict";let n=r("./node_modules/postman-ws/lib/websocket.js");n.createWebSocketStream=r("./node_modules/postman-ws/lib/stream.js"),n.Server=r("./node_modules/postman-ws/lib/websocket-server.js"),n.Receiver=r("./node_modules/postman-ws/lib/receiver.js"),n.Sender=r("./node_modules/postman-ws/lib/sender.js"),e.exports=n},"./node_modules/postman-ws/lib/buffer-util.js":function(e,t,r){"use strict";let{EMPTY_BUFFER:n}=r("./node_modules/postman-ws/lib/constants.js");function i(e,t){if(0===e.length)return n;if(1===e.length)return e[0];let r=Buffer.allocUnsafe(t),i=0;for(let t=0;t<e.length;t++){let n=e[t];r.set(n,i),i+=n.length}return i<t?r.slice(0,i):r}function s(e,t,r,n,i){for(let s=0;s<i;s++)r[n+s]=e[s]^t[3&s]}function o(e,t){let r=e.length;for(let n=0;n<r;n++)e[n]^=t[3&n]}function a(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function l(e){let t;return(l.readOnly=!0,Buffer.isBuffer(e))?e:(e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),l.readOnly=!1),t)}try{let t=r("../../node_modules/bufferutil/index.js"),n=t.BufferUtil||t;e.exports={concat:i,mask(e,t,r,i,o){o<48?s(e,t,r,i,o):n.mask(e,t,r,i,o)},toArrayBuffer:a,toBuffer:l,unmask(e,t){e.length<32?o(e,t):n.unmask(e,t)}}}catch(t){e.exports={concat:i,mask:s,toArrayBuffer:a,toBuffer:l,unmask:o}}},"./node_modules/postman-ws/lib/constants.js":function(e){"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},"./node_modules/postman-ws/lib/event-target.js":function(e){"use strict";class t{constructor(e,t){this.target=t,this.type=e}}class r extends t{constructor(e,t){super("message",t),this.data=e}}class n extends t{constructor(e,t,r){super("close",r),this.wasClean=r._closeFrameReceived&&r._closeFrameSent,this.reason=t,this.code=e}}class i extends t{constructor(e){super("open",e)}}class s extends t{constructor(e,t){super("error",t),this.message=e.message,this.error=e}}e.exports={addEventListener(e,t,o){if("function"!=typeof t)return;function a(e){t.call(this,new r(e,this))}function l(e,r){t.call(this,new n(e,r,this))}function c(e){t.call(this,new s(e,this))}function u(){t.call(this,new i(this))}let d=o&&o.once?"once":"on";"message"===e?(a._listener=t,this[d](e,a)):"close"===e?(l._listener=t,this[d](e,l)):"error"===e?(c._listener=t,this[d](e,c)):"open"===e?(u._listener=t,this[d](e,u)):this[d](e,t)},removeEventListener(e,t){let r=this.listeners(e);for(let n=0;n<r.length;n++)(r[n]===t||r[n]._listener===t)&&this.removeListener(e,r[n])}}},"./node_modules/postman-ws/lib/extension.js":function(e){"use strict";let t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function r(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}e.exports={format:function(e){return Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>[t].concat(Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){let n,i,s=Object.create(null);if(void 0===e||""===e)return s;let o=Object.create(null),a=!1,l=!1,c=!1,u=-1,d=-1,h=0;for(;h<e.length;h++){let p=e.charCodeAt(h);if(void 0===n)if(-1===d&&1===t[p])-1===u&&(u=h);else if(32===p||9===p)-1===d&&-1!==u&&(d=h);else if(59===p||44===p){if(-1===u)throw SyntaxError(`Unexpected character at index ${h}`);-1===d&&(d=h);let t=e.slice(u,d);44===p?(r(s,t,o),o=Object.create(null)):n=t,u=d=-1}else throw SyntaxError(`Unexpected character at index ${h}`);else if(void 0===i)if(-1===d&&1===t[p])-1===u&&(u=h);else if(32===p||9===p)-1===d&&-1!==u&&(d=h);else if(59===p||44===p){if(-1===u)throw SyntaxError(`Unexpected character at index ${h}`);-1===d&&(d=h),r(o,e.slice(u,d),!0),44===p&&(r(s,n,o),o=Object.create(null),n=void 0),u=d=-1}else if(61===p&&-1!==u&&-1===d)i=e.slice(u,h),u=d=-1;else throw SyntaxError(`Unexpected character at index ${h}`);else if(l){if(1!==t[p])throw SyntaxError(`Unexpected character at index ${h}`);-1===u?u=h:a||(a=!0),l=!1}else if(c)if(1===t[p])-1===u&&(u=h);else if(34===p&&-1!==u)c=!1,d=h;else if(92===p)l=!0;else throw SyntaxError(`Unexpected character at index ${h}`);else if(34===p&&61===e.charCodeAt(h-1))c=!0;else if(-1===d&&1===t[p])-1===u&&(u=h);else if(-1!==u&&(32===p||9===p))-1===d&&(d=h);else if(59===p||44===p){if(-1===u)throw SyntaxError(`Unexpected character at index ${h}`);-1===d&&(d=h);let t=e.slice(u,d);a&&(t=t.replace(/\\/g,""),a=!1),r(o,i,t),44===p&&(r(s,n,o),o=Object.create(null),n=void 0),i=void 0,u=d=-1}else throw SyntaxError(`Unexpected character at index ${h}`)}if(-1===u||c)throw SyntaxError("Unexpected end of input");-1===d&&(d=h);let p=e.slice(u,d);return void 0===n?r(s,p,o):(void 0===i?r(o,p,!0):a?r(o,i,p.replace(/\\/g,"")):r(o,i,p),r(s,n,o)),s}}},"./node_modules/postman-ws/lib/limiter.js":function(e){"use strict";let t=Symbol("kDone"),r=Symbol("kRun");class n{constructor(e){this[t]=()=>{this.pending--,this[r]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[r]()}[r](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[t])}}}e.exports=n},"./node_modules/postman-ws/lib/permessage-deflate.js":function(e,t,r){"use strict";let n,i=r("zlib"),s=r("./node_modules/postman-ws/lib/buffer-util.js"),o=r("./node_modules/postman-ws/lib/limiter.js"),{kStatusCode:a,NOOP:l}=r("./node_modules/postman-ws/lib/constants.js"),c=Buffer.from([0,0,255,255]),u=Symbol("permessage-deflate"),d=Symbol("total-length"),h=Symbol("callback"),p=Symbol("buffers"),f=Symbol("error");class m{constructor(e,t,r){this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,n||(n=new o(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[h];this._deflate.close(),this._deflate=null,e&&e(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,r=e.find(e=>(!1!==t.serverNoContextTakeover||!e.server_no_context_takeover)&&(!e.server_max_window_bits||!1!==t.serverMaxWindowBits&&("number"!=typeof t.serverMaxWindowBits||!(t.serverMaxWindowBits>e.server_max_window_bits)))&&("number"!=typeof t.clientMaxWindowBits||!!e.client_max_window_bits));if(!r)throw Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(r.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?r.client_max_window_bits=t.clientMaxWindowBits:(!0===r.client_max_window_bits||!1===t.clientMaxWindowBits)&&delete r.client_max_window_bits,r}acceptAsClient(e){let t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let r=e[t];if(r.length>1)throw Error(`Parameter "${t}" must have only a single value`);if(r=r[0],"client_max_window_bits"===t){if(!0!==r){let e=+r;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${t}": ${r}`)}else if("server_max_window_bits"===t){let e=+r;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if("client_no_context_takeover"===t||"server_no_context_takeover"===t){if(!0!==r)throw TypeError(`Invalid value for parameter "${t}": ${r}`)}else throw Error(`Unknown parameter "${t}"`);e[t]=r})}),e}decompress(e,t,r){n.add(n=>{this._decompress(e,t,(e,t)=>{n(),r(e,t)})})}compress(e,t,r){n.add(n=>{this._compress(e,t,(e,t)=>{n(),r(e,t)})})}_decompress(e,t,r){let n=this._isServer?"client":"server";if(!this._inflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=i.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[u]=this,this._inflate[d]=0,this._inflate[p]=[],this._inflate.on("error",_),this._inflate.on("data",y)}this._inflate[h]=r,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush(()=>{let e=this._inflate[f];if(e){this._inflate.close(),this._inflate=null,r(e);return}let i=s.concat(this._inflate[p],this._inflate[d]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[d]=0,this._inflate[p]=[],t&&this.params[`${n}_no_context_takeover`]&&this._inflate.reset()),r(null,i)})}_compress(e,t,r){let n=this._isServer?"server":"client";if(!this._deflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=i.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[d]=0,this._deflate[p]=[],this._deflate.on("error",l),this._deflate.on("data",g)}this._deflate[h]=r,this._deflate.write(e),this._deflate.flush(i.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=s.concat(this._deflate[p],this._deflate[d]);t&&(e=e.slice(0,e.length-4)),this._deflate[h]=null,this._deflate[d]=0,this._deflate[p]=[],t&&this.params[`${n}_no_context_takeover`]&&this._deflate.reset(),r(null,e)})}}function g(e){this[p].push(e),this[d]+=e.length}function y(e){if(this[d]+=e.length,this[u]._maxPayload<1||this[d]<=this[u]._maxPayload)return void this[p].push(e);this[f]=RangeError("Max payload size exceeded"),this[f][a]=1009,this.removeListener("data",y),this.reset()}function _(e){this[u]._inflate=null,e[a]=1007,this[h](e)}e.exports=m},"./node_modules/postman-ws/lib/receiver.js":function(e,t,r){"use strict";let{Writable:n}=r("stream"),i=r("./node_modules/postman-ws/lib/permessage-deflate.js"),{BINARY_TYPES:s,EMPTY_BUFFER:o,kStatusCode:a,kWebSocket:l}=r("./node_modules/postman-ws/lib/constants.js"),{concat:c,toArrayBuffer:u,unmask:d}=r("./node_modules/postman-ws/lib/buffer-util.js"),{isValidStatusCode:h,isValidUTF8:p}=r("./node_modules/postman-ws/lib/validation.js"),f=0,m=1,g=2,y=3,_=4,v=5;class b extends n{constructor(e,t,r,n){super(),this._binaryType=e||s[0],this[l]=void 0,this._extensions=t||{},this._isServer=!!r,this._maxPayload=0|n,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=f,this._loop=!1}_write(e,t,r){if(8===this._opcode&&this._state==f)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}let t=Buffer.allocUnsafe(e);do{let r=this._buffers[0],n=t.length-e;e>=r.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),n),this._buffers[0]=r.slice(e)),e-=r.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do switch(this._state){case f:t=this.getInfo();break;case m:t=this.getPayloadLength16();break;case g:t=this.getPayloadLength64();break;case y:this.getMask();break;case _:t=this.getData(e);break;default:this._loop=!1;return}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let e=this.consume(2);if((48&e[0])!=0)return this._loop=!1,w(RangeError,"RSV2 and RSV3 must be clear",!0,1002);let t=(64&e[0])==64;if(t&&!this._extensions[i.extensionName])return this._loop=!1,w(RangeError,"RSV1 must be clear",!0,1002);if(this._fin=(128&e[0])==128,this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,w(RangeError,"RSV1 must be clear",!0,1002);if(!this._fragmented)return this._loop=!1,w(RangeError,"invalid opcode 0",!0,1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,w(RangeError,`invalid opcode ${this._opcode}`,!0,1002);this._compressed=t}else{if(!(this._opcode>7)||!(this._opcode<11))return this._loop=!1,w(RangeError,`invalid opcode ${this._opcode}`,!0,1002);if(!this._fin)return this._loop=!1,w(RangeError,"FIN must be set",!0,1002);if(t)return this._loop=!1,w(RangeError,"RSV1 must be clear",!0,1002);if(this._payloadLength>125)return this._loop=!1,w(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002)}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&e[1])==128,this._isServer){if(!this._masked)return this._loop=!1,w(RangeError,"MASK must be set",!0,1002)}else if(this._masked)return this._loop=!1,w(RangeError,"MASK must be clear",!0,1002);if(126===this._payloadLength)this._state=m;else{if(127!==this._payloadLength)return this.haveLength();this._state=g}}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let e=this.consume(8),t=e.readUInt32BE(0);return t>2097151?(this._loop=!1,w(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009)):(this._payloadLength=0x100000000*t+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,w(RangeError,"Max payload size exceeded",!1,1009);this._masked?this._state=y:this._state=_}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=_}getData(e){let t=o;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&d(t,this._mask)}if(this._opcode>7)return this.controlMessage(t);if(this._compressed){this._state=v,this.decompress(t,e);return}return t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage()}decompress(e,t){this._extensions[i.extensionName].decompress(e,this._fin,(e,r)=>{if(e)return t(e);if(r.length){if(this._messageLength+=r.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(w(RangeError,"Max payload size exceeded",!1,1009));this._fragments.push(r)}let n=this.dataMessage();if(n)return t(n);this.startLoop(t)})}dataMessage(){if(this._fin){let e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let r;r="nodebuffer"===this._binaryType?c(t,e):"arraybuffer"===this._binaryType?u(c(t,e)):t,this.emit("message",r)}else{let r=c(t,e);if(!p(r))return this._loop=!1,w(Error,"invalid UTF-8 sequence",!0,1007);this.emit("message",r.toString())}}this._state=f}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit("conclude",1005,""),this.end();else{if(1===e.length)return w(RangeError,"invalid payload length 1",!0,1002);let t=e.readUInt16BE(0);if(!h(t))return w(RangeError,`invalid status code ${t}`,!0,1002);let r=e.slice(2);if(!p(r))return w(Error,"invalid UTF-8 sequence",!0,1007);this.emit("conclude",t,r.toString()),this.end()}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=f}}function w(e,t,r,n){let i=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(i,w),i[a]=n,i}e.exports=b},"./node_modules/postman-ws/lib/sender.js":function(e,t,r){"use strict";let{randomFillSync:n}=r("crypto"),i=r("./node_modules/postman-ws/lib/permessage-deflate.js"),{EMPTY_BUFFER:s}=r("./node_modules/postman-ws/lib/constants.js"),{isValidStatusCode:o}=r("./node_modules/postman-ws/lib/validation.js"),{mask:a,toBuffer:l}=r("./node_modules/postman-ws/lib/buffer-util.js"),c=Buffer.alloc(4);class u{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let r=t.mask&&t.readOnly,i=t.mask?6:2,s=e.length;e.length>=65536?(i+=8,s=127):e.length>125&&(i+=2,s=126);let o=Buffer.allocUnsafe(r?e.length+i:i);return(o[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(o[0]|=64),o[1]=s,126===s?o.writeUInt16BE(e.length,2):127===s&&(o.writeUInt32BE(0,2),o.writeUInt32BE(e.length,6)),t.mask)?(n(c,0,4),o[1]|=128,o[i-4]=c[0],o[i-3]=c[1],o[i-2]=c[2],o[i-1]=c[3],r)?(a(e,c,o,i,e.length),[o]):(a(e,c,e,0,e.length),[o,e]):[o,e]}close(e,t,r,n){let i;if(void 0===e)i=s;else if("number"==typeof e&&o(e))if(void 0===t||""===t)(i=Buffer.allocUnsafe(2)).writeUInt16BE(e,0);else{let r=Buffer.byteLength(t);if(r>123)throw RangeError("The message must not be greater than 123 bytes");(i=Buffer.allocUnsafe(2+r)).writeUInt16BE(e,0),i.write(t,2)}else throw TypeError("First argument must be a valid error code number");this._deflating?this.enqueue([this.doClose,i,r,n]):this.doClose(i,r,n)}doClose(e,t,r){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),r)}ping(e,t,r){let n=l(e);if(n.length>125)throw RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,n,t,l.readOnly,r]):this.doPing(n,t,l.readOnly,r)}doPing(e,t,r,n){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:r}),n)}pong(e,t,r){let n=l(e);if(n.length>125)throw RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,n,t,l.readOnly,r]):this.doPong(n,t,l.readOnly,r)}doPong(e,t,r,n){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:r}),n)}send(e,t,r){let n=l(e),s=this._extensions[i.extensionName],o=t.binary?2:1,a=t.compress;if(this._firstFragment?(this._firstFragment=!1,a&&s&&(a=n.length>=s._threshold),this._compress=a):(a=!1,o=0),t.fin&&(this._firstFragment=!0),s){let e={fin:t.fin,rsv1:a,opcode:o,mask:t.mask,readOnly:l.readOnly};this._deflating?this.enqueue([this.dispatch,n,this._compress,e,r]):this.dispatch(n,this._compress,e,r)}else this.sendFrame(u.frame(n,{fin:t.fin,rsv1:!1,opcode:o,mask:t.mask,readOnly:l.readOnly}),r)}dispatch(e,t,r,n){if(!t)return void this.sendFrame(u.frame(e,r),n);let s=this._extensions[i.extensionName];this._bufferedBytes+=e.length,this._deflating=!0,s.compress(e,r.fin,(t,i)=>{if(this._socket.destroyed){let e=Error("The socket was closed while data was being compressed");"function"==typeof n&&n(e);for(let t=0;t<this._queue.length;t++){let r=this._queue[t][4];"function"==typeof r&&r(e)}return}this._bufferedBytes-=e.length,this._deflating=!1,r.readOnly=!1,this.sendFrame(u.frame(i,r),n),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[1].length,Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=u},"./node_modules/postman-ws/lib/stream.js":function(e,t,r){"use strict";let{Duplex:n}=r("stream");function i(e){e.emit("close")}function s(){!this.destroyed&&this._writableState.finished&&this.destroy()}function o(e){this.removeListener("error",o),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let r=!0;function a(){r&&e._socket.resume()}e.readyState===e.CONNECTING?e.once("open",function(){e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a)}):(e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a));let l=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(t){l.push(t)||(r=!1,e._socket.pause())}),e.once("error",function(e){l.destroyed||l.destroy(e)}),e.once("close",function(){l.destroyed||l.push(null)}),l._destroy=function(t,r){if(e.readyState===e.CLOSED){r(t),process.nextTick(i,l);return}let n=!1;e.once("error",function(e){n=!0,r(e)}),e.once("close",function(){n||r(t),process.nextTick(i,l)}),e.terminate()},l._final=function(t){if(e.readyState===e.CONNECTING)return void e.once("open",function(){l._final(t)});null!==e._socket&&(e._socket._writableState.finished?(t(),l._readableState.endEmitted&&l.destroy()):(e._socket.once("finish",function(){t()}),e.close()))},l._read=function(){e.readyState===e.OPEN&&!r&&(r=!0,e._receiver._writableState.needDrain||e._socket.resume())},l._write=function(t,r,n){if(e.readyState===e.CONNECTING)return void e.once("open",function(){l._write(t,r,n)});e.send(t,n)},l.on("end",s),l.on("error",o),l}},"./node_modules/postman-ws/lib/validation.js":function(e,t,r){"use strict";function n(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999}function i(e){let t=e.length,r=0;for(;r<t;)if((128&e[r])==0)r++;else if((224&e[r])==192){if(r+1===t||(192&e[r+1])!=128||(254&e[r])==192)return!1;r+=2}else if((240&e[r])==224){if(r+2>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||224===e[r]&&(224&e[r+1])==128||237===e[r]&&(224&e[r+1])==160)return!1;r+=3}else{if((248&e[r])!=240||r+3>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||(192&e[r+3])!=128||240===e[r]&&(240&e[r+1])==128||244===e[r]&&e[r+1]>143||e[r]>244)return!1;r+=4}return!0}try{let t=r("../../node_modules/utf-8-validate/index.js");"object"==typeof t&&(t=t.Validation.isValidUTF8),e.exports={isValidStatusCode:n,isValidUTF8:e=>e.length<150?i(e):t(e)}}catch(t){e.exports={isValidStatusCode:n,isValidUTF8:i}}},"./node_modules/postman-ws/lib/websocket-server.js":function(e,t,r){"use strict";let n=r("events"),{createHash:i}=r("crypto"),{createServer:s,STATUS_CODES:o}=r("http"),a=r("./node_modules/postman-ws/lib/permessage-deflate.js"),l=r("./node_modules/postman-ws/lib/websocket.js"),{format:c,parse:u}=r("./node_modules/postman-ws/lib/extension.js"),{GUID:d,kWebSocket:h}=r("./node_modules/postman-ws/lib/constants.js"),p=/^[+/0-9A-Za-z]{22}==$/;class f extends n{constructor(e,t){if(super(),null==(e={maxPayload:0x6400000,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e}).port&&!e.server&&!e.noServer)throw TypeError('One of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=s((e,t)=>{let r=o[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let e=this.emit.bind(this,"connection");this._removeListeners=m(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,r,n)=>{this.handleUpgrade(t,r,n,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(e&&this.once("close",e),this.clients)for(let e of this.clients)e.terminate();let t=this._server;if(t&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port))return void t.close(()=>this.emit("close"));process.nextTick(g,this)}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,n){t.on("error",y);let i=void 0!==e.headers["sec-websocket-key"]&&e.headers["sec-websocket-key"].trim(),s=+e.headers["sec-websocket-version"],o={};if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!i||!p.test(i)||8!==s&&13!==s||!this.shouldHandle(e))return _(t,400);if(this.options.perMessageDeflate){let r=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let t=u(e.headers["sec-websocket-extensions"]);t[a.extensionName]&&(r.accept(t[a.extensionName]),o[a.extensionName]=r)}catch(e){return _(t,400)}}if(this.options.verifyClient){let a={origin:e.headers[`${8===s?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(a,(s,a,l,c)=>{if(!s)return _(t,a||401,l,c);this.completeUpgrade(i,o,e,t,r,n)});if(!this.options.verifyClient(a))return _(t,401)}this.completeUpgrade(i,o,e,t,r,n)}completeUpgrade(e,t,r,n,s,o){if(!n.readable||!n.writable)return n.destroy();if(n[h])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");let u=i("sha1").update(e+d).digest("base64"),p=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${u}`],f=new l(null),m=r.headers["sec-websocket-protocol"];if(m&&(m=m.trim().split(/ *, */),(m=this.options.handleProtocols?this.options.handleProtocols(m,r):m[0])&&(p.push(`Sec-WebSocket-Protocol: ${m}`),f._protocol=m)),t[a.extensionName]){let e=t[a.extensionName].params,r=c({[a.extensionName]:[e]});p.push(`Sec-WebSocket-Extensions: ${r}`),f._extensions=t}this.emit("headers",p,r),n.write(p.concat("\r\n").join("\r\n")),n.removeListener("error",y),f.setSocket(n,s,this.options.maxPayload),this.clients&&(this.clients.add(f),f.on("close",()=>this.clients.delete(f))),o(f,r)}}function m(e,t){for(let r of Object.keys(t))e.on(r,t[r]);return function(){for(let r of Object.keys(t))e.removeListener(r,t[r])}}function g(e){e.emit("close")}function y(){this.destroy()}function _(e,t,r,n){e.writable&&(r=r||o[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},e.write(`HTTP/1.1 ${t} ${o[t]}\r
`+Object.keys(n).map(e=>`${e}: ${n[e]}`).join("\r\n")+"\r\n\r\n"+r)),e.removeListener("error",y),e.destroy()}e.exports=f},"./node_modules/postman-ws/lib/websocket.js":function(e,t,r){"use strict";let n=r("events"),i=r("https"),s=r("http"),o=r("net"),a=r("tls"),{randomBytes:l,createHash:c}=r("crypto"),{URL:u}=r("url"),d=r("./node_modules/postman-ws/lib/permessage-deflate.js"),h=r("./node_modules/postman-ws/lib/receiver.js"),p=r("./node_modules/postman-ws/lib/sender.js"),{BINARY_TYPES:f,EMPTY_BUFFER:m,GUID:g,kStatusCode:y,kWebSocket:_,NOOP:v}=r("./node_modules/postman-ws/lib/constants.js"),{addEventListener:b,removeEventListener:w}=r("./node_modules/postman-ws/lib/event-target.js"),{format:j,parse:S}=r("./node_modules/postman-ws/lib/extension.js"),{toBuffer:k}=r("./node_modules/postman-ws/lib/buffer-util.js"),E=["CONNECTING","OPEN","CLOSING","CLOSED"],C=[8,13],x=3e4;class T extends n{constructor(e,t,r){super(),this._binaryType=f[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._extensions={},this._protocol="",this._readyState=T.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(t)?t=t.join(", "):"object"==typeof t&&null!==t&&(r=t,t=void 0),this._debug=[],A(this,e,t,r)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){f.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){let n=new h(this.binaryType,this._extensions,this._isServer,r);this._sender=new p(e,this._extensions),this._receiver=n,this._socket=e,n[_]=this,e[_]=this,n.on("conclude",M),n.on("drain",D),n.on("error",L),n.on("message",U),n.on("ping",z),n.on("pong",F),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",H),e.on("data",q),e.on("end",W),e.on("error",J),this._readyState=T.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=T.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[d.extensionName]&&this._extensions[d.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=T.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==T.CLOSED){if(this.readyState===T.CONNECTING){let e="WebSocket was closed before the connection was established";return N(this,this._req,e)}if(this.readyState===T.CLOSING){this._closeFrameSent&&this._closeFrameReceived&&this._socket.end();return}this._readyState=T.CLOSING,this._sender.close(e,t,!this._isServer,e=>{!e&&(this._closeFrameSent=!0,this._closeFrameReceived&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),x)}}ping(e,t,r){if(this.readyState===T.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==T.OPEN)return void $(this,e,r);void 0===t&&(t=!this._isServer),this._sender.ping(e||m,t,r)}pong(e,t,r){if(this.readyState===T.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==T.OPEN)return void $(this,e,r);void 0===t&&(t=!this._isServer),this._sender.pong(e||m,t,r)}send(e,t,r){if(this.readyState===T.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(r=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==T.OPEN)return void $(this,e,r);let n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[d.extensionName]||(n.compress=!1),this._sender.send(e||m,n,r)}terminate(){if(this.readyState!==T.CLOSED){if(this.readyState===T.CONNECTING){let e="WebSocket was closed before the connection was established";return N(this,this._req,e)}this._socket&&(this._readyState=T.CLOSING,this._socket.destroy())}}}function O(e){let t=e.split("\r\n"),r=[];for(let e=1,n=t.length-2;e<n;e++){let n=t[e].indexOf(":");r.push({key:t[e].slice(0,n),value:t[e].slice(n+2)})}return r}function I(e){let t=[];for(let r=0,n=e.length;r<n;r+=2)t.push({key:e[r],value:e[r+1]});return t}function A(e,t,r,n){let o,a,h={protocolVersion:C[1],maxPayload:0x6400000,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!C.includes(h.protocolVersion))throw RangeError(`Unsupported protocol version: ${h.protocolVersion} (supported versions: ${C.join(", ")})`);t instanceof u?(o=t,e._url=t.href):(o=new u(t),e._url=t);let p="ws+unix:"===o.protocol;if(!o.host&&(!p||!o.pathname))throw Error(`Invalid URL: ${e.url}`);let f="wss:"===o.protocol||"https:"===o.protocol,m=f?443:80,y=l(16).toString("base64"),_=f?i.get:s.get,v={};if(h.createConnection=f?R:P,h.defaultPort=h.defaultPort||m,h.port=o.port||m,h.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,h.headers={"Sec-WebSocket-Version":h.protocolVersion,"Sec-WebSocket-Key":y,Connection:"Upgrade",Upgrade:"websocket",...h.headers},h.path=o.pathname+o.search,h.timeout=h.handshakeTimeout,h.perMessageDeflate&&(a=new d(!0!==h.perMessageDeflate?h.perMessageDeflate:{},!1,h.maxPayload),h.headers["Sec-WebSocket-Extensions"]=j({[d.extensionName]:a.offer()})),r&&(h.headers["Sec-WebSocket-Protocol"]=r),h.origin&&(h.protocolVersion<13?h.headers["Sec-WebSocket-Origin"]=h.origin:h.headers.Origin=h.origin),(o.username||o.password)&&(h.auth=`${o.username}:${o.password}`),p){let e=h.path.split(":");h.socketPath=e[0],h.path=e[1]}let b=e._req=_(h);v.request={method:b.method,href:`${f?"https":"http"}://${o.host}${o.pathname}${o.search}`,headers:b._header?O(b._header):[],httpVersion:"1.1"},e._debug.push(v),h.timeout&&b.on("timeout",()=>{N(e,b,"Opening handshake has timed out")}),b.on("error",t=>{null===b||b.aborted||(b=e._req=null,e._readyState=T.CLOSING,e.emit("error",t),e.emitClose())}),b.on("response",i=>{let s=i.headers.location,o=i.statusCode;if(v.response=v.response||{statusCode:i.statusCode,statusMessage:i.statusMessage,headers:I(i.rawHeaders),httpVersion:i.httpVersion},s&&h.followRedirects&&o>=300&&o<400){if(++e._redirects>h.maxRedirects)return void N(e,b,"Maximum redirects exceeded");b.abort(),A(e,new u(s,t),r,n)}else e.emit("unexpected-response",b,i)||N(e,b,`Unexpected server response: ${i.statusCode}`)}),b.on("upgrade",(t,n,i)=>{let s;if(v.response=v.response||{statusCode:t.statusCode,statusMessage:t.statusMessage,headers:I(t.rawHeaders),httpVersion:t.httpVersion},e.emit("upgrade",t),e.readyState!==T.CONNECTING)return;b=e._req=null;let o=c("sha1").update(y+g).digest("base64");if(t.headers["sec-websocket-accept"]!==o)return void N(e,n,"Invalid Sec-WebSocket-Accept header");let l=t.headers["sec-websocket-protocol"],u=(r||"").split(/, */);if(!r&&l?s="Server sent a subprotocol but none was requested":r&&!l?s="Server sent no subprotocol":l&&!u.includes(l)&&(s="Server sent an invalid subprotocol"),s)return void N(e,n,s);if(l&&(e._protocol=l),a)try{let r=S(t.headers["sec-websocket-extensions"]);r[d.extensionName]&&(a.accept(r[d.extensionName]),e._extensions[d.extensionName]=a)}catch(t){N(e,n,"Invalid Sec-WebSocket-Extensions header");return}e.setSocket(n,i,h.maxPayload)})}function P(e){return e.path=e.socketPath,o.connect(e)}function R(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=o.isIP(e.host)?"":e.host),a.connect(e)}function N(e,t,r){e._readyState=T.CLOSING;let n=Error(r);Error.captureStackTrace(n,N),t.setHeader?(t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),t.once("abort",e.emitClose.bind(e)),e.emit("error",n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function $(e,t,r){if(t){let r=k(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}r&&r(Error(`WebSocket is not open: readyState ${e.readyState} (${E[e.readyState]})`))}function M(e,t){let r=this[_];r._socket.removeListener("data",q),r._socket.resume(),r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,1005===e?r.close():r.close(e,t)}function D(){this[_]._socket.resume()}function L(e){let t=this[_];t._socket.removeListener("data",q),t._readyState=T.CLOSING,t._closeCode=e[y],t.emit("error",e),t._socket.destroy()}function B(){this[_].emitClose()}function U(e){this[_].emit("message",e)}function z(e){let t=this[_];t.pong(e,!t._isServer,v),t.emit("ping",e)}function F(e){this[_].emit("pong",e)}function H(){let e=this[_];this.removeListener("close",H),this.removeListener("end",W),e._readyState=T.CLOSING,e._socket.read(),e._receiver.end(),this.removeListener("data",q),this[_]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",B),e._receiver.on("finish",B))}function q(e){this[_]._receiver.write(e)||this.pause()}function W(){let e=this[_];e._readyState=T.CLOSING,e._receiver.end(),this.end()}function J(){let e=this[_];this.removeListener("error",J),this.on("error",v),e&&(e._readyState=T.CLOSING,this.destroy())}E.forEach((e,t)=>{let r={enumerable:!0,value:t};Object.defineProperty(T.prototype,e,r),Object.defineProperty(T,e,r)}),["binaryType","bufferedAmount","extensions","protocol","readyState","url"].forEach(e=>{Object.defineProperty(T.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(e=>{Object.defineProperty(T.prototype,`on${e}`,{configurable:!0,enumerable:!0,get(){let t=this.listeners(e);for(let e=0;e<t.length;e++)if(t[e]._listener)return t[e]._listener},set(t){let r=this.listeners(e);for(let t=0;t<r.length;t++)r[t]._listener&&this.removeListener(e,r[t]);this.addEventListener(e,t)}})}),T.prototype.addEventListener=b,T.prototype.removeEventListener=w,e.exports=T},"./node_modules/punycode/punycode.es6.js":function(e,t,r){"use strict";r.r(t),r.d(t,{decode:()=>x,default:()=>A,encode:()=>T,toASCII:()=>I,toUnicode:()=>O,ucs2decode:()=>j,ucs2encode:()=>S});let n=0x7fffffff,i=36,s=1,o=26,a=38,l=700,c=72,u=128,d="-",h=/^xn--/,p=/[^\0-\x7F]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g=35,y=Math.floor,_=String.fromCharCode;function v(e){throw RangeError(m[e])}function b(e,t){let r=[],n=e.length;for(;n--;)r[n]=t(e[n]);return r}function w(e,t){let r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+b((e=e.replace(f,".")).split("."),t).join(".")}function j(e){let t=[],r=0,n=e.length;for(;r<n;){let i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){let n=e.charCodeAt(r++);(64512&n)==56320?t.push(((1023&i)<<10)+(1023&n)+65536):(t.push(i),r--)}else t.push(i)}return t}let S=e=>String.fromCodePoint(...e),k=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:i},E=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},C=function(e,t,r){let n=0;for(e=r?y(e/l):e>>1,e+=y(e/t);e>g*o>>1;n+=i)e=y(e/g);return y(n+(g+1)*e/(e+a))},x=function(e){let t=[],r=e.length,a=0,l=u,h=c,p=e.lastIndexOf(d);p<0&&(p=0);for(let r=0;r<p;++r)e.charCodeAt(r)>=128&&v("not-basic"),t.push(e.charCodeAt(r));for(let c=p>0?p+1:0;c<r;){let u=a;for(let t=1,l=i;;l+=i){c>=r&&v("invalid-input");let u=k(e.charCodeAt(c++));u>=i&&v("invalid-input"),u>y((n-a)/t)&&v("overflow"),a+=u*t;let d=l<=h?s:l>=h+o?o:l-h;if(u<d)break;let p=i-d;t>y(n/p)&&v("overflow"),t*=p}let d=t.length+1;h=C(a-u,d,0==u),y(a/d)>n-l&&v("overflow"),l+=y(a/d),a%=d,t.splice(a++,0,l)}return String.fromCodePoint(...t)},T=function(e){let t=[],r=(e=j(e)).length,a=u,l=0,h=c;for(let r of e)r<128&&t.push(_(r));let p=t.length,f=p;for(p&&t.push(d);f<r;){let r=n;for(let t of e)t>=a&&t<r&&(r=t);let c=f+1;for(let u of(r-a>y((n-l)/c)&&v("overflow"),l+=(r-a)*c,a=r,e))if(u<a&&++l>n&&v("overflow"),u===a){let e=l;for(let r=i;;r+=i){let n=r<=h?s:r>=h+o?o:r-h;if(e<n)break;let a=e-n,l=i-n;t.push(_(E(n+a%l,0))),e=y(a/l)}t.push(_(E(e,0))),h=C(l,c,f===p),l=0,++f}++l,++a}return t.join("")},O=function(e){return w(e,function(e){return h.test(e)?x(e.slice(4).toLowerCase()):e})},I=function(e){return w(e,function(e){return p.test(e)?"xn--"+T(e):e})},A={version:"2.3.1",ucs2:{decode:j,encode:S},decode:x,encode:T,toASCII:I,toUnicode:O}},"./node_modules/querystringify/index.js":function(e,t){"use strict";var r,n=Object.prototype.hasOwnProperty;function i(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function s(e){try{return encodeURIComponent(e)}catch(e){return null}}function o(e){for(var t,r=/([^=?#&]+)=?([^&]*)/g,n={};t=r.exec(e);){var s=i(t[1]),o=i(t[2]);null===s||null===o||s in n||(n[s]=o)}return n}t.stringify=function(e,t){var i,o,a=[];for(o in"string"!=typeof(t=t||"")&&(t="?"),e)if(n.call(e,o)){if(!(i=e[o])&&(null===i||i===r||isNaN(i))&&(i=""),o=s(o),i=s(i),null===o||null===i)continue;a.push(o+"="+i)}return a.length?t+a.join("&"):""},t.parse=o},"./node_modules/requires-port/index.js":function(e){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e*=1))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},"./node_modules/smart-buffer/build/smartbuffer.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r("./node_modules/smart-buffer/build/utils.js"),i=4096,s="utf8";class o{constructor(e){if(this.length=0,this._encoding=s,this._writeOffset=0,this._readOffset=0,o.isSmartBufferOptions(e))if(e.encoding&&(n.checkEncoding(e.encoding),this._encoding=e.encoding),e.size)if(n.isFiniteInteger(e.size)&&e.size>0)this._buff=Buffer.allocUnsafe(e.size);else throw Error(n.ERRORS.INVALID_SMARTBUFFER_SIZE);else if(e.buff)if(Buffer.isBuffer(e.buff))this._buff=e.buff,this.length=e.buff.length;else throw Error(n.ERRORS.INVALID_SMARTBUFFER_BUFFER);else this._buff=Buffer.allocUnsafe(i);else{if(void 0!==e)throw Error(n.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=Buffer.allocUnsafe(i)}}static fromSize(e,t){return new this({size:e,encoding:t})}static fromBuffer(e,t){return new this({buff:e,encoding:t})}static fromOptions(e){return new this(e)}static isSmartBufferOptions(e){let t=e;return t&&(void 0!==t.encoding||void 0!==t.size||void 0!==t.buff)}readInt8(e){return this._readNumberValue(Buffer.prototype.readInt8,1,e)}readInt16BE(e){return this._readNumberValue(Buffer.prototype.readInt16BE,2,e)}readInt16LE(e){return this._readNumberValue(Buffer.prototype.readInt16LE,2,e)}readInt32BE(e){return this._readNumberValue(Buffer.prototype.readInt32BE,4,e)}readInt32LE(e){return this._readNumberValue(Buffer.prototype.readInt32LE,4,e)}readBigInt64BE(e){return n.bigIntAndBufferInt64Check("readBigInt64BE"),this._readNumberValue(Buffer.prototype.readBigInt64BE,8,e)}readBigInt64LE(e){return n.bigIntAndBufferInt64Check("readBigInt64LE"),this._readNumberValue(Buffer.prototype.readBigInt64LE,8,e)}writeInt8(e,t){return this._writeNumberValue(Buffer.prototype.writeInt8,1,e,t),this}insertInt8(e,t){return this._insertNumberValue(Buffer.prototype.writeInt8,1,e,t)}writeInt16BE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt16BE,2,e,t)}insertInt16BE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt16BE,2,e,t)}writeInt16LE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt16LE,2,e,t)}insertInt16LE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt16LE,2,e,t)}writeInt32BE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt32BE,4,e,t)}insertInt32BE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt32BE,4,e,t)}writeInt32LE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt32LE,4,e,t)}insertInt32LE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt32LE,4,e,t)}writeBigInt64BE(e,t){return n.bigIntAndBufferInt64Check("writeBigInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigInt64BE,8,e,t)}insertBigInt64BE(e,t){return n.bigIntAndBufferInt64Check("writeBigInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigInt64BE,8,e,t)}writeBigInt64LE(e,t){return n.bigIntAndBufferInt64Check("writeBigInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigInt64LE,8,e,t)}insertBigInt64LE(e,t){return n.bigIntAndBufferInt64Check("writeBigInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigInt64LE,8,e,t)}readUInt8(e){return this._readNumberValue(Buffer.prototype.readUInt8,1,e)}readUInt16BE(e){return this._readNumberValue(Buffer.prototype.readUInt16BE,2,e)}readUInt16LE(e){return this._readNumberValue(Buffer.prototype.readUInt16LE,2,e)}readUInt32BE(e){return this._readNumberValue(Buffer.prototype.readUInt32BE,4,e)}readUInt32LE(e){return this._readNumberValue(Buffer.prototype.readUInt32LE,4,e)}readBigUInt64BE(e){return n.bigIntAndBufferInt64Check("readBigUInt64BE"),this._readNumberValue(Buffer.prototype.readBigUInt64BE,8,e)}readBigUInt64LE(e){return n.bigIntAndBufferInt64Check("readBigUInt64LE"),this._readNumberValue(Buffer.prototype.readBigUInt64LE,8,e)}writeUInt8(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt8,1,e,t)}insertUInt8(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt8,1,e,t)}writeUInt16BE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt16BE,2,e,t)}insertUInt16BE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt16BE,2,e,t)}writeUInt16LE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt16LE,2,e,t)}insertUInt16LE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt16LE,2,e,t)}writeUInt32BE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt32BE,4,e,t)}insertUInt32BE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt32BE,4,e,t)}writeUInt32LE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt32LE,4,e,t)}insertUInt32LE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt32LE,4,e,t)}writeBigUInt64BE(e,t){return n.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64BE,8,e,t)}insertBigUInt64BE(e,t){return n.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64BE,8,e,t)}writeBigUInt64LE(e,t){return n.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64LE,8,e,t)}insertBigUInt64LE(e,t){return n.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64LE,8,e,t)}readFloatBE(e){return this._readNumberValue(Buffer.prototype.readFloatBE,4,e)}readFloatLE(e){return this._readNumberValue(Buffer.prototype.readFloatLE,4,e)}writeFloatBE(e,t){return this._writeNumberValue(Buffer.prototype.writeFloatBE,4,e,t)}insertFloatBE(e,t){return this._insertNumberValue(Buffer.prototype.writeFloatBE,4,e,t)}writeFloatLE(e,t){return this._writeNumberValue(Buffer.prototype.writeFloatLE,4,e,t)}insertFloatLE(e,t){return this._insertNumberValue(Buffer.prototype.writeFloatLE,4,e,t)}readDoubleBE(e){return this._readNumberValue(Buffer.prototype.readDoubleBE,8,e)}readDoubleLE(e){return this._readNumberValue(Buffer.prototype.readDoubleLE,8,e)}writeDoubleBE(e,t){return this._writeNumberValue(Buffer.prototype.writeDoubleBE,8,e,t)}insertDoubleBE(e,t){return this._insertNumberValue(Buffer.prototype.writeDoubleBE,8,e,t)}writeDoubleLE(e,t){return this._writeNumberValue(Buffer.prototype.writeDoubleLE,8,e,t)}insertDoubleLE(e,t){return this._insertNumberValue(Buffer.prototype.writeDoubleLE,8,e,t)}readString(e,t){let r;"number"==typeof e?(n.checkLengthValue(e),r=Math.min(e,this.length-this._readOffset)):(t=e,r=this.length-this._readOffset),void 0!==t&&n.checkEncoding(t);let i=this._buff.slice(this._readOffset,this._readOffset+r).toString(t||this._encoding);return this._readOffset+=r,i}insertString(e,t,r){return n.checkOffsetValue(t),this._handleString(e,!0,t,r)}writeString(e,t,r){return this._handleString(e,!1,t,r)}readStringNT(e){void 0!==e&&n.checkEncoding(e);let t=this.length;for(let e=this._readOffset;e<this.length;e++)if(0===this._buff[e]){t=e;break}let r=this._buff.slice(this._readOffset,t);return this._readOffset=t+1,r.toString(e||this._encoding)}insertStringNT(e,t,r){return n.checkOffsetValue(t),this.insertString(e,t,r),this.insertUInt8(0,t+e.length),this}writeStringNT(e,t,r){return this.writeString(e,t,r),this.writeUInt8(0,"number"==typeof t?t+e.length:this.writeOffset),this}readBuffer(e){void 0!==e&&n.checkLengthValue(e);let t="number"==typeof e?e:this.length,r=Math.min(this.length,this._readOffset+t),i=this._buff.slice(this._readOffset,r);return this._readOffset=r,i}insertBuffer(e,t){return n.checkOffsetValue(t),this._handleBuffer(e,!0,t)}writeBuffer(e,t){return this._handleBuffer(e,!1,t)}readBufferNT(){let e=this.length;for(let t=this._readOffset;t<this.length;t++)if(0===this._buff[t]){e=t;break}let t=this._buff.slice(this._readOffset,e);return this._readOffset=e+1,t}insertBufferNT(e,t){return n.checkOffsetValue(t),this.insertBuffer(e,t),this.insertUInt8(0,t+e.length),this}writeBufferNT(e,t){return void 0!==t&&n.checkOffsetValue(t),this.writeBuffer(e,t),this.writeUInt8(0,"number"==typeof t?t+e.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(e){n.checkOffsetValue(e),n.checkTargetOffset(e,this),this._readOffset=e}get writeOffset(){return this._writeOffset}set writeOffset(e){n.checkOffsetValue(e),n.checkTargetOffset(e,this),this._writeOffset=e}get encoding(){return this._encoding}set encoding(e){n.checkEncoding(e),this._encoding=e}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(e){let t="string"==typeof e?e:this._encoding;return n.checkEncoding(t),this._buff.toString(t,0,this.length)}destroy(){return this.clear(),this}_handleString(e,t,r,i){let s=this._writeOffset,o=this._encoding;"number"==typeof r?s=r:"string"==typeof r&&(n.checkEncoding(r),o=r),"string"==typeof i&&(n.checkEncoding(i),o=i);let a=Buffer.byteLength(e,o);return t?this.ensureInsertable(a,s):this._ensureWriteable(a,s),this._buff.write(e,s,a,o),t?this._writeOffset+=a:"number"==typeof r?this._writeOffset=Math.max(this._writeOffset,s+a):this._writeOffset+=a,this}_handleBuffer(e,t,r){let n="number"==typeof r?r:this._writeOffset;return t?this.ensureInsertable(e.length,n):this._ensureWriteable(e.length,n),e.copy(this._buff,n),t?this._writeOffset+=e.length:"number"==typeof r?this._writeOffset=Math.max(this._writeOffset,n+e.length):this._writeOffset+=e.length,this}ensureReadable(e,t){let r=this._readOffset;if(void 0!==t&&(n.checkOffsetValue(t),r=t),r<0||r+e>this.length)throw Error(n.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(e,t){n.checkOffsetValue(t),this._ensureCapacity(this.length+e),t<this.length&&this._buff.copy(this._buff,t+e,t,this._buff.length),t+e>this.length?this.length=t+e:this.length+=e}_ensureWriteable(e,t){let r="number"==typeof t?t:this._writeOffset;this._ensureCapacity(r+e),r+e>this.length&&(this.length=r+e)}_ensureCapacity(e){let t=this._buff.length;if(e>t){let r=this._buff,n=3*t/2+1;n<e&&(n=e),this._buff=Buffer.allocUnsafe(n),r.copy(this._buff,0,0,t)}}_readNumberValue(e,t,r){this.ensureReadable(t,r);let n=e.call(this._buff,"number"==typeof r?r:this._readOffset);return void 0===r&&(this._readOffset+=t),n}_insertNumberValue(e,t,r,i){return n.checkOffsetValue(i),this.ensureInsertable(t,i),e.call(this._buff,r,i),this._writeOffset+=t,this}_writeNumberValue(e,t,r,i){if("number"==typeof i){if(i<0)throw Error(n.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);n.checkOffsetValue(i)}let s="number"==typeof i?i:this._writeOffset;return this._ensureWriteable(t,s),e.call(this._buff,r,s),"number"==typeof i?this._writeOffset=Math.max(this._writeOffset,s+t):this._writeOffset+=t,this}}t.SmartBuffer=o},"./node_modules/smart-buffer/build/utils.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r("buffer"),i={INVALID_ENCODING:"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.",INVALID_SMARTBUFFER_SIZE:"Invalid size provided. Size must be a valid integer greater than zero.",INVALID_SMARTBUFFER_BUFFER:"Invalid Buffer provided in SmartBufferOptions.",INVALID_SMARTBUFFER_OBJECT:"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.",INVALID_OFFSET:"An invalid offset value was provided.",INVALID_OFFSET_NON_NUMBER:"An invalid offset value was provided. A numeric value is required.",INVALID_LENGTH:"An invalid length value was provided.",INVALID_LENGTH_NON_NUMBER:"An invalid length value was provived. A numeric value is required.",INVALID_TARGET_OFFSET:"Target offset is beyond the bounds of the internal SmartBuffer data.",INVALID_TARGET_LENGTH:"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.",INVALID_READ_BEYOND_BOUNDS:"Attempted to read beyond the bounds of the managed data.",INVALID_WRITE_BEYOND_BOUNDS:"Attempted to write beyond the bounds of the managed data."};function s(e){return"number"==typeof e&&isFinite(e)&&a(e)}function o(e,t){if("number"==typeof e){if(!s(e)||e<0)throw Error(t?i.INVALID_OFFSET:i.INVALID_LENGTH)}else throw Error(t?i.INVALID_OFFSET_NON_NUMBER:i.INVALID_LENGTH_NON_NUMBER)}function a(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}t.ERRORS=i,t.checkEncoding=function(e){if(!n.Buffer.isEncoding(e))throw Error(i.INVALID_ENCODING)},t.isFiniteInteger=s,t.checkLengthValue=function(e){o(e,!1)},t.checkOffsetValue=function(e){o(e,!0)},t.checkTargetOffset=function(e,t){if(e<0||e>t.length)throw Error(i.INVALID_TARGET_OFFSET)},t.bigIntAndBufferInt64Check=function(e){if("undefined"==typeof BigInt)throw Error("Platform does not support JS BigInt type.");if(void 0===n.Buffer.prototype[e])throw Error(`Platform does not support Buffer.prototype.${e}.`)}},"./node_modules/socket.io-client-v2/lib/index.js":function(e,t,r){var n=r("./node_modules/socket.io-client-v2/lib/url.js"),i=r("./node_modules/socket.io-parser/index.js"),s=r("./node_modules/socket.io-client-v2/lib/manager.js"),o=r("./node_modules/socket.io-client-v2/node_modules/debug/src/index.js")("socket.io-client");e.exports=t=l;var a=t.managers={};function l(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i=n(e),l=i.source,c=i.id,u=i.path,d=a[c]&&u in a[c].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||d?(o("ignoring socket cache for %s",l),r=s(l,t)):(a[c]||(o("new io instance for %s",l),a[c]=s(l,t)),r=a[c]),i.query&&!t.query&&(t.query=i.query),r.socket(i.path,t)}t.protocol=i.protocol,t.connect=l,t.Manager=r("./node_modules/socket.io-client-v2/lib/manager.js"),t.Socket=r("./node_modules/socket.io-client-v2/lib/socket.js")},"./node_modules/socket.io-client-v2/lib/manager.js":function(e,t,r){var n=r("./node_modules/engine.io-client/lib/index.js"),i=r("./node_modules/socket.io-client-v2/lib/socket.js"),s=r("./node_modules/component-emitter/index.js"),o=r("./node_modules/socket.io-parser/index.js"),a=r("./node_modules/socket.io-client-v2/lib/on.js"),l=r("./node_modules/component-bind/index.js"),c=r("./node_modules/socket.io-client-v2/node_modules/debug/src/index.js")("socket.io-client:manager"),u=r("./node_modules/indexof/index.js"),d=r("./node_modules/backo2/index.js"),h=Object.prototype.hasOwnProperty;function p(e,t){if(!(this instanceof p))return new p(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var r=t.parser||o;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=p,p.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},p.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},p.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},s(p.prototype),p.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},p.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},p.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(e,t){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=n(this.uri,this.opts);var r=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var s=a(r,"open",function(){i.onopen(),e&&e()}),o=a(r,"error",function(t){if(c("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var r=Error("Connection error");r.data=t,e(r)}else i.maybeReconnectOnOpen()});if(!1!==this._timeout){var l=this._timeout;c("connect attempt will timeout after %d",l),0===l&&s.destroy();var u=setTimeout(function(){c("connect attempt timed out after %d",l),s.destroy(),r.close(),r.emit("error","timeout"),i.emitAll("connect_timeout",l)},l);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(s),this.subs.push(o),this},p.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(a(e,"data",l(this,"ondata"))),this.subs.push(a(e,"ping",l(this,"onping"))),this.subs.push(a(e,"pong",l(this,"onpong"))),this.subs.push(a(e,"error",l(this,"onerror"))),this.subs.push(a(e,"close",l(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",l(this,"ondecoded")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},p.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},p.prototype.ondata=function(e){this.decoder.add(e)},p.prototype.ondecoded=function(e){this.emit("packet",e)},p.prototype.onerror=function(e){c("error",e),this.emitAll("error",e)},p.prototype.socket=function(e,t){var r=this.nsps[e];if(!r){r=new i(this,e,t),this.nsps[e]=r;var n=this;r.on("connecting",s),r.on("connect",function(){r.id=n.generateId(e)}),this.autoConnect&&s()}function s(){~u(n.connecting,r)||n.connecting.push(r)}return r},p.prototype.destroy=function(e){var t=u(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},p.prototype.packet=function(e){c("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(r){for(var n=0;n<r.length;n++)t.engine.write(r[n],e.options);t.encoding=!1,t.processPacketQueue()}))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},p.prototype.cleanup=function(){c("cleanup");for(var e=this.subs.length,t=0;t<e;t++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},p.prototype.onclose=function(e){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();c("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var r=setTimeout(function(){!e.skipReconnect&&(c("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(c("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(c("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(r)}})}},p.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},"./node_modules/socket.io-client-v2/lib/on.js":function(e){e.exports=t;function t(e,t,r){return e.on(t,r),{destroy:function(){e.removeListener(t,r)}}}},"./node_modules/socket.io-client-v2/lib/socket.js":function(e,t,r){var n=r("./node_modules/socket.io-parser/index.js"),i=r("./node_modules/component-emitter/index.js"),s=r("./node_modules/to-array/index.js"),o=r("./node_modules/socket.io-client-v2/lib/on.js"),a=r("./node_modules/component-bind/index.js"),l=r("./node_modules/socket.io-client-v2/node_modules/debug/src/index.js")("socket.io-client:socket"),c=r("./node_modules/parseqs/index.js"),u=r("./node_modules/has-binary2/index.js");e.exports=t=p;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=i.prototype.emit;function p(e,t,r){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},r&&r.query&&(this.query=r.query),this.io.autoConnect&&this.open()}i(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[o(e,"open",a(this,"onopen")),o(e,"packet",a(this,"onpacket")),o(e,"close",a(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.reconnecting||this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},p.prototype.send=function(){var e=s(arguments);return e.unshift("message"),this.emit.apply(this,e),this},p.prototype.emit=function(e){if(d.hasOwnProperty(e))return h.apply(this,arguments),this;var t=s(arguments),r={type:(void 0!==this.flags.binary?this.flags.binary:u(t))?n.BINARY_EVENT:n.EVENT,data:t};return r.options={},r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),this.flags={},this},p.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},p.prototype.onopen=function(){if(l("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?c.encode(this.query):this.query;l("sending connect packet with query %s",e),this.packet({type:n.CONNECT,query:e})}else this.packet({type:n.CONNECT})},p.prototype.onclose=function(e){l("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},p.prototype.onpacket=function(e){var t=e.nsp===this.nsp,r=e.type===n.ERROR&&"/"===e.nsp;if(t||r)switch(e.type){case n.CONNECT:this.onconnect();break;case n.EVENT:case n.BINARY_EVENT:this.onevent(e);break;case n.ACK:case n.BINARY_ACK:this.onack(e);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit("error",e.data)}},p.prototype.onevent=function(e){var t=e.data||[];l("emitting event %j",t),null!=e.id&&(l("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?h.apply(this,t):this.receiveBuffer.push(t)},p.prototype.ack=function(e){var t=this,r=!1;return function(){if(!r){r=!0;var i=s(arguments);l("sending ack %j",i),t.packet({type:u(i)?n.BINARY_ACK:n.ACK,id:e,data:i})}}},p.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(l("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):l("bad ack %s",e.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emit("connect")},p.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)h.apply(this,this.receiveBuffer[e]);for(e=0,this.receiveBuffer=[];e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(e){return this.flags.compress=e,this},p.prototype.binary=function(e){return this.flags.binary=e,this}},"./node_modules/socket.io-client-v2/lib/url.js":function(e,t,r){var n=r("./node_modules/parseuri/index.js"),i=r("./node_modules/socket.io-client-v2/node_modules/debug/src/index.js")("socket.io-client:url");e.exports=function e(e,t){var r=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),r=n(e)),!r.port&&(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var s=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port,r.href=r.protocol+"://"+s+(t&&t.port===r.port?"":":"+r.port),r}},"./node_modules/socket.io-client-v2/node_modules/debug/src/browser.js":function(e,t,r){function n(){return"undefined"!=typeof window&&!!window.process&&"renderer"===window.process.type||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),r){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var i=0,s=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(s=i))}),e.splice(s,0,n)}}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function a(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}function l(){try{return window.localStorage}catch(e){}}(t=e.exports=r("./node_modules/socket.io-client-v2/node_modules/debug/src/debug.js")).log=s,t.formatArgs=i,t.save=o,t.load=a,t.useColors=n,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:l(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(a())},"./node_modules/socket.io-client-v2/node_modules/debug/src/debug.js":function(e,t,r){function n(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r)|0;return t.colors[Math.abs(n)%t.colors.length]}function i(e){var r;function i(){if(i.enabled){var e=i,n=+new Date,s=n-(r||n);e.diff=s,e.prev=r,e.curr=n,r=n;for(var o=Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var l=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;l++;var i=t.formatters[n];if("function"==typeof i){var s=o[l];r=i.call(e,s),o.splice(l,1),l--}return r}),t.formatArgs.call(e,o);var c=i.log||t.log||console.log.bind(console);c.apply(e,o)}}return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=n(e),i.destroy=s,"function"==typeof t.init&&t.init(i),t.instances.push(i),i}function s(){var e=t.instances.indexOf(this);return -1!==e&&(t.instances.splice(e,1),!0)}function o(e){t.save(e),t.names=[],t.skips=[];var r,n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(RegExp("^"+e.substr(1)+"$")):t.names.push(RegExp("^"+e+"$")));for(r=0;r<t.instances.length;r++){var s=t.instances[r];s.enabled=t.enabled(s.namespace)}}function a(){t.enable("")}function l(e){var r,n;if("*"===e[e.length-1])return!0;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}(t=e.exports=i.debug=i.default=i).coerce=c,t.disable=a,t.enable=o,t.enabled=l,t.humanize=r("./node_modules/socket.io-client-v2/node_modules/ms/index.js"),t.instances=[],t.names=[],t.skips=[],t.formatters={}},"./node_modules/socket.io-client-v2/node_modules/debug/src/index.js":function(e,t,r){"undefined"==typeof process||"renderer"===process.type?e.exports=r("./node_modules/socket.io-client-v2/node_modules/debug/src/browser.js"):e.exports=r("./node_modules/socket.io-client-v2/node_modules/debug/src/node.js")},"./node_modules/socket.io-client-v2/node_modules/debug/src/node.js":function(e,t,r){var n=r("tty"),i=r("util");(t=e.exports=r("./node_modules/socket.io-client-v2/node_modules/debug/src/debug.js")).init=h,t.log=c,t.formatArgs=a,t.save=u,t.load=d,t.useColors=o,t.colors=[6,2,3,4,5,1];try{var s=r("./node_modules/supports-color/index.js");s&&s.level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}function o(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:n.isatty(process.stderr.fd)}function a(e){var r=this.namespace;if(this.useColors){var n=this.color,i="\x1b[3"+(n<8?n:"8;5;"+n),s="  "+i+";1m"+r+" \x1b[0m";e[0]=s+e[0].split("\n").join("\n"+s),e.push(i+"m+"+t.humanize(this.diff)+"\x1b[0m")}else e[0]=l()+r+" "+e[0]}function l(){return t.inspectOpts.hideDate?"":new Date().toISOString()+" "}function c(){return process.stderr.write(i.format.apply(i,arguments)+"\n")}function u(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e}function d(){return process.env.DEBUG}function h(e){e.inspectOpts={};for(var r=Object.keys(t.inspectOpts),n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]}t.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var r=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(e,t){return t.toUpperCase()}),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(function(e){return e.trim()}).join(" ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)},t.enable(d())},"./node_modules/socket.io-client-v2/node_modules/ms/index.js":function(e){var t=1e3,r=6e4,n=36e5,i=864e5,s=315576e5;function o(e){if(!((e=String(e)).length>100)){var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(o){var a=parseFloat(o[1]),l=(o[2]||"ms").toLowerCase();switch(l){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function a(e){return e>=i?Math.round(e/i)+"d":e>=n?Math.round(e/n)+"h":e>=r?Math.round(e/r)+"m":e>=t?Math.round(e/t)+"s":e+"ms"}function l(e){return c(e,i,"day")||c(e,n,"hour")||c(e,r,"minute")||c(e,t,"second")||e+" ms"}function c(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}e.exports=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return o(e);if("number"===r&&!1===isNaN(e))return t.long?l(e):a(e);throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},"./node_modules/socket.io-client-v4/node_modules/debug/src/browser.js":function(e,t,r){function n(){let e;return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}}function s(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}function o(){try{return localStorage}catch(e){}}t.formatArgs=function t(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)},t.save=i,t.load=s,t.useColors=n,t.storage=o(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r("./node_modules/socket.io-client-v4/node_modules/debug/src/common.js")(t);let{formatters:a}=e.exports;a.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},"./node_modules/socket.io-client-v4/node_modules/debug/src/common.js":function(e,t,r){e.exports=function(e){function t(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r)|0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let t,r,s,o=null;function a(...e){if(!a.enabled)return;let r=a,i=Number(new Date);r.diff=i-(t||i),r.prev=t,r.curr=i,t=i,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,i)=>{if("%%"===t)return"%";s++;let o=n.formatters[i];if("function"==typeof o){let n=e[s];t=o.call(r,n),e.splice(s,1),s--}return t}),n.formatArgs.call(r,e),(r.log||n.log).apply(r,e)}return a.namespace=e,a.useColors=n.useColors(),a.color=n.selectColor(e),a.extend=i,a.destroy=n.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(r!==n.namespaces&&(r=n.namespaces,s=n.enabled(e)),s),set:e=>{o=e}}),"function"==typeof n.init&&n.init(a),a}function i(e,t){let r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function s(e){let t;n.save(e),n.namespaces=e,n.names=[],n.skips=[];let r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(RegExp("^"+e.slice(1)+"$")):n.names.push(RegExp("^"+e+"$")))}function o(){let e=[...n.names.map(l),...n.skips.map(l).map(e=>"-"+e)].join(",");return n.enable(""),e}function a(e){let t,r;if("*"===e[e.length-1])return!0;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function l(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function c(e){return e instanceof Error?e.stack||e.message:e}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.debug=n,n.default=n,n.coerce=c,n.disable=o,n.enable=s,n.enabled=a,n.humanize=r("./node_modules/ms/index.js"),n.destroy=u,Object.keys(e).forEach(t=>{n[t]=e[t]}),n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},"./node_modules/socket.io-client-v4/node_modules/debug/src/index.js":function(e,t,r){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r("./node_modules/socket.io-client-v4/node_modules/debug/src/browser.js"):e.exports=r("./node_modules/socket.io-client-v4/node_modules/debug/src/node.js")},"./node_modules/socket.io-client-v4/node_modules/debug/src/node.js":function(e,t,r){let n=r("tty"),i=r("util");t.init=d,t.log=l,t.formatArgs=o,t.save=c,t.load=u,t.useColors=s,t.destroy=i.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{let e=r("./node_modules/supports-color/index.js");e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}function s(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:n.isatty(process.stderr.fd)}function o(t){let{namespace:r,useColors:n}=this;if(n){let n=this.color,i="\x1b[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${r} \u001B[0m`;t[0]=s+t[0].split("\n").join("\n"+s),t.push(i+"m+"+e.exports.humanize(this.diff)+"\x1b[0m")}else t[0]=a()+r+" "+t[0]}function a(){return t.inspectOpts.hideDate?"":new Date().toISOString()+" "}function l(...e){return process.stderr.write(i.formatWithOptions(t.inspectOpts,...e)+"\n")}function c(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function u(){return process.env.DEBUG}function d(e){e.inspectOpts={};let r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase()),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r("./node_modules/socket.io-client-v4/node_modules/debug/src/common.js")(t);let{formatters:h}=e.exports;h.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},h.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},"./node_modules/socket.io-client-v4/node_modules/ws/index.js":function(e,t,r){"use strict";let n=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/websocket.js");n.createWebSocketStream=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/stream.js"),n.Server=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/websocket-server.js"),n.Receiver=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/receiver.js"),n.Sender=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/sender.js"),n.WebSocket=n,n.WebSocketServer=n.Server,e.exports=n},"./node_modules/socket.io-client-v4/node_modules/ws/lib/buffer-util.js":function(e,t,r){"use strict";let{EMPTY_BUFFER:n}=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/constants.js"),i=Buffer[Symbol.species];function s(e,t,r,n,i){for(let s=0;s<i;s++)r[n+s]=e[s]^t[3&s]}function o(e,t){for(let r=0;r<e.length;r++)e[r]^=t[3&r]}function a(e){let t;return(a.readOnly=!0,Buffer.isBuffer(e))?e:(e instanceof ArrayBuffer?t=new i(e):ArrayBuffer.isView(e)?t=new i(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),a.readOnly=!1),t)}if(e.exports={concat:function(e,t){if(0===e.length)return n;if(1===e.length)return e[0];let r=Buffer.allocUnsafe(t),s=0;for(let t=0;t<e.length;t++){let n=e[t];r.set(n,s),s+=n.length}return s<t?new i(r.buffer,r.byteOffset,s):r},mask:s,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:a,unmask:o},!process.env.WS_NO_BUFFER_UTIL)try{let t=r("../../node_modules/bufferutil/index.js");e.exports.mask=function(e,r,n,i,o){o<48?s(e,r,n,i,o):t.mask(e,r,n,i,o)},e.exports.unmask=function(e,r){e.length<32?o(e,r):t.unmask(e,r)}}catch(e){}},"./node_modules/socket.io-client-v4/node_modules/ws/lib/constants.js":function(e){"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},"./node_modules/socket.io-client-v4/node_modules/ws/lib/event-target.js":function(e,t,r){"use strict";let{kForOnEventAttribute:n,kListener:i}=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/constants.js"),s=Symbol("kCode"),o=Symbol("kData"),a=Symbol("kError"),l=Symbol("kMessage"),c=Symbol("kReason"),u=Symbol("kTarget"),d=Symbol("kType"),h=Symbol("kWasClean");class p{constructor(e){this[u]=null,this[d]=e}get target(){return this[u]}get type(){return this[d]}}Object.defineProperty(p.prototype,"target",{enumerable:!0}),Object.defineProperty(p.prototype,"type",{enumerable:!0});class f extends p{constructor(e,t={}){super(e),this[s]=void 0===t.code?0:t.code,this[c]=void 0===t.reason?"":t.reason,this[h]=void 0!==t.wasClean&&t.wasClean}get code(){return this[s]}get reason(){return this[c]}get wasClean(){return this[h]}}Object.defineProperty(f.prototype,"code",{enumerable:!0}),Object.defineProperty(f.prototype,"reason",{enumerable:!0}),Object.defineProperty(f.prototype,"wasClean",{enumerable:!0});class m extends p{constructor(e,t={}){super(e),this[a]=void 0===t.error?null:t.error,this[l]=void 0===t.message?"":t.message}get error(){return this[a]}get message(){return this[l]}}Object.defineProperty(m.prototype,"error",{enumerable:!0}),Object.defineProperty(m.prototype,"message",{enumerable:!0});class g extends p{constructor(e,t={}){super(e),this[o]=void 0===t.data?null:t.data}get data(){return this[o]}}Object.defineProperty(g.prototype,"data",{enumerable:!0});let y={addEventListener(e,t,r={}){let s;for(let s of this.listeners(e))if(!r[n]&&s[i]===t&&!s[n])return;if("message"===e)s=function(e,r){let n=new g("message",{data:r?e:e.toString()});n[u]=this,_(t,this,n)};else if("close"===e)s=function(e,r){let n=new f("close",{code:e,reason:r.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});n[u]=this,_(t,this,n)};else if("error"===e)s=function(e){let r=new m("error",{error:e,message:e.message});r[u]=this,_(t,this,r)};else{if("open"!==e)return;s=function(){let e=new p("open");e[u]=this,_(t,this,e)}}s[n]=!!r[n],s[i]=t,r.once?this.once(e,s):this.on(e,s)},removeEventListener(e,t){for(let r of this.listeners(e))if(r[i]===t&&!r[n]){this.removeListener(e,r);break}}};function _(e,t,r){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,r):e.call(t,r)}e.exports={CloseEvent:f,ErrorEvent:m,Event:p,EventTarget:y,MessageEvent:g}},"./node_modules/socket.io-client-v4/node_modules/ws/lib/extension.js":function(e,t,r){"use strict";let{tokenChars:n}=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/validation.js");function i(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}e.exports={format:function(e){return Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>[t].concat(Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){let t,r,s=Object.create(null),o=Object.create(null),a=!1,l=!1,c=!1,u=-1,d=-1,h=-1,p=0;for(;p<e.length;p++)if(d=e.charCodeAt(p),void 0===t)if(-1===h&&1===n[d])-1===u&&(u=p);else if(0!==p&&(32===d||9===d))-1===h&&-1!==u&&(h=p);else if(59===d||44===d){if(-1===u)throw SyntaxError(`Unexpected character at index ${p}`);-1===h&&(h=p);let r=e.slice(u,h);44===d?(i(s,r,o),o=Object.create(null)):t=r,u=h=-1}else throw SyntaxError(`Unexpected character at index ${p}`);else if(void 0===r)if(-1===h&&1===n[d])-1===u&&(u=p);else if(32===d||9===d)-1===h&&-1!==u&&(h=p);else if(59===d||44===d){if(-1===u)throw SyntaxError(`Unexpected character at index ${p}`);-1===h&&(h=p),i(o,e.slice(u,h),!0),44===d&&(i(s,t,o),o=Object.create(null),t=void 0),u=h=-1}else if(61===d&&-1!==u&&-1===h)r=e.slice(u,p),u=h=-1;else throw SyntaxError(`Unexpected character at index ${p}`);else if(l){if(1!==n[d])throw SyntaxError(`Unexpected character at index ${p}`);-1===u?u=p:a||(a=!0),l=!1}else if(c)if(1===n[d])-1===u&&(u=p);else if(34===d&&-1!==u)c=!1,h=p;else if(92===d)l=!0;else throw SyntaxError(`Unexpected character at index ${p}`);else if(34===d&&61===e.charCodeAt(p-1))c=!0;else if(-1===h&&1===n[d])-1===u&&(u=p);else if(-1!==u&&(32===d||9===d))-1===h&&(h=p);else if(59===d||44===d){if(-1===u)throw SyntaxError(`Unexpected character at index ${p}`);-1===h&&(h=p);let n=e.slice(u,h);a&&(n=n.replace(/\\/g,""),a=!1),i(o,r,n),44===d&&(i(s,t,o),o=Object.create(null),t=void 0),r=void 0,u=h=-1}else throw SyntaxError(`Unexpected character at index ${p}`);if(-1===u||c||32===d||9===d)throw SyntaxError("Unexpected end of input");-1===h&&(h=p);let f=e.slice(u,h);return void 0===t?i(s,f,o):(void 0===r?i(o,f,!0):a?i(o,r,f.replace(/\\/g,"")):i(o,r,f),i(s,t,o)),s}}},"./node_modules/socket.io-client-v4/node_modules/ws/lib/limiter.js":function(e){"use strict";let t=Symbol("kDone"),r=Symbol("kRun");class n{constructor(e){this[t]=()=>{this.pending--,this[r]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[r]()}[r](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[t])}}}e.exports=n},"./node_modules/socket.io-client-v4/node_modules/ws/lib/permessage-deflate.js":function(e,t,r){"use strict";let n,i=r("zlib"),s=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/buffer-util.js"),o=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/limiter.js"),{kStatusCode:a}=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/constants.js"),l=Buffer[Symbol.species],c=Buffer.from([0,0,255,255]),u=Symbol("permessage-deflate"),d=Symbol("total-length"),h=Symbol("callback"),p=Symbol("buffers"),f=Symbol("error");class m{constructor(e,t,r){this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,n||(n=new o(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[h];this._deflate.close(),this._deflate=null,e&&e(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,r=e.find(e=>(!1!==t.serverNoContextTakeover||!e.server_no_context_takeover)&&(!e.server_max_window_bits||!1!==t.serverMaxWindowBits&&("number"!=typeof t.serverMaxWindowBits||!(t.serverMaxWindowBits>e.server_max_window_bits)))&&("number"!=typeof t.clientMaxWindowBits||!!e.client_max_window_bits));if(!r)throw Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(r.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?r.client_max_window_bits=t.clientMaxWindowBits:(!0===r.client_max_window_bits||!1===t.clientMaxWindowBits)&&delete r.client_max_window_bits,r}acceptAsClient(e){let t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let r=e[t];if(r.length>1)throw Error(`Parameter "${t}" must have only a single value`);if(r=r[0],"client_max_window_bits"===t){if(!0!==r){let e=+r;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${t}": ${r}`)}else if("server_max_window_bits"===t){let e=+r;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if("client_no_context_takeover"===t||"server_no_context_takeover"===t){if(!0!==r)throw TypeError(`Invalid value for parameter "${t}": ${r}`)}else throw Error(`Unknown parameter "${t}"`);e[t]=r})}),e}decompress(e,t,r){n.add(n=>{this._decompress(e,t,(e,t)=>{n(),r(e,t)})})}compress(e,t,r){n.add(n=>{this._compress(e,t,(e,t)=>{n(),r(e,t)})})}_decompress(e,t,r){let n=this._isServer?"client":"server";if(!this._inflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=i.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[u]=this,this._inflate[d]=0,this._inflate[p]=[],this._inflate.on("error",_),this._inflate.on("data",y)}this._inflate[h]=r,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush(()=>{let e=this._inflate[f];if(e){this._inflate.close(),this._inflate=null,r(e);return}let i=s.concat(this._inflate[p],this._inflate[d]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[d]=0,this._inflate[p]=[],t&&this.params[`${n}_no_context_takeover`]&&this._inflate.reset()),r(null,i)})}_compress(e,t,r){let n=this._isServer?"server":"client";if(!this._deflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=i.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[d]=0,this._deflate[p]=[],this._deflate.on("data",g)}this._deflate[h]=r,this._deflate.write(e),this._deflate.flush(i.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=s.concat(this._deflate[p],this._deflate[d]);t&&(e=new l(e.buffer,e.byteOffset,e.length-4)),this._deflate[h]=null,this._deflate[d]=0,this._deflate[p]=[],t&&this.params[`${n}_no_context_takeover`]&&this._deflate.reset(),r(null,e)})}}function g(e){this[p].push(e),this[d]+=e.length}function y(e){if(this[d]+=e.length,this[u]._maxPayload<1||this[d]<=this[u]._maxPayload)return void this[p].push(e);this[f]=RangeError("Max payload size exceeded"),this[f].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[f][a]=1009,this.removeListener("data",y),this.reset()}function _(e){this[u]._inflate=null,e[a]=1007,this[h](e)}e.exports=m},"./node_modules/socket.io-client-v4/node_modules/ws/lib/receiver.js":function(e,t,r){"use strict";let{Writable:n}=r("stream"),i=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/permessage-deflate.js"),{BINARY_TYPES:s,EMPTY_BUFFER:o,kStatusCode:a,kWebSocket:l}=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/constants.js"),{concat:c,toArrayBuffer:u,unmask:d}=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/buffer-util.js"),{isValidStatusCode:h,isValidUTF8:p}=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/validation.js"),f=Buffer[Symbol.species],m=0,g=1,y=2,_=3,v=4,b=5,w=6;class j extends n{constructor(e={}){super(),this._allowSynchronousEvents=void 0===e.allowSynchronousEvents||e.allowSynchronousEvents,this._binaryType=e.binaryType||s[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[l]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=m}_write(e,t,r){if(8===this._opcode&&this._state==m)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let t=this._buffers[0];return this._buffers[0]=new f(t.buffer,t.byteOffset+e,t.length-e),new f(t.buffer,t.byteOffset,e)}let t=Buffer.allocUnsafe(e);do{let r=this._buffers[0],n=t.length-e;e>=r.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),n),this._buffers[0]=new f(r.buffer,r.byteOffset+e,r.length-e)),e-=r.length}while(e>0);return t}startLoop(e){this._loop=!0;do switch(this._state){case m:this.getInfo(e);break;case g:this.getPayloadLength16(e);break;case y:this.getPayloadLength64(e);break;case _:this.getMask();break;case v:this.getData(e);break;case b:case w:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if((48&t[0])!=0)return void e(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"));let r=(64&t[0])==64;if(r&&!this._extensions[i.extensionName])return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(this._fin=(128&t[0])==128,this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(r)return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(!this._fragmented)return void e(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"));this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return void e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));this._compressed=r}else{if(!(this._opcode>7)||!(this._opcode<11))return void e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));if(!this._fin)return void e(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"));if(r)return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength)return void e(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"))}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&t[1])==128,this._isServer){if(!this._masked)return void e(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"))}else if(this._masked)return void e(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"));126===this._payloadLength?this._state=g:127===this._payloadLength?this._state=y:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),r=t.readUInt32BE(0);if(r>2097151)return void e(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH"));this._payloadLength=0x100000000*r+t.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return void e(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._masked?this._state=_:this._state=v}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=v}getData(e){let t=o;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!=0&&d(t,this._mask)}if(this._opcode>7)return void this.controlMessage(t,e);if(this._compressed){this._state=b,this.decompress(t,e);return}t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}decompress(e,t){this._extensions[i.extensionName].decompress(e,this._fin,(e,r)=>{if(e)return t(e);if(r.length){if(this._messageLength+=r.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return void t(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(r)}this.dataMessage(t),this._state===m&&this.startLoop(t)})}dataMessage(e){if(!this._fin){this._state=m;return}let t=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let n;n="nodebuffer"===this._binaryType?c(r,t):"arraybuffer"===this._binaryType?u(c(r,t)):r,this._allowSynchronousEvents?(this.emit("message",n,!0),this._state=m):(this._state=w,setImmediate(()=>{this.emit("message",n,!0),this._state=m,this.startLoop(e)}))}else{let n=c(r,t);if(!this._skipUTF8Validation&&!p(n))return void e(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));this._state===b||this._allowSynchronousEvents?(this.emit("message",n,!1),this._state=m):(this._state=w,setImmediate(()=>{this.emit("message",n,!1),this._state=m,this.startLoop(e)}))}}controlMessage(e,t){if(8===this._opcode){if(0===e.length)this._loop=!1,this.emit("conclude",1005,o),this.end();else{let r=e.readUInt16BE(0);if(!h(r))return void t(this.createError(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE"));let n=new f(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!p(n))return void t(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));this._loop=!1,this.emit("conclude",r,n),this.end()}this._state=m;return}this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",e),this._state=m):(this._state=w,setImmediate(()=>{this.emit(9===this._opcode?"ping":"pong",e),this._state=m,this.startLoop(t)}))}createError(e,t,r,n,i){this._loop=!1,this._errored=!0;let s=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(s,this.createError),s.code=i,s[a]=n,s}}e.exports=j},"./node_modules/socket.io-client-v4/node_modules/ws/lib/sender.js":function(e,t,r){"use strict";let n,{Duplex:i}=r("stream"),{randomFillSync:s}=r("crypto"),o=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/permessage-deflate.js"),{EMPTY_BUFFER:a}=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/constants.js"),{isValidStatusCode:l}=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/validation.js"),{mask:c,toBuffer:u}=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/buffer-util.js"),d=Symbol("kByteLength"),h=Buffer.alloc(4),p=8192,f=8192;class m{constructor(e,t,r){this._extensions=t||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let r,i,o=!1,a=2,l=!1;t.mask&&(r=t.maskBuffer||h,t.generateMask?t.generateMask(r):(f===p&&(void 0===n&&(n=Buffer.alloc(p)),s(n,0,p),f=0),r[0]=n[f++],r[1]=n[f++],r[2]=n[f++],r[3]=n[f++]),l=(r[0]|r[1]|r[2]|r[3])==0,a=6),"string"==typeof e?i=(!t.mask||l)&&void 0!==t[d]?t[d]:(e=Buffer.from(e)).length:(i=e.length,o=t.mask&&t.readOnly&&!l);let u=i;i>=65536?(a+=8,u=127):i>125&&(a+=2,u=126);let m=Buffer.allocUnsafe(o?i+a:a);return(m[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(m[0]|=64),m[1]=u,126===u?m.writeUInt16BE(i,2):127===u&&(m[2]=m[3]=0,m.writeUIntBE(i,4,6)),t.mask)?(m[1]|=128,m[a-4]=r[0],m[a-3]=r[1],m[a-2]=r[2],m[a-1]=r[3],l)?[m,e]:o?(c(e,r,m,a,i),[m]):(c(e,r,e,0,i),[m,e]):[m,e]}close(e,t,r,n){let i;if(void 0===e)i=a;else if("number"==typeof e&&l(e))if(void 0!==t&&t.length){let r=Buffer.byteLength(t);if(r>123)throw RangeError("The message must not be greater than 123 bytes");(i=Buffer.allocUnsafe(2+r)).writeUInt16BE(e,0),"string"==typeof t?i.write(t,2):i.set(t,2)}else(i=Buffer.allocUnsafe(2)).writeUInt16BE(e,0);else throw TypeError("First argument must be a valid error code number");let s={[d]:i.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,i,!1,s,n]):this.sendFrame(m.frame(i,s),n)}ping(e,t,r){let n,i;if("string"==typeof e?(n=Buffer.byteLength(e),i=!1):(n=(e=u(e)).length,i=u.readOnly),n>125)throw RangeError("The data size must not be greater than 125 bytes");let s={[d]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:i,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,r]):this.sendFrame(m.frame(e,s),r)}pong(e,t,r){let n,i;if("string"==typeof e?(n=Buffer.byteLength(e),i=!1):(n=(e=u(e)).length,i=u.readOnly),n>125)throw RangeError("The data size must not be greater than 125 bytes");let s={[d]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:i,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,r]):this.sendFrame(m.frame(e,s),r)}send(e,t,r){let n,i,s=this._extensions[o.extensionName],a=t.binary?2:1,l=t.compress;if("string"==typeof e?(n=Buffer.byteLength(e),i=!1):(n=(e=u(e)).length,i=u.readOnly),this._firstFragment?(this._firstFragment=!1,l&&s&&s.params[s._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(l=n>=s._threshold),this._compress=l):(l=!1,a=0),t.fin&&(this._firstFragment=!0),s){let s={[d]:n,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:i,rsv1:l};this._deflating?this.enqueue([this.dispatch,e,this._compress,s,r]):this.dispatch(e,this._compress,s,r)}else this.sendFrame(m.frame(e,{[d]:n,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:i,rsv1:!1}),r)}dispatch(e,t,r,n){if(!t)return void this.sendFrame(m.frame(e,r),n);let i=this._extensions[o.extensionName];this._bufferedBytes+=r[d],this._deflating=!0,i.compress(e,r.fin,(e,t)=>{if(this._socket.destroyed){let e=Error("The socket was closed while data was being compressed");"function"==typeof n&&n(e);for(let t=0;t<this._queue.length;t++){let r=this._queue[t],n=r[r.length-1];"function"==typeof n&&n(e)}return}this._bufferedBytes-=r[d],this._deflating=!1,r.readOnly=!1,this.sendFrame(m.frame(t,r),n),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][d],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][d],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=m},"./node_modules/socket.io-client-v4/node_modules/ws/lib/stream.js":function(e,t,r){"use strict";let{Duplex:n}=r("stream");function i(e){e.emit("close")}function s(){!this.destroyed&&this._writableState.finished&&this.destroy()}function o(e){this.removeListener("error",o),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let r=!0,a=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(t,r){let n=!r&&a._readableState.objectMode?t.toString():t;a.push(n)||e.pause()}),e.once("error",function(e){a.destroyed||(r=!1,a.destroy(e))}),e.once("close",function(){a.destroyed||a.push(null)}),a._destroy=function(t,n){if(e.readyState===e.CLOSED){n(t),process.nextTick(i,a);return}let s=!1;e.once("error",function(e){s=!0,n(e)}),e.once("close",function(){s||n(t),process.nextTick(i,a)}),r&&e.terminate()},a._final=function(t){if(e.readyState===e.CONNECTING)return void e.once("open",function(){a._final(t)});null!==e._socket&&(e._socket._writableState.finished?(t(),a._readableState.endEmitted&&a.destroy()):(e._socket.once("finish",function(){t()}),e.close()))},a._read=function(){e.isPaused&&e.resume()},a._write=function(t,r,n){if(e.readyState===e.CONNECTING)return void e.once("open",function(){a._write(t,r,n)});e.send(t,n)},a.on("end",s),a.on("error",o),a}},"./node_modules/socket.io-client-v4/node_modules/ws/lib/subprotocol.js":function(e,t,r){"use strict";let{tokenChars:n}=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/validation.js");e.exports={parse:function(e){let t=new Set,r=-1,i=-1,s=0;for(;s<e.length;s++){let o=e.charCodeAt(s);if(-1===i&&1===n[o])-1===r&&(r=s);else if(0!==s&&(32===o||9===o))-1===i&&-1!==r&&(i=s);else if(44===o){if(-1===r)throw SyntaxError(`Unexpected character at index ${s}`);-1===i&&(i=s);let n=e.slice(r,i);if(t.has(n))throw SyntaxError(`The "${n}" subprotocol is duplicated`);t.add(n),r=i=-1}else throw SyntaxError(`Unexpected character at index ${s}`)}if(-1===r||-1!==i)throw SyntaxError("Unexpected end of input");let o=e.slice(r,s);if(t.has(o))throw SyntaxError(`The "${o}" subprotocol is duplicated`);return t.add(o),t}}},"./node_modules/socket.io-client-v4/node_modules/ws/lib/validation.js":function(e,t,r){"use strict";let{isUtf8:n}=r("buffer");function i(e){let t=e.length,r=0;for(;r<t;)if((128&e[r])==0)r++;else if((224&e[r])==192){if(r+1===t||(192&e[r+1])!=128||(254&e[r])==192)return!1;r+=2}else if((240&e[r])==224){if(r+2>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||224===e[r]&&(224&e[r+1])==128||237===e[r]&&(224&e[r+1])==160)return!1;r+=3}else{if((248&e[r])!=240||r+3>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||(192&e[r+3])!=128||240===e[r]&&(240&e[r+1])==128||244===e[r]&&e[r+1]>143||e[r]>244)return!1;r+=4}return!0}if(e.exports={isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:i,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},n)e.exports.isValidUTF8=function(e){return e.length<24?i(e):n(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=r("../../node_modules/utf-8-validate/index.js");e.exports.isValidUTF8=function(e){return e.length<32?i(e):t(e)}}catch(e){}},"./node_modules/socket.io-client-v4/node_modules/ws/lib/websocket-server.js":function(e,t,r){"use strict";let n=r("events"),i=r("http"),{Duplex:s}=r("stream"),{createHash:o}=r("crypto"),a=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/extension.js"),l=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/permessage-deflate.js"),c=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/subprotocol.js"),u=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/websocket.js"),{GUID:d,kWebSocket:h}=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/constants.js"),p=/^[+/0-9A-Za-z]{22}==$/,f=0,m=1,g=2;class y extends n{constructor(e,t){if(super(),null==(e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:0x6400000,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:u,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=i.createServer((e,t)=>{let r=i.STATUS_CODES[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let e=this.emit.bind(this,"connection");this._removeListeners=_(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,r,n)=>{this.handleUpgrade(t,r,n,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=f}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===g){e&&this.once("close",()=>{e(Error("The server is not running"))}),process.nextTick(v,this);return}if(e&&this.once("close",e),this._state!==m)if(this._state=m,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(v,this);else{let e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close(()=>{v(this)})}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,n){t.on("error",b);let i=e.headers["sec-websocket-key"],s=e.headers.upgrade,o=+e.headers["sec-websocket-version"];if("GET"!==e.method)return void j(this,e,t,405,"Invalid HTTP method");if(void 0===s||"websocket"!==s.toLowerCase())return void j(this,e,t,400,"Invalid Upgrade header");if(void 0===i||!p.test(i))return void j(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");if(8!==o&&13!==o)return void j(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");if(!this.shouldHandle(e))return void w(t,400);let u=e.headers["sec-websocket-protocol"],d=new Set;if(void 0!==u)try{d=c.parse(u)}catch(r){j(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let h=e.headers["sec-websocket-extensions"],f={};if(this.options.perMessageDeflate&&void 0!==h){let r=new l(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let e=a.parse(h);e[l.extensionName]&&(r.accept(e[l.extensionName]),f[l.extensionName]=r)}catch(r){j(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let s={origin:e.headers[`${8===o?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(s,(s,o,a,l)=>{if(!s)return w(t,o||401,a,l);this.completeUpgrade(f,i,d,e,t,r,n)});if(!this.options.verifyClient(s))return w(t,401)}this.completeUpgrade(f,i,d,e,t,r,n)}completeUpgrade(e,t,r,n,i,s,c){if(!i.readable||!i.writable)return i.destroy();if(i[h])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>f)return w(i,503);let u=o("sha1").update(t+d).digest("base64"),p=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${u}`],m=new this.options.WebSocket(null,void 0,this.options);if(r.size){let e=this.options.handleProtocols?this.options.handleProtocols(r,n):r.values().next().value;e&&(p.push(`Sec-WebSocket-Protocol: ${e}`),m._protocol=e)}if(e[l.extensionName]){let t=e[l.extensionName].params,r=a.format({[l.extensionName]:[t]});p.push(`Sec-WebSocket-Extensions: ${r}`),m._extensions=e}this.emit("headers",p,n),i.write(p.concat("\r\n").join("\r\n")),i.removeListener("error",b),m.setSocket(i,s,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(m),m.on("close",()=>{this.clients.delete(m),this._shouldEmitClose&&!this.clients.size&&process.nextTick(v,this)})),c(m,n)}}function _(e,t){for(let r of Object.keys(t))e.on(r,t[r]);return function(){for(let r of Object.keys(t))e.removeListener(r,t[r])}}function v(e){e._state=g,e.emit("close")}function b(){this.destroy()}function w(e,t,r,n){r=r||i.STATUS_CODES[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${i.STATUS_CODES[t]}\r
`+Object.keys(n).map(e=>`${e}: ${n[e]}`).join("\r\n")+"\r\n\r\n"+r)}function j(e,t,r,n,i){if(e.listenerCount("wsClientError")){let n=Error(i);Error.captureStackTrace(n,j),e.emit("wsClientError",n,r,t)}else w(r,n,i)}e.exports=y},"./node_modules/socket.io-client-v4/node_modules/ws/lib/websocket.js":function(e,t,r){"use strict";let n=r("events"),i=r("https"),s=r("http"),o=r("net"),a=r("tls"),{randomBytes:l,createHash:c}=r("crypto"),{Duplex:u,Readable:d}=r("stream"),{URL:h}=r("url"),p=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/permessage-deflate.js"),f=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/receiver.js"),m=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/sender.js"),{BINARY_TYPES:g,EMPTY_BUFFER:y,GUID:_,kForOnEventAttribute:v,kListener:b,kStatusCode:w,kWebSocket:j,NOOP:S}=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/constants.js"),{EventTarget:{addEventListener:k,removeEventListener:E}}=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/event-target.js"),{format:C,parse:x}=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/extension.js"),{toBuffer:T}=r("./node_modules/socket.io-client-v4/node_modules/ws/lib/buffer-util.js"),O=3e4,I=Symbol("kAborted"),A=[8,13],P=["CONNECTING","OPEN","CLOSING","CLOSED"],R=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class N extends n{constructor(e,t,r){super(),this._binaryType=g[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=y,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=N.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(r=t,t=[]):t=[t]),$(this,e,t,r)):(this._autoPong=r.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){g.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){let n=new f({allowSynchronousEvents:r.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation});this._sender=new m(e,this._extensions,r.generateMask),this._receiver=n,this._socket=e,n[j]=this,e[j]=this,n.on("conclude",z),n.on("drain",F),n.on("error",H),n.on("message",W),n.on("ping",J),n.on("pong",V),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",G),e.on("data",Z),e.on("end",Q),e.on("error",X),this._readyState=N.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=N.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[p.extensionName]&&this._extensions[p.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=N.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==N.CLOSED){if(this.readyState===N.CONNECTING){let e="WebSocket was closed before the connection was established";B(this,this._req,e);return}if(this.readyState===N.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=N.CLOSING,this._sender.close(e,t,!this._isServer,e=>{!e&&(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),O)}}pause(){this.readyState!==N.CONNECTING&&this.readyState!==N.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,r){if(this.readyState===N.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==N.OPEN)return void U(this,e,r);void 0===t&&(t=!this._isServer),this._sender.ping(e||y,t,r)}pong(e,t,r){if(this.readyState===N.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==N.OPEN)return void U(this,e,r);void 0===t&&(t=!this._isServer),this._sender.pong(e||y,t,r)}resume(){this.readyState!==N.CONNECTING&&this.readyState!==N.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,r){if(this.readyState===N.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(r=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==N.OPEN)return void U(this,e,r);let n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[p.extensionName]||(n.compress=!1),this._sender.send(e||y,n,r)}terminate(){if(this.readyState!==N.CLOSED){if(this.readyState===N.CONNECTING){let e="WebSocket was closed before the connection was established";B(this,this._req,e);return}this._socket&&(this._readyState=N.CLOSING,this._socket.destroy())}}}function $(e,t,r,n){let o,a,u,d,f={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:A[1],maxPayload:0x6400000,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(e._autoPong=f.autoPong,!A.includes(f.protocolVersion))throw RangeError(`Unsupported protocol version: ${f.protocolVersion} (supported versions: ${A.join(", ")})`);if(t instanceof h)o=t;else try{o=new h(t)}catch(e){throw SyntaxError(`Invalid URL: ${t}`)}"http:"===o.protocol?o.protocol="ws:":"https:"===o.protocol&&(o.protocol="wss:"),e._url=o.href;let m="wss:"===o.protocol,g="ws+unix:"===o.protocol;if("ws:"===o.protocol||m||g?g&&!o.pathname?a="The URL's pathname is empty":o.hash&&(a="The URL contains a fragment identifier"):a='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"',a){let t=SyntaxError(a);if(0!==e._redirects)return void M(e,t);throw t}let y=m?443:80,v=l(16).toString("base64"),b=m?i.request:s.request,w=new Set;if(f.createConnection=f.createConnection||(m?L:D),f.defaultPort=f.defaultPort||y,f.port=o.port||y,f.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,f.headers={...f.headers,"Sec-WebSocket-Version":f.protocolVersion,"Sec-WebSocket-Key":v,Connection:"Upgrade",Upgrade:"websocket"},f.path=o.pathname+o.search,f.timeout=f.handshakeTimeout,f.perMessageDeflate&&(u=new p(!0!==f.perMessageDeflate?f.perMessageDeflate:{},!1,f.maxPayload),f.headers["Sec-WebSocket-Extensions"]=C({[p.extensionName]:u.offer()})),r.length){for(let e of r){if("string"!=typeof e||!R.test(e)||w.has(e))throw SyntaxError("An invalid or duplicated subprotocol was specified");w.add(e)}f.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(f.origin&&(f.protocolVersion<13?f.headers["Sec-WebSocket-Origin"]=f.origin:f.headers.Origin=f.origin),(o.username||o.password)&&(f.auth=`${o.username}:${o.password}`),g){let e=f.path.split(":");f.socketPath=e[0],f.path=e[1]}if(f.followRedirects){if(0===e._redirects){e._originalIpc=g,e._originalSecure=m,e._originalHostOrSocketPath=g?f.socketPath:o.host;let t=n&&n.headers;if(n={...n,headers:{}},t)for(let[e,r]of Object.entries(t))n.headers[e.toLowerCase()]=r}else if(0===e.listenerCount("redirect")){let t=g?!!e._originalIpc&&f.socketPath===e._originalHostOrSocketPath:!e._originalIpc&&o.host===e._originalHostOrSocketPath;t&&(!e._originalSecure||m)||(delete f.headers.authorization,delete f.headers.cookie,t||delete f.headers.host,f.auth=void 0)}f.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(f.auth).toString("base64")),d=e._req=b(f),e._redirects&&e.emit("redirect",e.url,d)}else d=e._req=b(f);f.timeout&&d.on("timeout",()=>{B(e,d,"Opening handshake has timed out")}),d.on("error",t=>{null===d||d[I]||(d=e._req=null,M(e,t))}),d.on("response",i=>{let s=i.headers.location,o=i.statusCode;if(s&&f.followRedirects&&o>=300&&o<400){let i;if(++e._redirects>f.maxRedirects)return void B(e,d,"Maximum redirects exceeded");d.abort();try{i=new h(s,t)}catch(t){M(e,SyntaxError(`Invalid URL: ${s}`));return}$(e,i,r,n)}else e.emit("unexpected-response",d,i)||B(e,d,`Unexpected server response: ${i.statusCode}`)}),d.on("upgrade",(t,r,n)=>{let i;if(e.emit("upgrade",t),e.readyState!==N.CONNECTING)return;d=e._req=null;let s=t.headers.upgrade;if(void 0===s||"websocket"!==s.toLowerCase())return void B(e,r,"Invalid Upgrade header");let o=c("sha1").update(v+_).digest("base64");if(t.headers["sec-websocket-accept"]!==o)return void B(e,r,"Invalid Sec-WebSocket-Accept header");let a=t.headers["sec-websocket-protocol"];if(void 0!==a?w.size?w.has(a)||(i="Server sent an invalid subprotocol"):i="Server sent a subprotocol but none was requested":w.size&&(i="Server sent no subprotocol"),i)return void B(e,r,i);a&&(e._protocol=a);let l=t.headers["sec-websocket-extensions"];if(void 0!==l){let t;if(!u)return void B(e,r,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");try{t=x(l)}catch(t){B(e,r,"Invalid Sec-WebSocket-Extensions header");return}let n=Object.keys(t);if(1!==n.length||n[0]!==p.extensionName)return void B(e,r,"Server indicated an extension that was not requested");try{u.accept(t[p.extensionName])}catch(t){B(e,r,"Invalid Sec-WebSocket-Extensions header");return}e._extensions[p.extensionName]=u}e.setSocket(r,n,{allowSynchronousEvents:f.allowSynchronousEvents,generateMask:f.generateMask,maxPayload:f.maxPayload,skipUTF8Validation:f.skipUTF8Validation})}),f.finishRequest?f.finishRequest(d,e):d.end()}function M(e,t){e._readyState=N.CLOSING,e.emit("error",t),e.emitClose()}function D(e){return e.path=e.socketPath,o.connect(e)}function L(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=o.isIP(e.host)?"":e.host),a.connect(e)}function B(e,t,r){e._readyState=N.CLOSING;let n=Error(r);Error.captureStackTrace(n,B),t.setHeader?(t[I]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(M,e,n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function U(e,t,r){if(t){let r=T(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}if(r){let t=Error(`WebSocket is not open: readyState ${e.readyState} (${P[e.readyState]})`);process.nextTick(r,t)}}function z(e,t){let r=this[j];r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,void 0!==r._socket[j]&&(r._socket.removeListener("data",Z),process.nextTick(K,r._socket),1005===e?r.close():r.close(e,t))}function F(){let e=this[j];e.isPaused||e._socket.resume()}function H(e){let t=this[j];void 0!==t._socket[j]&&(t._socket.removeListener("data",Z),process.nextTick(K,t._socket),t.close(e[w])),t.emit("error",e)}function q(){this[j].emitClose()}function W(e,t){this[j].emit("message",e,t)}function J(e){let t=this[j];t._autoPong&&t.pong(e,!this._isServer,S),t.emit("ping",e)}function V(e){this[j].emit("pong",e)}function K(e){e.resume()}function G(){let e,t=this[j];this.removeListener("close",G),this.removeListener("data",Z),this.removeListener("end",Q),t._readyState=N.CLOSING,this._readableState.endEmitted||t._closeFrameReceived||t._receiver._writableState.errorEmitted||null===(e=t._socket.read())||t._receiver.write(e),t._receiver.end(),this[j]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",q),t._receiver.on("finish",q))}function Z(e){this[j]._receiver.write(e)||this.pause()}function Q(){let e=this[j];e._readyState=N.CLOSING,e._receiver.end(),this.end()}function X(){let e=this[j];this.removeListener("error",X),this.on("error",S),e&&(e._readyState=N.CLOSING,this.destroy())}Object.defineProperty(N,"CONNECTING",{enumerable:!0,value:P.indexOf("CONNECTING")}),Object.defineProperty(N.prototype,"CONNECTING",{enumerable:!0,value:P.indexOf("CONNECTING")}),Object.defineProperty(N,"OPEN",{enumerable:!0,value:P.indexOf("OPEN")}),Object.defineProperty(N.prototype,"OPEN",{enumerable:!0,value:P.indexOf("OPEN")}),Object.defineProperty(N,"CLOSING",{enumerable:!0,value:P.indexOf("CLOSING")}),Object.defineProperty(N.prototype,"CLOSING",{enumerable:!0,value:P.indexOf("CLOSING")}),Object.defineProperty(N,"CLOSED",{enumerable:!0,value:P.indexOf("CLOSED")}),Object.defineProperty(N.prototype,"CLOSED",{enumerable:!0,value:P.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(e=>{Object.defineProperty(N.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(e=>{Object.defineProperty(N.prototype,`on${e}`,{enumerable:!0,get(){for(let t of this.listeners(e))if(t[v])return t[b];return null},set(t){for(let t of this.listeners(e))if(t[v]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[v]:!0})}})}),N.prototype.addEventListener=k,N.prototype.removeEventListener=E,e.exports=N},"./node_modules/socket.io-client-v4/node_modules/xmlhttprequest-ssl/lib/XMLHttpRequest.js":function(e,t,r){var n=r("fs"),i=r("url"),s=r("child_process").spawn;function o(e){"use strict";e=e||{};var t,o,a=this,l=r("http"),c=r("https"),u={},d=!1,h={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},p=Object.assign({},h),f=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],m=["TRACE","TRACK","CONNECT"],g=!1,y=!1,_=!1,v={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null;var b=function(e){return d||e&&-1===f.indexOf(e.toLowerCase())},w=function(e){return e&&-1===m.indexOf(e)};this.open=function(e,t,r,n,i){if(this.abort(),y=!1,_=!1,!w(e))throw Error("SecurityError: Request method not allowed");u={method:e,url:t.toString(),async:"boolean"!=typeof r||r,user:n||null,password:i||null},j(this.OPENED)},this.setDisableHeaderCheck=function(e){d=e},this.setRequestHeader=function(e,t){if(this.readyState!=this.OPENED)throw Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(!b(e))return console.warn('Refused to set unsafe header "'+e+'"'),!1;if(g)throw Error("INVALID_STATE_ERR: send flag is true");return p[e]=t,!0},this.getResponseHeader=function(e){return"string"==typeof e&&this.readyState>this.OPENED&&o.headers[e.toLowerCase()]&&!y?o.headers[e.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||y)return"";var e="";for(var t in o.headers)"set-cookie"!==t&&"set-cookie2"!==t&&(e+=t+": "+o.headers[t]+"\r\n");return e.substr(0,e.length-2)},this.getRequestHeader=function(e){return"string"==typeof e&&p[e]?p[e]:""},this.send=function(r){if(this.readyState!=this.OPENED)throw Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(g)throw Error("INVALID_STATE_ERR: send has already been called");var d,h=!1,f=!1,m=i.parse(u.url);switch(m.protocol){case"https:":h=!0;case"http:":d=m.hostname;break;case"file:":f=!0;break;case void 0:case"":d="localhost";break;default:throw Error("Protocol not supported.")}if(f){if("GET"!==u.method)throw Error("XMLHttpRequest: Only GET method is supported");if(u.async)n.readFile(unescape(m.pathname),"utf8",function(e,t){e?a.handleError(e,e.errno||-1):(a.status=200,a.responseText=t,j(a.DONE))});else try{this.responseText=n.readFileSync(unescape(m.pathname),"utf8"),this.status=200,j(a.DONE)}catch(e){this.handleError(e,e.errno||-1)}return}var _=m.port||(h?443:80),v=m.pathname+(m.search?m.search:"");if(p.Host=d,h&&443===_||80===_||(p.Host+=":"+m.port),u.user){void 0===u.password&&(u.password="");var b=new Buffer(u.user+":"+u.password);p.Authorization="Basic "+b.toString("base64")}"GET"===u.method||"HEAD"===u.method?r=null:r?(p["Content-Length"]=Buffer.isBuffer(r)?r.length:Buffer.byteLength(r),p["Content-Type"]||(p["Content-Type"]="text/plain;charset=UTF-8")):"POST"===u.method&&(p["Content-Length"]=0);var w=e.agent||!1,S={host:d,port:_,path:v,method:u.method,headers:p,agent:w};if(h&&(S.pfx=e.pfx,S.key=e.key,S.passphrase=e.passphrase,S.cert=e.cert,S.ca=e.ca,S.ciphers=e.ciphers,S.rejectUnauthorized=!1!==e.rejectUnauthorized),y=!1,u.async){var k=h?c.request:l.request;g=!0,a.dispatchEvent("readystatechange");var E=function(r){if(302===(o=r).statusCode||303===o.statusCode||307===o.statusCode){u.url=o.headers.location;var n=i.parse(u.url);d=n.hostname;var s={hostname:n.hostname,port:n.port,path:n.path,method:303===o.statusCode?"GET":u.method,headers:p};h&&(s.pfx=e.pfx,s.key=e.key,s.passphrase=e.passphrase,s.cert=e.cert,s.ca=e.ca,s.ciphers=e.ciphers,s.rejectUnauthorized=!1!==e.rejectUnauthorized),(t=k(s,E).on("error",C)).end();return}o&&o.setEncoding&&o.setEncoding("utf8"),j(a.HEADERS_RECEIVED),a.status=o.statusCode,o.on("data",function(e){e&&(a.responseText+=e),g&&j(a.LOADING)}),o.on("end",function(){g&&(g=!1,j(a.DONE))}),o.on("error",function(e){a.handleError(e)})},C=function(e){a.handleError(e)};t=k(S,E).on("error",C),e.autoUnref&&t.on("socket",e=>{e.unref()}),r&&t.write(r),t.end(),a.dispatchEvent("loadstart")}else{var x=".node-xmlhttprequest-content-"+process.pid,T=".node-xmlhttprequest-sync-"+process.pid;n.writeFileSync(T,"","utf8");for(var O="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(h?"s":"")+".request;var options = "+JSON.stringify(S)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+x+"', 'NODE-XMLHTTPREQUEST-STATUS:' + response.statusCode + ',' + responseText, 'utf8');fs.unlinkSync('"+T+"');});response.on('error', function(error) {fs.writeFileSync('"+x+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+T+"');});}).on('error', function(error) {fs.writeFileSync('"+x+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+T+"');});"+(r?"req.write('"+JSON.stringify(r).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();",I=s(process.argv[0],["-e",O]);n.existsSync(T););if(a.responseText=n.readFileSync(x,"utf8"),I.stdin.end(),n.unlinkSync(x),a.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)){var A=a.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/,"");a.handleError(A,503)}else a.status=a.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/,"$1"),a.responseText=a.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/,"$1"),j(a.DONE)}},this.handleError=function(e,t){this.status=t||0,this.statusText=e,this.responseText=e.stack,y=!0,j(this.DONE)},this.abort=function(){t&&(t.abort(),t=null),p=Object.assign({},h),this.responseText="",this.responseXML="",y=_=!0,this.readyState!==this.UNSENT&&(this.readyState!==this.OPENED||g)&&this.readyState!==this.DONE&&(g=!1,j(this.DONE)),this.readyState=this.UNSENT},this.addEventListener=function(e,t){e in v||(v[e]=[]),v[e].push(t)},this.removeEventListener=function(e,t){e in v&&(v[e]=v[e].filter(function(e){return e!==t}))},this.dispatchEvent=function(e){if("function"==typeof a["on"+e]&&(this.readyState===this.DONE?setImmediate(function(){a["on"+e]()}):a["on"+e]()),e in v)for(let t=0,r=v[e].length;t<r;t++)this.readyState===this.DONE?setImmediate(function(){v[e][t].call(a)}):v[e][t].call(a)};var j=function(e){if(a.readyState!==e&&(a.readyState!==a.UNSENT||!_)&&(a.readyState=e,(u.async||a.readyState<a.OPENED||a.readyState===a.DONE)&&a.dispatchEvent("readystatechange"),a.readyState===a.DONE)){let e;e=_?"abort":y?"error":"load",a.dispatchEvent(e),a.dispatchEvent("loadend")}}}e.exports=o,o.XMLHttpRequest=o},"./node_modules/socket.io-parser/binary.js":function(e,t,r){var n=r("./node_modules/isarray/index.js"),i=r("./node_modules/socket.io-parser/is-buffer.js"),s=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===s.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===s.call(File);function l(e,t){if(!e)return e;if(i(e)){var r={_placeholder:!0,num:t.length};return t.push(e),r}if(n(e)){for(var s=Array(e.length),o=0;o<e.length;o++)s[o]=l(e[o],t);return s}if("object"==typeof e&&!(e instanceof Date)){var s={};for(var a in e)s[a]=l(e[a],t);return s}return e}function c(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw Error("illegal attachments")}if(n(e))for(var r=0;r<e.length;r++)e[r]=c(e[r],t);else if("object"==typeof e)for(var i in e)e[i]=c(e[i],t);return e}t.deconstructPacket=function(e){var t=[],r=e.data,n=e;return n.data=l(r,t),n.attachments=t.length,{packet:n,buffers:t}},t.reconstructPacket=function(e,t){return e.data=c(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){function r(e,c,u){if(!e)return e;if(o&&e instanceof Blob||a&&e instanceof File){s++;var d=new FileReader;d.onload=function(){u?u[c]=this.result:l=this.result,--s||t(l)},d.readAsArrayBuffer(e)}else if(n(e))for(var h=0;h<e.length;h++)r(e[h],h,e);else if("object"==typeof e&&!i(e))for(var p in e)r(e[p],p,e)}var s=0,l=e;r(l),s||t(l)}},"./node_modules/socket.io-parser/index.js":function(e,t,r){var n=r("./node_modules/socket.io-parser/node_modules/debug/src/index.js")("socket.io-parser"),i=r("./node_modules/component-emitter/index.js"),s=r("./node_modules/socket.io-parser/binary.js"),o=r("./node_modules/isarray/index.js"),a=r("./node_modules/socket.io-parser/is-buffer.js");function l(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=l,t.Decoder=p;var c=t.ERROR+'"encode error"';function u(e){var r=""+e.type;if((t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)&&(r+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(r+=e.nsp+","),null!=e.id&&(r+=e.id),null!=e.data){var i=d(e.data);if(!1===i)return c;r+=i}return n("encoded %j as %s",e,r),r}function d(e){try{return JSON.stringify(e)}catch(e){return!1}}function h(e,t){function r(e){var r=s.deconstructPacket(e),n=u(r.packet),i=r.buffers;i.unshift(n),t(i)}s.removeBlobs(e,r)}function p(){this.reconstructor=null}function f(e,t){switch(e){case 0:return"object"==typeof t;case 1:return void 0===t;case 4:return"string"==typeof t||"object"==typeof t;case 2:case 5:return o(t)&&("string"==typeof t[0]||"number"==typeof t[0]);case 3:case 6:return o(t)}}function m(e){var r=0,i={type:Number(e.charAt(0))};if(null==t.types[i.type])return _("unknown packet type "+i.type);if(t.BINARY_EVENT===i.type||t.BINARY_ACK===i.type){for(var s=r+1;"-"!==e.charAt(++r)&&r!=e.length;);var o=e.substring(s,r);if(o!=Number(o)||"-"!==e.charAt(r))throw Error("Illegal attachments");i.attachments=Number(o)}if("/"===e.charAt(r+1)){for(var s=r+1;++r;){var a=e.charAt(r);if(","===a||r===e.length)break}i.nsp=e.substring(s,r)}else i.nsp="/";var l=e.charAt(r+1);if(""!==l&&Number(l)==l){for(var s=r+1;++r;){var a=e.charAt(r);if(null==a||Number(a)!=a){--r;break}if(r===e.length)break}i.id=Number(e.substring(s,r+1))}if(e.charAt(++r)){var c=g(e.substr(r));if(f(i.type,c))i.data=c;else throw Error("invalid payload")}return n("decoded %s as %j",e,i),i}function g(e){try{return JSON.parse(e)}catch(e){return!1}}function y(e){this.reconPack=e,this.buffers=[]}function _(e){return{type:t.ERROR,data:"parser error: "+e}}l.prototype.encode=function(e,r){n("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type?h(e,r):r([u(e)])},i(p.prototype),p.prototype.add=function(e){var r;if("string"==typeof e){if(this.reconstructor)throw Error("got plaintext data when reconstructing a packet");r=m(e),t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type?(this.reconstructor=new y(r),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",r)):this.emit("decoded",r)}else if(a(e)||e.base64)if(this.reconstructor)(r=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",r));else throw Error("got binary data when not reconstructing a packet");else throw Error("Unknown type: "+e)},p.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},y.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=s.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},y.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},"./node_modules/socket.io-parser/is-buffer.js":function(e){e.exports=i;var t="function"==typeof Buffer&&"function"==typeof Buffer.isBuffer,r="function"==typeof ArrayBuffer,n=function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer};function i(e){return t&&Buffer.isBuffer(e)||r&&(e instanceof ArrayBuffer||n(e))}},"./node_modules/socket.io-parser/node_modules/debug/src/browser.js":function(e,t,r){function n(){return"undefined"!=typeof window&&!!window.process&&"renderer"===window.process.type||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),r){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var i=0,s=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(s=i))}),e.splice(s,0,n)}}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function a(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}function l(){try{return window.localStorage}catch(e){}}(t=e.exports=r("./node_modules/socket.io-parser/node_modules/debug/src/debug.js")).log=s,t.formatArgs=i,t.save=o,t.load=a,t.useColors=n,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:l(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(a())},"./node_modules/socket.io-parser/node_modules/debug/src/debug.js":function(e,t,r){function n(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r)|0;return t.colors[Math.abs(n)%t.colors.length]}function i(e){var r;function i(){if(i.enabled){var e=i,n=+new Date,s=n-(r||n);e.diff=s,e.prev=r,e.curr=n,r=n;for(var o=Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var l=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;l++;var i=t.formatters[n];if("function"==typeof i){var s=o[l];r=i.call(e,s),o.splice(l,1),l--}return r}),t.formatArgs.call(e,o);var c=i.log||t.log||console.log.bind(console);c.apply(e,o)}}return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=n(e),i.destroy=s,"function"==typeof t.init&&t.init(i),t.instances.push(i),i}function s(){var e=t.instances.indexOf(this);return -1!==e&&(t.instances.splice(e,1),!0)}function o(e){t.save(e),t.names=[],t.skips=[];var r,n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(RegExp("^"+e.substr(1)+"$")):t.names.push(RegExp("^"+e+"$")));for(r=0;r<t.instances.length;r++){var s=t.instances[r];s.enabled=t.enabled(s.namespace)}}function a(){t.enable("")}function l(e){var r,n;if("*"===e[e.length-1])return!0;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}(t=e.exports=i.debug=i.default=i).coerce=c,t.disable=a,t.enable=o,t.enabled=l,t.humanize=r("./node_modules/socket.io-parser/node_modules/ms/index.js"),t.instances=[],t.names=[],t.skips=[],t.formatters={}},"./node_modules/socket.io-parser/node_modules/debug/src/index.js":function(e,t,r){"undefined"==typeof process||"renderer"===process.type?e.exports=r("./node_modules/socket.io-parser/node_modules/debug/src/browser.js"):e.exports=r("./node_modules/socket.io-parser/node_modules/debug/src/node.js")},"./node_modules/socket.io-parser/node_modules/debug/src/node.js":function(e,t,r){var n=r("tty"),i=r("util");(t=e.exports=r("./node_modules/socket.io-parser/node_modules/debug/src/debug.js")).init=h,t.log=c,t.formatArgs=a,t.save=u,t.load=d,t.useColors=o,t.colors=[6,2,3,4,5,1];try{var s=r("./node_modules/supports-color/index.js");s&&s.level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}function o(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:n.isatty(process.stderr.fd)}function a(e){var r=this.namespace;if(this.useColors){var n=this.color,i="\x1b[3"+(n<8?n:"8;5;"+n),s="  "+i+";1m"+r+" \x1b[0m";e[0]=s+e[0].split("\n").join("\n"+s),e.push(i+"m+"+t.humanize(this.diff)+"\x1b[0m")}else e[0]=l()+r+" "+e[0]}function l(){return t.inspectOpts.hideDate?"":new Date().toISOString()+" "}function c(){return process.stderr.write(i.format.apply(i,arguments)+"\n")}function u(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e}function d(){return process.env.DEBUG}function h(e){e.inspectOpts={};for(var r=Object.keys(t.inspectOpts),n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]}t.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var r=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(e,t){return t.toUpperCase()}),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(function(e){return e.trim()}).join(" ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)},t.enable(d())},"./node_modules/socket.io-parser/node_modules/ms/index.js":function(e){var t=1e3,r=6e4,n=36e5,i=864e5,s=315576e5;function o(e){if(!((e=String(e)).length>100)){var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(o){var a=parseFloat(o[1]),l=(o[2]||"ms").toLowerCase();switch(l){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function a(e){return e>=i?Math.round(e/i)+"d":e>=n?Math.round(e/n)+"h":e>=r?Math.round(e/r)+"m":e>=t?Math.round(e/t)+"s":e+"ms"}function l(e){return c(e,i,"day")||c(e,n,"hour")||c(e,r,"minute")||c(e,t,"second")||e+" ms"}function c(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}e.exports=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return o(e);if("number"===r&&!1===isNaN(e))return t.long?l(e):a(e);throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},"./node_modules/socks-proxy-agent/dist/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SocksProxyAgent=void 0;let a=r("./node_modules/socks/build/index.js"),l=r("./node_modules/agent-base/dist/index.js"),c=o(r("./node_modules/debug/src/index.js")),u=s(r("dns")),d=s(r("net")),h=s(r("tls")),p=r("url"),f=(0,c.default)("socks-proxy-agent"),m=e=>void 0===e.servername&&e.host&&!d.isIP(e.host)?{...e,servername:e.host}:e;function g(e){let t=!1,r=5,n=e.hostname,i=parseInt(e.port,10)||1080;switch(e.protocol.replace(":","")){case"socks4":t=!0,r=4;break;case"socks4a":r=4;break;case"socks5":t=!0,r=5;break;case"socks":case"socks5h":r=5;break;default:throw TypeError(`A "socks" protocol must be specified! Got: ${String(e.protocol)}`)}let s={host:n,port:i,type:r};return e.username&&Object.defineProperty(s,"userId",{value:decodeURIComponent(e.username),enumerable:!1}),null!=e.password&&Object.defineProperty(s,"password",{value:decodeURIComponent(e.password),enumerable:!1}),{lookup:t,proxy:s}}class y extends l.Agent{constructor(e,t){super(t);let{proxy:r,lookup:n}=g("string"==typeof e?new p.URL(e):e);this.shouldLookup=n,this.proxy=r,this.timeout=t?.timeout??null,this.socketOptions=t?.socketOptions??null}async connect(e,t){let{shouldLookup:r,proxy:n,timeout:i}=this;if(!t.host)throw Error("No `host` defined!");let{host:s}=t,{port:o,lookup:l=u.lookup}=t;r&&(s=await new Promise((e,t)=>{l(s,{},(r,n)=>{r?t(r):e(n)})}));let c={proxy:n,destination:{host:s,port:"number"==typeof o?o:parseInt(o,10)},command:"connect",timeout:i??void 0,socket_options:this.socketOptions??void 0},d=t=>{e.destroy(),p.destroy(),t&&t.destroy()};f("Creating socks proxy connection: %o",c);let{socket:p}=await a.SocksClient.createConnection(c);if(f("Successfully created socks proxy connection"),null!==i&&(p.setTimeout(i),p.on("timeout",()=>d())),t.secureEndpoint){f("Upgrading socket connection to TLS");let e=h.connect({..._(m(t),"host","path","port"),socket:p});return e.once("error",t=>{f("Socket TLS error",t.message),d(e)}),e}return p}}function _(e,...t){let r,n={};for(r in e)t.includes(r)||(n[r]=e[r]);return n}y.protocols=["socks","socks4","socks4a","socks5","socks5h"],t.SocksProxyAgent=y},"./node_modules/socks/build/client/socksclient.js":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?r(e.value):i(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.SocksClientError=t.SocksClient=void 0;let i=r("events"),s=r("net"),o=r("./node_modules/smart-buffer/build/smartbuffer.js"),a=r("./node_modules/socks/build/common/constants.js"),l=r("./node_modules/socks/build/common/helpers.js"),c=r("./node_modules/socks/build/common/receivebuffer.js"),u=r("./node_modules/socks/build/common/util.js");Object.defineProperty(t,"SocksClientError",{enumerable:!0,get:function(){return u.SocksClientError}});let d=r("./node_modules/ip-address/dist/ip-address.js");class h extends i.EventEmitter{constructor(e){super(),this.options=Object.assign({},e),(0,l.validateSocksClientOptions)(e),this.setState(a.SocksClientState.Created)}static createConnection(e,t){return new Promise((r,n)=>{try{(0,l.validateSocksClientOptions)(e,["connect"])}catch(e){if("function"==typeof t)return t(e),r(e);return n(e)}let i=new h(e);i.connect(e.existing_socket),i.once("established",e=>{i.removeAllListeners(),"function"==typeof t&&t(null,e),r(e)}),i.once("error",e=>{i.removeAllListeners(),"function"==typeof t?(t(e),r(e)):n(e)})})}static createConnectionChain(e,t){return new Promise((r,i)=>n(this,void 0,void 0,function*(){try{(0,l.validateSocksClientChainOptions)(e)}catch(e){if("function"==typeof t)return t(e),r(e);return i(e)}e.randomizeChain&&(0,u.shuffleArray)(e.proxies);try{let n;for(let t=0;t<e.proxies.length;t++){let r=e.proxies[t],i=t===e.proxies.length-1?e.destination:{host:e.proxies[t+1].host||e.proxies[t+1].ipaddress,port:e.proxies[t+1].port},s=yield h.createConnection({command:"connect",proxy:r,destination:i,existing_socket:n});n=n||s.socket}"function"==typeof t&&t(null,{socket:n}),r({socket:n})}catch(e){"function"==typeof t?(t(e),r(e)):i(e)}}))}static createUDPFrame(e){let t=new o.SmartBuffer;return t.writeUInt16BE(0),t.writeUInt8(e.frameNumber||0),s.isIPv4(e.remoteHost.host)?(t.writeUInt8(a.Socks5HostType.IPv4),t.writeUInt32BE((0,l.ipv4ToInt32)(e.remoteHost.host))):s.isIPv6(e.remoteHost.host)?(t.writeUInt8(a.Socks5HostType.IPv6),t.writeBuffer((0,l.ipToBuffer)(e.remoteHost.host))):(t.writeUInt8(a.Socks5HostType.Hostname),t.writeUInt8(Buffer.byteLength(e.remoteHost.host)),t.writeString(e.remoteHost.host)),t.writeUInt16BE(e.remoteHost.port),t.writeBuffer(e.data),t.toBuffer()}static parseUDPFrame(e){let t=o.SmartBuffer.fromBuffer(e);t.readOffset=2;let r=t.readUInt8(),n=t.readUInt8();return{frameNumber:r,remoteHost:{host:n===a.Socks5HostType.IPv4?(0,l.int32ToIpv4)(t.readUInt32BE()):n===a.Socks5HostType.IPv6?d.Address6.fromByteArray(Array.from(t.readBuffer(16))).canonicalForm():t.readString(t.readUInt8()),port:t.readUInt16BE()},data:t.readBuffer()}}setState(e){this.state!==a.SocksClientState.Error&&(this.state=e)}connect(e){this.onDataReceived=e=>this.onDataReceivedHandler(e),this.onClose=()=>this.onCloseHandler(),this.onError=e=>this.onErrorHandler(e),this.onConnect=()=>this.onConnectHandler();let t=setTimeout(()=>this.onEstablishedTimeout(),this.options.timeout||a.DEFAULT_TIMEOUT);t.unref&&"function"==typeof t.unref&&t.unref(),e?this.socket=e:this.socket=new s.Socket,this.socket.once("close",this.onClose),this.socket.once("error",this.onError),this.socket.once("connect",this.onConnect),this.socket.on("data",this.onDataReceived),this.setState(a.SocksClientState.Connecting),this.receiveBuffer=new c.ReceiveBuffer,e?this.socket.emit("connect"):(this.socket.connect(this.getSocketOptions()),void 0!==this.options.set_tcp_nodelay&&null!==this.options.set_tcp_nodelay&&this.socket.setNoDelay(!!this.options.set_tcp_nodelay)),this.prependOnceListener("established",e=>{setImmediate(()=>{if(this.receiveBuffer.length>0){let t=this.receiveBuffer.get(this.receiveBuffer.length);e.socket.emit("data",t)}e.socket.resume()})})}getSocketOptions(){return Object.assign(Object.assign({},this.options.socket_options),{host:this.options.proxy.host||this.options.proxy.ipaddress,port:this.options.proxy.port})}onEstablishedTimeout(){this.state!==a.SocksClientState.Established&&this.state!==a.SocksClientState.BoundWaitingForConnection&&this.closeSocket(a.ERRORS.ProxyConnectionTimedOut)}onConnectHandler(){this.setState(a.SocksClientState.Connected),4===this.options.proxy.type?this.sendSocks4InitialHandshake():this.sendSocks5InitialHandshake(),this.setState(a.SocksClientState.SentInitialHandshake)}onDataReceivedHandler(e){this.receiveBuffer.append(e),this.processData()}processData(){for(;this.state!==a.SocksClientState.Established&&this.state!==a.SocksClientState.Error&&this.receiveBuffer.length>=this.nextRequiredPacketBufferSize;)if(this.state===a.SocksClientState.SentInitialHandshake)4===this.options.proxy.type?this.handleSocks4FinalHandshakeResponse():this.handleInitialSocks5HandshakeResponse();else if(this.state===a.SocksClientState.SentAuthentication)this.handleInitialSocks5AuthenticationHandshakeResponse();else if(this.state===a.SocksClientState.SentFinalHandshake)this.handleSocks5FinalHandshakeResponse();else if(this.state===a.SocksClientState.BoundWaitingForConnection)4===this.options.proxy.type?this.handleSocks4IncomingConnectionResponse():this.handleSocks5IncomingConnectionResponse();else{this.closeSocket(a.ERRORS.InternalError);break}}onCloseHandler(){this.closeSocket(a.ERRORS.SocketClosed)}onErrorHandler(e){this.closeSocket(e.message)}removeInternalSocketHandlers(){this.socket.pause(),this.socket.removeListener("data",this.onDataReceived),this.socket.removeListener("close",this.onClose),this.socket.removeListener("error",this.onError),this.socket.removeListener("connect",this.onConnect)}closeSocket(e){this.state!==a.SocksClientState.Error&&(this.setState(a.SocksClientState.Error),this.socket.destroy(),this.removeInternalSocketHandlers(),this.emit("error",new u.SocksClientError(e,this.options)))}sendSocks4InitialHandshake(){let e=this.options.proxy.userId||"",t=new o.SmartBuffer;t.writeUInt8(4),t.writeUInt8(a.SocksCommand[this.options.command]),t.writeUInt16BE(this.options.destination.port),s.isIPv4(this.options.destination.host)?(t.writeBuffer((0,l.ipToBuffer)(this.options.destination.host)),t.writeStringNT(e)):(t.writeUInt8(0),t.writeUInt8(0),t.writeUInt8(0),t.writeUInt8(1),t.writeStringNT(e),t.writeStringNT(this.options.destination.host)),this.nextRequiredPacketBufferSize=a.SOCKS_INCOMING_PACKET_SIZES.Socks4Response,this.socket.write(t.toBuffer())}handleSocks4FinalHandshakeResponse(){let e=this.receiveBuffer.get(8);if(e[1]!==a.Socks4Response.Granted)this.closeSocket(`${a.ERRORS.Socks4ProxyRejectedConnection} - (${a.Socks4Response[e[1]]})`);else if(a.SocksCommand[this.options.command]===a.SocksCommand.bind){let t=o.SmartBuffer.fromBuffer(e);t.readOffset=2;let r={port:t.readUInt16BE(),host:(0,l.int32ToIpv4)(t.readUInt32BE())};"0.0.0.0"===r.host&&(r.host=this.options.proxy.ipaddress),this.setState(a.SocksClientState.BoundWaitingForConnection),this.emit("bound",{remoteHost:r,socket:this.socket})}else this.setState(a.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{socket:this.socket})}handleSocks4IncomingConnectionResponse(){let e=this.receiveBuffer.get(8);if(e[1]!==a.Socks4Response.Granted)this.closeSocket(`${a.ERRORS.Socks4ProxyRejectedIncomingBoundConnection} - (${a.Socks4Response[e[1]]})`);else{let t=o.SmartBuffer.fromBuffer(e);t.readOffset=2;let r={port:t.readUInt16BE(),host:(0,l.int32ToIpv4)(t.readUInt32BE())};this.setState(a.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:r,socket:this.socket})}}sendSocks5InitialHandshake(){let e=new o.SmartBuffer,t=[a.Socks5Auth.NoAuth];for(let r of((this.options.proxy.userId||this.options.proxy.password)&&t.push(a.Socks5Auth.UserPass),void 0!==this.options.proxy.custom_auth_method&&t.push(this.options.proxy.custom_auth_method),e.writeUInt8(5),e.writeUInt8(t.length),t))e.writeUInt8(r);this.nextRequiredPacketBufferSize=a.SOCKS_INCOMING_PACKET_SIZES.Socks5InitialHandshakeResponse,this.socket.write(e.toBuffer()),this.setState(a.SocksClientState.SentInitialHandshake)}handleInitialSocks5HandshakeResponse(){let e=this.receiveBuffer.get(2);5!==e[0]?this.closeSocket(a.ERRORS.InvalidSocks5IntiailHandshakeSocksVersion):e[1]===a.SOCKS5_NO_ACCEPTABLE_AUTH?this.closeSocket(a.ERRORS.InvalidSocks5InitialHandshakeNoAcceptedAuthType):e[1]===a.Socks5Auth.NoAuth?(this.socks5ChosenAuthType=a.Socks5Auth.NoAuth,this.sendSocks5CommandRequest()):e[1]===a.Socks5Auth.UserPass?(this.socks5ChosenAuthType=a.Socks5Auth.UserPass,this.sendSocks5UserPassAuthentication()):e[1]===this.options.proxy.custom_auth_method?(this.socks5ChosenAuthType=this.options.proxy.custom_auth_method,this.sendSocks5CustomAuthentication()):this.closeSocket(a.ERRORS.InvalidSocks5InitialHandshakeUnknownAuthType)}sendSocks5UserPassAuthentication(){let e=this.options.proxy.userId||"",t=this.options.proxy.password||"",r=new o.SmartBuffer;r.writeUInt8(1),r.writeUInt8(Buffer.byteLength(e)),r.writeString(e),r.writeUInt8(Buffer.byteLength(t)),r.writeString(t),this.nextRequiredPacketBufferSize=a.SOCKS_INCOMING_PACKET_SIZES.Socks5UserPassAuthenticationResponse,this.socket.write(r.toBuffer()),this.setState(a.SocksClientState.SentAuthentication)}sendSocks5CustomAuthentication(){return n(this,void 0,void 0,function*(){this.nextRequiredPacketBufferSize=this.options.proxy.custom_auth_response_size,this.socket.write((yield this.options.proxy.custom_auth_request_handler())),this.setState(a.SocksClientState.SentAuthentication)})}handleSocks5CustomAuthHandshakeResponse(e){return n(this,void 0,void 0,function*(){return yield this.options.proxy.custom_auth_response_handler(e)})}handleSocks5AuthenticationNoAuthHandshakeResponse(e){return n(this,void 0,void 0,function*(){return 0===e[1]})}handleSocks5AuthenticationUserPassHandshakeResponse(e){return n(this,void 0,void 0,function*(){return 0===e[1]})}handleInitialSocks5AuthenticationHandshakeResponse(){return n(this,void 0,void 0,function*(){this.setState(a.SocksClientState.ReceivedAuthenticationResponse);let e=!1;this.socks5ChosenAuthType===a.Socks5Auth.NoAuth?e=yield this.handleSocks5AuthenticationNoAuthHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===a.Socks5Auth.UserPass?e=yield this.handleSocks5AuthenticationUserPassHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===this.options.proxy.custom_auth_method&&(e=yield this.handleSocks5CustomAuthHandshakeResponse(this.receiveBuffer.get(this.options.proxy.custom_auth_response_size))),e?this.sendSocks5CommandRequest():this.closeSocket(a.ERRORS.Socks5AuthenticationFailed)})}sendSocks5CommandRequest(){let e=new o.SmartBuffer;e.writeUInt8(5),e.writeUInt8(a.SocksCommand[this.options.command]),e.writeUInt8(0),s.isIPv4(this.options.destination.host)?(e.writeUInt8(a.Socks5HostType.IPv4),e.writeBuffer((0,l.ipToBuffer)(this.options.destination.host))):s.isIPv6(this.options.destination.host)?(e.writeUInt8(a.Socks5HostType.IPv6),e.writeBuffer((0,l.ipToBuffer)(this.options.destination.host))):(e.writeUInt8(a.Socks5HostType.Hostname),e.writeUInt8(this.options.destination.host.length),e.writeString(this.options.destination.host)),e.writeUInt16BE(this.options.destination.port),this.nextRequiredPacketBufferSize=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.socket.write(e.toBuffer()),this.setState(a.SocksClientState.SentFinalHandshake)}handleSocks5FinalHandshakeResponse(){let e=this.receiveBuffer.peek(5);if(5!==e[0]||e[1]!==a.Socks5Response.Granted)this.closeSocket(`${a.ERRORS.InvalidSocks5FinalHandshakeRejected} - ${a.Socks5Response[e[1]]}`);else{let t,r,n=e[3];if(n===a.Socks5HostType.IPv4){let e=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<e){this.nextRequiredPacketBufferSize=e;return}r=o.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(4)),"0.0.0.0"===(t={host:(0,l.int32ToIpv4)(r.readUInt32BE()),port:r.readUInt16BE()}).host&&(t.host=this.options.proxy.ipaddress)}else if(n===a.Socks5HostType.Hostname){let n=e[4],i=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(n);if(this.receiveBuffer.length<i){this.nextRequiredPacketBufferSize=i;return}t={host:(r=o.SmartBuffer.fromBuffer(this.receiveBuffer.get(i).slice(5))).readString(n),port:r.readUInt16BE()}}else if(n===a.Socks5HostType.IPv6){let e=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<e){this.nextRequiredPacketBufferSize=e;return}r=o.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(4)),t={host:d.Address6.fromByteArray(Array.from(r.readBuffer(16))).canonicalForm(),port:r.readUInt16BE()}}this.setState(a.SocksClientState.ReceivedFinalResponse),a.SocksCommand[this.options.command]===a.SocksCommand.connect?(this.setState(a.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:t,socket:this.socket})):a.SocksCommand[this.options.command]===a.SocksCommand.bind?(this.setState(a.SocksClientState.BoundWaitingForConnection),this.nextRequiredPacketBufferSize=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.emit("bound",{remoteHost:t,socket:this.socket})):a.SocksCommand[this.options.command]===a.SocksCommand.associate&&(this.setState(a.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:t,socket:this.socket}))}}handleSocks5IncomingConnectionResponse(){let e=this.receiveBuffer.peek(5);if(5!==e[0]||e[1]!==a.Socks5Response.Granted)this.closeSocket(`${a.ERRORS.Socks5ProxyRejectedIncomingBoundConnection} - ${a.Socks5Response[e[1]]}`);else{let t,r,n=e[3];if(n===a.Socks5HostType.IPv4){let e=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<e){this.nextRequiredPacketBufferSize=e;return}r=o.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(4)),"0.0.0.0"===(t={host:(0,l.int32ToIpv4)(r.readUInt32BE()),port:r.readUInt16BE()}).host&&(t.host=this.options.proxy.ipaddress)}else if(n===a.Socks5HostType.Hostname){let n=e[4],i=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(n);if(this.receiveBuffer.length<i){this.nextRequiredPacketBufferSize=i;return}t={host:(r=o.SmartBuffer.fromBuffer(this.receiveBuffer.get(i).slice(5))).readString(n),port:r.readUInt16BE()}}else if(n===a.Socks5HostType.IPv6){let e=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<e){this.nextRequiredPacketBufferSize=e;return}r=o.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(4)),t={host:d.Address6.fromByteArray(Array.from(r.readBuffer(16))).canonicalForm(),port:r.readUInt16BE()}}this.setState(a.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:t,socket:this.socket})}}get socksClientOptions(){return Object.assign({},this.options)}}t.SocksClient=h},"./node_modules/socks/build/common/constants.js":function(e,t){"use strict";var r,n,i,s,o,a;Object.defineProperty(t,"__esModule",{value:!0}),t.SOCKS5_NO_ACCEPTABLE_AUTH=t.SOCKS5_CUSTOM_AUTH_END=t.SOCKS5_CUSTOM_AUTH_START=t.SOCKS_INCOMING_PACKET_SIZES=t.SocksClientState=t.Socks5Response=t.Socks5HostType=t.Socks5Auth=t.Socks4Response=t.SocksCommand=t.ERRORS=t.DEFAULT_TIMEOUT=void 0,t.DEFAULT_TIMEOUT=3e4,t.ERRORS={InvalidSocksCommand:"An invalid SOCKS command was provided. Valid options are connect, bind, and associate.",InvalidSocksCommandForOperation:"An invalid SOCKS command was provided. Only a subset of commands are supported for this operation.",InvalidSocksCommandChain:"An invalid SOCKS command was provided. Chaining currently only supports the connect command.",InvalidSocksClientOptionsDestination:"An invalid destination host was provided.",InvalidSocksClientOptionsExistingSocket:"An invalid existing socket was provided. This should be an instance of stream.Duplex.",InvalidSocksClientOptionsProxy:"Invalid SOCKS proxy details were provided.",InvalidSocksClientOptionsTimeout:"An invalid timeout value was provided. Please enter a value above 0 (in ms).",InvalidSocksClientOptionsProxiesLength:"At least two socks proxies must be provided for chaining.",InvalidSocksClientOptionsCustomAuthRange:"Custom auth must be a value between 0x80 and 0xFE.",InvalidSocksClientOptionsCustomAuthOptions:"When a custom_auth_method is provided, custom_auth_request_handler, custom_auth_response_size, and custom_auth_response_handler must also be provided and valid.",NegotiationError:"Negotiation error",SocketClosed:"Socket closed",ProxyConnectionTimedOut:"Proxy connection timed out",InternalError:"SocksClient internal error (this should not happen)",InvalidSocks4HandshakeResponse:"Received invalid Socks4 handshake response",Socks4ProxyRejectedConnection:"Socks4 Proxy rejected connection",InvalidSocks4IncomingConnectionResponse:"Socks4 invalid incoming connection response",Socks4ProxyRejectedIncomingBoundConnection:"Socks4 Proxy rejected incoming bound connection",InvalidSocks5InitialHandshakeResponse:"Received invalid Socks5 initial handshake response",InvalidSocks5IntiailHandshakeSocksVersion:"Received invalid Socks5 initial handshake (invalid socks version)",InvalidSocks5InitialHandshakeNoAcceptedAuthType:"Received invalid Socks5 initial handshake (no accepted authentication type)",InvalidSocks5InitialHandshakeUnknownAuthType:"Received invalid Socks5 initial handshake (unknown authentication type)",Socks5AuthenticationFailed:"Socks5 Authentication failed",InvalidSocks5FinalHandshake:"Received invalid Socks5 final handshake response",InvalidSocks5FinalHandshakeRejected:"Socks5 proxy rejected connection",InvalidSocks5IncomingConnectionResponse:"Received invalid Socks5 incoming connection response",Socks5ProxyRejectedIncomingBoundConnection:"Socks5 Proxy rejected incoming bound connection"},t.SOCKS_INCOMING_PACKET_SIZES={Socks5InitialHandshakeResponse:2,Socks5UserPassAuthenticationResponse:2,Socks5ResponseHeader:5,Socks5ResponseIPv4:10,Socks5ResponseIPv6:22,Socks5ResponseHostname:e=>e+7,Socks4Response:8},function(e){e[e.connect=1]="connect",e[e.bind=2]="bind",e[e.associate=3]="associate"}(r||(t.SocksCommand=r={})),function(e){e[e.Granted=90]="Granted",e[e.Failed=91]="Failed",e[e.Rejected=92]="Rejected",e[e.RejectedIdent=93]="RejectedIdent"}(n||(t.Socks4Response=n={})),function(e){e[e.NoAuth=0]="NoAuth",e[e.GSSApi=1]="GSSApi",e[e.UserPass=2]="UserPass"}(i||(t.Socks5Auth=i={})),t.SOCKS5_CUSTOM_AUTH_START=128,t.SOCKS5_CUSTOM_AUTH_END=254,t.SOCKS5_NO_ACCEPTABLE_AUTH=255,function(e){e[e.Granted=0]="Granted",e[e.Failure=1]="Failure",e[e.NotAllowed=2]="NotAllowed",e[e.NetworkUnreachable=3]="NetworkUnreachable",e[e.HostUnreachable=4]="HostUnreachable",e[e.ConnectionRefused=5]="ConnectionRefused",e[e.TTLExpired=6]="TTLExpired",e[e.CommandNotSupported=7]="CommandNotSupported",e[e.AddressNotSupported=8]="AddressNotSupported"}(s||(t.Socks5Response=s={})),function(e){e[e.IPv4=1]="IPv4",e[e.Hostname=3]="Hostname",e[e.IPv6=4]="IPv6"}(o||(t.Socks5HostType=o={})),function(e){e[e.Created=0]="Created",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected",e[e.SentInitialHandshake=3]="SentInitialHandshake",e[e.ReceivedInitialHandshakeResponse=4]="ReceivedInitialHandshakeResponse",e[e.SentAuthentication=5]="SentAuthentication",e[e.ReceivedAuthenticationResponse=6]="ReceivedAuthenticationResponse",e[e.SentFinalHandshake=7]="SentFinalHandshake",e[e.ReceivedFinalResponse=8]="ReceivedFinalResponse",e[e.BoundWaitingForConnection=9]="BoundWaitingForConnection",e[e.Established=10]="Established",e[e.Disconnected=11]="Disconnected",e[e.Error=99]="Error"}(a||(t.SocksClientState=a={}))},"./node_modules/socks/build/common/helpers.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ipToBuffer=t.int32ToIpv4=t.ipv4ToInt32=t.validateSocksClientChainOptions=t.validateSocksClientOptions=void 0;let n=r("./node_modules/socks/build/common/util.js"),i=r("./node_modules/socks/build/common/constants.js"),s=r("stream"),o=r("./node_modules/ip-address/dist/ip-address.js"),a=r("net");function l(e,t){if(void 0!==e.custom_auth_method){if(e.custom_auth_method<i.SOCKS5_CUSTOM_AUTH_START||e.custom_auth_method>i.SOCKS5_CUSTOM_AUTH_END)throw new n.SocksClientError(i.ERRORS.InvalidSocksClientOptionsCustomAuthRange,t);if(void 0===e.custom_auth_request_handler||"function"!=typeof e.custom_auth_request_handler||void 0===e.custom_auth_response_size||void 0===e.custom_auth_response_handler||"function"!=typeof e.custom_auth_response_handler)throw new n.SocksClientError(i.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,t)}}function c(e){return e&&"string"==typeof e.host&&"number"==typeof e.port&&e.port>=0&&e.port<=65535}function u(e){return e&&("string"==typeof e.host||"string"==typeof e.ipaddress)&&"number"==typeof e.port&&e.port>=0&&e.port<=65535&&(4===e.type||5===e.type)}function d(e){return"number"==typeof e&&e>0}t.validateSocksClientOptions=function(e,t=["connect","bind","associate"]){if(!i.SocksCommand[e.command])throw new n.SocksClientError(i.ERRORS.InvalidSocksCommand,e);if(-1===t.indexOf(e.command))throw new n.SocksClientError(i.ERRORS.InvalidSocksCommandForOperation,e);if(!c(e.destination))throw new n.SocksClientError(i.ERRORS.InvalidSocksClientOptionsDestination,e);if(!u(e.proxy))throw new n.SocksClientError(i.ERRORS.InvalidSocksClientOptionsProxy,e);if(l(e.proxy,e),e.timeout&&!d(e.timeout))throw new n.SocksClientError(i.ERRORS.InvalidSocksClientOptionsTimeout,e);if(e.existing_socket&&!(e.existing_socket instanceof s.Duplex))throw new n.SocksClientError(i.ERRORS.InvalidSocksClientOptionsExistingSocket,e)},t.validateSocksClientChainOptions=function(e){if("connect"!==e.command)throw new n.SocksClientError(i.ERRORS.InvalidSocksCommandChain,e);if(!c(e.destination))throw new n.SocksClientError(i.ERRORS.InvalidSocksClientOptionsDestination,e);if(!(e.proxies&&Array.isArray(e.proxies)&&e.proxies.length>=2))throw new n.SocksClientError(i.ERRORS.InvalidSocksClientOptionsProxiesLength,e);if(e.proxies.forEach(t=>{if(!u(t))throw new n.SocksClientError(i.ERRORS.InvalidSocksClientOptionsProxy,e);l(t,e)}),e.timeout&&!d(e.timeout))throw new n.SocksClientError(i.ERRORS.InvalidSocksClientOptionsTimeout,e)},t.ipv4ToInt32=function(e){return new o.Address4(e).toArray().reduce((e,t)=>(e<<8)+t,0)},t.int32ToIpv4=function(e){return[e>>>24&255,e>>>16&255,e>>>8&255,255&e].join(".")},t.ipToBuffer=function(e){if(a.isIPv4(e)){let t=new o.Address4(e);return Buffer.from(t.toArray())}if(a.isIPv6(e)){let t=new o.Address6(e);return Buffer.from(t.canonicalForm().split(":").map(e=>e.padStart(4,"0")).join(""),"hex")}throw Error("Invalid IP address format")}},"./node_modules/socks/build/common/receivebuffer.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReceiveBuffer=void 0;class r{constructor(e=4096){this.buffer=Buffer.allocUnsafe(e),this.offset=0,this.originalSize=e}get length(){return this.offset}append(e){if(!Buffer.isBuffer(e))throw Error("Attempted to append a non-buffer instance to ReceiveBuffer.");if(this.offset+e.length>=this.buffer.length){let t=this.buffer;this.buffer=Buffer.allocUnsafe(Math.max(this.buffer.length+this.originalSize,this.buffer.length+e.length)),t.copy(this.buffer)}return e.copy(this.buffer,this.offset),this.offset+=e.length}peek(e){if(e>this.offset)throw Error("Attempted to read beyond the bounds of the managed internal data.");return this.buffer.slice(0,e)}get(e){if(e>this.offset)throw Error("Attempted to read beyond the bounds of the managed internal data.");let t=Buffer.allocUnsafe(e);return this.buffer.slice(0,e).copy(t),this.buffer.copyWithin(0,e,e+this.offset-e),this.offset-=e,t}}t.ReceiveBuffer=r},"./node_modules/socks/build/common/util.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shuffleArray=t.SocksClientError=void 0;class r extends Error{constructor(e,t){super(e),this.options=t}}t.SocksClientError=r,t.shuffleArray=function(e){for(let t=e.length-1;t>0;t--){let r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}}},"./node_modules/socks/build/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/socks/build/client/socksclient.js"),t)},"./node_modules/sprintf-js/src/sprintf.js":function(e,t){!function(){"use strict";var e=/[^T]/,r=/[^v]/,n=/[diefg]/,i=/[bcdiefguxX]/,s=/[j]/,o=/^[^\x25]+/,a=/^\x25{2}/,l=/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,c=/^([a-z_][a-z_\d]*)/i,u=/^\.([a-z_][a-z_\d]*)/i,d=/^\[(\d+)\]/,h=/^[+-]/;function p(e){return m(y(e),arguments)}function f(e,t){return p.apply(null,[e].concat(t||[]))}function m(t,o){var a,l,c,u,d,f,m,g,y,_=1,v=t.length,b="";for(l=0;l<v;l++)if("string"==typeof t[l])b+=t[l];else if("object"==typeof t[l]){if((u=t[l]).keys)for(c=0,a=o[_];c<u.keys.length;c++){if(void 0==a)throw Error(p('[sprintf] Cannot access property "%s" of undefined value "%s"',u.keys[c],u.keys[c-1]));a=a[u.keys[c]]}else a=u.param_no?o[u.param_no]:o[_++];if(e.test(u.type)&&r.test(u.type)&&a instanceof Function&&(a=a()),i.test(u.type)&&"number"!=typeof a&&isNaN(a))throw TypeError(p("[sprintf] expecting number but found %T",a));switch(n.test(u.type)&&(g=a>=0),u.type){case"b":a=parseInt(a,10).toString(2);break;case"c":a=String.fromCharCode(parseInt(a,10));break;case"d":case"i":a=parseInt(a,10);break;case"j":a=JSON.stringify(a,null,u.width?parseInt(u.width):0);break;case"e":a=u.precision?parseFloat(a).toExponential(u.precision):parseFloat(a).toExponential();break;case"f":a=u.precision?parseFloat(a).toFixed(u.precision):parseFloat(a);break;case"g":a=u.precision?String(Number(a.toPrecision(u.precision))):parseFloat(a);break;case"o":a=(parseInt(a,10)>>>0).toString(8);break;case"s":a=String(a),a=u.precision?a.substring(0,u.precision):a;break;case"t":a=String(!!a),a=u.precision?a.substring(0,u.precision):a;break;case"T":a=Object.prototype.toString.call(a).slice(8,-1).toLowerCase(),a=u.precision?a.substring(0,u.precision):a;break;case"u":a=parseInt(a,10)>>>0;break;case"v":a=a.valueOf(),a=u.precision?a.substring(0,u.precision):a;break;case"x":a=(parseInt(a,10)>>>0).toString(16);break;case"X":a=(parseInt(a,10)>>>0).toString(16).toUpperCase()}s.test(u.type)?b+=a:(n.test(u.type)&&(!g||u.sign)?(y=g?"+":"-",a=a.toString().replace(h,"")):y="",f=u.pad_char?"0"===u.pad_char?"0":u.pad_char.charAt(1):" ",m=u.width-(y+a).length,d=u.width&&m>0?f.repeat(m):"",b+=u.align?y+a+d:"0"===f?y+d+a:d+y+a)}return b}var g=Object.create(null);function y(e){if(g[e])return g[e];for(var t,r=e,n=[],i=0;r;){if(null!==(t=o.exec(r)))n.push(t[0]);else if(null!==(t=a.exec(r)))n.push("%");else if(null!==(t=l.exec(r))){if(t[2]){i|=1;var s=[],h=t[2],p=[];if(null!==(p=c.exec(h)))for(s.push(p[1]);""!==(h=h.substring(p[0].length));)if(null!==(p=u.exec(h)))s.push(p[1]);else if(null!==(p=d.exec(h)))s.push(p[1]);else throw SyntaxError("[sprintf] failed to parse named argument key");else throw SyntaxError("[sprintf] failed to parse named argument key");t[2]=s}else i|=2;if(3===i)throw Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}else throw SyntaxError("[sprintf] unexpected placeholder");r=r.substring(t[0].length)}return g[e]=n}t.sprintf=p,t.vsprintf=f,"undefined"!=typeof window&&(window.sprintf=p,window.vsprintf=f,"function"==typeof define&&define.amd&&define(function(){return{sprintf:p,vsprintf:f}}))}()},"./node_modules/stream-length/index.js":function(e,t,r){e.exports=r("./node_modules/stream-length/lib/stream-length.js")},"./node_modules/stream-length/lib/stream-length.js":function(e,t,r){var n,i,s,o,a,l,c,u,d;s=(n=r("./node_modules/bluebird/js/main/bluebird.js")).promisifyAll(r("fs")),o=function(e,t){return t().nodeify(e)},i=function(e,t){return new n(function(r,n){return t(e,function(e){return null==e?n(Error("Could not find a length using this lengthRetriever.")):e instanceof Error?n(e):r(e)})})},a=function(e,t){return e instanceof Buffer?t(e.length):t(null)},u=function(e,t){var r;return e.hasOwnProperty("fd")?void 0!==e.end&&e.end!==1/0&&void 0!==e.start?t(e.end+1-(null!=(r=e.start)?r:0)):n.try(function(){return s.statAsync(e.path)}).then(function(r){var n;return t(r.size-(null!=(n=e.start)?n:0))}).catch(function(e){return t(e)}):t(null)},c=function(e,t){return t(e.hasOwnProperty("httpVersion")&&null!=e.headers["content-length"]?parseInt(e.headers["content-length"]):null)},d=function(e,t){return e.hasOwnProperty("httpModule")?e.on("response",function(e){return null!=e.headers["content-length"]?t(parseInt(e.headers["content-length"])):t(null)}):t(null)},l=function(e,t){return null!=e.getCombinedStreamLength?e.getCombinedStreamLength().then(function(e){return t(e)}).catch(function(e){return t(e)}):t(null)},e.exports=function(e,t,r){return null==t&&(t={}),o(r,function(){var r,s,o,h,p,f,m,g;if(s=[],null!=t.lengthRetrievers)for(o=0,p=(m=t.lengthRetrievers).length;o<p;o++)r=m[o],s.push(i(e,r));for(h=0,f=(g=[a,u,c,d,l]).length;h<f;h++)r=g[h],s.push(i(e,r));return n.any(s)})}},"./node_modules/strnum/strnum.js":function(e){let t=/^[-+]?0x[a-fA-F0-9]+$/,r=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,n={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function i(e){return e&&-1!==e.indexOf(".")&&("."===(e=e.replace(/0+$/,""))?e="0":"."===e[0]?e="0"+e:"."===e[e.length-1]&&(e=e.substr(0,e.length-1))),e}function s(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw Error("parseInt, Number.parseInt, window.parseInt are not supported")}e.exports=function(e,o={}){if(o=Object.assign({},n,o),!e||"string"!=typeof e)return e;let a=e.trim();if(void 0!==o.skipLike&&o.skipLike.test(a))return e;if("0"===e)return 0;if(o.hex&&t.test(a))return s(a,16);if(-1!==a.search(/[eE]/)){let t=a.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(!t)return e;if(o.leadingZeros)a=(t[1]||"")+t[3];else if("0"!==t[2]||"."!==t[3][0])return e;return o.eNotation?Number(a):e}{let t=r.exec(a);if(!t)return e;{let r=t[1],n=t[2],s=i(t[3]);if(!o.leadingZeros&&n.length>0&&r&&"."!==a[2])return e;{if(!o.leadingZeros&&n.length>0&&!r&&"."!==a[1])return e;if(o.leadingZeros&&n===e)return 0;let t=Number(a),i=""+t;if(-1!==i.search(/[eE]/))if(o.eNotation)return t;else return e;if(-1!==a.indexOf("."))if("0"===i&&""===s)return t;else if(i===s)return t;else if(r&&i==="-"+s)return t;else return e;return n?s===i||r+s===i?t:e:a===i||a===r+i?t:e}}}}},"./node_modules/strtok3/lib/AbstractTokenizer.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractTokenizer=void 0;let n=r("./node_modules/peek-readable/lib/index.js");class i{constructor(e){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=e||{}}async readToken(e,t=this.position){let r=Buffer.alloc(e.len);if(await this.readBuffer(r,{position:t})<e.len)throw new n.EndOfStreamError;return e.get(r,0)}async peekToken(e,t=this.position){let r=Buffer.alloc(e.len);if(await this.peekBuffer(r,{position:t})<e.len)throw new n.EndOfStreamError;return e.get(r,0)}async readNumber(e){if(await this.readBuffer(this.numBuffer,{length:e.len})<e.len)throw new n.EndOfStreamError;return e.get(this.numBuffer,0)}async peekNumber(e){if(await this.peekBuffer(this.numBuffer,{length:e.len})<e.len)throw new n.EndOfStreamError;return e.get(this.numBuffer,0)}async ignore(e){if(void 0!==this.fileInfo.size){let t=this.fileInfo.size-this.position;if(e>t)return this.position+=t,t}return this.position+=e,e}async close(){}normalizeOptions(e,t){if(t&&void 0!==t.position&&t.position<this.position)throw Error("`options.position` must be equal or greater than `tokenizer.position`");return t?{mayBeLess:!0===t.mayBeLess,offset:t.offset?t.offset:0,length:t.length?t.length:e.length-(t.offset?t.offset:0),position:t.position?t.position:this.position}:{mayBeLess:!1,offset:0,length:e.length,position:this.position}}}t.AbstractTokenizer=i},"./node_modules/strtok3/lib/BufferTokenizer.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BufferTokenizer=void 0;let n=r("./node_modules/peek-readable/lib/index.js"),i=r("./node_modules/strtok3/lib/AbstractTokenizer.js");class s extends i.AbstractTokenizer{constructor(e,t){super(t),this.uint8Array=e,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:e.length}async readBuffer(e,t){if(t&&t.position){if(t.position<this.position)throw Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=t.position}let r=await this.peekBuffer(e,t);return this.position+=r,r}async peekBuffer(e,t){let r=this.normalizeOptions(e,t),i=Math.min(this.uint8Array.length-r.position,r.length);if(r.mayBeLess||!(i<r.length))return e.set(this.uint8Array.subarray(r.position,r.position+i),r.offset),i;throw new n.EndOfStreamError}async close(){}}t.BufferTokenizer=s},"./node_modules/strtok3/lib/FileTokenizer.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromFile=t.FileTokenizer=void 0;let n=r("./node_modules/strtok3/lib/AbstractTokenizer.js"),i=r("./node_modules/peek-readable/lib/index.js"),s=r("./node_modules/strtok3/lib/FsPromise.js");class o extends n.AbstractTokenizer{constructor(e,t){super(t),this.fd=e}async readBuffer(e,t){let r=this.normalizeOptions(e,t);this.position=r.position;let n=await s.read(this.fd,e,r.offset,r.length,r.position);if(this.position+=n.bytesRead,n.bytesRead<r.length&&(!t||!t.mayBeLess))throw new i.EndOfStreamError;return n.bytesRead}async peekBuffer(e,t){let r=this.normalizeOptions(e,t),n=await s.read(this.fd,e,r.offset,r.length,r.position);if(!r.mayBeLess&&n.bytesRead<r.length)throw new i.EndOfStreamError;return n.bytesRead}async close(){return s.close(this.fd)}}t.FileTokenizer=o,t.fromFile=async function(e){let t=await s.stat(e);if(!t.isFile)throw Error(`File not a file: ${e}`);return new o(await s.open(e,"r"),{path:e,size:t.size})}},"./node_modules/strtok3/lib/FsPromise.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readFile=t.writeFileSync=t.writeFile=t.read=t.open=t.close=t.stat=t.createReadStream=t.pathExists=void 0;let n=r("fs");t.pathExists=n.existsSync,t.createReadStream=n.createReadStream,t.stat=async function(e){return new Promise((t,r)=>{n.stat(e,(e,n)=>{e?r(e):t(n)})})},t.close=async function(e){return new Promise((t,r)=>{n.close(e,e=>{e?r(e):t()})})},t.open=async function(e,t){return new Promise((r,i)=>{n.open(e,t,(e,t)=>{e?i(e):r(t)})})},t.read=async function(e,t,r,i,s){return new Promise((o,a)=>{n.read(e,t,r,i,s,(e,t,r)=>{e?a(e):o({bytesRead:t,buffer:r})})})},t.writeFile=async function(e,t){return new Promise((r,i)=>{n.writeFile(e,t,e=>{e?i(e):r()})})},t.writeFileSync=function(e,t){n.writeFileSync(e,t)},t.readFile=async function(e){return new Promise((t,r)=>{n.readFile(e,(e,n)=>{e?r(e):t(n)})})}},"./node_modules/strtok3/lib/ReadStreamTokenizer.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadStreamTokenizer=void 0;let n=r("./node_modules/strtok3/lib/AbstractTokenizer.js"),i=r("./node_modules/peek-readable/lib/index.js"),s=256e3;class o extends n.AbstractTokenizer{constructor(e,t){super(t),this.streamReader=new i.StreamReader(e)}async getFileInfo(){return this.fileInfo}async readBuffer(e,t){let r=this.normalizeOptions(e,t),n=r.position-this.position;if(n>0)return await this.ignore(n),this.readBuffer(e,t);if(n<0)throw Error("`options.position` must be equal or greater than `tokenizer.position`");if(0===r.length)return 0;let s=await this.streamReader.read(e,r.offset,r.length);if(this.position+=s,(!t||!t.mayBeLess)&&s<r.length)throw new i.EndOfStreamError;return s}async peekBuffer(e,t){let r=this.normalizeOptions(e,t),n=0;if(r.position){let t=r.position-this.position;if(t>0){let i=new Uint8Array(r.length+t);return n=await this.peekBuffer(i,{mayBeLess:r.mayBeLess}),e.set(i.subarray(t),r.offset),n-t}if(t<0)throw Error("Cannot peek from a negative offset in a stream")}if(r.length>0){try{n=await this.streamReader.peek(e,r.offset,r.length)}catch(e){if(t&&t.mayBeLess&&e instanceof i.EndOfStreamError)return 0;throw e}if(!r.mayBeLess&&n<r.length)throw new i.EndOfStreamError}return n}async ignore(e){let t=Math.min(s,e),r=new Uint8Array(t),n=0;for(;n<e;){let i=e-n,s=await this.readBuffer(r,{length:Math.min(t,i)});if(s<0)return s;n+=s}return n}}t.ReadStreamTokenizer=o},"./node_modules/strtok3/lib/core.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromBuffer=t.fromStream=t.EndOfStreamError=void 0;let n=r("./node_modules/strtok3/lib/ReadStreamTokenizer.js"),i=r("./node_modules/strtok3/lib/BufferTokenizer.js");var s=r("./node_modules/peek-readable/lib/index.js");Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return s.EndOfStreamError}}),t.fromStream=function(e,t){return t=t||{},new n.ReadStreamTokenizer(e,t)},t.fromBuffer=function(e,t){return new i.BufferTokenizer(e,t)}},"./node_modules/strtok3/lib/index.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromStream=t.fromBuffer=t.EndOfStreamError=t.fromFile=void 0;let n=r("./node_modules/strtok3/lib/FsPromise.js"),i=r("./node_modules/strtok3/lib/core.js");var s=r("./node_modules/strtok3/lib/FileTokenizer.js");Object.defineProperty(t,"fromFile",{enumerable:!0,get:function(){return s.fromFile}});var o=r("./node_modules/strtok3/lib/core.js");Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return o.EndOfStreamError}}),Object.defineProperty(t,"fromBuffer",{enumerable:!0,get:function(){return o.fromBuffer}}),t.fromStream=async function(e,t){if(t=t||{},e.path){let r=await n.stat(e.path);t.path=e.path,t.size=r.size}return i.fromStream(e,t)}},"./node_modules/to-array/index.js":function(e){e.exports=t;function t(e,t){var r=[];t=t||0;for(var n=t||0;n<e.length;n++)r[n-t]=e[n];return r}},"./node_modules/token-types/lib/index.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnsiStringType=t.StringType=t.BufferType=t.Uint8ArrayType=t.IgnoreType=t.Float80_LE=t.Float80_BE=t.Float64_LE=t.Float64_BE=t.Float32_LE=t.Float32_BE=t.Float16_LE=t.Float16_BE=t.INT64_BE=t.UINT64_BE=t.INT64_LE=t.UINT64_LE=t.INT32_LE=t.INT32_BE=t.INT24_BE=t.INT24_LE=t.INT16_LE=t.INT16_BE=t.INT8=t.UINT32_BE=t.UINT32_LE=t.UINT24_BE=t.UINT24_LE=t.UINT16_BE=t.UINT16_LE=t.UINT8=void 0;let n=r("./node_modules/ieee754/index.js");function i(e){return new DataView(e.buffer,e.byteOffset)}t.UINT8={len:1,get:(e,t)=>i(e).getUint8(t),put:(e,t,r)=>(i(e).setUint8(t,r),t+1)},t.UINT16_LE={len:2,get:(e,t)=>i(e).getUint16(t,!0),put:(e,t,r)=>(i(e).setUint16(t,r,!0),t+2)},t.UINT16_BE={len:2,get:(e,t)=>i(e).getUint16(t),put:(e,t,r)=>(i(e).setUint16(t,r),t+2)},t.UINT24_LE={len:3,get(e,t){let r=i(e);return r.getUint8(t)+(r.getUint16(t+1,!0)<<8)},put(e,t,r){let n=i(e);return n.setUint8(t,255&r),n.setUint16(t+1,r>>8,!0),t+3}},t.UINT24_BE={len:3,get(e,t){let r=i(e);return(r.getUint16(t)<<8)+r.getUint8(t+2)},put(e,t,r){let n=i(e);return n.setUint16(t,r>>8),n.setUint8(t+2,255&r),t+3}},t.UINT32_LE={len:4,get:(e,t)=>i(e).getUint32(t,!0),put:(e,t,r)=>(i(e).setUint32(t,r,!0),t+4)},t.UINT32_BE={len:4,get:(e,t)=>i(e).getUint32(t),put:(e,t,r)=>(i(e).setUint32(t,r),t+4)},t.INT8={len:1,get:(e,t)=>i(e).getInt8(t),put:(e,t,r)=>(i(e).setInt8(t,r),t+1)},t.INT16_BE={len:2,get:(e,t)=>i(e).getInt16(t),put:(e,t,r)=>(i(e).setInt16(t,r),t+2)},t.INT16_LE={len:2,get:(e,t)=>i(e).getInt16(t,!0),put:(e,t,r)=>(i(e).setInt16(t,r,!0),t+2)},t.INT24_LE={len:3,get(e,r){let n=t.UINT24_LE.get(e,r);return n>8388607?n-0x1000000:n},put(e,t,r){let n=i(e);return n.setUint8(t,255&r),n.setUint16(t+1,r>>8,!0),t+3}},t.INT24_BE={len:3,get(e,r){let n=t.UINT24_BE.get(e,r);return n>8388607?n-0x1000000:n},put(e,t,r){let n=i(e);return n.setUint16(t,r>>8),n.setUint8(t+2,255&r),t+3}},t.INT32_BE={len:4,get:(e,t)=>i(e).getInt32(t),put:(e,t,r)=>(i(e).setInt32(t,r),t+4)},t.INT32_LE={len:4,get:(e,t)=>i(e).getInt32(t,!0),put:(e,t,r)=>(i(e).setInt32(t,r,!0),t+4)},t.UINT64_LE={len:8,get:(e,t)=>i(e).getBigUint64(t,!0),put:(e,t,r)=>(i(e).setBigUint64(t,r,!0),t+8)},t.INT64_LE={len:8,get:(e,t)=>i(e).getBigInt64(t,!0),put:(e,t,r)=>(i(e).setBigInt64(t,r,!0),t+8)},t.UINT64_BE={len:8,get:(e,t)=>i(e).getBigUint64(t),put:(e,t,r)=>(i(e).setBigUint64(t,r),t+8)},t.INT64_BE={len:8,get:(e,t)=>i(e).getBigInt64(t),put:(e,t,r)=>(i(e).setBigInt64(t,r),t+8)},t.Float16_BE={len:2,get(e,t){return n.read(e,t,!1,10,this.len)},put(e,t,r){return n.write(e,r,t,!1,10,this.len),t+this.len}},t.Float16_LE={len:2,get(e,t){return n.read(e,t,!0,10,this.len)},put(e,t,r){return n.write(e,r,t,!0,10,this.len),t+this.len}},t.Float32_BE={len:4,get:(e,t)=>i(e).getFloat32(t),put:(e,t,r)=>(i(e).setFloat32(t,r),t+4)},t.Float32_LE={len:4,get:(e,t)=>i(e).getFloat32(t,!0),put:(e,t,r)=>(i(e).setFloat32(t,r,!0),t+4)},t.Float64_BE={len:8,get:(e,t)=>i(e).getFloat64(t),put:(e,t,r)=>(i(e).setFloat64(t,r),t+8)},t.Float64_LE={len:8,get:(e,t)=>i(e).getFloat64(t,!0),put:(e,t,r)=>(i(e).setFloat64(t,r,!0),t+8)},t.Float80_BE={len:10,get(e,t){return n.read(e,t,!1,63,this.len)},put(e,t,r){return n.write(e,r,t,!1,63,this.len),t+this.len}},t.Float80_LE={len:10,get(e,t){return n.read(e,t,!0,63,this.len)},put(e,t,r){return n.write(e,r,t,!0,63,this.len),t+this.len}};class s{constructor(e){this.len=e}get(e,t){}}t.IgnoreType=s;class o{constructor(e){this.len=e}get(e,t){return e.subarray(t,t+this.len)}}t.Uint8ArrayType=o;class a{constructor(e){this.len=e}get(e,t){return Buffer.from(e.subarray(t,t+this.len))}}t.BufferType=a;class l{constructor(e,t){this.len=e,this.encoding=t}get(e,t){return Buffer.from(e).toString(this.encoding,t,t+this.len)}}t.StringType=l;class c{constructor(e){this.len=e}static decode(e,t,r){let n="";for(let i=t;i<r;++i)n+=c.codePointToString(c.singleByteDecoder(e[i]));return n}static inRange(e,t,r){return t<=e&&e<=r}static codePointToString(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10)+55296,(1023&e)+56320)}static singleByteDecoder(e){if(c.inRange(e,0,127))return e;let t=c.windows1252[e-128];if(null===t)throw Error("invaliding encoding");return t}get(e,t=0){return c.decode(e,t,t+this.len)}}t.AnsiStringType=c,c.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},"./node_modules/universalify/index.js":function(e,t){"use strict";t.fromCallback=function(e){return Object.defineProperty(function(){if("function"!=typeof arguments[arguments.length-1])return new Promise((t,r)=>{arguments[arguments.length]=(e,n)=>{if(e)return r(e);t(n)},arguments.length++,e.apply(this,arguments)});e.apply(this,arguments)},"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty(function(){let t=arguments[arguments.length-1];if("function"!=typeof t)return e.apply(this,arguments);delete arguments[arguments.length-1],arguments.length--,e.apply(this,arguments).then(e=>t(null,e),t)},"name",{value:e.name})}},"./node_modules/url-parse/index.js":function(e,t,r){"use strict";var n=r("./node_modules/requires-port/index.js"),i=r("./node_modules/querystringify/index.js"),s=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,o=/[\n\r\t]/g,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,l=/:\d+$/,c=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,u=/^[a-zA-Z]:/;function d(e){return(e||"").toString().replace(s,"")}var h=[["#","hash"],["?","query"],function(e,t){return m(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],p={hash:1,query:1};function f(e){var t,r,n=(t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).location||{},i={},s=typeof(e=e||n);if("blob:"===e.protocol)i=new _(unescape(e.pathname),{});else if("string"===s)for(r in i=new _(e,{}),p)delete i[r];else if("object"===s){for(r in e)r in p||(i[r]=e[r]);void 0===i.slashes&&(i.slashes=a.test(e.href))}return i}function m(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function g(e,t){e=(e=d(e)).replace(o,""),t=t||{};var r,n=c.exec(e),i=n[1]?n[1].toLowerCase():"",s=!!n[2],a=!!n[3],l=0;return s?a?(r=n[2]+n[3]+n[4],l=n[2].length+n[3].length):(r=n[2]+n[4],l=n[2].length):a?(r=n[3]+n[4],l=n[3].length):r=n[4],"file:"===i?l>=2&&(r=r.slice(2)):m(i)?r=n[4]:i?s&&(r=r.slice(2)):l>=2&&m(t.protocol)&&(r=n[4]),{protocol:i,slashes:s||m(i),slashesCount:l,rest:r}}function y(e,t){if(""===e)return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,i=r[n-1],s=!1,o=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),o++):o&&(0===n&&(s=!0),r.splice(n,1),o--);return s&&r.unshift(""),("."===i||".."===i)&&r.push(""),r.join("/")}function _(e,t,r){if(e=(e=d(e)).replace(o,""),!(this instanceof _))return new _(e,t,r);var s,a,l,c,p,v,b=h.slice(),w=typeof t,j=this,S=0;for("object"!==w&&"string"!==w&&(r=t,t=null),r&&"function"!=typeof r&&(r=i.parse),s=!(a=g(e||"",t=f(t))).protocol&&!a.slashes,j.slashes=a.slashes||s&&t.slashes,j.protocol=a.protocol||t.protocol||"",e=a.rest,("file:"===a.protocol&&(2!==a.slashesCount||u.test(e))||!a.slashes&&(a.protocol||a.slashesCount<2||!m(j.protocol)))&&(b[3]=[/(.*)/,"pathname"]);S<b.length;S++){if("function"==typeof(c=b[S])){e=c(e,j);continue}l=c[0],v=c[1],l!=l?j[v]=e:"string"==typeof l?~(p="@"===l?e.lastIndexOf(l):e.indexOf(l))&&("number"==typeof c[2]?(j[v]=e.slice(0,p),e=e.slice(p+c[2])):(j[v]=e.slice(p),e=e.slice(0,p))):(p=l.exec(e))&&(j[v]=p[1],e=e.slice(0,p.index)),j[v]=j[v]||s&&c[3]&&t[v]||"",c[4]&&(j[v]=j[v].toLowerCase())}r&&(j.query=r(j.query)),s&&t.slashes&&"/"!==j.pathname.charAt(0)&&(""!==j.pathname||""!==t.pathname)&&(j.pathname=y(j.pathname,t.pathname)),"/"!==j.pathname.charAt(0)&&m(j.protocol)&&(j.pathname="/"+j.pathname),n(j.port,j.protocol)||(j.host=j.hostname,j.port=""),j.username=j.password="",j.auth&&(~(p=j.auth.indexOf(":"))?(j.username=j.auth.slice(0,p),j.username=encodeURIComponent(decodeURIComponent(j.username)),j.password=j.auth.slice(p+1),j.password=encodeURIComponent(decodeURIComponent(j.password))):j.username=encodeURIComponent(decodeURIComponent(j.auth)),j.auth=j.password?j.username+":"+j.password:j.username),j.origin="file:"!==j.protocol&&m(j.protocol)&&j.host?j.protocol+"//"+j.host:"null",j.href=j.toString()}_.prototype={set:function(e,t,r){var s=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(r||i.parse)(t)),s[e]=t;break;case"port":s[e]=t,n(t,s.protocol)?t&&(s.host=s.hostname+":"+t):(s.host=s.hostname,s[e]="");break;case"hostname":s[e]=t,s.port&&(t+=":"+s.port),s.host=t;break;case"host":s[e]=t,l.test(t)?(s.port=(t=t.split(":")).pop(),s.hostname=t.join(":")):(s.hostname=t,s.port="");break;case"protocol":s.protocol=t.toLowerCase(),s.slashes=!r;break;case"pathname":case"hash":if(t){var o="pathname"===e?"/":"#";s[e]=t.charAt(0)!==o?o+t:t}else s[e]=t;break;case"username":case"password":s[e]=encodeURIComponent(t);break;case"auth":var a=t.indexOf(":");~a?(s.username=t.slice(0,a),s.username=encodeURIComponent(decodeURIComponent(s.username)),s.password=t.slice(a+1),s.password=encodeURIComponent(decodeURIComponent(s.password))):s.username=encodeURIComponent(decodeURIComponent(t))}for(var c=0;c<h.length;c++){var u=h[c];u[4]&&(s[u[1]]=s[u[1]].toLowerCase())}return s.auth=s.password?s.username+":"+s.password:s.username,s.origin="file:"!==s.protocol&&m(s.protocol)&&s.host?s.protocol+"//"+s.host:"null",s.href=s.toString(),s},toString:function(e){e&&"function"==typeof e||(e=i.stringify);var t,r=this,n=r.host,s=r.protocol;s&&":"!==s.charAt(s.length-1)&&(s+=":");var o=s+(r.protocol&&r.slashes||m(r.protocol)?"//":"");return r.username?(o+=r.username,r.password&&(o+=":"+r.password),o+="@"):r.password?(o+=":"+r.password,o+="@"):"file:"!==r.protocol&&m(r.protocol)&&!n&&"/"!==r.pathname&&(o+="@"),(":"===n[n.length-1]||l.test(r.hostname)&&!r.port)&&(n+=":"),o+=n+r.pathname,(t="object"==typeof r.query?e(r.query):r.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),r.hash&&(o+=r.hash),o}},_.extractProtocol=g,_.location=f,_.trimLeft=d,_.qs=i,e.exports=_},"./node_modules/xmlhttprequest-ssl/lib/XMLHttpRequest.js":function(e,t,r){var n=r("fs"),i=r("url"),s=r("child_process").spawn;function o(e){"use strict";e=e||{};var t,o,a=this,l=r("http"),c=r("https"),u={},d=!1,h={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},p=Object.assign({},h),f=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],m=["TRACE","TRACK","CONNECT"],g=!1,y=!1,_=!1,v={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null;var b=function(e){return d||e&&-1===f.indexOf(e.toLowerCase())},w=function(e){return e&&-1===m.indexOf(e)};this.open=function(e,t,r,n,i){if(this.abort(),y=!1,_=!1,!w(e))throw Error("SecurityError: Request method not allowed");u={method:e,url:t.toString(),async:"boolean"!=typeof r||r,user:n||null,password:i||null},j(this.OPENED)},this.setDisableHeaderCheck=function(e){d=e},this.setRequestHeader=function(e,t){if(this.readyState!=this.OPENED)throw Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(!b(e))return console.warn('Refused to set unsafe header "'+e+'"'),!1;if(g)throw Error("INVALID_STATE_ERR: send flag is true");return p[e]=t,!0},this.getResponseHeader=function(e){return"string"==typeof e&&this.readyState>this.OPENED&&o.headers[e.toLowerCase()]&&!y?o.headers[e.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||y)return"";var e="";for(var t in o.headers)"set-cookie"!==t&&"set-cookie2"!==t&&(e+=t+": "+o.headers[t]+"\r\n");return e.substr(0,e.length-2)},this.getRequestHeader=function(e){return"string"==typeof e&&p[e]?p[e]:""},this.send=function(r){if(this.readyState!=this.OPENED)throw Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(g)throw Error("INVALID_STATE_ERR: send has already been called");var d,h=!1,f=!1,m=i.parse(u.url);switch(m.protocol){case"https:":h=!0;case"http:":d=m.hostname;break;case"file:":f=!0;break;case void 0:case"":d="localhost";break;default:throw Error("Protocol not supported.")}if(f){if("GET"!==u.method)throw Error("XMLHttpRequest: Only GET method is supported");if(u.async)n.readFile(unescape(m.pathname),"utf8",function(e,t){e?a.handleError(e):(a.status=200,a.responseText=t,j(a.DONE))});else try{this.responseText=n.readFileSync(unescape(m.pathname),"utf8"),this.status=200,j(a.DONE)}catch(e){this.handleError(e)}return}var _=m.port||(h?443:80),v=m.pathname+(m.search?m.search:"");if(p.Host=d,h&&443===_||80===_||(p.Host+=":"+m.port),u.user){void 0===u.password&&(u.password="");var b=new Buffer(u.user+":"+u.password);p.Authorization="Basic "+b.toString("base64")}"GET"===u.method||"HEAD"===u.method?r=null:r?(p["Content-Length"]=Buffer.isBuffer(r)?r.length:Buffer.byteLength(r),p["Content-Type"]||(p["Content-Type"]="text/plain;charset=UTF-8")):"POST"===u.method&&(p["Content-Length"]=0);var w=e.agent||!1,S={host:d,port:_,path:v,method:u.method,headers:p,agent:w};if(h&&(S.pfx=e.pfx,S.key=e.key,S.passphrase=e.passphrase,S.cert=e.cert,S.ca=e.ca,S.ciphers=e.ciphers,S.rejectUnauthorized=!1!==e.rejectUnauthorized),y=!1,u.async){var k=h?c.request:l.request;g=!0,a.dispatchEvent("readystatechange");var E=function(r){if(302===(o=r).statusCode||303===o.statusCode||307===o.statusCode){u.url=o.headers.location;var n=i.parse(u.url);d=n.hostname;var s={hostname:n.hostname,port:n.port,path:n.path,method:303===o.statusCode?"GET":u.method,headers:p};h&&(s.pfx=e.pfx,s.key=e.key,s.passphrase=e.passphrase,s.cert=e.cert,s.ca=e.ca,s.ciphers=e.ciphers,s.rejectUnauthorized=!1!==e.rejectUnauthorized),(t=k(s,E).on("error",C)).end();return}o&&o.setEncoding&&o.setEncoding("utf8"),j(a.HEADERS_RECEIVED),a.status=o.statusCode,o.on("data",function(e){e&&(a.responseText+=e),g&&j(a.LOADING)}),o.on("end",function(){g&&(g=!1,j(a.DONE))}),o.on("error",function(e){a.handleError(e)})},C=function(e){a.handleError(e)};t=k(S,E).on("error",C),r&&t.write(r),t.end(),a.dispatchEvent("loadstart")}else{var x=".node-xmlhttprequest-content-"+process.pid,T=".node-xmlhttprequest-sync-"+process.pid;n.writeFileSync(T,"","utf8");for(var O="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(h?"s":"")+".request;var options = "+JSON.stringify(S)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+x+"', 'NODE-XMLHTTPREQUEST-STATUS:' + response.statusCode + ',' + responseText, 'utf8');fs.unlinkSync('"+T+"');});response.on('error', function(error) {fs.writeFileSync('"+x+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+T+"');});}).on('error', function(error) {fs.writeFileSync('"+x+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+T+"');});"+(r?"req.write('"+JSON.stringify(r).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();",I=s(process.argv[0],["-e",O]);n.existsSync(T););if(a.responseText=n.readFileSync(x,"utf8"),I.stdin.end(),n.unlinkSync(x),a.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)){var A=a.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/,"");a.handleError(A,503)}else a.status=a.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/,"$1"),a.responseText=a.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/,"$1"),j(a.DONE)}},this.handleError=function(e,t){this.status=t||0,this.statusText=e,this.responseText=e.stack,y=!0,j(this.DONE)},this.abort=function(){t&&(t.abort(),t=null),p=Object.assign({},h),this.responseText="",this.responseXML="",y=_=!0,this.readyState!==this.UNSENT&&(this.readyState!==this.OPENED||g)&&this.readyState!==this.DONE&&(g=!1,j(this.DONE)),this.readyState=this.UNSENT},this.addEventListener=function(e,t){e in v||(v[e]=[]),v[e].push(t)},this.removeEventListener=function(e,t){e in v&&(v[e]=v[e].filter(function(e){return e!==t}))},this.dispatchEvent=function(e){if("function"==typeof a["on"+e]&&(this.readyState===this.DONE?setImmediate(function(){a["on"+e]()}):a["on"+e]()),e in v)for(let t=0,r=v[e].length;t<r;t++)this.readyState===this.DONE?setImmediate(function(){v[e][t].call(a)}):v[e][t].call(a)};var j=function(e){if(a.readyState!==e&&(a.readyState!==a.UNSENT||!_)&&(a.readyState=e,(u.async||a.readyState<a.OPENED||a.readyState===a.DONE)&&a.dispatchEvent("readystatechange"),a.readyState===a.DONE)){let e;e=_?"abort":y?"error":"load",a.dispatchEvent(e),a.dispatchEvent("loadend")}}}e.exports=o,o.XMLHttpRequest=o},"./node_modules/yallist/iterator.js":function(e){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},"./node_modules/yallist/yallist.js":function(e,t,r){"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r){var n=t===e.head?new a(r,null,t,e):new a(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function s(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function o(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,r,n){if(!(this instanceof a))return new a(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw TypeError("Reduce of empty list with no initial value");for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,s=this.head;null!==s&&i<e;i++)s=s.next;for(;null!==s&&i<t;i++,s=s.next)r.push(s.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,s=this.tail;null!==s&&i>t;i--)s=s.prev;for(;null!==s&&i>e;i--,s=s.prev)r.push(s.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,s=this.head;null!==s&&n<e;n++)s=s.next;for(var o=[],n=0;s&&n<t;n++)o.push(s.value),s=this.removeNode(s);null===s&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<r.length;n++)s=i(this,s,r[n]);return o},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r("./node_modules/yallist/iterator.js")(n)}catch(e){}},"./node_modules/yeast/index.js":function(e){"use strict";var t,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),n=64,i={},s=0,o=0;function a(e){var t="";do t=r[e%n]+t,e=Math.floor(e/n);while(e>0);return t}function l(e){var t=0;for(o=0;o<e.length;o++)t=t*n+i[e.charAt(o)];return t}function c(){var e=a(+new Date);return e!==t?(s=0,t=e):e+"."+a(s++)}for(;o<n;o++)i[r[o]]=o;c.encode=a,c.decode=l,e.exports=c},"./node_modules/long/umd/index.js":function(e,t){!function(r,n){function i(e){return e.default||e}"function"==typeof define&&define.amd?define([],function(){var e={};return n(e),i(e)}):(n(t),e.exports=i(t))}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function r(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function n(e){return!0===(e&&e.__isLong__)}function i(e){var t=Math.clz32(e&-e);return e?31-t:t}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=n;var s={},o={};function a(e,t){var r,n,i;if(t)return(e>>>=0,(i=0<=e&&e<256)&&(n=o[e]))?n:(r=c(e,0,!0),i&&(o[e]=r),r);return(e|=0,(i=-128<=e&&e<128)&&(n=s[e]))?n:(r=c(e,e<0?-1:0,!1),i&&(s[e]=r),r)}function l(e,t){if(isNaN(e))return t?_:y;if(t){if(e<0)return _;if(e>=f)return S}else{if(e<=-m)return k;if(e+1>=m)return j}return e<0?l(-e,t).neg():c(e%p|0,e/p|0,t)}function c(e,t,n){return new r(e,t,n)}r.fromInt=a,r.fromNumber=l,r.fromBits=c;var u=Math.pow;function d(e,t,r){if(0===e.length)throw Error("empty string");if("number"==typeof t?(r=t,t=!1):t=!!t,"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?_:y;if((r=r||10)<2||36<r)throw RangeError("radix");if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return d(e.substring(1),t,r).neg();for(var n,i=l(u(r,8)),s=y,o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),c=parseInt(e.substring(o,o+a),r);if(a<8){var h=l(u(r,a));s=s.mul(h).add(l(c))}else s=(s=s.mul(i)).add(l(c))}return s.unsigned=t,s}function h(e,t){return"number"==typeof e?l(e,t):"string"==typeof e?d(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=d,r.fromValue=h;var p=0x100000000,f=0xffffffffffffffff,m=0x8000000000000000,g=a(0x1000000),y=a(0);r.ZERO=y;var _=a(0,!0);r.UZERO=_;var v=a(1);r.ONE=v;var b=a(1,!0);r.UONE=b;var w=a(-1);r.NEG_ONE=w;var j=c(-1,0x7fffffff,!1);r.MAX_VALUE=j;var S=c(-1,-1,!0);r.MAX_UNSIGNED_VALUE=S;var k=c(0,-0x80000000,!1);r.MIN_VALUE=k;var E=r.prototype;E.toInt=function(){return this.unsigned?this.low>>>0:this.low},E.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},E.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(!this.eq(k))return"-"+this.neg().toString(e);else{var t=l(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}for(var i=l(u(e,6),this.unsigned),s=this,o="";;){var a=s.div(i),c=(s.sub(a.mul(i)).toInt()>>>0).toString(e);if((s=a).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},E.getHighBits=function(){return this.high},E.getHighBitsUnsigned=function(){return this.high>>>0},E.getLowBits=function(){return this.low},E.getLowBitsUnsigned=function(){return this.low>>>0},E.getNumBitsAbs=function(){if(this.isNegative())return this.eq(k)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&(e&1<<t)==0;t--);return 0!=this.high?t+33:t+1},E.isSafeInteger=function(){var e=this.high>>21;return!e||!this.unsigned&&-1===e&&(0!==this.low||-2097152!==this.high)},E.isZero=function(){return 0===this.high&&0===this.low},E.eqz=E.isZero,E.isNegative=function(){return!this.unsigned&&this.high<0},E.isPositive=function(){return this.unsigned||this.high>=0},E.isOdd=function(){return(1&this.low)==1},E.isEven=function(){return(1&this.low)==0},E.equals=function(e){return n(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},E.eq=E.equals,E.notEquals=function(e){return!this.eq(e)},E.neq=E.notEquals,E.ne=E.notEquals,E.lessThan=function(e){return 0>this.comp(e)},E.lt=E.lessThan,E.lessThanOrEqual=function(e){return 0>=this.comp(e)},E.lte=E.lessThanOrEqual,E.le=E.lessThanOrEqual,E.greaterThan=function(e){return this.comp(e)>0},E.gt=E.greaterThan,E.greaterThanOrEqual=function(e){return this.comp(e)>=0},E.gte=E.greaterThanOrEqual,E.ge=E.greaterThanOrEqual,E.compare=function(e){if(n(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},E.comp=E.compare,E.negate=function(){return!this.unsigned&&this.eq(k)?k:this.not().add(v)},E.neg=E.negate,E.add=function(e){n(e)||(e=h(e));var t,r,i=this.high>>>16,s=65535&this.high,o=this.low>>>16,a=65535&this.low,l=e.high>>>16,u=65535&e.high,d=e.low>>>16,p=65535&e.low,f=0,m=0;return t=0+((r=0+(a+p))>>>16),r&=65535,t+=o+d,m+=t>>>16,t&=65535,m+=s+u,f+=m>>>16,m&=65535,f+=i+l,c(t<<16|r,(f&=65535)<<16|m,this.unsigned)},E.subtract=function(e){return n(e)||(e=h(e)),this.add(e.neg())},E.sub=E.subtract,E.multiply=function(e){if(this.isZero())return this;if(n(e)||(e=h(e)),t)return c(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return this.unsigned?_:y;if(this.eq(k))return e.isOdd()?k:y;if(e.eq(k))return this.isOdd()?k:y;if(this.isNegative())if(e.isNegative())return this.neg().mul(e.neg());else return this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(g)&&e.lt(g))return l(this.toNumber()*e.toNumber(),this.unsigned);var r,i,s=this.high>>>16,o=65535&this.high,a=this.low>>>16,u=65535&this.low,d=e.high>>>16,p=65535&e.high,f=e.low>>>16,m=65535&e.low,v=0,b=0;return r=0+((i=0+u*m)>>>16),i&=65535,r+=a*m,b+=r>>>16,r&=65535,r+=u*f,b+=r>>>16,r&=65535,b+=o*m,v+=b>>>16,b&=65535,b+=a*f,v+=b>>>16,b&=65535,b+=u*p,v+=b>>>16,b&=65535,v+=s*m+o*f+a*p+u*d,c(r<<16|i,(v&=65535)<<16|b,this.unsigned)},E.mul=E.multiply,E.divide=function(e){if(n(e)||(e=h(e)),e.isZero())throw Error("division by zero");if(t){var r,i,s;return this.unsigned||-0x80000000!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this}if(this.isZero())return this.unsigned?_:y;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return _;if(e.gt(this.shru(1)))return b;s=_}else{if(this.eq(k))if(e.eq(v)||e.eq(w))return k;else return e.eq(k)?v:(r=this.shr(1).div(e).shl(1)).eq(y)?e.isNegative()?v:w:(i=this.sub(e.mul(r)),s=r.add(i.div(e)));if(e.eq(k))return this.unsigned?_:y;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=y}for(i=this;i.gte(e);){for(var o=Math.ceil(Math.log(r=Math.max(1,Math.floor(i.toNumber()/e.toNumber())))/Math.LN2),a=o<=48?1:u(2,o-48),d=l(r),p=d.mul(e);p.isNegative()||p.gt(i);)r-=a,p=(d=l(r,this.unsigned)).mul(e);d.isZero()&&(d=v),s=s.add(d),i=i.sub(p)}return s},E.div=E.divide,E.modulo=function(e){return(n(e)||(e=h(e)),t)?c((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},E.mod=E.modulo,E.rem=E.modulo,E.not=function(){return c(~this.low,~this.high,this.unsigned)},E.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},E.clz=E.countLeadingZeros,E.countTrailingZeros=function(){return this.low?i(this.low):i(this.high)+32},E.ctz=E.countTrailingZeros,E.and=function(e){return n(e)||(e=h(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},E.or=function(e){return n(e)||(e=h(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},E.xor=function(e){return n(e)||(e=h(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},E.shiftLeft=function(e){return(n(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},E.shl=E.shiftLeft,E.shiftRight=function(e){return(n(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},E.shr=E.shiftRight,E.shiftRightUnsigned=function(e){return(n(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):32===e?c(this.high,0,this.unsigned):c(this.high>>>e-32,0,this.unsigned)},E.shru=E.shiftRightUnsigned,E.shr_u=E.shiftRightUnsigned,E.rotateLeft=function(e){var t;return(n(e)&&(e=e.toInt()),0==(e&=63))?this:32===e?c(this.high,this.low,this.unsigned):e<32?(t=32-e,c(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(e-=32,t=32-e,c(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},E.rotl=E.rotateLeft,E.rotateRight=function(e){var t;return(n(e)&&(e=e.toInt()),0==(e&=63))?this:32===e?c(this.high,this.low,this.unsigned):e<32?(t=32-e,c(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(e-=32,t=32-e,c(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},E.rotr=E.rotateRight,E.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},E.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},E.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},E.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},E.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)},"function"==typeof BigInt&&(r.fromBigInt=function(e,t){return c(Number(BigInt.asIntN(32,e)),Number(BigInt.asIntN(32,e>>BigInt(32))),t)},r.fromValue=function(e,t){return"bigint"==typeof e?r.fromBigInt(e,t):h(e,t)},E.toBigInt=function(){var e=BigInt(this.low>>>0);return BigInt(this.unsigned?this.high>>>0:this.high)<<BigInt(32)|e}),e.default=r})},"./node_modules/socket.io-client-v4/build/cjs/contrib/backo2.js":function(e,t){"use strict";function r(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Object.defineProperty(t,"__esModule",{value:!0}),t.Backoff=void 0,t.Backoff=r,r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(1&Math.floor(10*t))==0?e-r:e+r}return 0|Math.min(e,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){this.max=e},r.prototype.setJitter=function(e){this.jitter=e}},"./node_modules/socket.io-client-v4/build/cjs/index.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.connect=t.io=t.Socket=t.Manager=t.protocol=void 0;let i=r("./node_modules/socket.io-client-v4/build/cjs/url.js"),s=r("./node_modules/socket.io-client-v4/build/cjs/manager.js");Object.defineProperty(t,"Manager",{enumerable:!0,get:function(){return s.Manager}});let o=r("./node_modules/socket.io-client-v4/build/cjs/socket.js");Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return o.Socket}});let a=n(r("./node_modules/socket.io-client-v4/node_modules/debug/src/index.js")).default("socket.io-client"),l={};function c(e,t){let r;"object"==typeof e&&(t=e,e=void 0),t=t||{};let n=i.url(e,t.path||"/socket.io"),o=n.source,c=n.id,u=n.path,d=l[c]&&u in l[c].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||d?(a("ignoring socket cache for %s",o),r=new s.Manager(o,t)):(l[c]||(a("new io instance for %s",o),l[c]=new s.Manager(o,t)),r=l[c]),n.query&&!t.query&&(t.query=n.queryKey),r.socket(n.path,t)}t.io=c,t.connect=c,t.default=c,Object.assign(c,{Manager:s.Manager,Socket:o.Socket,io:c,connect:c});var u=r("./node_modules/socket.io-client-v4/node_modules/socket.io-parser/build/cjs/index.js");Object.defineProperty(t,"protocol",{enumerable:!0,get:function(){return u.protocol}}),e.exports=c},"./node_modules/socket.io-client-v4/build/cjs/manager.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=void 0;let a=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/index.js"),l=r("./node_modules/socket.io-client-v4/build/cjs/socket.js"),c=s(r("./node_modules/socket.io-client-v4/node_modules/socket.io-parser/build/cjs/index.js")),u=r("./node_modules/socket.io-client-v4/build/cjs/on.js"),d=r("./node_modules/socket.io-client-v4/build/cjs/contrib/backo2.js"),h=r("./node_modules/@socket.io/component-emitter/lib/esm/index.js"),p=o(r("./node_modules/socket.io-client-v4/node_modules/debug/src/index.js")).default("socket.io-client:manager");class f extends h.Emitter{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,a.installTimerFunctions(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!=(r=t.randomizationFactor)?r:.5),this.backoff=new d.Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;let n=t.parser||c;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null==(t=this.backoff)||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null==(t=this.backoff)||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null==(t=this.backoff)||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(p("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;p("opening %s",this.uri),this.engine=new a.Socket(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let n=u.on(t,"open",function(){r.onopen(),e&&e()}),i=t=>{p("error"),this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},s=u.on(t,"error",i);if(!1!==this._timeout){let e=this._timeout;p("connect attempt will timeout after %d",e);let r=this.setTimeoutFn(()=>{p("connect attempt timed out after %d",e),n(),i(Error("timeout")),t.close()},e);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}return this.subs.push(n),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){p("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(u.on(e,"ping",this.onping.bind(this)),u.on(e,"data",this.ondata.bind(this)),u.on(e,"error",this.onerror.bind(this)),u.on(e,"close",this.onclose.bind(this)),u.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error",e)}}ondecoded(e){a.nextTick(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){p("error",e),this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new l.Socket(this,e,t),this.nsps[e]=r),r}_destroy(e){for(let e of Object.keys(this.nsps))if(this.nsps[e].active)return void p("socket %s is still active, skipping close",e);this._close()}_packet(e){p("writing packet %j",e);let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){p("cleanup"),this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){p("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){p("closed due to %s",e),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)p("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();p("will wait %dms before reconnect attempt",t),this._reconnecting=!0;let r=this.setTimeoutFn(()=>{!e.skipReconnect&&(p("attempting reconnect"),this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(p("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):(p("reconnect success"),e.onreconnect())}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}t.Manager=f},"./node_modules/socket.io-client-v4/build/cjs/on.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=void 0,t.on=function(e,t,r){return e.on(t,r),function(){e.off(t,r)}}},"./node_modules/socket.io-client-v4/build/cjs/socket.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;let i=r("./node_modules/socket.io-client-v4/node_modules/socket.io-parser/build/cjs/index.js"),s=r("./node_modules/socket.io-client-v4/build/cjs/on.js"),o=r("./node_modules/@socket.io/component-emitter/lib/esm/index.js"),a=n(r("./node_modules/socket.io-client-v4/node_modules/debug/src/index.js")).default("socket.io-client:socket"),l=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class c extends o.Emitter{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[s.on(e,"open",this.onopen.bind(this)),s.on(e,"packet",this.onpacket.bind(this)),s.on(e,"error",this.onerror.bind(this)),s.on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(l.hasOwnProperty(e))throw Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let r={type:i.PacketType.EVENT,data:t};if(r.options={},r.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){let e=this.ids++;a("emitting packet with ack id %d",e);let n=t.pop();this._registerAckCallback(e,n),r.id=e}let n=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return!this.flags.volatile||n&&this.connected?this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r):a("discard packet as the transport is not currently writable"),this.flags={},this}_registerAckCallback(e,t){var r;let n=null!=(r=this.flags.timeout)?r:this._opts.ackTimeout;if(void 0===n){this.acks[e]=t;return}let i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&(a("removing packet with ack id %d from the buffer",e),this.sendBuffer.splice(t,1));a("event with ack id %d has timed out after %d ms",e,n),t.call(this,Error("operation has timed out"))},n),s=(...e)=>{this.io.clearTimeoutFn(i),t.apply(this,e)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((r,n)=>{let i=(e,t)=>e?n(e):r(t);i.withError=!0,t.push(i),this.emit(e,...t)})}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((e,...n)=>{if(r===this._queue[0])return null!==e?r.tryCount>this._opts.retries&&(a("packet [%d] is discarded after %d tries",r.id,r.tryCount),this._queue.shift(),t&&t(e)):(a("packet [%d] was successfully sent",r.id),this._queue.shift(),t&&t(null,...n)),r.pending=!1,this._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(a("draining queue"),!this.connected||0===this._queue.length)return;let t=this._queue[0];if(t.pending&&!e)return void a("packet [%d] has already been sent and is waiting for an ack",t.id);t.pending=!0,t.tryCount++,a("sending packet [%d] (try n\xb0%d)",t.id,t.tryCount),this.flags=t.flags,this.emit.apply(this,t.args)}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){a("transport is open - connecting"),"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:i.PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){a("close (%s)",e),this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){let t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case i.PacketType.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case i.PacketType.EVENT:case i.PacketType.BINARY_EVENT:this.onevent(e);break;case i.PacketType.ACK:case i.PacketType.BINARY_ACK:this.onack(e);break;case i.PacketType.DISCONNECT:this.ondisconnect();break;case i.PacketType.CONNECT_ERROR:this.destroy();let t=Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){let t=e.data||[];a("emitting event %j",t),null!=e.id&&(a("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length)for(let t of this._anyListeners.slice())t.apply(this,e);super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...n){r||(r=!0,a("sending ack %j",n),t.packet({type:i.PacketType.ACK,id:e,data:n}))}}onack(e){let t=this.acks[e.id];if("function"!=typeof t)return void a("bad ack %s",e.id);delete this.acks[e.id],a("calling ack %s with %j",e.id,e.data),t.withError&&e.data.unshift(null),t.apply(this,e.data)}onconnect(e,t){a("socket connected with id %s",e),this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){a("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(a("performing disconnect (%s)",this.nsp),this.packet({type:i.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r]){t.splice(r,1);break}}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r]){t.splice(r,1);break}}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length)for(let t of this._anyOutgoingListeners.slice())t.apply(this,e.data)}}t.Socket=c},"./node_modules/socket.io-client-v4/build/cjs/url.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.url=void 0;let i=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/index.js"),s=n(r("./node_modules/socket.io-client-v4/node_modules/debug/src/index.js")).default("socket.io-client:url");t.url=function(e,t="",r){let n=e;r=r||"undefined"!=typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(s("protocol-less url %s",e),e=void 0!==r?r.protocol+"//"+e:"https://"+e),s("parse %s",e),n=i.parse(e)),!n.port&&(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";let o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+t,n.href=n.protocol+"://"+o+(r&&r.port===n.port?"":":"+n.port),n}},"./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/contrib/parseqs.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0,t.encode=function(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t},t.decode=function(e){let t={},r=e.split("&");for(let e=0,n=r.length;e<n;e++){let n=r[e].split("=");t[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return t}},"./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/contrib/parseuri.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0;let r=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function i(e,t){let r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return("/"==t.slice(0,1)||0===t.length)&&n.splice(0,1),"/"==t.slice(-1)&&n.splice(n.length-1,1),n}function s(e,t){let r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,n){t&&(r[t]=n)}),r}t.parse=function(e){if(e.length>2e3)throw"URI too long";let t=e,o=e.indexOf("["),a=e.indexOf("]");-1!=o&&-1!=a&&(e=e.substring(0,o)+e.substring(o,a).replace(/:/g,";")+e.substring(a,e.length));let l=r.exec(e||""),c={},u=14;for(;u--;)c[n[u]]=l[u]||"";return -1!=o&&-1!=a&&(c.source=t,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=i(c,c.path),c.queryKey=s(c,c.query),c}},"./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/contrib/yeast.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.yeast=t.decode=t.encode=void 0;let r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),n=64,i={},s=0,o=0,a;function l(e){let t="";do t=r[e%n]+t,e=Math.floor(e/n);while(e>0);return t}for(t.encode=l,t.decode=function(e){let t=0;for(o=0;o<e.length;o++)t=t*n+i[e.charAt(o)];return t},t.yeast=function(){let e=l(+new Date);return e!==a?(s=0,a=e):e+"."+l(s++)};o<n;o++)i[r[o]]=o},"./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/globalThis.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalThisShim=void 0,t.globalThisShim=global},"./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/index.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nextTick=t.parse=t.installTimerFunctions=t.transports=t.TransportError=t.Transport=t.protocol=t.Socket=void 0;let n=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/socket.js");Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return n.Socket}}),t.protocol=n.Socket.protocol;var i=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/transport.js");Object.defineProperty(t,"Transport",{enumerable:!0,get:function(){return i.Transport}}),Object.defineProperty(t,"TransportError",{enumerable:!0,get:function(){return i.TransportError}});var s=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/transports/index.js");Object.defineProperty(t,"transports",{enumerable:!0,get:function(){return s.transports}});var o=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/util.js");Object.defineProperty(t,"installTimerFunctions",{enumerable:!0,get:function(){return o.installTimerFunctions}});var a=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/contrib/parseuri.js");Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return a.parse}});var l=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/transports/websocket-constructor.js");Object.defineProperty(t,"nextTick",{enumerable:!0,get:function(){return l.nextTick}})},"./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/socket.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;let i=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/transports/index.js"),s=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/util.js"),o=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/contrib/parseqs.js"),a=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/contrib/parseuri.js"),l=n(r("./node_modules/socket.io-client-v4/node_modules/debug/src/index.js")),c=r("./node_modules/@socket.io/component-emitter/lib/esm/index.js"),u=r("./node_modules/socket.io-client-v4/node_modules/engine.io-parser/build/cjs/index.js"),d=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/transports/websocket-constructor.js"),h=(0,l.default)("engine.io-client:socket");class p extends c.Emitter{constructor(e,t={}){super(),this.binaryType=d.defaultBinaryType,this.writeBuffer=[],e&&"object"==typeof e&&(t=e,e=null),e?(e=(0,a.parse)(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=(0,a.parse)(t.host).host),(0,s.installTimerFunctions)(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=(0,o.decode)(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){h('creating transport "%s"',e);let t=Object.assign({},this.opts.query);t.EIO=u.protocol,t.transport=e,this.id&&(t.sid=this.id);let r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return h("options: %j",r),new i.transports[e](r)}open(){let e;if(this.opts.rememberUpgrade&&p.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){h("error while creating transport: %s",e),this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){h("setting transport %s",e.name),this.transport&&(h("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",e=>this.onClose("transport close",e))}probe(e){h('probing transport "%s"',e);let t=this.createTransport(e),r=!1;p.priorWebsocketSuccess=!1;let n=()=>{r||(h('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",n=>{if(!r)if("pong"===n.type&&"probe"===n.data){if(h('probe transport "%s" pong',e),this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;p.priorWebsocketSuccess="websocket"===t.name,h('pausing current transport "%s"',this.transport.name),this.transport.pause(()=>{r||"closed"!==this.readyState&&(h("changing transport and sending upgrade packet"),c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{h('probe transport "%s" failed',e);let r=Error("probe error");r.transport=t.name,this.emitReserved("upgradeError",r)}}))};function i(){r||(r=!0,c(),t.close(),t=null)}let s=r=>{let n=Error("probe error: "+r);n.transport=t.name,i(),h('probe transport "%s" failed because of error: %s',e,r),this.emitReserved("upgradeError",n)};function o(){s("transport closed")}function a(){s("socket closed")}function l(e){t&&e.name!==t.name&&(h('"%s" works - aborting "%s"',e.name,t.name),i())}let c=()=>{t.removeListener("open",n),t.removeListener("error",s),t.removeListener("close",o),this.off("close",a),this.off("upgrading",l)};t.once("open",n),t.once("error",s),t.once("close",o),this.once("close",a),this.once("upgrading",l),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onOpen(){if(h("socket open"),this.readyState="open",p.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){h("starting upgrade probes");let e=0,t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(h('socket receive: type "%s", data "%s"',e.type,e.data),this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let t=Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}else h('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this.getWritablePackets();h("flushing %d packets in socket",e.length),this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){let r=this.writeBuffer[t].data;if(r&&(e+=(0,s.byteLength)(r)),t>0&&e>this.maxPayload)return h("only send %d out of %d packets",t,this.writeBuffer.length),this.writeBuffer.slice(0,t);e+=2}return h("payload size is %d (max: %d)",e,this.maxPayload),this.writeBuffer}write(e,t,r){return this.sendPacket("message",e,t,r),this}send(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r,n){if("function"==typeof t&&(n=t,t=void 0),"function"==typeof r&&(n=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;let i={type:e,data:t,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}close(){let e=()=>{this.onClose("forced close"),h("socket closing - telling transport to close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(e){h("socket error %j",e),p.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(h('socket close with reason: "%s"',e),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){let t=[],r=0,n=e.length;for(;r<n;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}t.Socket=p,p.protocol=u.protocol},"./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/transport.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Transport=t.TransportError=void 0;let i=r("./node_modules/socket.io-client-v4/node_modules/engine.io-parser/build/cjs/index.js"),s=r("./node_modules/@socket.io/component-emitter/lib/esm/index.js"),o=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/util.js"),a=n(r("./node_modules/socket.io-client-v4/node_modules/debug/src/index.js")),l=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/contrib/parseqs.js"),c=(0,a.default)("engine.io-client:transport");class u extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}t.TransportError=u;class d extends s.Emitter{constructor(e){super(),this.writable=!1,(0,o.installTimerFunctions)(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new u(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState?this.write(e):c("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=(0,i.decodePacket)(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return -1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){let t=(0,l.encode)(e);return t.length?"?"+t:""}}t.Transport=d},"./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/transports/index.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transports=void 0;let n=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/transports/polling.js"),i=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/transports/websocket.js"),s=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/transports/webtransport.js");t.transports={websocket:i.WS,webtransport:s.WT,polling:n.Polling}},"./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/transports/polling.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Request=t.Polling=void 0;let i=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/transport.js"),s=n(r("./node_modules/socket.io-client-v4/node_modules/debug/src/index.js")),o=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/contrib/yeast.js"),a=r("./node_modules/socket.io-client-v4/node_modules/engine.io-parser/build/cjs/index.js"),l=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/transports/xmlhttprequest.js"),c=r("./node_modules/@socket.io/component-emitter/lib/esm/index.js"),u=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/util.js"),d=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/globalThis.js"),h=(0,s.default)("engine.io-client:polling");function p(){}let f=function(){return null!=new l.XHR({xdomain:!1}).responseType}();class m extends i.Transport{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){let t="https:"===location.protocol,r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||r!==e.port}let t=e&&e.forceBase64;this.supportsBinary=f&&!t,this.opts.withCredentials&&(this.cookieJar=(0,l.createCookieJar)())}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";let t=()=>{h("paused"),this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(h("we are currently polling - waiting to pause"),e++,this.once("pollComplete",function(){h("pre-pause polling complete"),--e||t()})),this.writable||(h("we are currently writing - waiting to pause"),e++,this.once("drain",function(){h("pre-pause writing complete"),--e||t()}))}else t()}poll(){h("polling"),this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){h("polling got data %s",e);let t=e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)};(0,a.decodePayload)(e,this.socket.binaryType).forEach(t),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState?this.poll():h('ignoring poll - transport state "%s"',this.readyState))}doClose(){let e=()=>{h("writing close packet"),this.write([{type:"close"}])};"open"===this.readyState?(h("transport open - closing"),e()):(h("transport not open - deferring close"),this.once("open",e))}write(e){this.writable=!1,(0,a.encodePayload)(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=(0,o.yeast)()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new g(this.uri(),e)}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){h("xhr poll");let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}t.Polling=m;class g extends c.Emitter{constructor(e,t){super(),(0,u.installTimerFunctions)(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=void 0!==t.data?t.data:null,this.create()}create(){var e;let t=(0,u.pick)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;let r=this.xhr=new l.XHR(t);try{h("xhr open %s: %s",this.method,this.uri),r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders)for(let e in r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&r.setRequestHeader(e,this.opts.extraHeaders[e])}catch(e){}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{r.setRequestHeader("Accept","*/*")}catch(e){}null==(e=this.opts.cookieJar)||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var e;3===r.readyState&&(null==(e=this.opts.cookieJar)||e.parseCookies(r)),4===r.readyState&&(200===r.status||1223===r.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof r.status?r.status:0)},0))},h("xhr data %s",this.data),r.send(this.data)}catch(e){this.setTimeoutFn(()=>{this.onError(e)},0);return}"undefined"!=typeof document&&(this.index=g.requestsCount++,g.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=p,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete g.requests[this.index],this.xhr=null}}onLoad(){let e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}function y(){for(let e in g.requests)g.requests.hasOwnProperty(e)&&g.requests[e].abort()}t.Request=g,g.requestsCount=0,g.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",y):"function"==typeof addEventListener&&addEventListener("onpagehide"in d.globalThisShim?"pagehide":"unload",y,!1))},"./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/transports/websocket-constructor.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.nextTick=t.defaultBinaryType=t.usingBrowserWebSocket=t.WebSocket=void 0,t.WebSocket=n(r("./node_modules/socket.io-client-v4/node_modules/ws/index.js")).default,t.usingBrowserWebSocket=!1,t.defaultBinaryType="nodebuffer",t.nextTick=process.nextTick},"./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/transports/websocket.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WS=void 0;let i=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/transport.js"),s=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/contrib/yeast.js"),o=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/util.js"),a=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/transports/websocket-constructor.js"),l=n(r("./node_modules/socket.io-client-v4/node_modules/debug/src/index.js")),c=r("./node_modules/socket.io-client-v4/node_modules/engine.io-parser/build/cjs/index.js"),u=(0,l.default)("engine.io-client:websocket"),d="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class h extends i.Transport{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let e=this.uri(),t=this.opts.protocols,r=d?{}:(0,o.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=a.usingBrowserWebSocket&&!d?t?new a.WebSocket(e,t):new a.WebSocket(e):new a.WebSocket(e,t,r)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],n=t===e.length-1;(0,c.encodePacket)(r,this.supportsBinary,e=>{let t={};!a.usingBrowserWebSocket&&(r.options&&(t.compress=r.options.compress),this.opts.perMessageDeflate&&("string"==typeof e?Buffer.byteLength(e):e.length)<this.opts.perMessageDeflate.threshold&&(t.compress=!1));try{a.usingBrowserWebSocket?this.ws.send(e):this.ws.send(e,t)}catch(e){u("websocket closed before onclose event")}n&&(0,a.nextTick)(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=(0,s.yeast)()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!a.WebSocket}}t.WS=h},"./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/transports/webtransport.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WT=void 0;let i=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/transport.js"),s=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/transports/websocket-constructor.js"),o=r("./node_modules/socket.io-client-v4/node_modules/engine.io-parser/build/cjs/index.js"),a=(0,n(r("./node_modules/socket.io-client-v4/node_modules/debug/src/index.js")).default)("engine.io-client:webtransport");class l extends i.Transport{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{a("transport closed gracefully"),this.onClose()}).catch(e=>{a("transport closed due to %s",e),this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{let t=(0,o.createPacketDecoderStream)(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),n=(0,o.createPacketEncoderStream)();n.readable.pipeTo(e.writable),this.writer=n.writable.getWriter();let i=()=>{r.read().then(({done:e,value:t})=>{if(e)return void a("session is closed");a("received chunk: %o",t),this.onPacket(t),i()}).catch(e=>{a("an error occurred while reading: %s",e)})};i();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this.writer.write(s).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],n=t===e.length-1;this.writer.write(r).then(()=>{n&&(0,s.nextTick)(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null==(e=this.transport)||e.close()}}t.WT=l},"./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/transports/xmlhttprequest.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CookieJar=t.parse=t.createCookieJar=t.XHR=void 0;let o=s(r("./node_modules/socket.io-client-v4/node_modules/xmlhttprequest-ssl/lib/XMLHttpRequest.js"));function a(e){let t=e.split("; "),r=t[0].indexOf("=");if(-1===r)return;let n=t[0].substring(0,r).trim();if(!n.length)return;let i=t[0].substring(r+1).trim();34===i.charCodeAt(0)&&(i=i.slice(1,-1));let s={name:n,value:i};for(let e=1;e<t.length;e++){let r=t[e].split("=");if(2!==r.length)continue;let n=r[0].trim(),i=r[1].trim();switch(n){case"Expires":s.expires=new Date(i);break;case"Max-Age":let o=new Date;o.setUTCSeconds(o.getUTCSeconds()+parseInt(i,10)),s.expires=o}}return s}t.XHR=o.default||o,t.createCookieJar=function(){return new l},t.parse=a;class l{constructor(){this.cookies=new Map}parseCookies(e){let t=e.getResponseHeader("set-cookie");t&&t.forEach(e=>{let t=a(e);t&&this.cookies.set(t.name,t)})}addCookies(e){let t=[];this.cookies.forEach((e,r)=>{var n;(null==(n=e.expires)?void 0:n.getTime())<Date.now()?this.cookies.delete(r):t.push(`${r}=${e.value}`)}),t.length&&(e.setDisableHeaderCheck(!0),e.setRequestHeader("cookie",t.join("; ")))}}t.CookieJar=l},"./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/util.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.byteLength=t.installTimerFunctions=t.pick=void 0;let n=r("./node_modules/socket.io-client-v4/node_modules/engine.io-client/build/cjs/globalThis.js");t.pick=function(e,...t){return t.reduce((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t),{})};let i=n.globalThisShim.setTimeout,s=n.globalThisShim.clearTimeout;t.installTimerFunctions=function(e,t){t.useNativeTimers?(e.setTimeoutFn=i.bind(n.globalThisShim),e.clearTimeoutFn=s.bind(n.globalThisShim)):(e.setTimeoutFn=n.globalThisShim.setTimeout.bind(n.globalThisShim),e.clearTimeoutFn=n.globalThisShim.clearTimeout.bind(n.globalThisShim))};let o=1.33;function a(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)(t=e.charCodeAt(n))<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}t.byteLength=function(e){return"string"==typeof e?a(e):Math.ceil((e.byteLength||e.size)*o)}},"./node_modules/socket.io-client-v4/node_modules/engine.io-parser/build/cjs/commons.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_PACKET=t.PACKET_TYPES_REVERSE=t.PACKET_TYPES=void 0;let r=Object.create(null);t.PACKET_TYPES=r,r.open="0",r.close="1",r.ping="2",r.pong="3",r.message="4",r.upgrade="5",r.noop="6";let n=Object.create(null);t.PACKET_TYPES_REVERSE=n,Object.keys(r).forEach(e=>{n[r[e]]=e}),t.ERROR_PACKET={type:"error",data:"parser error"}},"./node_modules/socket.io-client-v4/node_modules/engine.io-parser/build/cjs/decodePacket.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodePacket=void 0;let n=r("./node_modules/socket.io-client-v4/node_modules/engine.io-parser/build/cjs/commons.js");t.decodePacket=(e,t)=>{if("string"!=typeof e)return{type:"message",data:i(e,t)};let r=e.charAt(0);return"b"===r?{type:"message",data:i(Buffer.from(e.substring(1),"base64"),t)}:n.PACKET_TYPES_REVERSE[r]?e.length>1?{type:n.PACKET_TYPES_REVERSE[r],data:e.substring(1)}:{type:n.PACKET_TYPES_REVERSE[r]}:n.ERROR_PACKET};let i=(e,t)=>"arraybuffer"===t?e instanceof ArrayBuffer?e:Buffer.isBuffer(e)?e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength):e.buffer:Buffer.isBuffer(e)?e:Buffer.from(e)},"./node_modules/socket.io-client-v4/node_modules/engine.io-parser/build/cjs/encodePacket.js":function(e,t,r){"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.encodePacket=void 0,t.encodePacketToBinary=o;let i=r("./node_modules/socket.io-client-v4/node_modules/engine.io-parser/build/cjs/commons.js");t.encodePacket=({type:e,data:t},r,n)=>n(t instanceof ArrayBuffer||ArrayBuffer.isView(t)?r?t:"b"+s(t,!0).toString("base64"):i.PACKET_TYPES[e]+(t||""));let s=(e,t)=>Buffer.isBuffer(e)||e instanceof Uint8Array&&!t?e:e instanceof ArrayBuffer?Buffer.from(e):Buffer.from(e.buffer,e.byteOffset,e.byteLength);function o(e,r){if(e.data instanceof ArrayBuffer||ArrayBuffer.isView(e.data))return r(s(e.data,!1));(0,t.encodePacket)(e,!0,e=>{n||(n=new TextEncoder),r(n.encode(e))})}},"./node_modules/socket.io-client-v4/node_modules/engine.io-parser/build/cjs/index.js":function(e,t,r){"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.decodePayload=t.decodePacket=t.encodePayload=t.encodePacket=t.protocol=void 0,t.createPacketEncoderStream=l,t.createPacketDecoderStream=d;let i=r("./node_modules/socket.io-client-v4/node_modules/engine.io-parser/build/cjs/encodePacket.js");Object.defineProperty(t,"encodePacket",{enumerable:!0,get:function(){return i.encodePacket}});let s=r("./node_modules/socket.io-client-v4/node_modules/engine.io-parser/build/cjs/decodePacket.js");Object.defineProperty(t,"decodePacket",{enumerable:!0,get:function(){return s.decodePacket}});let o=r("./node_modules/socket.io-client-v4/node_modules/engine.io-parser/build/cjs/commons.js"),a="\x1e";function l(){return new TransformStream({transform(e,t){(0,i.encodePacketToBinary)(e,r=>{let n,i=r.length;if(i<126)new DataView((n=new Uint8Array(1)).buffer).setUint8(0,i);else if(i<65536){let e=new DataView((n=new Uint8Array(3)).buffer);e.setUint8(0,126),e.setUint16(1,i)}else{let e=new DataView((n=new Uint8Array(9)).buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(i))}e.data&&"string"!=typeof e.data&&(n[0]|=128),t.enqueue(n),t.enqueue(r)})}})}function c(e){return e.reduce((e,t)=>e+t.length,0)}function u(e,t){if(e[0].length===t)return e.shift();let r=new Uint8Array(t),n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function d(e,t){n||(n=new TextDecoder);let r=[],i=0,a=-1,l=!1;return new TransformStream({transform(d,h){for(r.push(d);;){if(0===i){if(1>c(r))break;let e=u(r,1);l=(128&e[0])==128,i=(a=127&e[0])<126?3:126===a?1:2}else if(1===i){if(2>c(r))break;let e=u(r,2);a=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),i=3}else if(2===i){if(8>c(r))break;let e=u(r,8),t=new DataView(e.buffer,e.byteOffset,e.length),n=t.getUint32(0);if(n>2097151){h.enqueue(o.ERROR_PACKET);break}a=0x100000000*n+t.getUint32(4),i=3}else{if(c(r)<a)break;let e=u(r,a);h.enqueue((0,s.decodePacket)(l?e:n.decode(e),t)),i=0}if(0===a||a>e){h.enqueue(o.ERROR_PACKET);break}}}})}t.encodePayload=(e,t)=>{let r=e.length,n=Array(r),s=0;e.forEach((e,o)=>{(0,i.encodePacket)(e,!1,e=>{n[o]=e,++s===r&&t(n.join(a))})})},t.decodePayload=(e,t)=>{let r=e.split(a),n=[];for(let e=0;e<r.length;e++){let i=(0,s.decodePacket)(r[e],t);if(n.push(i),"error"===i.type)break}return n},t.protocol=4},"./node_modules/socket.io-client-v4/node_modules/socket.io-parser/build/cjs/binary.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reconstructPacket=t.deconstructPacket=void 0;let n=r("./node_modules/socket.io-client-v4/node_modules/socket.io-parser/build/cjs/is-binary.js");function i(e,t){if(!e)return e;if((0,n.isBinary)(e)){let r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){let r=Array(e.length);for(let n=0;n<e.length;n++)r[n]=i(e[n],t);return r}if("object"==typeof e&&!(e instanceof Date)){let r={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=i(e[n],t));return r}return e}function s(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw Error("illegal attachments")}if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=s(e[r],t);else if("object"==typeof e)for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=s(e[r],t));return e}t.deconstructPacket=function(e){let t=[],r=e.data,n=e;return n.data=i(r,t),n.attachments=t.length,{packet:n,buffers:t}},t.reconstructPacket=function(e,t){return e.data=s(e.data,t),delete e.attachments,e}},"./node_modules/socket.io-client-v4/node_modules/socket.io-parser/build/cjs/index.js":function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.Encoder=t.PacketType=t.protocol=void 0;let i=r("./node_modules/@socket.io/component-emitter/lib/esm/index.js"),s=r("./node_modules/socket.io-client-v4/node_modules/socket.io-parser/build/cjs/binary.js"),o=r("./node_modules/socket.io-client-v4/node_modules/socket.io-parser/build/cjs/is-binary.js"),a=(0,r("./node_modules/socket.io-client-v4/node_modules/debug/src/index.js").default)("socket.io-parser"),l=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];t.protocol=5,function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(n=t.PacketType||(t.PacketType={}));class c{constructor(e){this.replacer=e}encode(e){return(a("encoding packet %j",e),(e.type===n.EVENT||e.type===n.ACK)&&(0,o.hasBinary)(e))?this.encodeAsBinary({type:e.type===n.EVENT?n.BINARY_EVENT:n.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===n.BINARY_EVENT||e.type===n.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),a("encoded %j as %s",e,t),t}encodeAsBinary(e){let t=(0,s.deconstructPacket)(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}}function u(e){return"[object Object]"===Object.prototype.toString.call(e)}t.Encoder=c;class d extends i.Emitter{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw Error("got plaintext data when reconstructing a packet");let r=(t=this.decodeString(e)).type===n.BINARY_EVENT;r||t.type===n.BINARY_ACK?(t.type=r?n.EVENT:n.ACK,this.reconstructor=new h(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if((0,o.isBinary)(e)||e.base64)if(this.reconstructor)(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw Error("got binary data when not reconstructing a packet");else throw Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(void 0===n[r.type])throw Error("unknown packet type "+r.type);if(r.type===n.BINARY_EVENT||r.type===n.BINARY_ACK){let n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);let i=e.substring(n,t);if(i!=Number(i)||"-"!==e.charAt(t))throw Error("Illegal attachments");r.attachments=Number(i)}if("/"===e.charAt(t+1)){let n=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);r.nsp=e.substring(n,t)}else r.nsp="/";let i=e.charAt(t+1);if(""!==i&&Number(i)==i){let n=t+1;for(;++t;){let r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){let n=this.tryParse(e.substr(t));if(d.isPayloadValid(r.type,n))r.data=n;else throw Error("invalid payload")}return a("decoded %s as %j",e,r),r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case n.CONNECT:return u(t);case n.DISCONNECT:return void 0===t;case n.CONNECT_ERROR:return"string"==typeof t||u(t);case n.EVENT:case n.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===l.indexOf(t[0]));case n.ACK:case n.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}t.Decoder=d;class h{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let e=(0,s.reconstructPacket)(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}},"./node_modules/socket.io-client-v4/node_modules/socket.io-parser/build/cjs/is-binary.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasBinary=t.isBinary=void 0;let r="function"==typeof ArrayBuffer,n=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,i=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),o="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);function a(e){return r&&(e instanceof ArrayBuffer||n(e))||s&&e instanceof Blob||o&&e instanceof File}function l(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,r=e.length;t<r;t++)if(l(e[t]))return!0;return!1}if(a(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1==arguments.length)return l(e.toJSON(),!0);for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&l(e[t]))return!0;return!1}t.isBinary=a,t.hasBinary=l},"./node_modules/@azure/msal-node/lib/msal-node.cjs":function(e,t,r){"use strict";var n=r("http"),i=r("https"),s=r("./node_modules/@azure/msal-node/node_modules/uuid/dist/esm-node/index.js"),o=r("crypto"),a=r("./node_modules/jsonwebtoken/index.js"),l=r("fs"),c=r("path");class u{static serializeJSONBlob(e){return JSON.stringify(e)}static serializeAccounts(e){let t={};return Object.keys(e).map(function(r){let n=e[r];t[r]={home_account_id:n.homeAccountId,environment:n.environment,realm:n.realm,local_account_id:n.localAccountId,username:n.username,authority_type:n.authorityType,name:n.name,client_info:n.clientInfo,last_modification_time:n.lastModificationTime,last_modification_app:n.lastModificationApp,tenantProfiles:n.tenantProfiles?.map(e=>JSON.stringify(e))}}),t}static serializeIdTokens(e){let t={};return Object.keys(e).map(function(r){let n=e[r];t[r]={home_account_id:n.homeAccountId,environment:n.environment,credential_type:n.credentialType,client_id:n.clientId,secret:n.secret,realm:n.realm}}),t}static serializeAccessTokens(e){let t={};return Object.keys(e).map(function(r){let n=e[r];t[r]={home_account_id:n.homeAccountId,environment:n.environment,credential_type:n.credentialType,client_id:n.clientId,secret:n.secret,realm:n.realm,target:n.target,cached_at:n.cachedAt,expires_on:n.expiresOn,extended_expires_on:n.extendedExpiresOn,refresh_on:n.refreshOn,key_id:n.keyId,token_type:n.tokenType,requestedClaims:n.requestedClaims,requestedClaimsHash:n.requestedClaimsHash,userAssertionHash:n.userAssertionHash}}),t}static serializeRefreshTokens(e){let t={};return Object.keys(e).map(function(r){let n=e[r];t[r]={home_account_id:n.homeAccountId,environment:n.environment,credential_type:n.credentialType,client_id:n.clientId,secret:n.secret,family_id:n.familyId,target:n.target,realm:n.realm}}),t}static serializeAppMetadata(e){let t={};return Object.keys(e).map(function(r){let n=e[r];t[r]={client_id:n.clientId,environment:n.environment,family_id:n.familyId}}),t}static serializeAllCache(e){return{Account:this.serializeAccounts(e.accounts),IdToken:this.serializeIdTokens(e.idTokens),AccessToken:this.serializeAccessTokens(e.accessTokens),RefreshToken:this.serializeRefreshTokens(e.refreshTokens),AppMetadata:this.serializeAppMetadata(e.appMetadata)}}}let d="msal.js.common",h="https://login.microsoftonline.com/common/",p="login.microsoftonline.com",f="common",m="adfs",g="dstsv2",y="https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",_=".ciamlogin.com",v=".onmicrosoft.com",b="|",w="offline_access",j="code",S="application/x-www-form-urlencoded;charset=utf-8",k="authorization_pending",E="",C="N/A",x="Not Available",T="/",O="http://169.254.169.254/metadata/instance/compute/location",I="2020-06-01",A=2e3,P="TryAutoDetect",R="login.microsoft.com",N=["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],$="token",M="id_token",D="invalid_instance",L=200,B=299,U=302,z=400,F=401,H=404,q=408,W=429,J=499,V=500,K=500,G=503,Z=504,Q=599,X=["openid","profile",w],Y=[...X,"email"],ee="Content-Type",et="Content-Length",er="Retry-After",en="X-AnchorMailbox",ei="x-ms-request-id",es="x-ms-httpver",eo={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},ea="access_token",el="xms_cc",ec={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},eu="plain",ed="S256",eh={QUERY:"query",FRAGMENT:"fragment",FORM_POST:"form_post"},ep="authorization_code",ef="client_credentials",em="password",eg="refresh_token",ey="device_code",e_="urn:ietf:params:oauth:grant-type:jwt-bearer",ev="MSSTS",eb="ADFS",ew="Generic",ej="-",eS=".",ek="IdToken",eE="AccessToken",eC="AccessToken_With_AuthScheme",ex="RefreshToken",eT="appmetadata",eO="client_info",eI="1",eA="authority-metadata",eP=86400,eR="config",eN="cache",e$="network",eM="hardcoded_values",eD=5,eL=330,eB=50,eU="server-telemetry",ez="|",eF=",",eH="1",eq="0",eW="unknown_error",eJ="Bearer",eV="pop",eK="ssh-cert",eG=60,eZ=3600,eQ="throttling",eX="retry-after, h429",eY="invalid_grant",e0="client_mismatch",e1="username",e2="password",e4=200,e6=400,e3="1",e5="3",e8="4",e9="2",e7="4",te="5",tt="0",tr="1",tn="2",ti="3",ts="4",to=300,ta="unexpected_error",tl="post_request_failed";var tc=Object.freeze({__proto__:null,postRequestFailed:tl,unexpectedError:ta});let tu={[ta]:"Unexpected error in authentication.",[tl]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."},td={unexpectedError:{code:ta,desc:tu[ta]},postRequestFailed:{code:tl,desc:tu[tl]}};class th extends Error{constructor(e,t,r){super(t?`${e}: ${t}`:e),Object.setPrototypeOf(this,th.prototype),this.errorCode=e||E,this.errorMessage=t||E,this.subError=r||E,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function tp(e,t){return new th(e,t?`${tu[e]} ${t}`:tu[e])}let tf="client_info_decoding_error",tm="client_info_empty_error",tg="token_parsing_error",ty="null_or_empty_token",t_="endpoints_resolution_error",tv="network_error",tb="openid_config_error",tw="hash_not_deserialized",tj="invalid_state",tS="state_mismatch",tk="state_not_found",tE="nonce_mismatch",tC="auth_time_not_found",tx="max_age_transpired",tT="multiple_matching_tokens",tO="multiple_matching_accounts",tI="multiple_matching_appMetadata",tA="request_cannot_be_made",tP="cannot_remove_empty_scope",tR="cannot_append_scopeset",tN="empty_input_scopeset",t$="device_code_polling_cancelled",tM="device_code_expired",tD="device_code_unknown_error",tL="no_account_in_silent_request",tB="invalid_cache_record",tU="invalid_cache_environment",tz="no_account_found",tF="no_crypto_object",tH="unexpected_credential_type",tq="invalid_assertion",tW="invalid_client_credential",tJ="token_refresh_required",tV="user_timeout_reached",tK="token_claims_cnf_required_for_signedjwt",tG="authorization_code_missing_from_server_response",tZ="binding_key_not_removed",tQ="end_session_endpoint_not_supported",tX="key_id_missing",tY="no_network_connectivity",t0="user_canceled",t1="missing_tenant_id_error",t2="method_not_implemented",t4="nested_app_auth_bridge_disabled";var t6=Object.freeze({__proto__:null,authTimeNotFound:tC,authorizationCodeMissingFromServerResponse:tG,bindingKeyNotRemoved:tZ,cannotAppendScopeSet:tR,cannotRemoveEmptyScope:tP,clientInfoDecodingError:tf,clientInfoEmptyError:tm,deviceCodeExpired:tM,deviceCodePollingCancelled:t$,deviceCodeUnknownError:tD,emptyInputScopeSet:tN,endSessionEndpointNotSupported:tQ,endpointResolutionError:t_,hashNotDeserialized:tw,invalidAssertion:tq,invalidCacheEnvironment:tU,invalidCacheRecord:tB,invalidClientCredential:tW,invalidState:tj,keyIdMissing:tX,maxAgeTranspired:tx,methodNotImplemented:t2,missingTenantIdError:t1,multipleMatchingAccounts:tO,multipleMatchingAppMetadata:tI,multipleMatchingTokens:tT,nestedAppAuthBridgeDisabled:t4,networkError:tv,noAccountFound:tz,noAccountInSilentRequest:tL,noCryptoObject:tF,noNetworkConnectivity:tY,nonceMismatch:tE,nullOrEmptyToken:ty,openIdConfigError:tb,requestCannotBeMade:tA,stateMismatch:tS,stateNotFound:tk,tokenClaimsCnfRequiredForSignedJwt:tK,tokenParsingError:tg,tokenRefreshRequired:tJ,unexpectedCredentialType:tH,userCanceled:t0,userTimeoutReached:tV});let t3={[tf]:"The client info could not be parsed/decoded correctly",[tm]:"The client info was empty",[tg]:"Token cannot be parsed",[ty]:"The token is null or empty",[t_]:"Endpoints cannot be resolved",[tv]:"Network request failed",[tb]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[tw]:"The hash parameters could not be deserialized",[tj]:"State was not the expected format",[tS]:"State mismatch error",[tk]:"State not found",[tE]:"Nonce mismatch error",[tC]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[tx]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[tT]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[tO]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[tI]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[tA]:"Token request cannot be made without authorization code or refresh token.",[tP]:"Cannot remove null or empty scope from ScopeSet",[tR]:"Cannot append ScopeSet",[tN]:"Empty input ScopeSet cannot be processed",[t$]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[tM]:"Device code is expired.",[tD]:"Device code stopped polling for unknown reasons.",[tL]:"Please pass an account object, silent flow is not supported without account information",[tB]:"Cache record object was null or undefined.",[tU]:"Invalid environment when attempting to create cache entry",[tz]:"No account found in cache for given key.",[tF]:"No crypto object detected.",[tH]:"Unexpected credential type.",[tq]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[tW]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[tJ]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[tV]:"User defined timeout for device code polling reached",[tK]:"Cannot generate a POP jwt if the token_claims are not populated",[tG]:"Server response does not contain an authorization code to proceed",[tZ]:"Could not remove the credential's binding key from storage.",[tQ]:"The provided authority does not support logout",[tX]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[tY]:"No network connectivity. Check your internet connection.",[t0]:"User cancelled the flow.",[t1]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[t2]:"This method has not been implemented",[t4]:"The nested app auth bridge is disabled"},t5={clientInfoDecodingError:{code:tf,desc:t3[tf]},clientInfoEmptyError:{code:tm,desc:t3[tm]},tokenParsingError:{code:tg,desc:t3[tg]},nullOrEmptyToken:{code:ty,desc:t3[ty]},endpointResolutionError:{code:t_,desc:t3[t_]},networkError:{code:tv,desc:t3[tv]},unableToGetOpenidConfigError:{code:tb,desc:t3[tb]},hashNotDeserialized:{code:tw,desc:t3[tw]},invalidStateError:{code:tj,desc:t3[tj]},stateMismatchError:{code:tS,desc:t3[tS]},stateNotFoundError:{code:tk,desc:t3[tk]},nonceMismatchError:{code:tE,desc:t3[tE]},authTimeNotFoundError:{code:tC,desc:t3[tC]},maxAgeTranspired:{code:tx,desc:t3[tx]},multipleMatchingTokens:{code:tT,desc:t3[tT]},multipleMatchingAccounts:{code:tO,desc:t3[tO]},multipleMatchingAppMetadata:{code:tI,desc:t3[tI]},tokenRequestCannotBeMade:{code:tA,desc:t3[tA]},removeEmptyScopeError:{code:tP,desc:t3[tP]},appendScopeSetError:{code:tR,desc:t3[tR]},emptyInputScopeSetError:{code:tN,desc:t3[tN]},DeviceCodePollingCancelled:{code:t$,desc:t3[t$]},DeviceCodeExpired:{code:tM,desc:t3[tM]},DeviceCodeUnknownError:{code:tD,desc:t3[tD]},NoAccountInSilentRequest:{code:tL,desc:t3[tL]},invalidCacheRecord:{code:tB,desc:t3[tB]},invalidCacheEnvironment:{code:tU,desc:t3[tU]},noAccountFound:{code:tz,desc:t3[tz]},noCryptoObj:{code:tF,desc:t3[tF]},unexpectedCredentialType:{code:tH,desc:t3[tH]},invalidAssertion:{code:tq,desc:t3[tq]},invalidClientCredential:{code:tW,desc:t3[tW]},tokenRefreshRequired:{code:tJ,desc:t3[tJ]},userTimeoutReached:{code:tV,desc:t3[tV]},tokenClaimsRequired:{code:tK,desc:t3[tK]},noAuthorizationCodeFromServer:{code:tG,desc:t3[tG]},bindingKeyNotRemovedError:{code:tZ,desc:t3[tZ]},logoutNotSupported:{code:tQ,desc:t3[tQ]},keyIdMissing:{code:tX,desc:t3[tX]},noNetworkConnectivity:{code:tY,desc:t3[tY]},userCanceledError:{code:t0,desc:t3[t0]},missingTenantIdError:{code:t1,desc:t3[t1]},nestedAppAuthBridgeDisabled:{code:t4,desc:t3[t4]}};class t8 extends th{constructor(e,t){super(e,t?`${t3[e]}: ${t}`:t3[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,t8.prototype)}}function t9(e,t){return new t8(e,t)}let t7={createNewGuid:()=>{throw t9(t2)},base64Decode:()=>{throw t9(t2)},base64Encode:()=>{throw t9(t2)},base64UrlEncode:()=>{throw t9(t2)},encodeKid:()=>{throw t9(t2)},async getPublicKeyThumbprint(){throw t9(t2)},async removeTokenBindingKey(){throw t9(t2)},async clearKeystore(){throw t9(t2)},async signJwt(){throw t9(t2)},async hashString(){throw t9(t2)}};t.LogLevel=void 0,function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(t.LogLevel||(t.LogLevel={}));class re{constructor(e,r,n){this.level=t.LogLevel.Info;let i=()=>{},s=e||re.createDefaultLoggerOptions();this.localCallback=s.loggerCallback||i,this.piiLoggingEnabled=s.piiLoggingEnabled||!1,this.level="number"==typeof s.logLevel?s.logLevel:t.LogLevel.Info,this.correlationId=s.correlationId||E,this.packageName=r||E,this.packageVersion=n||E}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:t.LogLevel.Info}}clone(e,t,r){return new re({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,t)}logMessage(e,r){if(r.logLevel>this.level||!this.piiLoggingEnabled&&r.containsPii)return;let n=new Date().toUTCString(),i=`[${n}] : [${r.correlationId||this.correlationId||""}]`,s=`${i} : ${this.packageName}@${this.packageVersion} : ${t.LogLevel[r.logLevel]} - ${e}`;this.executeCallback(r.logLevel,s,r.containsPii||!1)}executeCallback(e,t,r){this.localCallback&&this.localCallback(e,t,r)}error(e,r){this.logMessage(e,{logLevel:t.LogLevel.Error,containsPii:!1,correlationId:r||E})}errorPii(e,r){this.logMessage(e,{logLevel:t.LogLevel.Error,containsPii:!0,correlationId:r||E})}warning(e,r){this.logMessage(e,{logLevel:t.LogLevel.Warning,containsPii:!1,correlationId:r||E})}warningPii(e,r){this.logMessage(e,{logLevel:t.LogLevel.Warning,containsPii:!0,correlationId:r||E})}info(e,r){this.logMessage(e,{logLevel:t.LogLevel.Info,containsPii:!1,correlationId:r||E})}infoPii(e,r){this.logMessage(e,{logLevel:t.LogLevel.Info,containsPii:!0,correlationId:r||E})}verbose(e,r){this.logMessage(e,{logLevel:t.LogLevel.Verbose,containsPii:!1,correlationId:r||E})}verbosePii(e,r){this.logMessage(e,{logLevel:t.LogLevel.Verbose,containsPii:!0,correlationId:r||E})}trace(e,r){this.logMessage(e,{logLevel:t.LogLevel.Trace,containsPii:!1,correlationId:r||E})}tracePii(e,r){this.logMessage(e,{logLevel:t.LogLevel.Trace,containsPii:!0,correlationId:r||E})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}let rt="@azure/msal-common",rr="14.16.0",rn={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"};function ri(e,t){let r=rs(e);try{let e=t(r);return JSON.parse(e)}catch(e){throw t9(tg)}}function rs(e){if(!e)throw t9(ty);let t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw t9(tg);return t[2]}function ro(e,t){let r=3e5;if(0===t||Date.now()-r>e+t)throw t9(tx)}function ra(){return Math.round(new Date().getTime()/1e3)}function rl(e,t){let r=Number(e)||0;return ra()+t>r}function rc(e){return Number(e)>ra()}function ru(e,t){return new Promise(r=>setTimeout(()=>r(t),e))}function rd(e){return[rv(e),rb(e),rw(e),rj(e),rS(e)].join(ej).toLowerCase()}function rh(e,t,r,n,i){return{credentialType:ek,homeAccountId:e,environment:t,clientId:n,secret:r,realm:i}}function rp(e,t,r,n,i,s,o,a,l,c,u,d,h,p,f){let m={homeAccountId:e,credentialType:eE,secret:r,cachedAt:ra().toString(),expiresOn:o.toString(),extendedExpiresOn:a.toString(),environment:t,clientId:n,realm:i,target:s,tokenType:u||eJ};if(d&&(m.userAssertionHash=d),c&&(m.refreshOn=c.toString()),p&&(m.requestedClaims=p,m.requestedClaimsHash=f),m.tokenType?.toLowerCase()!==eJ.toLowerCase())switch(m.credentialType=eC,m.tokenType){case eV:let g=ri(r,l);if(!g?.cnf?.kid)throw t9(tK);m.keyId=g.cnf.kid;break;case eK:m.keyId=h}return m}function rf(e,t,r,n,i,s,o){let a={credentialType:ex,homeAccountId:e,environment:t,clientId:n,secret:r};return s&&(a.userAssertionHash=s),i&&(a.familyId=i),o&&(a.expiresOn=o.toString()),a}function rm(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function rg(e){return!!e&&rm(e)&&e.hasOwnProperty("realm")&&e.hasOwnProperty("target")&&(e.credentialType===eE||e.credentialType===eC)}function ry(e){return!!e&&rm(e)&&e.hasOwnProperty("realm")&&e.credentialType===ek}function r_(e){return!!e&&rm(e)&&e.credentialType===ex}function rv(e){return[e.homeAccountId,e.environment].join(ej).toLowerCase()}function rb(e){let t=e.credentialType===ex&&e.familyId||e.clientId;return[e.credentialType,t,e.realm||""].join(ej).toLowerCase()}function rw(e){return(e.target||"").toLowerCase()}function rj(e){return(e.requestedClaimsHash||"").toLowerCase()}function rS(e){return e.tokenType&&e.tokenType.toLowerCase()!==eJ.toLowerCase()?e.tokenType.toLowerCase():""}function rk(e,t){let r=0===e.indexOf(eU),n=!0;return t&&(n=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),r&&n}function rE(e,t){let r=!1;e&&(r=0===e.indexOf(eQ));let n=!0;return t&&(n=t.hasOwnProperty("throttleTime")),r&&n}function rC({environment:e,clientId:t}){return[eT,e,t].join(ej).toLowerCase()}function rx(e,t){return!!t&&0===e.indexOf(eT)&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment")}function rT(e,t){return!!t&&0===e.indexOf(eA)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")}function rO(){return ra()+eP}function rI(e,t,r){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=r,e.jwks_uri=t.jwks_uri}function rA(e,t,r){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=r}function rP(e){return e.expiresAt<=ra()}let rR="redirect_uri_empty",rN="claims_request_parsing_error",r$="authority_uri_insecure",rM="url_parse_error",rD="empty_url_error",rL="empty_input_scopes_error",rB="invalid_prompt_value",rU="invalid_claims",rz="token_request_empty",rF="logout_request_empty",rH="invalid_code_challenge_method",rq="pkce_params_missing",rW="invalid_cloud_discovery_metadata",rJ="invalid_authority_metadata",rV="untrusted_authority",rK="missing_ssh_jwk",rG="missing_ssh_kid",rZ="missing_nonce_authentication_header",rQ="invalid_authentication_header",rX="cannot_set_OIDCOptions",rY="cannot_allow_native_broker",r0="authority_mismatch";var r1=Object.freeze({__proto__:null,authorityMismatch:r0,authorityUriInsecure:r$,cannotAllowNativeBroker:rY,cannotSetOIDCOptions:rX,claimsRequestParsingError:rN,emptyInputScopesError:rL,invalidAuthenticationHeader:rQ,invalidAuthorityMetadata:rJ,invalidClaims:rU,invalidCloudDiscoveryMetadata:rW,invalidCodeChallengeMethod:rH,invalidPromptValue:rB,logoutRequestEmpty:rF,missingNonceAuthenticationHeader:rZ,missingSshJwk:rK,missingSshKid:rG,pkceParamsMissing:rq,redirectUriEmpty:rR,tokenRequestEmpty:rz,untrustedAuthority:rV,urlEmptyError:rD,urlParseError:rM});let r2={[rR]:"A redirect URI is required for all calls, and none has been set.",[rN]:"Could not parse the given claims request object.",[r$]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[rM]:"URL could not be parsed into appropriate segments.",[rD]:"URL was empty or null.",[rL]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[rB]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[rU]:"Given claims parameter must be a stringified JSON object.",[rz]:"Token request was empty and not found in cache.",[rF]:"The logout request was null or undefined.",[rH]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[rq]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[rW]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[rJ]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[rV]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[rK]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[rG]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[rZ]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[rQ]:"Invalid authentication header provided",[rX]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[rY]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[r0]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."},r4={redirectUriNotSet:{code:rR,desc:r2[rR]},claimsRequestParsingError:{code:rN,desc:r2[rN]},authorityUriInsecure:{code:r$,desc:r2[r$]},urlParseError:{code:rM,desc:r2[rM]},urlEmptyError:{code:rD,desc:r2[rD]},emptyScopesError:{code:rL,desc:r2[rL]},invalidPrompt:{code:rB,desc:r2[rB]},invalidClaimsRequest:{code:rU,desc:r2[rU]},tokenRequestEmptyError:{code:rz,desc:r2[rz]},logoutRequestEmptyError:{code:rF,desc:r2[rF]},invalidCodeChallengeMethod:{code:rH,desc:r2[rH]},invalidCodeChallengeParams:{code:rq,desc:r2[rq]},invalidCloudDiscoveryMetadata:{code:rW,desc:r2[rW]},invalidAuthorityMetadata:{code:rJ,desc:r2[rJ]},untrustedAuthority:{code:rV,desc:r2[rV]},missingSshJwk:{code:rK,desc:r2[rK]},missingSshKid:{code:rG,desc:r2[rG]},missingNonceAuthenticationHeader:{code:rZ,desc:r2[rZ]},invalidAuthenticationHeader:{code:rQ,desc:r2[rQ]},cannotSetOIDCOptions:{code:rX,desc:r2[rX]},cannotAllowNativeBroker:{code:rY,desc:r2[rY]},authorityMismatch:{code:r0,desc:r2[r0]}};class r6 extends th{constructor(e){super(e,r2[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,r6.prototype)}}function r3(e){return new r6(e)}class r5{static isEmptyObj(e){if(e)try{let t=JSON.parse(e);return 0===Object.keys(t).length}catch(e){}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){let t={},r=e.split("&"),n=e=>decodeURIComponent(e.replace(/\+/g," "));return r.forEach(e=>{if(e.trim()){let[r,i]=e.split(/=(.+)/g,2);r&&i&&(t[n(r)]=n(i))}}),t}static trimArrayEntries(e){return e.map(e=>e.trim())}static removeEmptyStringsFromArray(e){return e.filter(e=>!!e)}static jsonParseHelper(e){try{return JSON.parse(e)}catch(e){return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}class r8{constructor(e){let t=e?r5.trimArrayEntries([...e]):[],r=t?r5.removeEmptyStringsFromArray(t):[];this.validateInputScopes(r),this.scopes=new Set,r.forEach(e=>this.scopes.add(e))}static fromString(e){return new r8((e||E).split(" "))}static createSearchScopes(e){let t=new r8(e);return t.containsOnlyOIDCScopes()?t.removeScope(w):t.removeOIDCScopes(),t}validateInputScopes(e){if(!e||e.length<1)throw r3(rL)}containsScope(e){let t=new r8(this.printScopesLowerCase().split(" "));return!!e&&t.scopes.has(e.toLowerCase())}containsScopeSet(e){return!!e&&!(e.scopes.size<=0)&&this.scopes.size>=e.scopes.size&&e.asArray().every(e=>this.containsScope(e))}containsOnlyOIDCScopes(){let e=0;return Y.forEach(t=>{this.containsScope(t)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(e=>this.appendScope(e))}catch(e){throw t9(tR)}}removeScope(e){if(!e)throw t9(tP);this.scopes.delete(e.trim())}removeOIDCScopes(){Y.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw t9(tN);let t=new Set;return e.scopes.forEach(e=>t.add(e.toLowerCase())),this.scopes.forEach(e=>t.add(e.toLowerCase())),t}intersectingScopeSets(e){if(!e)throw t9(tN);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();let t=this.unionScopeSets(e),r=e.getScopeCount(),n=this.getScopeCount();return t.size<n+r}getScopeCount(){return this.scopes.size}asArray(){let e=[];return this.scopes.forEach(t=>e.push(t)),e}printScopes(){return this.scopes?this.asArray().join(" "):E}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function r9(e,t){if(!e)throw t9(tm);try{let r=t(e);return JSON.parse(r)}catch(e){throw t9(tf)}}function r7(e){if(!e)throw t9(tf);let t=e.split(eS,2);return{uid:t[0],utid:t.length<2?E:t[1]}}function ne(e,t){return!!e&&!!t&&e===t.split(".")[1]}function nt(e,t,r,n){if(!n)return{tenantId:r,localAccountId:t,isHomeTenant:ne(r,e)};{let{oid:t,sub:r,tid:i,name:s,tfp:o,acr:a}=n,l=i||o||a||"";return{tenantId:l,localAccountId:t||r||"",name:s,isHomeTenant:ne(l,e)}}}function nr(e,t,r,n){let i=e;if(t){let{isHomeTenant:r,...n}=t;i={...e,...n}}if(r){let{isHomeTenant:t,...s}=nt(e.homeAccountId,e.localAccountId,e.tenantId,r);i={...i,...s,idTokenClaims:r,idToken:n}}return i}let nn=0,ni=1,ns=2,no=3;function na(e){return e&&(e.tid||e.tfp||e.acr)||null}let nl={AAD:"AAD",OIDC:"OIDC"};class nc{generateAccountId(){return[this.homeAccountId,this.environment].join(ej).toLowerCase()}generateAccountKey(){return nc.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){let t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(ej).toLowerCase()}static createAccount(e,t,r){let n,i=new nc;t.authorityType===ni?i.authorityType=eb:t.protocolMode===nl.AAD?i.authorityType=ev:i.authorityType=ew,e.clientInfo&&r&&(n=r9(e.clientInfo,r)),i.clientInfo=e.clientInfo,i.homeAccountId=e.homeAccountId,i.nativeAccountId=e.nativeAccountId;let s=e.environment||t&&t.getPreferredCache();if(!s)throw t9(tU);i.environment=s,i.realm=n?.utid||na(e.idTokenClaims)||"",i.localAccountId=n?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";let o=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,a=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(i.username=o||a||"",i.name=e.idTokenClaims?.name||"",i.cloudGraphHostName=e.cloudGraphHostName,i.msGraphHost=e.msGraphHost,e.tenantProfiles)i.tenantProfiles=e.tenantProfiles;else{let t=nt(e.homeAccountId,i.localAccountId,i.realm,e.idTokenClaims);i.tenantProfiles=[t]}return i}static createFromAccountInfo(e,t,r){let n=new nc;return n.authorityType=e.authorityType||ew,n.homeAccountId=e.homeAccountId,n.localAccountId=e.localAccountId,n.nativeAccountId=e.nativeAccountId,n.realm=e.tenantId,n.environment=e.environment,n.username=e.username,n.name=e.name,n.cloudGraphHostName=t,n.msGraphHost=r,n.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),n}static generateHomeAccountId(e,t,r,n,i){if(t!==ni&&t!==ns){if(e)try{let t=r9(e,n.base64Decode);if(t.uid&&t.utid)return`${t.uid}.${t.utid}`}catch(e){}r.warning("No client info in response")}return i?.sub||""}static isAccountEntity(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType")}static accountInfoIsEqual(e,t,r){if(!e||!t)return!1;let n=!0;if(r){let r=e.idTokenClaims||{},i=t.idTokenClaims||{};n=r.iat===i.iat&&r.nonce===i.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&n}}function nu(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}function nd(e){if(!e||0>e.indexOf("="))return null;try{let t=nu(e),r=Object.fromEntries(new URLSearchParams(t));if(r.code||r.error||r.error_description||r.state)return r}catch(e){throw t9(tw)}return null}class nh{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw r3(rD);e.includes("#")||(this._urlString=nh.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return r5.endsWith(t,"?")?t=t.slice(0,-1):r5.endsWith(t,"?/")&&(t=t.slice(0,-2)),r5.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch(e){throw r3(rM)}if(!e.HostNameAndPort||!e.PathSegments)throw r3(rM);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw r3(r$)}static appendQueryString(e,t){return t?0>e.indexOf("?")?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return nh.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){let t=this.getUrlComponents(),r=t.PathSegments;return e&&0!==r.length&&(r[0]===eo.COMMON||r[0]===eo.ORGANIZATIONS)&&(r[0]=e),nh.constructAuthorityUriFromObject(t)}getUrlComponents(){let e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw r3(rM);let r={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]},n=r.AbsolutePath.split("/");return r.PathSegments=n=n.filter(e=>e&&e.length>0),r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(e){let t=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(t);if(!r)throw r3(rM);return r[2]}static getAbsoluteUrl(e,t){if(e[0]===T){let r=new nh(t).getUrlComponents();return r.Protocol+"//"+r.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new nh(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!nd(e)}}let np={"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},nf={tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},nm=new Set;function ng(e,t){let r,n=e.canonicalAuthority;if(n){let i=new nh(n).getUrlComponents().HostNameAndPort;r=ny(i,e.cloudDiscoveryMetadata?.metadata,eR,t)||ny(i,nf.metadata,eM,t)||e.knownAuthorities}return r||[]}function ny(e,t,r,n){if(n?.trace(`getAliasesFromMetadata called with source: ${r}`),e&&t){let i=nv(t,e);if(i)return n?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${r}, returning aliases`),i.aliases;n?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${r}`)}return null}function n_(e){return nv(nf.metadata,e)}function nv(e,t){for(let r=0;r<e.length;r++){let n=e[r];if(n.aliases.includes(t))return n}return null}nf.metadata.forEach(e=>{e.aliases.forEach(e=>{nm.add(e)})});let nb="cache_quota_exceeded",nw="cache_error_unknown",nj={[nb]:"Exceeded cache storage capacity.",[nw]:"Unexpected error occurred when using cache storage."};class nS extends Error{constructor(e,t){let r=t||(nj[e]?nj[e]:nj[nw]);super(`${e}: ${r}`),Object.setPrototypeOf(this,nS.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=r}}class nk{constructor(e,t,r,n){this.clientId=e,this.cryptoImpl=t,this.commonLogger=r.clone(rt,rr),this.staticAuthorityOptions=n}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){let t=this.getAllAccounts(e);return t.length>1?t.sort(e=>e.idTokenClaims?-1:1)[0]:1===t.length?t[0]:null}getBaseAccountInfo(e){let t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap(e=>this.getTenantProfilesFromAccountEntity(e,t?.tenantId,t))}getTenantedAccountInfoByFilter(e,t,r,n){let i;if(n&&!this.tenantProfileMatchesFilter(r,n))return null;let s=this.getIdToken(e,t,r.tenantId);return s&&(i=ri(s.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(i,n))?null:nr(e,r,i,s?.secret)}getTenantProfilesFromAccountEntity(e,t,r){let n=e.getAccountInfo(),i=n.tenantProfiles||new Map,s=this.getTokenKeys();if(t){let e=i.get(t);if(!e)return[];i=new Map([[t,e]])}let o=[];return i.forEach(e=>{let t=this.getTenantedAccountInfoByFilter(n,s,e,r);t&&o.push(t)}),o}tenantProfileMatchesFilter(e,t){return(!t.localAccountId||!!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId))&&(!t.name||e.name===t.name)&&(void 0===t.isHomeTenant||e.isHomeTenant===t.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,t){return(!t||(!t.localAccountId||!!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))&&(!t.loginHint||!!this.matchLoginHintFromTokenClaims(e,t.loginHint))&&(!t.username||!!this.matchUsername(e.preferred_username,t.username))&&(!t.name||!!this.matchName(e,t.name))&&(!t.sid||!!this.matchSid(e,t.sid)))&&!0}async saveCacheRecord(e,t,r){if(!e)throw t9(tB);try{e.account&&this.setAccount(e.account),e.idToken&&t?.idToken!==!1&&this.setIdTokenCredential(e.idToken),e.accessToken&&t?.accessToken!==!1&&await this.saveAccessToken(e.accessToken),e.refreshToken&&t?.refreshToken!==!1&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(e){if(this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),e instanceof Error){if(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${e.message}`,r),"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||e.message.includes("exceeded the quota"))throw this.commonLogger?.error("CacheManager.saveCacheRecord: exceeded storage quota",r),new nS(nb);throw new nS(e.name,e.message)}throw this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${e}`,r),new nS(nw)}}async saveAccessToken(e){let t={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},r=this.getTokenKeys(),n=r8.fromString(e.target),i=[];r.accessToken.forEach(e=>{if(!this.accessTokenKeyMatchesFilter(e,t,!1))return;let r=this.getAccessTokenCredential(e);r&&this.credentialMatchesFilter(r,t)&&r8.fromString(r.target).intersectingScopeSets(n)&&i.push(this.removeAccessToken(e))}),await Promise.all(i),this.setAccessTokenCredential(e)}getAccountsFilteredBy(e){let t=this.getAccountKeys(),r=[];return t.forEach(t=>{if(!this.isAccountKey(t,e.homeAccountId))return;let n=this.getAccount(t,this.commonLogger);if(!n||e.homeAccountId&&!this.matchHomeAccountId(n,e.homeAccountId)||e.username&&!this.matchUsername(n.username,e.username)||e.environment&&!this.matchEnvironment(n,e.environment)||e.realm&&!this.matchRealm(n,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(n,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(n,e.authorityType))return;let i={localAccountId:e?.localAccountId,name:e?.name},s=n.tenantProfiles?.filter(e=>this.tenantProfileMatchesFilter(e,i));s&&0===s.length||r.push(n)}),r}isAccountKey(e,t,r){return!(e.split(ej).length<3)&&(!t||!!e.toLowerCase().includes(t.toLowerCase()))&&(!r||!!e.toLowerCase().includes(r.toLowerCase()))}isCredentialKey(e){if(e.split(ej).length<6)return!1;let t=e.toLowerCase();if(-1===t.indexOf(ek.toLowerCase())&&-1===t.indexOf(eE.toLowerCase())&&-1===t.indexOf(eC.toLowerCase())&&-1===t.indexOf(ex.toLowerCase()))return!1;if(t.indexOf(ex.toLowerCase())>-1){let e=`${ex}${ej}${this.clientId}${ej}`,r=`${ex}${ej}${eI}${ej}`;if(-1===t.indexOf(e.toLowerCase())&&-1===t.indexOf(r.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(e,t){return(!t.clientId||!!this.matchClientId(e,t.clientId))&&(!t.userAssertionHash||!!this.matchUserAssertionHash(e,t.userAssertionHash))&&("string"!=typeof t.homeAccountId||!!this.matchHomeAccountId(e,t.homeAccountId))&&(!t.environment||!!this.matchEnvironment(e,t.environment))&&(!t.realm||!!this.matchRealm(e,t.realm))&&(!t.credentialType||!!this.matchCredentialType(e,t.credentialType))&&(!t.familyId||!!this.matchFamilyId(e,t.familyId))&&(!t.target||!!this.matchTarget(e,t.target))&&(!t.requestedClaimsHash&&!e.requestedClaimsHash||e.requestedClaimsHash===t.requestedClaimsHash)&&(e.credentialType!==eC||(!t.tokenType||!!this.matchTokenType(e,t.tokenType))&&(t.tokenType!==eK||!t.keyId||!!this.matchKeyId(e,t.keyId)))&&!0}getAppMetadataFilteredBy(e){let t=this.getKeys(),r={};return t.forEach(t=>{if(!this.isAppMetadata(t))return;let n=this.getAppMetadata(t);n&&(!e.environment||this.matchEnvironment(n,e.environment))&&(!e.clientId||this.matchClientId(n,e.clientId))&&(r[t]=n)}),r}getAuthorityMetadataByAlias(e){let t=this.getAuthorityMetadataKeys(),r=null;return t.forEach(t=>{if(!this.isAuthorityMetadata(t)||-1===t.indexOf(this.clientId))return;let n=this.getAuthorityMetadata(t);n&&-1!==n.aliases.indexOf(e)&&(r=n)}),r}async removeAllAccounts(){let e=this.getAccountKeys(),t=[];e.forEach(e=>{t.push(this.removeAccount(e))}),await Promise.all(t)}async removeAccount(e){let t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){let t=this.getTokenKeys(),r=e.generateAccountId(),n=[];t.idToken.forEach(e=>{0===e.indexOf(r)&&this.removeIdToken(e)}),t.accessToken.forEach(e=>{0===e.indexOf(r)&&n.push(this.removeAccessToken(e))}),t.refreshToken.forEach(e=>{0===e.indexOf(r)&&this.removeRefreshToken(e)}),await Promise.all(n)}updateOutdatedCachedAccount(e,t,r){if(t&&t.isSingleTenant()){this.commonLogger?.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");let n=this.getAccountKeys().filter(e=>e.startsWith(t.homeAccountId)),i=[];n.forEach(e=>{let t=this.getCachedAccountEntity(e);t&&i.push(t)});let s=i.find(e=>ne(e.realm,e.homeAccountId))||i[0];s.tenantProfiles=i.map(e=>({tenantId:e.realm,localAccountId:e.localAccountId,name:e.name,isHomeTenant:ne(e.realm,e.homeAccountId)}));let o=nk.toObject(new nc,{...s}),a=o.generateAccountKey();return n.forEach(t=>{t!==a&&this.removeOutdatedAccount(e)}),this.setAccount(o),r?.verbose("Updated an outdated account entity in the cache"),o}return t}async removeAccessToken(e){let t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===eC.toLowerCase()&&t.tokenType===eV){let e=t.keyId;if(e)try{await this.cryptoImpl.removeTokenBindingKey(e)}catch(e){throw t9(tZ)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach(e=>{this.isAppMetadata(e)&&this.removeItem(e)}),!0}readAccountFromCache(e){let t=nc.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,r,n,i){this.commonLogger.trace("CacheManager - getIdToken called");let s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:ek,clientId:this.clientId,realm:r},o=this.getIdTokensByFilter(s,t),a=o.size;if(a<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(a>1){let t=o;if(!r){let r=new Map;o.forEach((t,n)=>{t.realm===e.tenantId&&r.set(n,t)});let n=r.size;if(n<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),o.values().next().value;if(1===n)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),r.values().next().value;t=r}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),t.forEach((e,t)=>{this.removeIdToken(t)}),n&&i&&n.addFields({multiMatchedID:o.size},i),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),o.values().next().value}getIdTokensByFilter(e,t){let r=t&&t.idToken||this.getTokenKeys().idToken,n=new Map;return r.forEach(t=>{if(!this.idTokenKeyMatchesFilter(t,{clientId:this.clientId,...e}))return;let r=this.getIdTokenCredential(t);r&&this.credentialMatchesFilter(r,e)&&n.set(t,r)}),n}idTokenKeyMatchesFilter(e,t){let r=e.toLowerCase();return(!t.clientId||-1!==r.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==r.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,r,n,i,s){this.commonLogger.trace("CacheManager - getAccessToken called");let o=r8.createSearchScopes(t.scopes),a=t.authenticationScheme||eJ,l=a&&a.toLowerCase()!==eJ.toLowerCase()?eC:eE,c={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:l,clientId:this.clientId,realm:n||e.tenantId,target:o,tokenType:a,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},u=r&&r.accessToken||this.getTokenKeys().accessToken,d=[];u.forEach(e=>{if(this.accessTokenKeyMatchesFilter(e,c,!0)){let t=this.getAccessTokenCredential(e);t&&this.credentialMatchesFilter(t,c)&&d.push(t)}});let h=d.length;return h<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):h>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),d.forEach(e=>{this.removeAccessToken(rd(e))}),i&&s&&i.addFields({multiMatchedAT:d.length},s),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),d[0])}accessTokenKeyMatchesFilter(e,t,r){let n=e.toLowerCase();if(t.clientId&&-1===n.indexOf(t.clientId.toLowerCase())||t.homeAccountId&&-1===n.indexOf(t.homeAccountId.toLowerCase())||t.realm&&-1===n.indexOf(t.realm.toLowerCase())||t.requestedClaimsHash&&-1===n.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target){let e=t.target.asArray();for(let t=0;t<e.length;t++)if(r&&!n.includes(e[t].toLowerCase()))return!1;else if(!r&&n.includes(e[t].toLowerCase()))break}return!0}getAccessTokensByFilter(e){let t=this.getTokenKeys(),r=[];return t.accessToken.forEach(t=>{if(!this.accessTokenKeyMatchesFilter(t,e,!0))return;let n=this.getAccessTokenCredential(t);n&&this.credentialMatchesFilter(n,e)&&r.push(n)}),r}getRefreshToken(e,t,r,n,i){this.commonLogger.trace("CacheManager - getRefreshToken called");let s=t?eI:void 0,o={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:ex,clientId:this.clientId,familyId:s},a=r&&r.refreshToken||this.getTokenKeys().refreshToken,l=[];a.forEach(e=>{if(this.refreshTokenKeyMatchesFilter(e,o)){let t=this.getRefreshTokenCredential(e);t&&this.credentialMatchesFilter(t,o)&&l.push(t)}});let c=l.length;return c<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(c>1&&n&&i&&n.addFields({multiMatchedRT:c},i),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),l[0])}refreshTokenKeyMatchesFilter(e,t){let r=e.toLowerCase();return(!t.familyId||-1!==r.indexOf(t.familyId.toLowerCase()))&&(!!t.familyId||!t.clientId||-1!==r.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==r.indexOf(t.homeAccountId.toLowerCase()))}readAppMetadataFromCache(e){let t={environment:e,clientId:this.clientId},r=this.getAppMetadataFilteredBy(t),n=Object.keys(r).map(e=>r[e]),i=n.length;if(i<1)return null;if(i>1)throw t9(tI);return n[0]}isAppMetadataFOCI(e){let t=this.readAppMetadataFromCache(e);return!!(t&&t.familyId===eI)}matchHomeAccountId(e,t){return"string"==typeof e.homeAccountId&&t===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){return t.toLowerCase()===e.name?.toLowerCase()}matchUsername(e,t){return!!(e&&"string"==typeof e&&t?.toLowerCase()===e.toLowerCase())}matchUserAssertionHash(e,t){return!!(e.userAssertionHash&&t===e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){let r=ng(this.staticAuthorityOptions,this.commonLogger);if(r.includes(t)&&r.includes(e.environment))return!0}let r=this.getAuthorityMetadataByAlias(t);return!!(r&&r.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!!(e.clientId&&t===e.clientId)}matchFamilyId(e,t){return!!(e.familyId&&t===e.familyId)}matchRealm(e,t){return e.realm?.toLowerCase()===t.toLowerCase()}matchNativeAccountId(e,t){return!!(e.nativeAccountId&&t===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||e.preferred_username===t||e.upn===t}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!!(e.authorityType&&t.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,t){return(e.credentialType===eE||e.credentialType===eC)&&!!e.target&&r8.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!!(e.tokenType&&e.tokenType===t)}matchKeyId(e,t){return!!(e.keyId&&e.keyId===t)}isAppMetadata(e){return -1!==e.indexOf(eT)}isAuthorityMetadata(e){return -1!==e.indexOf(eA)}generateAuthorityMetadataCacheKey(e){return`${eA}-${this.clientId}-${e}`}static toObject(e,t){for(let r in t)e[r]=t[r];return e}}class nE extends nk{setAccount(){throw t9(t2)}getAccount(){throw t9(t2)}getCachedAccountEntity(){throw t9(t2)}setIdTokenCredential(){throw t9(t2)}getIdTokenCredential(){throw t9(t2)}setAccessTokenCredential(){throw t9(t2)}getAccessTokenCredential(){throw t9(t2)}setRefreshTokenCredential(){throw t9(t2)}getRefreshTokenCredential(){throw t9(t2)}setAppMetadata(){throw t9(t2)}getAppMetadata(){throw t9(t2)}setServerTelemetry(){throw t9(t2)}getServerTelemetry(){throw t9(t2)}setAuthorityMetadata(){throw t9(t2)}getAuthorityMetadata(){throw t9(t2)}getAuthorityMetadataKeys(){throw t9(t2)}setThrottlingCache(){throw t9(t2)}getThrottlingCache(){throw t9(t2)}removeItem(){throw t9(t2)}getKeys(){throw t9(t2)}getAccountKeys(){throw t9(t2)}getTokenKeys(){throw t9(t2)}updateCredentialCacheKey(){throw t9(t2)}removeOutdatedAccount(){throw t9(t2)}}let nC={tokenRenewalOffsetSeconds:to,preventCorsPreflight:!1},nx={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:t.LogLevel.Info,correlationId:E},nT={claimsBasedCachingEnabled:!1},nO={async sendGetRequestAsync(){throw t9(t2)},async sendPostRequestAsync(){throw t9(t2)}},nI={sku:d,version:rr,cpu:E,os:E},nA={clientSecret:E,clientAssertion:void 0},nP={azureCloudInstance:rn.None,tenant:`${f}`},nR={application:{appName:"",appVersion:""}};function nN({authOptions:e,systemOptions:t,loggerOptions:r,cacheOptions:n,storageInterface:i,networkInterface:s,cryptoInterface:o,clientCredentials:a,libraryInfo:l,telemetry:c,serverTelemetryManager:u,persistencePlugin:d,serializableCache:h}){let p={...nx,...r};return{authOptions:n$(e),systemOptions:{...nC,...t},loggerOptions:p,cacheOptions:{...nT,...n},storageInterface:i||new nE(e.clientId,t7,new re(p)),networkInterface:s||nO,cryptoInterface:o||t7,clientCredentials:a||nA,libraryInfo:{...nI,...l},telemetry:{...nR,...c},serverTelemetryManager:u||null,persistencePlugin:d||null,serializableCache:h||null}}function n$(e){return{clientCapabilities:[],azureCloudOptions:nP,skipAuthorityMetadataCache:!1,instanceAware:!1,...e}}function nM(e){return e.authOptions.authority.options.protocolMode===nl.OIDC}let nD="home_account_id",nL="UPN",nB="client_id",nU="redirect_uri",nz="response_type",nF="response_mode",nH="grant_type",nq="claims",nW="scope",nJ="refresh_token",nV="state",nK="nonce",nG="prompt",nZ="code",nQ="code_challenge",nX="code_challenge_method",nY="code_verifier",n0="client-request-id",n1="x-client-SKU",n2="x-client-VER",n4="x-client-OS",n6="x-client-CPU",n3="x-client-current-telemetry",n5="x-client-last-telemetry",n8="x-ms-lib-capability",n9="x-app-name",n7="x-app-ver",ie="post_logout_redirect_uri",it="id_token_hint",ir="device_code",ii="client_secret",is="client_assertion",io="client_assertion_type",ia="token_type",il="req_cnf",ic="assertion",iu="requested_token_use",id="on_behalf_of",ih="return_spa_code",ip="nativebroker",im="logout_hint",ig="sid",iy="login_hint",i_="domain_hint",iv="x-client-xtra-sku",ib="brk_client_id",iw="brk_redirect_uri";class ij{static validateRedirectUri(e){if(!e)throw r3(rR)}static validatePrompt(e){let t=[];for(let e in ec)t.push(ec[e]);if(0>t.indexOf(e))throw r3(rB)}static validateClaims(e){try{JSON.parse(e)}catch(e){throw r3(rU)}}static validateCodeChallengeParams(e,t){if(e&&t)this.validateCodeChallengeMethod(t);else throw r3(rq)}static validateCodeChallengeMethod(e){if(0>[eu,ed].indexOf(e))throw r3(rH)}}function iS(e,t,r){if(!t)return;let n=e.get(nB);n&&e.has(ib)&&r?.addFields({embeddedClientId:n,embeddedRedirectUri:e.get(nU)},t)}class ik{constructor(e,t){this.parameters=new Map,this.performanceClient=t,this.correlationId=e}addResponseTypeCode(){this.parameters.set(nz,encodeURIComponent(j))}addResponseTypeForTokenAndIdToken(){this.parameters.set(nz,encodeURIComponent(`${$} ${M}`))}addResponseMode(e){this.parameters.set(nF,encodeURIComponent(e||eh.QUERY))}addNativeBroker(){this.parameters.set(ip,encodeURIComponent("1"))}addScopes(e,t=!0,r=X){!t||r.includes("openid")||e.includes("openid")||r.push("openid");let n=new r8(t?[...e||[],...r]:e||[]);this.parameters.set(nW,encodeURIComponent(n.printScopes()))}addClientId(e){this.parameters.set(nB,encodeURIComponent(e))}addRedirectUri(e){ij.validateRedirectUri(e),this.parameters.set(nU,encodeURIComponent(e))}addPostLogoutRedirectUri(e){ij.validateRedirectUri(e),this.parameters.set(ie,encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set(it,encodeURIComponent(e))}addDomainHint(e){this.parameters.set(i_,encodeURIComponent(e))}addLoginHint(e){this.parameters.set(iy,encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(en,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(en,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set(ig,encodeURIComponent(e))}addClaims(e,t){let r=this.addClientCapabilitiesToClaims(e,t);ij.validateClaims(r),this.parameters.set(nq,encodeURIComponent(r))}addCorrelationId(e){this.parameters.set(n0,encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set(n1,e.sku),this.parameters.set(n2,e.version),e.os&&this.parameters.set(n4,e.os),e.cpu&&this.parameters.set(n6,e.cpu)}addApplicationTelemetry(e){e?.appName&&this.parameters.set(n9,e.appName),e?.appVersion&&this.parameters.set(n7,e.appVersion)}addPrompt(e){ij.validatePrompt(e),this.parameters.set(`${nG}`,encodeURIComponent(e))}addState(e){e&&this.parameters.set(nV,encodeURIComponent(e))}addNonce(e){this.parameters.set(nK,encodeURIComponent(e))}addCodeChallengeParams(e,t){if(ij.validateCodeChallengeParams(e,t),e&&t)this.parameters.set(nQ,encodeURIComponent(e)),this.parameters.set(nX,encodeURIComponent(t));else throw r3(rq)}addAuthorizationCode(e){this.parameters.set(nZ,encodeURIComponent(e))}addDeviceCode(e){this.parameters.set(ir,encodeURIComponent(e))}addRefreshToken(e){this.parameters.set(nJ,encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set(nY,encodeURIComponent(e))}addClientSecret(e){this.parameters.set(ii,encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set(is,encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set(io,encodeURIComponent(e))}addOboAssertion(e){this.parameters.set(ic,encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set(iu,encodeURIComponent(e))}addGrantType(e){this.parameters.set(nH,encodeURIComponent(e))}addClientInfo(){this.parameters.set(eO,"1")}addExtraQueryParameters(e){Object.entries(e).forEach(([e,t])=>{!this.parameters.has(e)&&t&&this.parameters.set(e,t)})}addClientCapabilitiesToClaims(e,t){let r;if(e)try{r=JSON.parse(e)}catch(e){throw r3(rU)}else r={};return t&&t.length>0&&(r.hasOwnProperty(ea)||(r[ea]={}),r[ea][el]={values:t}),JSON.stringify(r)}addUsername(e){this.parameters.set(e1,encodeURIComponent(e))}addPassword(e){this.parameters.set(e2,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(ia,eV),this.parameters.set(il,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(ia,eK),this.parameters.set(il,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set(n3,e.generateCurrentRequestHeaderValue()),this.parameters.set(n5,e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set(n8,eX)}addLogoutHint(e){this.parameters.set(im,encodeURIComponent(e))}addBrokerParameters(e){let t={};t[ib]=e.brokerClientId,t[iw]=e.brokerRedirectUri,this.addExtraQueryParameters(t)}createQueryString(){let e=[];return this.parameters.forEach((t,r)=>{e.push(`${r}=${t}`)}),iS(this.parameters,this.correlationId,this.performanceClient),e.join("&")}}function iE(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}function iC(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}function ix(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}let iT="networkClientSendPostRequestAsync",iO="refreshTokenClientExecutePostToTokenEndpoint",iI="authorizationCodeClientExecutePostToTokenEndpoint",iA="refreshTokenClientExecuteTokenRequest",iP="refreshTokenClientAcquireToken",iR="refreshTokenClientAcquireTokenWithCachedRefreshToken",iN="refreshTokenClientAcquireTokenByRefreshToken",i$="refreshTokenClientCreateTokenRequestBody",iM="silentFlowClientAcquireCachedToken",iD="silentFlowClientGenerateResultFromCacheRecord",iL="getAuthCodeUrl",iB="updateTokenEndpointAuthority",iU="authClientAcquireToken",iz="authClientExecuteTokenRequest",iF="authClientCreateTokenRequestBody",iH="authClientCreateQueryString",iq="popTokenGenerateCnf",iW="popTokenGenerateKid",iJ="handleServerTokenResponse",iV="authorityFactoryCreateDiscoveredInstance",iK="authorityResolveEndpointsAsync",iG="authorityGetCloudDiscoveryMetadataFromNetwork",iZ="authorityUpdateCloudDiscoveryMetadata",iQ="authorityGetEndpointMetadataFromNetwork",iX="authorityUpdateEndpointMetadata",iY="authorityUpdateMetadataWithRegionalInformation",i0="regionDiscoveryDetectRegion",i1="regionDiscoveryGetRegionFromIMDS",i2="regionDiscoveryGetCurrentVersion",i4="cacheManagerGetRefreshToken",i6=(e,t,r,n,i)=>(...s)=>{r.trace(`Executing function ${t}`);let o=n?.startMeasurement(t,i);if(i){let e=t+"CallCount";n?.incrementFields({[e]:1},i)}try{let n=e(...s);return o?.end({success:!0}),r.trace(`Returning result from ${t}`),n}catch(e){r.trace(`Error occurred in ${t}`);try{r.trace(JSON.stringify(e))}catch(e){r.trace("Unable to print error message.")}throw o?.end({success:!1},e),e}},i3=(e,t,r,n,i)=>(...s)=>{r.trace(`Executing function ${t}`);let o=n?.startMeasurement(t,i);if(i){let e=t+"CallCount";n?.incrementFields({[e]:1},i)}return n?.setPreQueueTime(t,i),e(...s).then(e=>(r.trace(`Returning result from ${t}`),o?.end({success:!0}),e)).catch(e=>{r.trace(`Error occurred in ${t}`);try{r.trace(JSON.stringify(e))}catch(e){r.trace("Unable to print error message.")}throw o?.end({success:!1},e),e})};class i5{constructor(e,t,r,n){this.networkInterface=e,this.logger=t,this.performanceClient=r,this.correlationId=n}async detectRegion(e,t){this.performanceClient?.addQueueMeasurement(i0,this.correlationId);let r=e;if(r)t.region_source=e5;else{let e=i5.IMDS_OPTIONS;try{let n=await i3(this.getRegionFromIMDS.bind(this),i1,this.logger,this.performanceClient,this.correlationId)(I,e);if(n.status===e4&&(r=n.body,t.region_source=e8),n.status===e6){let n=await i3(this.getCurrentVersion.bind(this),i2,this.logger,this.performanceClient,this.correlationId)(e);if(!n)return t.region_source=e3,null;let i=await i3(this.getRegionFromIMDS.bind(this),i1,this.logger,this.performanceClient,this.correlationId)(n,e);i.status===e4&&(r=i.body,t.region_source=e8)}}catch(e){return t.region_source=e3,null}}return r||(t.region_source=e3),r||null}async getRegionFromIMDS(e,t){return this.performanceClient?.addQueueMeasurement(i1,this.correlationId),this.networkInterface.sendGetRequestAsync(`${O}?api-version=${e}&format=text`,t,A)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(i2,this.correlationId);try{let t=await this.networkInterface.sendGetRequestAsync(`${O}?format=json`,e);if(t.status===e6&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0)return t.body["newest-versions"][0];return null}catch(e){return null}}}i5.IMDS_OPTIONS={headers:{Metadata:"true"}};class i8{constructor(e,t,r,n,i,s,o,a){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=r,this.authorityOptions=n,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=i,this.performanceClient=o,this.correlationId=s,this.managedIdentity=a||!1,this.regionDiscovery=new i5(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(_))return no;let t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case m:return ni;case g:return ns}return nn}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new nh(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw t9(t_)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw t9(t_)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw t9(t_)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw t9(tQ);return this.replacePath(this.metadata.end_session_endpoint)}throw t9(t_)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw t9(t_)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw t9(t_)}canReplaceTenant(e){return 1===e.PathSegments.length&&!i8.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===nn&&this.protocolMode===nl.AAD}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e,r=new nh(this.metadata.canonical_authority).getUrlComponents(),n=r.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((e,i)=>{let s=n[i];if(0===i&&this.canReplaceTenant(r)){let e=new nh(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];s!==e&&(this.logger.verbose(`Replacing tenant domain name ${s} with id ${e}`),s=e)}e!==s&&(t=t.replace(`/${s}/`,`/${e}/`))}),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){let e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===ni||this.protocolMode!==nl.AAD&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(iK,this.correlationId);let e=this.getCurrentMetadataEntity(),t=await i3(this.updateCloudDiscoveryMetadata.bind(this),iZ,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);let r=await i3(this.updateEndpointMetadata.bind(this),iX,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:r}),this.performanceClient?.addFields({cloudDiscoverySource:t,authorityEndpointSource:r},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:rO(),jwks_uri:""}),e}updateCachedMetadata(e,t,r){t!==eN&&r?.source!==eN&&(e.expiresAt=rO(),e.canonical_authority=this.canonicalAuthority);let n=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(n,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(iX,this.correlationId);let t=this.updateEndpointMetadataFromLocalSources(e);if(t)return t.source===eM&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&t.metadata&&(rI(e,await i3(this.updateMetadataWithRegionalInformation.bind(this),iY,this.logger,this.performanceClient,this.correlationId)(t.metadata),!1),e.canonical_authority=this.canonicalAuthority),t.source;let r=await i3(this.getEndpointMetadataFromNetwork.bind(this),iQ,this.logger,this.performanceClient,this.correlationId)();if(r)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(r=await i3(this.updateMetadataWithRegionalInformation.bind(this),iY,this.logger,this.performanceClient,this.correlationId)(r)),rI(e,r,!0),e$;throw t9(tb,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");let t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),rI(e,t,!1),{source:eR};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{let t=this.getEndpointMetadataFromHardcodedValues();if(t)return rI(e,t,!1),{source:eM,metadata:t};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}let r=rP(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:eN}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new nh(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw r3(rJ)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(iQ,this.correlationId);let e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{let r=await this.networkInterface.sendGetRequestAsync(t,e);if(iE(r.body))return r.body;return this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null}catch(e){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${e}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in np?np[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(iY,this.correlationId);let t=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(t){if(t!==P)return this.regionDiscoveryMetadata.region_outcome=e9,this.regionDiscoveryMetadata.region_used=t,i8.replaceWithRegionalInformation(e,t);let r=await i3(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),i0,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(r)return this.regionDiscoveryMetadata.region_outcome=e7,this.regionDiscoveryMetadata.region_used=r,i8.replaceWithRegionalInformation(e,r);this.regionDiscoveryMetadata.region_outcome=te}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(iZ,this.correlationId);let t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;let r=await i3(this.getCloudDiscoveryMetadataFromNetwork.bind(this),iG,this.logger,this.performanceClient,this.correlationId)();if(r)return rA(e,r,!0),e$;throw r3(rV)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||C}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||C}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||C}`);let t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),rA(e,t,!1),eR;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{let t=n_(this.hostnameAndPort);if(t)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),rA(e,t,!1),eM;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}let r=rP(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),eN):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===no)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),i8.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");let e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),t=nv(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),t)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),t;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(e){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),r3(rW)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),i8.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(iG,this.correlationId);let e=`${y}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={},r=null;try{let n,i,s=await this.networkInterface.sendGetRequestAsync(e,t);if(iC(s.body))i=(n=s.body).metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${n.tenant_discovery_endpoint}`);else{if(!ix(s.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${s.status}`),(n=s.body).error===D)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${n.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${n.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),i=[]}this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=nv(i,this.hostnameAndPort)}catch(e){if(e instanceof th)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${e.errorCode}
Error Description: ${e.errorMessage}`);else{let t=e;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${t.name}
Error Description: ${t.message}`)}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=i8.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(e=>e&&nh.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,t){let r;if(t&&t.azureCloudInstance!==rn.None){let e=t.tenant?t.tenant:f;r=`${t.azureCloudInstance}/${e}/`}return r||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return p;if(this.discoveryComplete())return this.metadata.preferred_cache;throw t9(t_)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return nm.has(e)}static isPublicCloudAuthority(e){return N.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,r){let n=new nh(e);n.validateAsUri();let i=n.getUrlComponents(),s=`${t}.${i.HostNameAndPort}`;this.isPublicCloudAuthority(i.HostNameAndPort)&&(s=`${t}.${R}`);let o=nh.constructAuthorityUriFromObject({...n.getUrlComponents(),HostNameAndPort:s}).urlString;return r?`${o}?${r}`:o}static replaceWithRegionalInformation(e,t){let r={...e};return r.authorization_endpoint=i8.buildRegionalAuthorityString(r.authorization_endpoint,t),r.token_endpoint=i8.buildRegionalAuthorityString(r.token_endpoint,t),r.end_session_endpoint&&(r.end_session_endpoint=i8.buildRegionalAuthorityString(r.end_session_endpoint,t)),r}static transformCIAMAuthority(e){let t=e,r=new nh(e).getUrlComponents();if(0===r.PathSegments.length&&r.HostNameAndPort.endsWith(_)){let e=r.HostNameAndPort.split(".")[0];t=`${t}${e}${v}`}return t}}function i9(e){let t=new nh(e).getUrlComponents(),r=t.PathSegments.slice(-1)[0]?.toLowerCase();switch(r){case eo.COMMON:case eo.ORGANIZATIONS:case eo.CONSUMERS:return;default:return r}}function i7(e){return e.endsWith(T)?e:`${e}${T}`}function se(e){let t,r=e.cloudDiscoveryMetadata;if(r)try{t=JSON.parse(r)}catch(e){throw r3(rW)}return{canonicalAuthority:e.authority?i7(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:t}}async function st(e,t,r,n,i,s,o){o?.addQueueMeasurement(iV,s);let a=i8.transformCIAMAuthority(i7(e)),l=new i8(a,t,r,n,i,s,o);try{return await i3(l.resolveEndpointsAsync.bind(l),iK,i,o,s)(),l}catch(e){throw t9(t_)}}i8.reservedTenantDomains=new Set(["{tenant}","{tenantid}",eo.COMMON,eo.CONSUMERS,eo.ORGANIZATIONS]);class sr extends th{constructor(e,t,r,n,i){super(e,t,r),this.name="ServerError",this.errorNo=n,this.status=i,Object.setPrototypeOf(this,sr.prototype)}}class sn{static generateThrottlingStorageKey(e){return`${eQ}.${JSON.stringify(e)}`}static preProcess(e,t){let r=sn.generateThrottlingStorageKey(t),n=e.getThrottlingCache(r);if(n){if(n.throttleTime<Date.now())return void e.removeItem(r);throw new sr(n.errorCodes?.join(" ")||E,n.errorMessage,n.subError)}}static postProcess(e,t,r){if(sn.checkResponseStatus(r)||sn.checkResponseForRetryAfter(r)){let n={throttleTime:sn.calculateThrottleTime(parseInt(r.headers[er])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(sn.generateThrottlingStorageKey(t),n)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&e.headers.hasOwnProperty(er)&&(e.status<200||e.status>=300)}static calculateThrottleTime(e){let t=e<=0?0:e,r=Date.now()/1e3;return Math.floor(1e3*Math.min(r+(t||eG),r+eZ))}static removeThrottle(e,t,r,n){let i={clientId:t,authority:r.authority,scopes:r.scopes,homeAccountIdentifier:n,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid},s=this.generateThrottlingStorageKey(i);e.removeItem(s)}}class si extends th{constructor(e,t,r){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,si.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=r}}class ss{constructor(e,t){this.config=nN(e),this.logger=new re(this.config.loggerOptions,rt,rr),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){let t={};if(t[ee]=S,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case nD:try{let r=r7(e.credential);t[en]=`Oid:${r.uid}@${r.utid}`}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case nL:t[en]=`UPN: ${e.credential}`}return t}async executePostToTokenEndpoint(e,t,r,n,i,s){s&&this.performanceClient?.addQueueMeasurement(s,i);let o=await this.sendPostRequest(n,e,{body:t,headers:r},i);return this.config.serverTelemetryManager&&o.status<500&&429!==o.status&&this.config.serverTelemetryManager.clearTelemetryCache(),o}async sendPostRequest(e,t,r,n){let i;sn.preProcess(this.cacheManager,e);try{let e=(i=await i3(this.networkClient.sendPostRequestAsync.bind(this.networkClient),iT,this.logger,this.performanceClient,n)(t,r)).headers||{};this.performanceClient?.addFields({refreshTokenSize:i.body.refresh_token?.length||0,httpVerToken:e[es]||"",requestId:e[ei]||""},n)}catch(e){if(e instanceof si){let t=e.responseHeaders;throw t&&this.performanceClient?.addFields({httpVerToken:t[es]||"",requestId:t[ei]||"",contentTypeHeader:t[ee]||void 0,contentLengthHeader:t[et]||void 0,httpStatus:e.httpStatus},n),e.error}if(e instanceof th)throw e;throw t9(tv)}return sn.postProcess(this.cacheManager,e,i),i}async updateAuthority(e,t){this.performanceClient?.addQueueMeasurement(iB,t);let r=`https://${e}/${this.authority.tenant}/`,n=await st(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=n}createTokenQueryParameters(e){let t=new ik(e.correlationId,this.performanceClient);return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.addCorrelationId(e.correlationId),t.createQueryString()}}let so="no_tokens_found",sa="native_account_unavailable",sl="refresh_token_expired",sc="interaction_required",su="consent_required",sd="login_required",sh="bad_token";var sp=Object.freeze({__proto__:null,badToken:sh,consentRequired:su,interactionRequired:sc,loginRequired:sd,nativeAccountUnavailable:sa,noTokensFound:so,refreshTokenExpired:sl});let sf=[sc,su,sd,sh],sm=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],sg={[so]:"No refresh token found in the cache. Please sign-in.",[sa]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[sl]:"Refresh token has expired.",[sh]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."},sy={noTokensFoundError:{code:so,desc:sg[so]},native_account_unavailable:{code:sa,desc:sg[sa]},bad_token:{code:sh,desc:sg[sh]}};class s_ extends th{constructor(e,t,r,n,i,s,o,a){super(e,t,r),Object.setPrototypeOf(this,s_.prototype),this.timestamp=n||E,this.traceId=i||E,this.correlationId=s||E,this.claims=o||E,this.name="InteractionRequiredAuthError",this.errorNo=a}}function sv(e,t,r){let n=!!e&&sf.indexOf(e)>-1,i=!!r&&sm.indexOf(r)>-1,s=!!t&&sf.some(e=>t.indexOf(e)>-1);return n||s||i}function sb(e){return new s_(e,sg[e])}class sw{static setRequestState(e,t,r){let n=sw.generateLibraryState(e,r);return t?`${n}${b}${t}`:n}static generateLibraryState(e,t){if(!e)throw t9(tF);let r={id:e.createNewGuid()};t&&(r.meta=t);let n=JSON.stringify(r);return e.base64Encode(n)}static parseRequestState(e,t){if(!e)throw t9(tF);if(!t)throw t9(tj);try{let r=t.split(b),n=r[0],i=r.length>1?r.slice(1).join(b):E,s=e.base64Decode(n),o=JSON.parse(s);return{userRequestState:i||E,libraryState:o}}catch(e){throw t9(tj)}}}let sj="sw";class sS{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){this.performanceClient?.addQueueMeasurement(iq,e.correlationId);let r=await i3(this.generateKid.bind(this),iq,t,this.performanceClient,e.correlationId)(e),n=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:n}}async generateKid(e){return this.performanceClient?.addQueueMeasurement(iW,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:sj}}async signPopToken(e,t,r){return this.signPayload(e,t,r)}async signPayload(e,t,r,n){let{resourceRequestMethod:i,resourceRequestUri:s,shrClaims:o,shrNonce:a,shrOptions:l}=r,c=s?new nh(s):void 0,u=c?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:ra(),m:i?.toUpperCase(),u:u?.HostNameAndPort,nonce:a||this.cryptoUtils.createNewGuid(),p:u?.AbsolutePath,q:u?.QueryString?[[],u.QueryString]:void 0,client_claims:o||void 0,...n},t,l,r.correlationId)}}class sk{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}function sE(e){let t="code=",r=e.error_uri?.lastIndexOf(t);return r&&r>=0?e.error_uri?.substring(r+t.length):void 0}class sC{constructor(e,t,r,n,i,s,o){this.clientId=e,this.cacheStorage=t,this.cryptoObj=r,this.logger=n,this.serializableCache=i,this.persistencePlugin=s,this.performanceClient=o}validateServerAuthorizationCodeResponse(e,t){let r,n;if(!e.state||!t)throw e.state?t9(tk,"Cached State"):t9(tk,"Server State");try{r=decodeURIComponent(e.state)}catch(t){throw t9(tj,e.state)}try{n=decodeURIComponent(t)}catch(t){throw t9(tj,e.state)}if(r!==n)throw t9(tS);if(e.error||e.error_description||e.suberror){let t=sE(e);if(sv(e.error,e.error_description,e.suberror))throw new s_(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",t);throw new sr(e.error||"",e.error_description,e.suberror,t)}}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){let r=`Error(s): ${e.error_codes||x} - Timestamp: ${e.timestamp||x} - Description: ${e.error_description||x} - Correlation ID: ${e.correlation_id||x} - Trace ID: ${e.trace_id||x}`,n=e.error_codes?.length?e.error_codes[0]:void 0,i=new sr(e.error,r,e.suberror,n,e.status);if(t&&e.status&&e.status>=K&&e.status<=Q)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${i}`);if(t&&e.status&&e.status>=z&&e.status<=J)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${i}`);if(sv(e.error,e.error_description,e.suberror))throw new s_(e.error,e.error_description,e.suberror,e.timestamp||E,e.trace_id||E,e.correlation_id||E,e.claims||E,n);throw i}}async handleServerTokenResponse(e,t,r,n,i,s,o,a,l){let c,u,d;if(this.performanceClient?.addQueueMeasurement(iJ,e.correlation_id),e.id_token){if(c=ri(e.id_token||E,this.cryptoObj.base64Decode),i&&i.nonce&&c.nonce!==i.nonce)throw t9(tE);if(n.maxAge||0===n.maxAge){let e=c.auth_time;if(!e)throw t9(tC);ro(e,n.maxAge)}}this.homeAccountIdentifier=nc.generateHomeAccountId(e.client_info||E,t.authorityType,this.logger,this.cryptoObj,c),i&&i.state&&(u=sw.parseRequestState(this.cryptoObj,i.state)),e.key_id=e.key_id||n.sshKid||void 0;let h=this.generateCacheRecord(e,t,r,n,c,s,i);try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),d=new sk(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(d)),o&&!a&&h.account){let e=h.account.generateAccountKey();if(!this.cacheStorage.getAccount(e,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await sC.generateAuthenticationResult(this.cryptoObj,t,h,!1,n,c,u,void 0,l)}await this.cacheStorage.saveCacheRecord(h,n.storeInCache,n.correlationId)}finally{this.persistencePlugin&&this.serializableCache&&d&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(d))}return sC.generateAuthenticationResult(this.cryptoObj,t,h,!1,n,c,u,e,l)}generateCacheRecord(e,t,r,n,i,s,o){let a,l,c=t.getPreferredCache();if(!c)throw t9(tU);let u=na(i);e.id_token&&i&&(a=rh(this.homeAccountIdentifier,c,e.id_token,this.clientId,u||""),l=sx(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,i,e.client_info,c,u,o,void 0,this.logger));let d=null;if(e.access_token){let i=e.scope?r8.fromString(e.scope):new r8(n.scopes||[]),o=("string"==typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,a=("string"==typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,l=("string"==typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,h=r+o,p=h+a,f=l&&l>0?r+l:void 0;d=rp(this.homeAccountIdentifier,c,e.access_token,this.clientId,u||t.tenant||"",i.printScopes(),h,p,this.cryptoObj.base64Decode,f,e.token_type,s,e.key_id,n.claims,n.requestedClaimsHash)}let h=null;if(e.refresh_token){let t;e.refresh_token_expires_in&&(t=r+("string"==typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)),h=rf(this.homeAccountIdentifier,c,e.refresh_token,this.clientId,e.foci,s,t)}let p=null;return e.foci&&(p={clientId:this.clientId,environment:c,familyId:e.foci}),{account:l,idToken:a,accessToken:d,refreshToken:h,appMetadata:p}}static async generateAuthenticationResult(e,t,r,n,i,s,o,a,l){let c,u,d=E,h=[],p=null,f=E;if(r.accessToken){if(r.accessToken.tokenType!==eV||i.popKid)d=r.accessToken.secret;else{let t=new sS(e),{secret:n,keyId:s}=r.accessToken;if(!s)throw t9(tX);d=await t.signPopToken(n,s,i)}h=r8.fromString(r.accessToken.target).asArray(),p=new Date(1e3*Number(r.accessToken.expiresOn)),c=new Date(1e3*Number(r.accessToken.extendedExpiresOn)),r.accessToken.refreshOn&&(u=new Date(1e3*Number(r.accessToken.refreshOn)))}r.appMetadata&&(f=r.appMetadata.familyId===eI?eI:"");let m=s?.oid||s?.sub||"",g=s?.tid||"";a?.spa_accountid&&r.account&&(r.account.nativeAccountId=a?.spa_accountid);let y=r.account?nr(r.account.getAccountInfo(),void 0,s,r.idToken?.secret):null;return{authority:t.canonicalAuthority,uniqueId:m,tenantId:g,scopes:h,account:y,idToken:r?.idToken?.secret||"",idTokenClaims:s||{},accessToken:d,fromCache:n,expiresOn:p,extExpiresOn:c,refreshOn:u,correlationId:i.correlationId,requestId:l||E,familyId:f,tokenType:r.accessToken?.tokenType||E,state:o?o.userRequestState:E,cloudGraphHostName:r.account?.cloudGraphHostName||E,msGraphHost:r.account?.msGraphHost||E,code:a?.spa_code,fromNativeBroker:!1}}}function sx(e,t,r,n,i,s,o,a,l,c,u){u?.verbose("setCachedAccount called");let d=e.getAccountKeys().find(e=>e.startsWith(r)),h=null;d&&(h=e.getAccount(d,u));let p=h||nc.createAccount({homeAccountId:r,idTokenClaims:i,clientInfo:s,environment:o,cloudGraphHostName:l?.cloud_graph_host_name,msGraphHost:l?.msgraph_host,nativeAccountId:c},t,n),f=p.tenantProfiles||[],m=a||p.realm;if(m&&!f.find(e=>e.tenantId===m)){let e=nt(r,p.localAccountId,m,i);f.push(e)}return p.tenantProfiles=f,p}async function sT(e,t,r){return"string"==typeof e?e:e({clientId:t,tokenEndpoint:r})}class sO extends ss{constructor(e,t){super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async getAuthCodeUrl(e){this.performanceClient?.addQueueMeasurement(iL,e.correlationId);let t=await i3(this.createAuthCodeUrlQueryString.bind(this),iH,this.logger,this.performanceClient,e.correlationId)(e);return nh.appendQueryString(this.authority.authorizationEndpoint,t)}async acquireToken(e,t){if(this.performanceClient?.addQueueMeasurement(iU,e.correlationId),!e.code)throw t9(tA);let r=ra(),n=await i3(this.executeTokenRequest.bind(this),iz,this.logger,this.performanceClient,e.correlationId)(this.authority,e),i=n.headers?.[ei],s=new sC(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return s.validateTokenResponse(n.body),i3(s.handleServerTokenResponse.bind(s),iJ,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,r,e,t,void 0,void 0,void 0,i)}handleFragmentResponse(e,t){if(new sC(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,t),!e.code)throw t9(tG);return e}getLogoutUri(e){if(!e)throw r3(rF);let t=this.createLogoutUrlQueryString(e);return nh.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){let r;this.performanceClient?.addQueueMeasurement(iz,t.correlationId);let n=this.createTokenQueryParameters(t),i=nh.appendQueryString(e.tokenEndpoint,n),s=await i3(this.createTokenRequestBody.bind(this),iF,this.logger,this.performanceClient,t.correlationId)(t);if(t.clientInfo)try{let e=r9(t.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${e.uid}${eS}${e.utid}`,type:nD}}catch(e){this.logger.verbose("Could not parse client info for CCS Header: "+e)}let o=this.createTokenRequestHeaders(r||t.ccsCredential),a={clientId:t.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return i3(this.executePostToTokenEndpoint.bind(this),iI,this.logger,this.performanceClient,t.correlationId)(i,s,o,a,t.correlationId,iI)}async createTokenRequestBody(e){let t;this.performanceClient?.addQueueMeasurement(iF,e.correlationId);let r=new ik(e.correlationId,this.performanceClient);if(r.addClientId(e.embeddedClientId||e.tokenBodyParameters?.[nB]||this.config.authOptions.clientId),this.includeRedirectUri?r.addRedirectUri(e.redirectUri):ij.validateRedirectUri(e.redirectUri),r.addScopes(e.scopes,!0,this.oidcDefaultScopes),r.addAuthorizationCode(e.code),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&!nM(this.config)&&r.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&r.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let t=this.config.clientCredentials.clientAssertion;r.addClientAssertion(await sT(t.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),r.addClientAssertionType(t.assertionType)}if(r.addGrantType(ep),r.addClientInfo(),e.authenticationScheme===eV){let t,n=new sS(this.cryptoUtils,this.performanceClient);t=e.popKid?this.cryptoUtils.encodeKid(e.popKid):(await i3(n.generateCnf.bind(n),iq,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,r.addPopToken(t)}else if(e.authenticationScheme===eK)if(e.sshJwk)r.addSshJwk(e.sshJwk);else throw r3(rK);if((!r5.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.clientInfo)try{let r=r9(e.clientInfo,this.cryptoUtils.base64Decode);t={credential:`${r.uid}${eS}${r.utid}`,type:nD}}catch(e){this.logger.verbose("Could not parse client info for CCS Header: "+e)}else t=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&t)switch(t.type){case nD:try{let e=r7(t.credential);r.addCcsOid(e)}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case nL:r.addCcsUpn(t.credential)}return e.embeddedClientId&&r.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&r.addExtraQueryParameters(e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[ih]||r.addExtraQueryParameters({[ih]:"1"}),r.createQueryString()}async createAuthCodeUrlQueryString(e){let t=e.correlationId||this.config.cryptoInterface.createNewGuid();this.performanceClient?.addQueueMeasurement(iH,t);let r=new ik(t,this.performanceClient);r.addClientId(e.embeddedClientId||e.extraQueryParameters?.[nB]||this.config.authOptions.clientId);let n=[...e.scopes||[],...e.extraScopesToConsent||[]];if(r.addScopes(n,!0,this.oidcDefaultScopes),r.addRedirectUri(e.redirectUri),r.addCorrelationId(t),r.addResponseMode(e.responseMode),r.addResponseTypeCode(),r.addLibraryInfo(this.config.libraryInfo),nM(this.config)||r.addApplicationTelemetry(this.config.telemetry.application),r.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&r.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&r.addPrompt(e.prompt),e.domainHint&&r.addDomainHint(e.domainHint),e.prompt!==ec.SELECT_ACCOUNT)if(e.sid&&e.prompt===ec.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),r.addSid(e.sid);else if(e.account){let t=this.extractAccountSid(e.account),n=this.extractLoginHint(e.account);if(n&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),n=null),n){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),r.addLoginHint(n);try{let t=r7(e.account.homeAccountId);r.addCcsOid(t)}catch(e){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(t&&e.prompt===ec.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),r.addSid(t);try{let t=r7(e.account.homeAccountId);r.addCcsOid(t)}catch(e){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),r.addLoginHint(e.loginHint),r.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),r.addLoginHint(e.account.username);try{let t=r7(e.account.homeAccountId);r.addCcsOid(t)}catch(e){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),r.addLoginHint(e.loginHint),r.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&r.addNonce(e.nonce),e.state&&r.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.embeddedClientId&&r.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),this.addExtraQueryParams(e,r),e.nativeBroker&&(r.addNativeBroker(),e.authenticationScheme===eV)){let t,n=new sS(this.cryptoUtils);t=e.popKid?this.cryptoUtils.encodeKid(e.popKid):(await i3(n.generateCnf.bind(n),iq,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,r.addPopToken(t)}return r.createQueryString()}createLogoutUrlQueryString(e){let t=new ik(e.correlationId,this.performanceClient);return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),this.addExtraQueryParams(e,t),t.createQueryString()}addExtraQueryParams(e,t){!(e.extraQueryParameters&&e.extraQueryParameters.hasOwnProperty("instance_aware"))&&this.config.authOptions.instanceAware&&(e.extraQueryParameters=e.extraQueryParameters||{},e.extraQueryParameters.instance_aware="true"),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters)}extractAccountSid(e){return e.idTokenClaims?.sid||null}extractLoginHint(e){return e.idTokenClaims?.login_hint||null}}let sI=300;class sA extends ss{constructor(e,t){super(e,t)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(iP,e.correlationId);let t=ra(),r=await i3(this.executeTokenRequest.bind(this),iA,this.logger,this.performanceClient,e.correlationId)(e,this.authority),n=r.headers?.[ei],i=new sC(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(r.body),i3(i.handleServerTokenResponse.bind(i),iJ,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,n)}async acquireTokenByRefreshToken(e){if(!e)throw r3(rz);if(this.performanceClient?.addQueueMeasurement(iN,e.correlationId),!e.account)throw t9(tL);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await i3(this.acquireTokenWithCachedRefreshToken.bind(this),iR,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(r){let e=r instanceof s_&&r.errorCode===so,t=r instanceof sr&&r.errorCode===eY&&r.subError===e0;if(e||t);else throw r}return i3(this.acquireTokenWithCachedRefreshToken.bind(this),iR,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){this.performanceClient?.addQueueMeasurement(iR,e.correlationId);let r=i6(this.cacheManager.getRefreshToken.bind(this.cacheManager),i4,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!r)throw sb(so);if(r.expiresOn&&rl(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||sI))throw sb(sl);let n={...e,refreshToken:r.secret,authenticationScheme:e.authenticationScheme||eJ,ccsCredential:{credential:e.account.homeAccountId,type:nD}};try{return await i3(this.acquireToken.bind(this),iP,this.logger,this.performanceClient,e.correlationId)(n)}catch(e){if(e instanceof s_&&e.subError===sh){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");let e=rd(r);this.cacheManager.removeRefreshToken(e)}throw e}}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(iA,e.correlationId);let r=this.createTokenQueryParameters(e),n=nh.appendQueryString(t.tokenEndpoint,r),i=await i3(this.createTokenRequestBody.bind(this),i$,this.logger,this.performanceClient,e.correlationId)(e),s=this.createTokenRequestHeaders(e.ccsCredential),o={clientId:e.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return i3(this.executePostToTokenEndpoint.bind(this),iO,this.logger,this.performanceClient,e.correlationId)(n,i,s,o,e.correlationId,iO)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(i$,e.correlationId);let t=new ik(e.correlationId,this.performanceClient);if(t.addClientId(e.embeddedClientId||e.tokenBodyParameters?.[nB]||this.config.authOptions.clientId),e.redirectUri&&t.addRedirectUri(e.redirectUri),t.addScopes(e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),t.addGrantType(eg),t.addClientInfo(),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&!nM(this.config)&&t.addServerTelemetry(this.serverTelemetryManager),t.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let r=this.config.clientCredentials.clientAssertion;t.addClientAssertion(await sT(r.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(r.assertionType)}if(e.authenticationScheme===eV){let r,n=new sS(this.cryptoUtils,this.performanceClient);r=e.popKid?this.cryptoUtils.encodeKid(e.popKid):(await i3(n.generateCnf.bind(n),iq,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,t.addPopToken(r)}else if(e.authenticationScheme===eK)if(e.sshJwk)t.addSshJwk(e.sshJwk);else throw r3(rK);if((!r5.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case nD:try{let r=r7(e.ccsCredential.credential);t.addCcsOid(r)}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case nL:t.addCcsUpn(e.ccsCredential.credential)}return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&t.addExtraQueryParameters(e.tokenBodyParameters),t.createQueryString()}}class sP extends ss{constructor(e,t){super(e,t)}async acquireToken(e){try{let[t,r]=await this.acquireCachedToken({...e,scopes:e.scopes?.length?e.scopes:[...X]});return r===ts&&(this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),new sA(this.config,this.performanceClient).acquireTokenByRefreshToken(e).catch(()=>{})),t}catch(t){if(t instanceof t8&&t.errorCode===tJ)return new sA(this.config,this.performanceClient).acquireTokenByRefreshToken(e);throw t}}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(iM,e.correlationId);let t=tt;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!r5.isEmptyObj(e.claims))throw this.setCacheOutcome(tr,e.correlationId),t9(tJ);if(!e.account)throw t9(tL);let r=e.account.tenantId||i9(e.authority),n=this.cacheManager.getTokenKeys(),i=this.cacheManager.getAccessToken(e.account,e,n,r,this.performanceClient,e.correlationId);if(i)if(rc(i.cachedAt)||rl(i.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(ti,e.correlationId),t9(tJ);else i.refreshOn&&rl(i.refreshOn,0)&&(t=ts);else throw this.setCacheOutcome(tn,e.correlationId),t9(tJ);let s=e.authority||this.authority.getPreferredCache(),o={account:this.cacheManager.readAccountFromCache(e.account),accessToken:i,idToken:this.cacheManager.getIdToken(e.account,n,r,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await i3(this.generateResultFromCacheRecord.bind(this),iD,this.logger,this.performanceClient,e.correlationId)(o,e),t]}setCacheOutcome(e,t){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},t),e!==tt&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){let r;if(this.performanceClient?.addQueueMeasurement(iD,t.correlationId),e.idToken&&(r=ri(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){let e=r?.auth_time;if(!e)throw t9(tC);ro(e,t.maxAge)}return sC.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,r)}}let sR=",",sN="|";function s$(e){let{skus:t,libraryName:r,libraryVersion:n,extensionName:i,extensionVersion:s}=e,o=new Map([[0,[r,n]],[2,[i,s]]]),a=[];if(t?.length){if((a=t.split(sR)).length<4)return t}else a=Array.from({length:4},()=>sN);return o.forEach((e,t)=>{2===e.length&&e[0]?.length&&e[1]?.length&&sM({skuArr:a,index:t,skuName:e[0],skuVersion:e[1]})}),a.join(sR)}function sM(e){let{skuArr:t,index:r,skuName:n,skuVersion:i}=e;r>=t.length||(t[r]=[n,i].join(sN))}class sD{constructor(e,t){this.cacheOutcome=tt,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||E,this.wrapperVer=e.wrapperVer||E,this.telemetryCacheKey=eU+ej+e.clientId}generateCurrentRequestHeaderValue(){let e=`${this.apiId}${eF}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();r?.length&&t.push(`broker_error=${r}`);let n=t.join(eF);return[eD,[e,this.getRegionDiscoveryFields()].join(eF),n].join(ez)}generateLastRequestHeaderValue(){let e=this.getLastRequests(),t=sD.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*t).join(eF),n=e.errors.slice(0,t).join(eF),i=e.errors.length,s=t<i?eH:eq,o=[i,s].join(eF);return[eD,e.cacheHits,r,n,o].join(ez)}cacheFailedRequest(e){let t=this.getLastRequests();t.errors.length>=eB&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof th?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(eW),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){let e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){let e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){let e=this.getLastRequests(),t=sD.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{let r={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r)}}static maxErrorsToSend(e){let t,r=0,n=0,i=e.errors.length;for(t=0;t<i;t++){let i=e.failedRequests[2*t]||E,s=e.failedRequests[2*t+1]||E,o=e.errors[t]||E;if((n+=i.toString().length+s.toString().length+o.length+3)<eL)r+=1;else break}return r}getRegionDiscoveryFields(){let e=[];return e.push(this.regionUsed||E),e.push(this.regionSource||E),e.push(this.regionOutcome||E),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){let t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){let e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return s$(e)}}class sL{static deserializeJSONBlob(e){return e?JSON.parse(e):{}}static deserializeAccounts(e){let t={};return e&&Object.keys(e).map(function(r){let n=e[r],i={homeAccountId:n.home_account_id,environment:n.environment,realm:n.realm,localAccountId:n.local_account_id,username:n.username,authorityType:n.authority_type,name:n.name,clientInfo:n.client_info,lastModificationTime:n.last_modification_time,lastModificationApp:n.last_modification_app,tenantProfiles:n.tenantProfiles?.map(e=>JSON.parse(e))},s=new nc;nk.toObject(s,i),t[r]=s}),t}static deserializeIdTokens(e){let t={};return e&&Object.keys(e).map(function(r){let n=e[r],i={homeAccountId:n.home_account_id,environment:n.environment,credentialType:n.credential_type,clientId:n.client_id,secret:n.secret,realm:n.realm};t[r]=i}),t}static deserializeAccessTokens(e){let t={};return e&&Object.keys(e).map(function(r){let n=e[r],i={homeAccountId:n.home_account_id,environment:n.environment,credentialType:n.credential_type,clientId:n.client_id,secret:n.secret,realm:n.realm,target:n.target,cachedAt:n.cached_at,expiresOn:n.expires_on,extendedExpiresOn:n.extended_expires_on,refreshOn:n.refresh_on,keyId:n.key_id,tokenType:n.token_type,requestedClaims:n.requestedClaims,requestedClaimsHash:n.requestedClaimsHash,userAssertionHash:n.userAssertionHash};t[r]=i}),t}static deserializeRefreshTokens(e){let t={};return e&&Object.keys(e).map(function(r){let n=e[r],i={homeAccountId:n.home_account_id,environment:n.environment,credentialType:n.credential_type,clientId:n.client_id,secret:n.secret,familyId:n.family_id,target:n.target,realm:n.realm};t[r]=i}),t}static deserializeAppMetadata(e){let t={};return e&&Object.keys(e).map(function(r){let n=e[r];t[r]={clientId:n.client_id,environment:n.environment,familyId:n.family_id}}),t}static deserializeAllCache(e){return{accounts:e.Account?this.deserializeAccounts(e.Account):{},idTokens:e.IdToken?this.deserializeIdTokens(e.IdToken):{},accessTokens:e.AccessToken?this.deserializeAccessTokens(e.AccessToken):{},refreshTokens:e.RefreshToken?this.deserializeRefreshTokens(e.RefreshToken):{},appMetadata:e.AppMetadata?this.deserializeAppMetadata(e.AppMetadata):{}}}}var sB=Object.freeze({__proto__:null,Deserializer:sL,Serializer:u});let sU="Authorization",sz="Metadata",sF="X-IDENTITY-HEADER",sH="secret",sq="api-version",sW="resource",sJ="system_assigned_managed_identity",sV="managed_identity",sK=`https://login.microsoftonline.com/${sV}/`,sG="AZURE_POD_IDENTITY_AUTHORITY_HOST",sZ="IDENTITY_ENDPOINT",sQ="IDENTITY_HEADER",sX="IDENTITY_SERVER_THUMBPRINT",sY="IMDS_ENDPOINT",s0="MSI_ENDPOINT",s1={APP_SERVICE:"AppService",AZURE_ARC:"AzureArc",CLOUD_SHELL:"CloudShell",DEFAULT_TO_IMDS:"DefaultToImds",IMDS:"Imds",SERVICE_FABRIC:"ServiceFabric"},s2="system-assigned",s4="user-assigned-client-id",s6="user-assigned-resource-id",s3="user-assigned-object-id",s5="get",s8="post",s9=L,s7=B,oe=V,ot="REGION_NAME",or="MSAL_FORCE_REGION",on=32,oi="sha256",os="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",oo="msal.js.node",oa="urn:ietf:params:oauth:client-assertion-type:jwt-bearer",ol="authorization_pending",oc="http://",ou="localhost",od=62,oh=371,op=671,of=771,om=871,og=872,oy="RS256",o_="PS256",ov="x5t#S256",ob="x5t",ow="x5c",oj="aud",oS="exp",ok="iss",oE="sub",oC="nbf",ox="jti",oT=100,oO=5e3,oI=4096,oA=3,oP=1e3,oR=[H,q,W,V,G,Z];class oN{static getNetworkResponse(e,t,r){return{headers:e,body:t,status:r}}static urlToHttpOptions(e){let t={protocol:e.protocol,hostname:e.hostname&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:`${e.pathname||""}${e.search||""}`,href:e.href};return""!==e.port&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth=`${decodeURIComponent(e.username)}:${decodeURIComponent(e.password)}`),t}}class o${constructor(e,t){this.proxyUrl=e||"",this.customAgentOptions=t||{}}async sendGetRequestAsync(e,t,r){return this.proxyUrl?oM(e,this.proxyUrl,s5,t,this.customAgentOptions,r):oD(e,s5,t,this.customAgentOptions,r)}async sendPostRequestAsync(e,t){return this.proxyUrl?oM(e,this.proxyUrl,s8,t,this.customAgentOptions):oD(e,s8,t,this.customAgentOptions)}}let oM=(e,t,r,i,s,o)=>{let a=new URL(e),l=new URL(t),c=i?.headers||{},u={host:l.hostname,port:l.port,method:"CONNECT",path:a.hostname,headers:c};s&&Object.keys(s).length&&(u.agent=new n.Agent(s));let d="";if(r===s8){let e=i?.body||"";d=`Content-Type: application/x-www-form-urlencoded\r
Content-Length: ${e.length}\r
\r
${e}`}else o&&(u.timeout=o);let h=`${r.toUpperCase()} ${a.href} HTTP/1.1\r
Host: ${a.host}\r
Connection: close\r
`+d+"\r\n";return new Promise((e,t)=>{let r=n.request(u);o&&r.on("timeout",()=>{r.destroy(),t(Error("Request time out"))}),r.end(),r.on("connect",(n,i)=>{let s=n?.statusCode||oe;(s<s9||s>s7)&&(r.destroy(),i.destroy(),t(Error(`Error connecting to proxy. Http status code: ${n.statusCode}. Http status message: ${n?.statusMessage||"Unknown"}`))),i.write(h);let o=[];i.on("data",e=>{o.push(e)}),i.on("end",()=>{let t=Buffer.concat([...o]).toString().split("\r\n"),n=parseInt(t[0].split(" ")[1]),i=t[0].split(" ").slice(2).join(" "),s=t[t.length-1],a=t.slice(1,t.length-2),l=new Map;a.forEach(e=>{let t=e.split(new RegExp(/:\s(.*)/s)),r=t[0],n=t[1];try{let e=JSON.parse(n);e&&"object"==typeof e&&(n=e)}catch(e){}l.set(r,n)});let c=Object.fromEntries(l),u=oN.getNetworkResponse(c,oL(n,i,c,s),n);(n<L||n>B)&&u.body.error!==ol&&r.destroy(),e(u)}),i.on("error",e=>{r.destroy(),i.destroy(),t(Error(e.toString()))})}),r.on("error",e=>{r.destroy(),t(Error(e.toString()))})})},oD=(e,t,r,s,o)=>{let a=t===s8,l=r?.body||"",c=new URL(e),u={method:t,headers:r?.headers||{},...oN.urlToHttpOptions(c)};return s&&Object.keys(s).length&&(u.agent=new i.Agent(s)),a?u.headers={...u.headers,"Content-Length":l.length}:o&&(u.timeout=o),new Promise((e,t)=>{let r;r="http:"===u.protocol?n.request(u):i.request(u),a&&r.write(l),o&&r.on("timeout",()=>{r.destroy(),t(Error("Request time out"))}),r.end(),r.on("response",t=>{let n=t.headers,i=t.statusCode,s=t.statusMessage,o=[];t.on("data",e=>{o.push(e)}),t.on("end",()=>{let t=Buffer.concat([...o]).toString(),a=n,l=oN.getNetworkResponse(a,oL(i,s,a,t),i);(i<L||i>B)&&l.body.error!==ol&&r.destroy(),e(l)})}),r.on("error",e=>{r.destroy(),t(Error(e.toString()))})})},oL=(e,t,r,n)=>{let i;try{i=JSON.parse(n)}catch(o){let n,s;e>=z&&e<=J?(n="client_error",s="A client"):e>=K&&e<=Q?(n="server_error",s="A server"):(n="unknown_error",s="An unknown"),i={error:n,error_description:`${s} error occured.
Http status code: ${e}
Http status message: ${t||"Unknown"}
Headers: ${JSON.stringify(r)}`}}return i},oB="invalid_file_extension",oU="invalid_file_path",oz="invalid_managed_identity_id_type",oF="invalid_secret",oH="network_unavailable",oq="platform_not_supported",oW="unable_to_create_azure_arc",oJ="unable_to_create_cloud_shell",oV="unable_to_create_source",oK="unable_to_read_secret_file",oG="user_assigned_not_available_at_runtime",oZ="www_authenticate_header_missing",oQ="www_authenticate_header_unsupported_format",oX={[sG]:"azure_pod_identity_authority_host_url_malformed",[sZ]:"identity_endpoint_url_malformed",[sY]:"imds_endpoint_url_malformed",[s0]:"msi_endpoint_url_malformed"},oY={[oB]:"The file path in the WWW-Authenticate header does not contain a .key file.",[oU]:"The file path in the WWW-Authenticate header is not in a valid Windows or Linux Format.",[oz]:"More than one ManagedIdentityIdType was provided.",[oF]:"The secret in the file on the file path in the WWW-Authenticate header is greater than 4096 bytes.",[oq]:"The platform is not supported by Azure Arc. Azure Arc only supports Windows and Linux.",missing_client_id:"A ManagedIdentityId id was not provided.",[oX.AZURE_POD_IDENTITY_AUTHORITY_HOST]:`The Managed Identity's '${sG}' environment variable is malformed.`,[oX.IDENTITY_ENDPOINT]:`The Managed Identity's '${sZ}' environment variable is malformed.`,[oX.IMDS_ENDPOINT]:`The Managed Identity's '${sY}' environment variable is malformed.`,[oX.MSI_ENDPOINT]:`The Managed Identity's '${s0}' environment variable is malformed.`,[oH]:"Authentication unavailable. The request to the managed identity endpoint timed out.",[oW]:"Azure Arc Managed Identities can only be system assigned.",[oJ]:"Cloud Shell Managed Identities can only be system assigned.",[oV]:"Unable to create a Managed Identity source based on environment variables.",[oK]:"Unable to read the secret file.",[oG]:"Service Fabric user assigned managed identity ClientId or ResourceId is not configurable at runtime.",[oZ]:"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is missing.",[oQ]:"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is in an unsupported format."};class o0 extends th{constructor(e){super(e,oY[e]),this.name="ManagedIdentityError",Object.setPrototypeOf(this,o0.prototype)}}function o1(e){return new o0(e)}class o2{get id(){return this._id}set id(e){this._id=e}get idType(){return this._idType}set idType(e){this._idType=e}constructor(e){let t=e?.userAssignedClientId,r=e?.userAssignedResourceId,n=e?.userAssignedObjectId;if(t){if(r||n)throw o1(oz);this.id=t,this.idType=s4}else if(r){if(t||n)throw o1(oz);this.id=r,this.idType=s6}else if(n){if(t||r)throw o1(oz);this.id=n,this.idType=s3}else this.id=sJ,this.idType=s2}}class o4{constructor(e,t,r){this.maxRetries=e,this.retryDelay=t,this.httpStatusCodesToRetryOn=r}retryAfterMillisecondsToSleep(e){if(!e)return 0;let t=Math.round(1e3*parseFloat(e));return isNaN(t)&&(t=Math.max(0,new Date(e).valueOf()-new Date().valueOf())),t}async pauseForRetry(e,t,r){if(this.httpStatusCodesToRetryOn.includes(e)&&t<this.maxRetries){let e=this.retryAfterMillisecondsToSleep(r);return await new Promise(t=>setTimeout(t,e||this.retryDelay)),!0}return!1}}class o6{constructor(e,t){this.httpClientNoRetries=e,this.retryPolicy=t}async sendNetworkRequestAsyncHelper(e,t,r){return e===s5?this.httpClientNoRetries.sendGetRequestAsync(t,r):this.httpClientNoRetries.sendPostRequestAsync(t,r)}async sendNetworkRequestAsync(e,t,r){let n=await this.sendNetworkRequestAsyncHelper(e,t,r),i=0;for(;await this.retryPolicy.pauseForRetry(n.status,i,n.headers[er]);)n=await this.sendNetworkRequestAsyncHelper(e,t,r),i++;return n}async sendGetRequestAsync(e,t){return this.sendNetworkRequestAsync(s5,e,t)}async sendPostRequestAsync(e,t){return this.sendNetworkRequestAsync(s8,e,t)}}let o3="invalid_loopback_server_address_type",o5="Loopback server address is not type string. This is unexpected.",o8="unable_to_load_redirectUrl",o9="Loopback server callback was invoked without a url. This is unexpected.",o7="no_auth_code_in_response",ae="No auth code found in the server response. Please check your network trace to determine what happened.",at="no_loopback_server_exists",ar="No loopback server exists yet.",an="loopback_server_already_exists",ai="Loopback server already exists. Cannot create another.",as="loopback_server_timeout",ao="Timed out waiting for auth code listener to be registered.",aa="state_not_found",al="State not found. Please verify that the request originated from msal.",ac="thumbprint_missing_from_client_certificate",au="Client certificate does not contain a SHA-1 or SHA-256 thumbprint.";class ad extends th{constructor(e,t){super(e,t),this.name="NodeAuthError"}static createInvalidLoopbackAddressTypeError(){return new ad(o3,`${o5}`)}static createUnableToLoadRedirectUrlError(){return new ad(o8,`${o9}`)}static createNoAuthCodeInResponseError(){return new ad(o7,`${ae}`)}static createNoLoopbackServerExistsError(){return new ad(at,`${ar}`)}static createLoopbackServerAlreadyExistsError(){return new ad(an,`${ai}`)}static createLoopbackServerTimeoutError(){return new ad(as,`${ao}`)}static createStateNotFoundError(){return new ad(aa,al)}static createThumbprintMissingError(){return new ad(ac,au)}}let ah={clientId:E,authority:h,clientSecret:E,clientAssertion:E,clientCertificate:{thumbprint:E,thumbprintSha256:E,privateKey:E,x5c:E},knownAuthorities:[],cloudDiscoveryMetadata:E,authorityMetadata:E,clientCapabilities:[],protocolMode:nl.AAD,azureCloudOptions:{azureCloudInstance:rn.None,tenant:E},skipAuthorityMetadataCache:!1},ap={claimsBasedCachingEnabled:!1},af={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:t.LogLevel.Info},am={loggerOptions:af,networkClient:new o$,proxyUrl:E,customAgentOptions:{},disableInternalRetries:!1},ag={application:{appName:E,appVersion:E}};function ay({auth:e,broker:t,cache:r,system:n,telemetry:i}){let s={...am,networkClient:new o$(n?.proxyUrl,n?.customAgentOptions),loggerOptions:n?.loggerOptions||af,disableInternalRetries:n?.disableInternalRetries||!1};if(e.clientCertificate&&!e.clientCertificate.thumbprint&&!e.clientCertificate.thumbprintSha256)throw ad.createStateNotFoundError();return{auth:{...ah,...e},broker:{...t},cache:{...ap,...r},system:{...s,...n},telemetry:{...ag,...i}}}function a_({managedIdentityIdParams:e,system:t}){let r,n=new o2(e),i=t?.loggerOptions||af;return r=t?.networkClient?t.networkClient:new o$(t?.proxyUrl,t?.customAgentOptions),t?.disableInternalRetries||(r=new o6(r,new o4(oA,oP,oR))),{managedIdentityId:n,system:{loggerOptions:i,networkClient:r}}}class av{generateGuid(){return s.v4()}isGuid(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}}class ab{static base64Encode(e,t){return Buffer.from(e,t).toString("base64")}static base64EncodeUrl(e,t){return ab.base64Encode(e,t).replace(/=/g,E).replace(/\+/g,"-").replace(/\//g,"_")}static base64Decode(e){return Buffer.from(e,"base64").toString("utf8")}static base64DecodeUrl(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");for(;t.length%4;)t+="=";return ab.base64Decode(t)}}class aw{sha256(e){return o.createHash(oi).update(e).digest()}}class aj{constructor(){this.hashUtils=new aw}async generatePkceCodes(){let e=this.generateCodeVerifier(),t=this.generateCodeChallengeFromVerifier(e);return{verifier:e,challenge:t}}generateCodeVerifier(){let e=[],t=256-256%os.length;for(;e.length<=on;){let r=o.randomBytes(1)[0];if(r>=t)continue;let n=r%os.length;e.push(os[n])}let r=e.join(E);return ab.base64EncodeUrl(r)}generateCodeChallengeFromVerifier(e){return ab.base64EncodeUrl(this.hashUtils.sha256(e).toString("base64"),"base64")}}class aS{constructor(){this.pkceGenerator=new aj,this.guidGenerator=new av,this.hashUtils=new aw}base64UrlEncode(){throw Error("Method not implemented.")}encodeKid(){throw Error("Method not implemented.")}createNewGuid(){return this.guidGenerator.generateGuid()}base64Encode(e){return ab.base64Encode(e)}base64Decode(e){return ab.base64Decode(e)}generatePkceCodes(){return this.pkceGenerator.generatePkceCodes()}getPublicKeyThumbprint(){throw Error("Method not implemented.")}removeTokenBindingKey(){throw Error("Method not implemented.")}clearKeystore(){throw Error("Method not implemented.")}signJwt(){throw Error("Method not implemented.")}async hashString(e){return ab.base64EncodeUrl(this.hashUtils.sha256(e).toString("base64"),"base64")}}class ak extends nk{constructor(e,t,r,n){super(t,r,e,n),this.cache={},this.changeEmitters=[],this.logger=e}registerChangeEmitter(e){this.changeEmitters.push(e)}emitChange(){this.changeEmitters.forEach(e=>e.call(null))}cacheToInMemoryCache(e){let t={accounts:{},idTokens:{},accessTokens:{},refreshTokens:{},appMetadata:{}};for(let r in e){let n=e[r];if("object"==typeof n)if(n instanceof nc)t.accounts[r]=n;else if(ry(n))t.idTokens[r]=n;else if(rg(n))t.accessTokens[r]=n;else if(r_(n))t.refreshTokens[r]=n;else{if(!rx(r,n))continue;t.appMetadata[r]=n}}return t}inMemoryCacheToCache(e){let t=this.getCache();return{...t,...e.accounts,...e.idTokens,...e.accessTokens,...e.refreshTokens,...e.appMetadata}}getInMemoryCache(){return this.logger.trace("Getting in-memory cache"),this.cacheToInMemoryCache(this.getCache())}setInMemoryCache(e){this.logger.trace("Setting in-memory cache");let t=this.inMemoryCacheToCache(e);this.setCache(t),this.emitChange()}getCache(){return this.logger.trace("Getting cache key-value store"),this.cache}setCache(e){this.logger.trace("Setting cache key value store"),this.cache=e,this.emitChange()}getItem(e){return this.logger.tracePii(`Item key: ${e}`),this.getCache()[e]}setItem(e,t){this.logger.tracePii(`Item key: ${e}`);let r=this.getCache();r[e]=t,this.setCache(r)}getAccountKeys(){return Object.keys(this.getInMemoryCache().accounts)}getTokenKeys(){let e=this.getInMemoryCache();return{idToken:Object.keys(e.idTokens),accessToken:Object.keys(e.accessTokens),refreshToken:Object.keys(e.refreshTokens)}}getAccount(e){let t=this.getCachedAccountEntity(e);return t&&nc.isAccountEntity(t)?this.updateOutdatedCachedAccount(e,t):null}getCachedAccountEntity(e){return this.getItem(e)?Object.assign(new nc,this.getItem(e)):null}setAccount(e){let t=e.generateAccountKey();this.setItem(t,e)}getIdTokenCredential(e){let t=this.getItem(e);return ry(t)?t:null}setIdTokenCredential(e){let t=rd(e);this.setItem(t,e)}getAccessTokenCredential(e){let t=this.getItem(e);return rg(t)?t:null}setAccessTokenCredential(e){let t=rd(e);this.setItem(t,e)}getRefreshTokenCredential(e){let t=this.getItem(e);return r_(t)?t:null}setRefreshTokenCredential(e){let t=rd(e);this.setItem(t,e)}getAppMetadata(e){let t=this.getItem(e);return rx(e,t)?t:null}setAppMetadata(e){let t=rC(e);this.setItem(t,e)}getServerTelemetry(e){let t=this.getItem(e);return t&&rk(e,t)?t:null}setServerTelemetry(e,t){this.setItem(e,t)}getAuthorityMetadata(e){let t=this.getItem(e);return t&&rT(e,t)?t:null}getAuthorityMetadataKeys(){return this.getKeys().filter(e=>this.isAuthorityMetadata(e))}setAuthorityMetadata(e,t){this.setItem(e,t)}getThrottlingCache(e){let t=this.getItem(e);return t&&rE(e,t)?t:null}setThrottlingCache(e,t){this.setItem(e,t)}removeItem(e){this.logger.tracePii(`Item key: ${e}`);let t=!1,r=this.getCache();return r[e]&&(delete r[e],t=!0),t&&(this.setCache(r),this.emitChange()),t}removeOutdatedAccount(e){this.removeItem(e)}containsKey(e){return this.getKeys().includes(e)}getKeys(){return this.logger.trace("Retrieving all cache keys"),[...Object.keys(this.getCache())]}clear(){this.logger.trace("Clearing cache entries created by MSAL"),this.getKeys().forEach(e=>{this.removeItem(e)}),this.emitChange()}static generateInMemoryCache(e){return sL.deserializeAllCache(sL.deserializeJSONBlob(e))}static generateJsonCache(e){return u.serializeAllCache(e)}updateCredentialCacheKey(e,t){let r=rd(t);if(e!==r){let n=this.getItem(e);if(n)return this.removeItem(e),this.setItem(r,n),this.logger.verbose(`Updated an outdated ${t.credentialType} cache key`),r;this.logger.error(`Attempted to update an outdated ${t.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}}let aE={},aC={},ax={},aT={},aO={};class aI{constructor(e,t,r){this.cacheHasChanged=!1,this.storage=e,this.storage.registerChangeEmitter(this.handleChangeEvent.bind(this)),r&&(this.persistence=r),this.logger=t}hasChanged(){return this.cacheHasChanged}serialize(){this.logger.trace("Serializing in-memory cache");let e=u.serializeAllCache(this.storage.getInMemoryCache());return this.cacheSnapshot?(this.logger.trace("Reading cache snapshot from disk"),e=this.mergeState(JSON.parse(this.cacheSnapshot),e)):this.logger.trace("No cache snapshot to merge"),this.cacheHasChanged=!1,JSON.stringify(e)}deserialize(e){if(this.logger.trace("Deserializing JSON to in-memory cache"),this.cacheSnapshot=e,this.cacheSnapshot){this.logger.trace("Reading cache snapshot from disk");let e=sL.deserializeAllCache(this.overlayDefaults(JSON.parse(this.cacheSnapshot)));this.storage.setInMemoryCache(e)}else this.logger.trace("No cache snapshot to deserialize")}getKVStore(){return this.storage.getCache()}async getAllAccounts(){let e;this.logger.trace("getAllAccounts called");try{return this.persistence&&(e=new sk(this,!1),await this.persistence.beforeCacheAccess(e)),this.storage.getAllAccounts()}finally{this.persistence&&e&&await this.persistence.afterCacheAccess(e)}}async getAccountByHomeId(e){let t=await this.getAllAccounts();return e&&t&&t.length&&t.filter(t=>t.homeAccountId===e)[0]||null}async getAccountByLocalId(e){let t=await this.getAllAccounts();return e&&t&&t.length&&t.filter(t=>t.localAccountId===e)[0]||null}async removeAccount(e){let t;this.logger.trace("removeAccount called");try{this.persistence&&(t=new sk(this,!0),await this.persistence.beforeCacheAccess(t)),await this.storage.removeAccount(nc.generateAccountCacheKey(e))}finally{this.persistence&&t&&await this.persistence.afterCacheAccess(t)}}handleChangeEvent(){this.cacheHasChanged=!0}mergeState(e,t){this.logger.trace("Merging in-memory cache with cache snapshot");let r=this.mergeRemovals(e,t);return this.mergeUpdates(r,t)}mergeUpdates(e,t){return Object.keys(t).forEach(r=>{let n=t[r];if(e.hasOwnProperty(r)){let t=null!==n,i="object"==typeof n,s=!Array.isArray(n),o=void 0!==e[r]&&null!==e[r];t&&i&&s&&o?this.mergeUpdates(e[r],n):e[r]=n}else null!==n&&(e[r]=n)}),e}mergeRemovals(e,t){this.logger.trace("Remove updated entries in cache");let r=e.Account?this.mergeRemovalsDict(e.Account,t.Account):e.Account,n=e.AccessToken?this.mergeRemovalsDict(e.AccessToken,t.AccessToken):e.AccessToken,i=e.RefreshToken?this.mergeRemovalsDict(e.RefreshToken,t.RefreshToken):e.RefreshToken,s=e.IdToken?this.mergeRemovalsDict(e.IdToken,t.IdToken):e.IdToken,o=e.AppMetadata?this.mergeRemovalsDict(e.AppMetadata,t.AppMetadata):e.AppMetadata;return{...e,Account:r,AccessToken:n,RefreshToken:i,IdToken:s,AppMetadata:o}}mergeRemovalsDict(e,t){let r={...e};return Object.keys(e).forEach(e=>{t&&t.hasOwnProperty(e)||delete r[e]}),r}overlayDefaults(e){return this.logger.trace("Overlaying input cache with the default cache"),{Account:{...aE,...e.Account},IdToken:{...aC,...e.IdToken},AccessToken:{...ax,...e.AccessToken},RefreshToken:{...aT,...e.RefreshToken},AppMetadata:{...aO,...e.AppMetadata}}}}class aA{static fromAssertion(e){let t=new aA;return t.jwt=e,t}static fromCertificate(e,t,r){let n=new aA;return n.privateKey=t,n.thumbprint=e,n.useSha256=!1,r&&(n.publicCertificate=this.parseCertificate(r)),n}static fromCertificateWithSha256Thumbprint(e,t,r){let n=new aA;return n.privateKey=t,n.thumbprint=e,n.useSha256=!0,r&&(n.publicCertificate=this.parseCertificate(r)),n}getJwt(e,t,r){if(this.privateKey&&this.thumbprint)return this.jwt&&!this.isExpired()&&t===this.issuer&&r===this.jwtAudience?this.jwt:this.createJwt(e,t,r);if(this.jwt)return this.jwt;throw t9(tq)}createJwt(e,t,r){this.issuer=t,this.jwtAudience=r;let n=ra();this.expirationTime=n+600;let i={alg:this.useSha256?o_:oy};Object.assign(i,{[this.useSha256?ov:ob]:ab.base64EncodeUrl(this.thumbprint,"hex")}),this.publicCertificate&&Object.assign(i,{[ow]:this.publicCertificate});let s={[oj]:this.jwtAudience,[oS]:this.expirationTime,[ok]:this.issuer,[oE]:this.issuer,[oC]:n,[ox]:e.createNewGuid()};return this.jwt=a.sign(s,this.privateKey,{header:i}),this.jwt}isExpired(){return this.expirationTime<ra()}static parseCertificate(e){let t,r=/-----BEGIN CERTIFICATE-----\r*\n(.+?)\r*\n-----END CERTIFICATE-----/gs,n=[];for(;null!==(t=r.exec(e));)n.push(t[1].replace(/\r*\n/g,E));return n}}let aP="@azure/msal-node",aR="2.16.2";class aN extends ss{constructor(e){super(e)}async acquireToken(e){this.logger.info("in acquireToken call in username-password client");let t=ra(),r=await this.executeTokenRequest(this.authority,e),n=new sC(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return n.validateTokenResponse(r.body),n.handleServerTokenResponse(r.body,this.authority,t,e)}async executeTokenRequest(e,t){let r=this.createTokenQueryParameters(t),n=nh.appendQueryString(e.tokenEndpoint,r),i=await this.createTokenRequestBody(t),s=this.createTokenRequestHeaders({credential:t.username,type:nL}),o={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return this.executePostToTokenEndpoint(n,i,s,o,t.correlationId)}async createTokenRequestBody(e){let t=new ik;t.addClientId(this.config.authOptions.clientId),t.addUsername(e.username),t.addPassword(e.password),t.addScopes(e.scopes),t.addResponseTypeForTokenAndIdToken(),t.addGrantType(em),t.addClientInfo(),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&t.addServerTelemetry(this.serverTelemetryManager);let r=e.correlationId||this.config.cryptoInterface.createNewGuid();t.addCorrelationId(r),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret);let n=this.config.clientCredentials.clientAssertion;return n&&(t.addClientAssertion(await sT(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(n.assertionType)),(!r5.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.username&&t.addCcsUpn(e.username),t.createQueryString()}}class a${constructor(e){this.config=ay(e),this.cryptoProvider=new aS,this.logger=new re(this.config.system.loggerOptions,aP,aR),this.storage=new ak(this.logger,this.config.auth.clientId,this.cryptoProvider,se(this.config.auth)),this.tokenCache=new aI(this.storage,this.logger,this.config.cache.cachePlugin)}async getAuthCodeUrl(e){this.logger.info("getAuthCodeUrl called",e.correlationId);let t={...e,...await this.initializeBaseRequest(e),responseMode:e.responseMode||eh.QUERY,authenticationScheme:eJ},r=new sO(await this.buildOauthClientConfiguration(t.authority,t.correlationId,t.redirectUri,void 0,void 0,e.azureCloudOptions));return this.logger.verbose("Auth code client created",t.correlationId),r.getAuthCodeUrl(t)}async acquireTokenByCode(e,t){this.logger.info("acquireTokenByCode called"),e.state&&t&&(this.logger.info("acquireTokenByCode - validating state"),this.validateState(e.state,t.state||""),t={...t,state:""});let r={...e,...await this.initializeBaseRequest(e),authenticationScheme:eJ},n=this.initializeServerTelemetryManager(om,r.correlationId);try{let i=await this.buildOauthClientConfiguration(r.authority,r.correlationId,r.redirectUri,n,void 0,e.azureCloudOptions),s=new sO(i);return this.logger.verbose("Auth code client created",r.correlationId),await s.acquireToken(r,t)}catch(e){throw e instanceof th&&e.setCorrelationId(r.correlationId),n.cacheFailedRequest(e),e}}async acquireTokenByRefreshToken(e){this.logger.info("acquireTokenByRefreshToken called",e.correlationId);let t={...e,...await this.initializeBaseRequest(e),authenticationScheme:eJ},r=this.initializeServerTelemetryManager(og,t.correlationId);try{let n=await this.buildOauthClientConfiguration(t.authority,t.correlationId,t.redirectUri||"",r,void 0,e.azureCloudOptions),i=new sA(n);return this.logger.verbose("Refresh token client created",t.correlationId),await i.acquireToken(t)}catch(e){throw e instanceof th&&e.setCorrelationId(t.correlationId),r.cacheFailedRequest(e),e}}async acquireTokenSilent(e){let t={...e,...await this.initializeBaseRequest(e),forceRefresh:e.forceRefresh||!1},r=this.initializeServerTelemetryManager(od,t.correlationId,t.forceRefresh);try{let n=await this.buildOauthClientConfiguration(t.authority,t.correlationId,t.redirectUri||"",r,void 0,e.azureCloudOptions),i=new sP(n);return this.logger.verbose("Silent flow client created",t.correlationId),await i.acquireToken(t)}catch(e){throw e instanceof th&&e.setCorrelationId(t.correlationId),r.cacheFailedRequest(e),e}}async acquireTokenByUsernamePassword(e){this.logger.info("acquireTokenByUsernamePassword called",e.correlationId);let t={...e,...await this.initializeBaseRequest(e)},r=this.initializeServerTelemetryManager(oh,t.correlationId);try{let n=await this.buildOauthClientConfiguration(t.authority,t.correlationId,"",r,void 0,e.azureCloudOptions),i=new aN(n);return this.logger.verbose("Username password client created",t.correlationId),await i.acquireToken(t)}catch(e){throw e instanceof th&&e.setCorrelationId(t.correlationId),r.cacheFailedRequest(e),e}}getTokenCache(){return this.logger.info("getTokenCache called"),this.tokenCache}validateState(e,t){if(!e)throw ad.createStateNotFoundError();if(e!==t)throw t9(tS)}getLogger(){return this.logger}setLogger(e){this.logger=e}async buildOauthClientConfiguration(e,t,r,n,i,s){this.logger.verbose("buildOauthClientConfiguration called",t);let o=s||this.config.auth.azureCloudOptions,a=await this.createAuthority(e,t,i,o);return this.logger.info(`Building oauth client configuration with the following authority: ${a.tokenEndpoint}.`,t),n?.updateRegionDiscoveryMetadata(a.regionDiscoveryMetadata),{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:r},loggerOptions:{logLevel:this.config.system.loggerOptions.logLevel,loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,correlationId:t},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.cryptoProvider,networkInterface:this.config.system.networkClient,storageInterface:this.storage,serverTelemetryManager:n,clientCredentials:{clientSecret:this.clientSecret,clientAssertion:await this.getClientAssertion(a)},libraryInfo:{sku:oo,version:aR,cpu:process.arch||E,os:process.platform||E},telemetry:this.config.telemetry,persistencePlugin:this.config.cache.cachePlugin,serializableCache:this.tokenCache}}async getClientAssertion(e){return this.developerProvidedClientAssertion&&(this.clientAssertion=aA.fromAssertion(await sT(this.developerProvidedClientAssertion,this.config.auth.clientId,e.tokenEndpoint))),this.clientAssertion&&{assertion:this.clientAssertion.getJwt(this.cryptoProvider,this.config.auth.clientId,e.tokenEndpoint),assertionType:oa}}async initializeBaseRequest(e){return this.logger.verbose("initializeRequestScopes called",e.correlationId),e.authenticationScheme&&e.authenticationScheme===eV&&this.logger.verbose("Authentication Scheme 'pop' is not supported yet, setting Authentication Scheme to 'Bearer' for request",e.correlationId),e.authenticationScheme=eJ,this.config.cache.claimsBasedCachingEnabled&&e.claims&&!r5.isEmptyObj(e.claims)&&(e.requestedClaimsHash=await this.cryptoProvider.hashString(e.claims)),{...e,scopes:[...e&&e.scopes||[],...X],correlationId:e&&e.correlationId||this.cryptoProvider.createNewGuid(),authority:e.authority||this.config.auth.authority}}initializeServerTelemetryManager(e,t,r){return new sD({clientId:this.config.auth.clientId,correlationId:t,apiId:e,forceRefresh:r||!1},this.storage)}async createAuthority(e,t,r,n){this.logger.verbose("createAuthority called",t);let i=i8.generateAuthority(e,n),s={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,azureRegionConfiguration:r,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache};return st(i,this.config.system.networkClient,this.storage,s,this.logger,t)}clearCache(){this.storage.clear()}}class aM{async listenForAuthCode(e,t){if(this.server)throw ad.createLoopbackServerAlreadyExistsError();return new Promise((r,i)=>{this.server=n.createServer((n,s)=>{let o=n.url;if(o){if(o===T)return void s.end(e||"Auth code was successfully acquired. You can close this window now.")}else{s.end(t||"Error occurred loading redirectUrl"),i(ad.createUnableToLoadRedirectUrlError());return}let a=this.getRedirectUri(),l=nd(new URL(o,a).search)||{};l.code&&(s.writeHead(U,{location:a}),s.end()),l.error&&s.end(t||`Error occurred: ${l.error}`),r(l)}),this.server.listen(0,"127.0.0.1")})}getRedirectUri(){if(!this.server||!this.server.listening)throw ad.createNoLoopbackServerExistsError();let e=this.server.address();if(!e||"string"==typeof e||!e.port)throw this.closeServer(),ad.createInvalidLoopbackAddressTypeError();let t=e&&e.port;return`${oc}${ou}:${t}`}closeServer(){this.server&&(this.server.close(),"function"==typeof this.server.closeAllConnections&&this.server.closeAllConnections(),this.server.unref(),this.server=void 0)}}class aD extends ss{constructor(e){super(e)}async acquireToken(e){let t=await this.getDeviceCode(e);e.deviceCodeCallback(t);let r=ra(),n=await this.acquireTokenWithDeviceCode(e,t),i=new sC(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(n),i.handleServerTokenResponse(n,this.authority,r,e)}async getDeviceCode(e){let t=this.createExtraQueryParameters(e),r=nh.appendQueryString(this.authority.deviceCodeEndpoint,t),n=this.createQueryString(e),i=this.createTokenRequestHeaders(),s={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return this.executePostRequestToDeviceCodeEndpoint(r,n,i,s,e.correlationId)}createExtraQueryParameters(e){let t=new ik;return e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),t.createQueryString()}async executePostRequestToDeviceCodeEndpoint(e,t,r,n,i){let{body:{user_code:s,device_code:o,verification_uri:a,expires_in:l,interval:c,message:u}}=await this.sendPostRequest(n,e,{body:t,headers:r},i);return{userCode:s,deviceCode:o,verificationUri:a,expiresIn:l,interval:c,message:u}}createQueryString(e){let t=new ik;return t.addScopes(e.scopes),t.addClientId(this.config.authOptions.clientId),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),t.createQueryString()}continuePolling(e,t,r){if(r)throw this.logger.error("Token request cancelled by setting DeviceCodeRequest.cancel = true"),t9(t$);if(t&&t<e&&ra()>t)throw this.logger.error(`User defined timeout for device code polling reached. The timeout was set for ${t}`),t9(tV);if(ra()>e)throw t&&this.logger.verbose(`User specified timeout ignored as the device code has expired before the timeout elapsed. The user specified timeout was set for ${t}`),this.logger.error(`Device code expired. Expiration time of device code was ${e}`),t9(tM);return!0}async acquireTokenWithDeviceCode(e,t){let r=this.createTokenQueryParameters(e),n=nh.appendQueryString(this.authority.tokenEndpoint,r),i=this.createTokenRequestBody(e,t),s=this.createTokenRequestHeaders(),o=e.timeout?ra()+e.timeout:void 0,a=ra()+t.expiresIn,l=1e3*t.interval;for(;this.continuePolling(a,o,e.cancel);){let t={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},r=await this.executePostToTokenEndpoint(n,i,s,t,e.correlationId);if(!r.body||!r.body.error)return this.logger.verbose("Authorization completed successfully. Polling stopped."),r.body;if(r.body.error===k)this.logger.info("Authorization pending. Continue polling."),await ru(l);else throw this.logger.info("Unexpected error in polling from the server"),tp(tl,r.body.error)}throw this.logger.error("Polling stopped for unknown reasons."),t9(tD)}createTokenRequestBody(e,t){let r=new ik;r.addScopes(e.scopes),r.addClientId(this.config.authOptions.clientId),r.addGrantType(ey),r.addDeviceCode(t.deviceCode);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();return r.addCorrelationId(n),r.addClientInfo(),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&r.addServerTelemetry(this.serverTelemetryManager),(!r5.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),r.createQueryString()}}class aL extends a${constructor(e){super(e),this.config.broker.nativeBrokerPlugin&&(this.config.broker.nativeBrokerPlugin.isBrokerAvailable?(this.nativeBrokerPlugin=this.config.broker.nativeBrokerPlugin,this.nativeBrokerPlugin.setLogger(this.config.system.loggerOptions)):this.logger.warning("NativeBroker implementation was provided but the broker is unavailable.")),this.skus=sD.makeExtraSkuString({libraryName:oo,libraryVersion:aR})}async acquireTokenByDeviceCode(e){this.logger.info("acquireTokenByDeviceCode called",e.correlationId);let t=Object.assign(e,await this.initializeBaseRequest(e)),r=this.initializeServerTelemetryManager(op,t.correlationId);try{let n=await this.buildOauthClientConfiguration(t.authority,t.correlationId,"",r,void 0,e.azureCloudOptions),i=new aD(n);return this.logger.verbose("Device code client created",t.correlationId),await i.acquireToken(t)}catch(e){throw e instanceof th&&e.setCorrelationId(t.correlationId),r.cacheFailedRequest(e),e}}async acquireTokenInteractive(e){let t=e.correlationId||this.cryptoProvider.createNewGuid();this.logger.trace("acquireTokenInteractive called",t);let{openBrowser:r,successTemplate:n,errorTemplate:i,windowHandle:s,loopbackClient:o,...a}=e;if(this.nativeBrokerPlugin){let r={...a,clientId:this.config.auth.clientId,scopes:e.scopes||X,redirectUri:`${oc}${ou}`,authority:e.authority||this.config.auth.authority,correlationId:t,extraParameters:{...a.extraQueryParameters,...a.tokenQueryParameters,[iv]:this.skus},accountId:a.account?.nativeAccountId};return this.nativeBrokerPlugin.acquireTokenInteractive(r,s)}let{verifier:l,challenge:c}=await this.cryptoProvider.generatePkceCodes(),u=o||new aM,d={},h=null;try{let s=u.listenForAuthCode(n,i).then(e=>{d=e}).catch(e=>{h=e}),o=await this.waitForRedirectUri(u),p={...a,correlationId:t,scopes:e.scopes||X,redirectUri:o,responseMode:eh.QUERY,codeChallenge:c,codeChallengeMethod:ed},f=await this.getAuthCodeUrl(p);if(await r(f),await s,h)throw h;if(d.error)throw new sr(d.error,d.error_description,d.suberror);if(!d.code)throw ad.createNoAuthCodeInResponseError();let m=d.client_info,g={code:d.code,codeVerifier:l,clientInfo:m||E,...p};return await this.acquireTokenByCode(g)}finally{u.closeServer()}}async acquireTokenSilent(e){let t=e.correlationId||this.cryptoProvider.createNewGuid();if(this.logger.trace("acquireTokenSilent called",t),this.nativeBrokerPlugin){let r={...e,clientId:this.config.auth.clientId,scopes:e.scopes||X,redirectUri:`${oc}${ou}`,authority:e.authority||this.config.auth.authority,correlationId:t,extraParameters:{...e.tokenQueryParameters,[iv]:this.skus},accountId:e.account.nativeAccountId,forceRefresh:e.forceRefresh||!1};return this.nativeBrokerPlugin.acquireTokenSilent(r)}return super.acquireTokenSilent(e)}async signOut(e){if(this.nativeBrokerPlugin&&e.account.nativeAccountId){let t={clientId:this.config.auth.clientId,accountId:e.account.nativeAccountId,correlationId:e.correlationId||this.cryptoProvider.createNewGuid()};await this.nativeBrokerPlugin.signOut(t)}await this.getTokenCache().removeAccount(e.account)}async getAllAccounts(){if(this.nativeBrokerPlugin){let e=this.cryptoProvider.createNewGuid();return this.nativeBrokerPlugin.getAllAccounts(this.config.auth.clientId,e)}return this.getTokenCache().getAllAccounts()}async waitForRedirectUri(e){return new Promise((t,r)=>{let n=0,i=setInterval(()=>{if(oO/oT<n){clearInterval(i),r(ad.createLoopbackServerTimeoutError());return}try{let r=e.getRedirectUri();clearInterval(i),t(r);return}catch(e){if(e instanceof th&&e.errorCode===at)return void n++;clearInterval(i),r(e);return}},oT)})}}class aB extends ss{constructor(e,t){super(e),this.appTokenProvider=t}async acquireToken(e){if(e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority);let[t,r]=await this.getCachedAuthenticationResult(e,this.config,this.cryptoUtils,this.authority,this.cacheManager,this.serverTelemetryManager);if(!t)return this.executeTokenRequest(e,this.authority);if(r===ts){this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.");let t=!0;await this.executeTokenRequest(e,this.authority,t)}return t}async getCachedAuthenticationResult(e,t,r,n,i,s){let o,a=t,l=t,c=tt;a.serializableCache&&a.persistencePlugin&&(o=new sk(a.serializableCache,!1),await a.persistencePlugin.beforeCacheAccess(o));let u=this.readAccessTokenFromCache(n,l.managedIdentityId?.id||a.authOptions.clientId,new r8(e.scopes||[]),i);return(a.serializableCache&&a.persistencePlugin&&o&&await a.persistencePlugin.afterCacheAccess(o),u)?rl(u.expiresOn,a.systemOptions?.tokenRenewalOffsetSeconds||to)?(s?.setCacheOutcome(ti),[null,ti]):(u.refreshOn&&rl(u.refreshOn.toString(),0)&&(c=ts,s?.setCacheOutcome(ts)),[await sC.generateAuthenticationResult(r,n,{account:null,idToken:null,accessToken:u,refreshToken:null,appMetadata:null},!0,e),c]):(s?.setCacheOutcome(tn),[null,tn])}readAccessTokenFromCache(e,t,r,n){let i={homeAccountId:E,environment:e.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:eE,clientId:t,realm:e.tenant,target:r8.createSearchScopes(r.asArray())},s=n.getAccessTokensByFilter(i);if(s.length<1)return null;if(s.length>1)throw t9(tT);return s[0]}async executeTokenRequest(e,t,r){let n,i;if(this.appTokenProvider){this.logger.info("Using appTokenProvider extensibility.");let t={correlationId:e.correlationId,tenantId:this.config.authOptions.authority.tenant,scopes:e.scopes,claims:e.claims};i=ra();let r=await this.appTokenProvider(t);n={access_token:r.accessToken,expires_in:r.expiresInSeconds,refresh_in:r.refreshInSeconds,token_type:eJ}}else{let r=this.createTokenQueryParameters(e),s=nh.appendQueryString(t.tokenEndpoint,r),o=await this.createTokenRequestBody(e),a=this.createTokenRequestHeaders(),l={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};this.logger.info("Sending token request to endpoint: "+t.tokenEndpoint),i=ra();let c=await this.executePostToTokenEndpoint(s,o,a,l,e.correlationId);(n=c.body).status=c.status}let s=new sC(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return s.validateTokenResponse(n,r),await s.handleServerTokenResponse(n,this.authority,i,e)}async createTokenRequestBody(e){let t=new ik;t.addClientId(this.config.authOptions.clientId),t.addScopes(e.scopes,!1),t.addGrantType(ef),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&t.addServerTelemetry(this.serverTelemetryManager);let r=e.correlationId||this.config.cryptoInterface.createNewGuid();t.addCorrelationId(r),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret);let n=e.clientAssertion||this.config.clientCredentials.clientAssertion;return n&&(t.addClientAssertion(await sT(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(n.assertionType)),(!r5.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),t.createQueryString()}}class aU extends ss{constructor(e){super(e)}async acquireToken(e){if(this.scopeSet=new r8(e.scopes||[]),this.userAssertionHash=await this.cryptoUtils.hashString(e.oboAssertion),e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority,this.userAssertionHash);try{return await this.getCachedAuthenticationResult(e)}catch(t){return await this.executeTokenRequest(e,this.authority,this.userAssertionHash)}}async getCachedAuthenticationResult(e){let t,r=this.readAccessTokenFromCacheForOBO(this.config.authOptions.clientId,e);if(r){if(rl(r.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.serverTelemetryManager?.setCacheOutcome(ti),this.logger.info(`OnbehalfofFlow:getCachedAuthenticationResult - Cached access token is expired or will expire within ${this.config.systemOptions.tokenRenewalOffsetSeconds} seconds.`),t9(tJ)}else throw this.serverTelemetryManager?.setCacheOutcome(tn),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),t9(tJ);let n=this.readIdTokenFromCacheForOBO(r.homeAccountId),i=null;if(n){let e=(t=ri(n.secret,ab.base64Decode)).oid||t.sub,r={homeAccountId:n.homeAccountId,environment:n.environment,tenantId:n.realm,username:E,localAccountId:e||E};i=this.cacheManager.readAccountFromCache(r)}return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),sC.generateAuthenticationResult(this.cryptoUtils,this.authority,{account:i,accessToken:r,idToken:n,refreshToken:null,appMetadata:null},!0,e,t)}readIdTokenFromCacheForOBO(e){let t={homeAccountId:e,environment:this.authority.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:ek,clientId:this.config.authOptions.clientId,realm:this.authority.tenant},r=this.cacheManager.getIdTokensByFilter(t);return Object.values(r).length<1?null:Object.values(r)[0]}readAccessTokenFromCacheForOBO(e,t){let r=t.authenticationScheme||eJ,n={credentialType:r&&r.toLowerCase()!==eJ.toLowerCase()?eC:eE,clientId:e,target:r8.createSearchScopes(this.scopeSet.asArray()),tokenType:r,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash,userAssertionHash:this.userAssertionHash},i=this.cacheManager.getAccessTokensByFilter(n),s=i.length;if(s<1)return null;if(s>1)throw t9(tT);return i[0]}async executeTokenRequest(e,t,r){let n=this.createTokenQueryParameters(e),i=nh.appendQueryString(t.tokenEndpoint,n),s=await this.createTokenRequestBody(e),o=this.createTokenRequestHeaders(),a={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},l=ra(),c=await this.executePostToTokenEndpoint(i,s,o,a,e.correlationId),u=new sC(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return u.validateTokenResponse(c.body),await u.handleServerTokenResponse(c.body,this.authority,l,e,void 0,r)}async createTokenRequestBody(e){let t=new ik;t.addClientId(this.config.authOptions.clientId),t.addScopes(e.scopes),t.addGrantType(e_),t.addClientInfo(),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&t.addServerTelemetry(this.serverTelemetryManager);let r=e.correlationId||this.config.cryptoInterface.createNewGuid();t.addCorrelationId(r),t.addRequestTokenUse(id),t.addOboAssertion(e.oboAssertion),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret);let n=this.config.clientCredentials.clientAssertion;return n&&(t.addClientAssertion(await sT(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(n.assertionType)),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),t.createQueryString()}}class az extends a${constructor(e){super(e),this.setClientCredential(),this.appTokenProvider=void 0}SetAppTokenProvider(e){this.appTokenProvider=e}async acquireTokenByClientCredential(e){let t,r;this.logger.info("acquireTokenByClientCredential called",e.correlationId),e.clientAssertion&&(t={assertion:await sT(e.clientAssertion,this.config.auth.clientId),assertionType:oa});let n=await this.initializeBaseRequest(e),i={...n,scopes:n.scopes.filter(e=>!X.includes(e))},s={...e,...i,clientAssertion:t},o=new nh(s.authority).getUrlComponents().PathSegments[0];if(Object.values(eo).includes(o))throw t9(t1);let a=process.env[or];"DisableMsalForceRegion"!==s.azureRegion&&(r=!s.azureRegion&&a?a:s.azureRegion);let l={azureRegion:r,environmentRegion:process.env[ot]},c=this.initializeServerTelemetryManager(of,s.correlationId,s.skipCache);try{let t=await this.buildOauthClientConfiguration(s.authority,s.correlationId,"",c,l,e.azureCloudOptions),r=new aB(t,this.appTokenProvider);return this.logger.verbose("Client credential client created",s.correlationId),await r.acquireToken(s)}catch(e){throw e instanceof th&&e.setCorrelationId(s.correlationId),c.cacheFailedRequest(e),e}}async acquireTokenOnBehalfOf(e){this.logger.info("acquireTokenOnBehalfOf called",e.correlationId);let t={...e,...await this.initializeBaseRequest(e)};try{let r=await this.buildOauthClientConfiguration(t.authority,t.correlationId,"",void 0,void 0,e.azureCloudOptions),n=new aU(r);return this.logger.verbose("On behalf of client created",t.correlationId),await n.acquireToken(t)}catch(e){throw e instanceof th&&e.setCorrelationId(t.correlationId),e}}setClientCredential(){let e=!!this.config.auth.clientSecret,t=!!this.config.auth.clientAssertion,r=(!!this.config.auth.clientCertificate?.thumbprint||!!this.config.auth.clientCertificate?.thumbprintSha256)&&!!this.config.auth.clientCertificate?.privateKey;if(!this.appTokenProvider){if(e&&t||t&&r||e&&r)throw t9(tW);if(this.config.auth.clientSecret){this.clientSecret=this.config.auth.clientSecret;return}if(this.config.auth.clientAssertion){this.developerProvidedClientAssertion=this.config.auth.clientAssertion;return}if(r)this.clientAssertion=this.config.auth.clientCertificate.thumbprintSha256?aA.fromCertificateWithSha256Thumbprint(this.config.auth.clientCertificate.thumbprintSha256,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c):aA.fromCertificate(this.config.auth.clientCertificate.thumbprint,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c);else throw t9(tW)}}}let aF="client_id",aH="object_id",aq="mi_res_id";class aW{constructor(e,t,r,n){this.logger=e,this.nodeStorage=t,this.networkClient=r,this.cryptoProvider=n}async getServerTokenResponseAsync(e,t,r,n){return this.getServerTokenResponse(e)}getServerTokenResponse(e){let t,r;return e.body.expires_on&&(r=e.body.expires_on-ra())>7200&&(t=r/2),{status:e.status,access_token:e.body.access_token,expires_in:r,scope:e.body.resource,token_type:e.body.token_type,refresh_in:t,correlation_id:e.body.correlation_id||e.body.correlationId,error:"string"==typeof e.body.error?e.body.error:e.body.error?.code,error_description:e.body.message||("string"==typeof e.body.error?e.body.error_description:e.body.error?.message),error_codes:e.body.error_codes,timestamp:e.body.timestamp,trace_id:e.body.trace_id}}async acquireTokenWithManagedIdentity(e,t,r,n){let i,s=this.createRequest(e.resource,t),o=s.headers;o[ee]=S;let a={headers:o};Object.keys(s.bodyParameters).length&&(a.body=s.computeParametersBodyString());let l=ra();try{i=s.httpMethod===s8?await this.networkClient.sendPostRequestAsync(s.computeUri(),a):await this.networkClient.sendGetRequestAsync(s.computeUri(),a)}catch(e){if(e instanceof th)throw e;throw t9(tv)}let c=new sC(t.id,this.nodeStorage,this.cryptoProvider,this.logger,null,null),u=await this.getServerTokenResponseAsync(i,this.networkClient,s,a);return c.validateTokenResponse(u,n),c.handleServerTokenResponse(u,r,l,e)}getManagedIdentityUserAssignedIdQueryParameterKey(e){switch(e){case s4:return this.logger.info("[Managed Identity] Adding user assigned client id to the request."),aF;case s6:return this.logger.info("[Managed Identity] Adding user assigned resource id to the request."),aq;case s3:return this.logger.info("[Managed Identity] Adding user assigned object id to the request."),aH;default:throw o1(oz)}}}aW.getValidatedEnvVariableUrlString=(e,t,r,n)=>{try{return new nh(t).urlString}catch(t){throw n.info(`[Managed Identity] ${r} managed identity is unavailable because the '${e}' environment variable is malformed.`),o1(oX[e])}};class aJ{constructor(e,t){this.httpMethod=e,this._baseEndpoint=t,this.headers={},this.bodyParameters={},this.queryParameters={}}computeUri(){let e=new ik;this.queryParameters&&e.addExtraQueryParameters(this.queryParameters);let t=e.createQueryString();return nh.appendQueryString(this._baseEndpoint,t)}computeParametersBodyString(){let e=new ik;return this.bodyParameters&&e.addExtraQueryParameters(this.bodyParameters),e.createQueryString()}}let aV="2019-08-01";class aK extends aW{constructor(e,t,r,n,i,s){super(e,t,r,n),this.identityEndpoint=i,this.identityHeader=s}static getEnvironmentVariables(){return[process.env[sZ],process.env[sQ]]}static tryCreate(e,t,r,n){let[i,s]=aK.getEnvironmentVariables();if(!i||!s)return e.info(`[Managed Identity] ${s1.APP_SERVICE} managed identity is unavailable because one or both of the '${sQ}' and '${sZ}' environment variables are not defined.`),null;let o=aK.getValidatedEnvVariableUrlString(sZ,i,s1.APP_SERVICE,e);return e.info(`[Managed Identity] Environment variables validation passed for ${s1.APP_SERVICE} managed identity. Endpoint URI: ${o}. Creating ${s1.APP_SERVICE} managed identity.`),new aK(e,t,r,n,i,s)}createRequest(e,t){let r=new aJ(s5,this.identityEndpoint);return r.headers[sF]=this.identityHeader,r.queryParameters[sq]=aV,r.queryParameters[sW]=e,t.idType!==s2&&(r.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(t.idType)]=t.id),r}}let aG="2019-11-01",aZ="http://127.0.0.1:40342/metadata/identity/oauth2/token",aQ="N/A: himds executable exists",aX={win32:`${process.env.ProgramData}\\AzureConnectedMachineAgent\\Tokens\\`,linux:"/var/opt/azcmagent/tokens/"},aY={win32:`${process.env.ProgramFiles}\\AzureConnectedMachineAgent\\himds.exe`,linux:"/opt/azcmagent/bin/himds"};class a0 extends aW{constructor(e,t,r,n,i){super(e,t,r,n),this.identityEndpoint=i}static getEnvironmentVariables(){let e=process.env[sZ],t=process.env[sY];if(!e||!t){let r=aY[process.platform];try{l.accessSync(r,l.constants.F_OK|l.constants.R_OK),e=aZ,t=aQ}catch(e){}}return[e,t]}static tryCreate(e,t,r,n,i){let[s,o]=a0.getEnvironmentVariables();if(!s||!o)return e.info(`[Managed Identity] ${s1.AZURE_ARC} managed identity is unavailable through environment variables because one or both of '${sZ}' and '${sY}' are not defined. ${s1.AZURE_ARC} managed identity is also unavailable through file detection.`),null;if(o===aQ)e.info(`[Managed Identity] ${s1.AZURE_ARC} managed identity is available through file detection. Defaulting to known ${s1.AZURE_ARC} endpoint: ${aZ}. Creating ${s1.AZURE_ARC} managed identity.`);else{let t=a0.getValidatedEnvVariableUrlString(sZ,s,s1.AZURE_ARC,e);t.endsWith("/")&&t.slice(0,-1),a0.getValidatedEnvVariableUrlString(sY,o,s1.AZURE_ARC,e),e.info(`[Managed Identity] Environment variables validation passed for ${s1.AZURE_ARC} managed identity. Endpoint URI: ${t}. Creating ${s1.AZURE_ARC} managed identity.`)}if(i.idType!==s2)throw o1(oW);return new a0(e,t,r,n,s)}createRequest(e){let t=new aJ(s5,this.identityEndpoint.replace("localhost","127.0.0.1"));return t.headers[sz]="true",t.queryParameters[sq]=aG,t.queryParameters[sW]=e,t}async getServerTokenResponseAsync(e,t,r,n){let i;if(e.status===F){let s,o,a=e.headers["www-authenticate"];if(!a)throw o1(oZ);if(!a.includes("Basic realm="))throw o1(oQ);let u=a.split("Basic realm=")[1];if(!aX.hasOwnProperty(process.platform))throw o1(oq);let d=aX[process.platform],h=c.basename(u);if(!h.endsWith(".key"))throw o1(oB);if(d+h!==u)throw o1(oU);try{s=await l.statSync(u).size}catch(e){throw o1(oK)}if(s>oI)throw o1(oF);try{o=l.readFileSync(u,"utf-8")}catch(e){throw o1(oK)}let p=`Basic ${o}`;this.logger.info("[Managed Identity] Adding authorization header to the request."),r.headers[sU]=p;try{i=await t.sendGetRequestAsync(r.computeUri(),n)}catch(e){if(e instanceof th)throw e;throw t9(tv)}}return this.getServerTokenResponse(i||e)}}class a1 extends aW{constructor(e,t,r,n,i){super(e,t,r,n),this.msiEndpoint=i}static getEnvironmentVariables(){return[process.env[s0]]}static tryCreate(e,t,r,n,i){let[s]=a1.getEnvironmentVariables();if(!s)return e.info(`[Managed Identity] ${s1.CLOUD_SHELL} managed identity is unavailable because the '${s0} environment variable is not defined.`),null;let o=a1.getValidatedEnvVariableUrlString(s0,s,s1.CLOUD_SHELL,e);if(e.info(`[Managed Identity] Environment variable validation passed for ${s1.CLOUD_SHELL} managed identity. Endpoint URI: ${o}. Creating ${s1.CLOUD_SHELL} managed identity.`),i.idType!==s2)throw o1(oJ);return new a1(e,t,r,n,s)}createRequest(e){let t=new aJ(s8,this.msiEndpoint);return t.headers[sz]="true",t.bodyParameters[sW]=e,t}}let a2="/metadata/identity/oauth2/token",a4=`http://169.254.169.254${a2}`,a6="2018-02-01";class a3 extends aW{constructor(e,t,r,n,i){super(e,t,r,n),this.identityEndpoint=i}static tryCreate(e,t,r,n){let i;return process.env[sG]?(e.info(`[Managed Identity] Environment variable ${sG} for ${s1.IMDS} returned endpoint: ${process.env[sG]}`),i=a3.getValidatedEnvVariableUrlString(sG,`${process.env[sG]}${a2}`,s1.IMDS,e)):(e.info(`[Managed Identity] Unable to find ${sG} environment variable for ${s1.IMDS}, using the default endpoint.`),i=a4),new a3(e,t,r,n,i)}createRequest(e,t){let r=new aJ(s5,this.identityEndpoint);return r.headers[sz]="true",r.queryParameters[sq]=a6,r.queryParameters[sW]=e,t.idType!==s2&&(r.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(t.idType)]=t.id),r}}let a5="2019-07-01-preview";class a8 extends aW{constructor(e,t,r,n,i,s){super(e,t,r,n),this.identityEndpoint=i,this.identityHeader=s}static getEnvironmentVariables(){let e=process.env[sZ];return[e,process.env[sQ],process.env[sX]]}static tryCreate(e,t,r,n,i){let[s,o,a]=a8.getEnvironmentVariables();if(!s||!o||!a)return e.info(`[Managed Identity] ${s1.SERVICE_FABRIC} managed identity is unavailable because one or all of the '${sQ}', '${sZ}' or '${sX}' environment variables are not defined.`),null;let l=a8.getValidatedEnvVariableUrlString(sZ,s,s1.SERVICE_FABRIC,e);return e.info(`[Managed Identity] Environment variables validation passed for ${s1.SERVICE_FABRIC} managed identity. Endpoint URI: ${l}. Creating ${s1.SERVICE_FABRIC} managed identity.`),i.idType!==s2&&e.warning(`[Managed Identity] ${s1.SERVICE_FABRIC} user assigned managed identity is configured in the cluster, not during runtime. See also: https://learn.microsoft.com/en-us/azure/service-fabric/configure-existing-cluster-enable-managed-identity-token-service.`),new a8(e,t,r,n,s,o)}createRequest(e,t){let r=new aJ(s5,this.identityEndpoint);return r.headers[sH]=this.identityHeader,r.queryParameters[sq]=a5,r.queryParameters[sW]=e,t.idType!==s2&&(r.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(t.idType)]=t.id),r}}class a9{constructor(e,t,r,n){this.logger=e,this.nodeStorage=t,this.networkClient=r,this.cryptoProvider=n}async sendManagedIdentityTokenRequest(e,t,r,n){return a9.identitySource||(a9.identitySource=this.selectManagedIdentitySource(this.logger,this.nodeStorage,this.networkClient,this.cryptoProvider,t)),a9.identitySource.acquireTokenWithManagedIdentity(e,t,r,n)}allEnvironmentVariablesAreDefined(e){return Object.values(e).every(e=>void 0!==e)}getManagedIdentitySource(){return a9.sourceName=this.allEnvironmentVariablesAreDefined(a8.getEnvironmentVariables())?s1.SERVICE_FABRIC:this.allEnvironmentVariablesAreDefined(aK.getEnvironmentVariables())?s1.APP_SERVICE:this.allEnvironmentVariablesAreDefined(a1.getEnvironmentVariables())?s1.CLOUD_SHELL:this.allEnvironmentVariablesAreDefined(a0.getEnvironmentVariables())?s1.AZURE_ARC:s1.DEFAULT_TO_IMDS,a9.sourceName}selectManagedIdentitySource(e,t,r,n,i){let s=a8.tryCreate(e,t,r,n,i)||aK.tryCreate(e,t,r,n)||a1.tryCreate(e,t,r,n,i)||a0.tryCreate(e,t,r,n,i)||a3.tryCreate(e,t,r,n);if(!s)throw o1(oV);return s}}class a7{constructor(e){this.config=a_(e||{}),this.logger=new re(this.config.system.loggerOptions,aP,aR);let t={canonicalAuthority:h};a7.nodeStorage||(a7.nodeStorage=new ak(this.logger,this.config.managedIdentityId.id,t7,t)),this.networkClient=this.config.system.networkClient,this.cryptoProvider=new aS;let r={protocolMode:nl.AAD,knownAuthorities:[sK],cloudDiscoveryMetadata:"",authorityMetadata:""};this.fakeAuthority=new i8(sK,this.networkClient,a7.nodeStorage,r,this.logger,this.cryptoProvider.createNewGuid(),void 0,!0),this.fakeClientCredentialClient=new aB({authOptions:{clientId:this.config.managedIdentityId.id,authority:this.fakeAuthority}}),this.managedIdentityClient=new a9(this.logger,a7.nodeStorage,this.networkClient,this.cryptoProvider)}async acquireToken(e){if(!e.resource)throw r3(rD);let t={forceRefresh:e.forceRefresh,resource:e.resource.replace("/.default",""),scopes:[e.resource.replace("/.default","")],authority:this.fakeAuthority.canonicalAuthority,correlationId:this.cryptoProvider.createNewGuid()};if(e.claims||t.forceRefresh)return this.managedIdentityClient.sendManagedIdentityTokenRequest(t,this.config.managedIdentityId,this.fakeAuthority);let[r,n]=await this.fakeClientCredentialClient.getCachedAuthenticationResult(t,this.config,this.cryptoProvider,this.fakeAuthority,a7.nodeStorage);if(!r)return this.managedIdentityClient.sendManagedIdentityTokenRequest(t,this.config.managedIdentityId,this.fakeAuthority);if(n===ts){this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.");let e=!0;await this.managedIdentityClient.sendManagedIdentityTokenRequest(t,this.config.managedIdentityId,this.fakeAuthority,e)}return r}getManagedIdentitySource(){return a9.sourceName||this.managedIdentityClient.getManagedIdentitySource()}}class le{constructor(e,t){this.client=e,this.partitionManager=t}async beforeCacheAccess(e){let t=await this.partitionManager.getKey(),r=await this.client.get(t);e.tokenCache.deserialize(r)}async afterCacheAccess(e){if(e.cacheHasChanged){let t,r=Object.values(e.tokenCache.getKVStore()).filter(e=>nc.isAccountEntity(e));if(r.length>0){let e=r[0];t=await this.partitionManager.extractKey(e)}else t=await this.partitionManager.getKey();await this.client.set(t,e.tokenCache.serialize())}}}t.AuthError=th,t.AuthErrorCodes=tc,t.AuthErrorMessage=td,t.AzureCloudInstance=rn,t.ClientApplication=a$,t.ClientAssertion=aA,t.ClientAuthError=t8,t.ClientAuthErrorCodes=t6,t.ClientAuthErrorMessage=t5,t.ClientConfigurationError=r6,t.ClientConfigurationErrorCodes=r1,t.ClientConfigurationErrorMessage=r4,t.ClientCredentialClient=aB,t.ConfidentialClientApplication=az,t.CryptoProvider=aS,t.DeviceCodeClient=aD,t.DistributedCachePlugin=le,t.InteractionRequiredAuthError=s_,t.InteractionRequiredAuthErrorCodes=sp,t.InteractionRequiredAuthErrorMessage=sy,t.Logger=re,t.ManagedIdentityApplication=a7,t.ManagedIdentitySourceNames=s1,t.NodeStorage=ak,t.OnBehalfOfClient=aU,t.PromptValue=ec,t.ProtocolMode=nl,t.PublicClientApplication=aL,t.ResponseMode=eh,t.ServerError=sr,t.TokenCache=aI,t.TokenCacheContext=sk,t.UsernamePasswordClient=aN,t.internals=sB,t.version=aR},"./node_modules/zod/v4/core/api.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TimePrecision=void 0,t._string=c,t._coercedString=u,t._email=d,t._guid=h,t._uuid=p,t._uuidv4=f,t._uuidv6=m,t._uuidv7=g,t._url=y,t._emoji=_,t._nanoid=v,t._cuid=b,t._cuid2=w,t._ulid=j,t._xid=S,t._ksuid=k,t._ipv4=E,t._ipv6=C,t._cidrv4=x,t._cidrv6=T,t._base64=O,t._base64url=I,t._e164=A,t._jwt=P,t._isoDateTime=R,t._isoDate=N,t._isoTime=$,t._isoDuration=M,t._number=D,t._coercedNumber=L,t._int=B,t._float32=U,t._float64=z,t._int32=F,t._uint32=H,t._boolean=q,t._coercedBoolean=W,t._bigint=J,t._coercedBigint=V,t._int64=K,t._uint64=G,t._symbol=Z,t._undefined=Q,t._null=X,t._any=Y,t._unknown=ee,t._never=et,t._void=er,t._date=en,t._coercedDate=ei,t._nan=es,t._lt=eo,t._lte=ea,t._max=ea,t._lte=ea,t._max=ea,t._gt=el,t._gte=ec,t._min=ec,t._gte=ec,t._min=ec,t._positive=eu,t._negative=ed,t._nonpositive=eh,t._nonnegative=ep,t._multipleOf=ef,t._maxSize=em,t._minSize=eg,t._size=ey,t._maxLength=e_,t._minLength=ev,t._length=eb,t._regex=ew,t._lowercase=ej,t._uppercase=eS,t._includes=ek,t._startsWith=eE,t._endsWith=eC,t._property=ex,t._mime=eT,t._overwrite=eO,t._normalize=eI,t._trim=eA,t._toLowerCase=eP,t._toUpperCase=eR,t._array=eN,t._union=e$,t._discriminatedUnion=eM,t._intersection=eD,t._tuple=eL,t._record=eB,t._map=eU,t._set=ez,t._enum=eF,t._nativeEnum=eH,t._literal=eq,t._file=eW,t._transform=eJ,t._optional=eV,t._nullable=eK,t._default=eG,t._nonoptional=eZ,t._success=eQ,t._catch=eX,t._pipe=eY,t._readonly=e0,t._templateLiteral=e1,t._lazy=e2,t._promise=e4,t._custom=e6,t._refine=e3,t._stringbool=e5,t._stringFormat=e8;let o=s(r("./node_modules/zod/v4/core/checks.cjs")),a=s(r("./node_modules/zod/v4/core/schemas.cjs")),l=s(r("./node_modules/zod/v4/core/util.cjs"));function c(e,t){return new e({type:"string",...l.normalizeParams(t)})}function u(e,t){return new e({type:"string",coerce:!0,...l.normalizeParams(t)})}function d(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...l.normalizeParams(t)})}function h(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...l.normalizeParams(t)})}function p(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...l.normalizeParams(t)})}function f(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...l.normalizeParams(t)})}function m(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...l.normalizeParams(t)})}function g(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...l.normalizeParams(t)})}function y(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...l.normalizeParams(t)})}function _(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...l.normalizeParams(t)})}function v(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...l.normalizeParams(t)})}function b(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...l.normalizeParams(t)})}function w(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...l.normalizeParams(t)})}function j(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...l.normalizeParams(t)})}function S(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...l.normalizeParams(t)})}function k(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...l.normalizeParams(t)})}function E(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...l.normalizeParams(t)})}function C(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...l.normalizeParams(t)})}function x(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...l.normalizeParams(t)})}function T(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...l.normalizeParams(t)})}function O(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...l.normalizeParams(t)})}function I(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...l.normalizeParams(t)})}function A(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...l.normalizeParams(t)})}function P(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...l.normalizeParams(t)})}function R(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...l.normalizeParams(t)})}function N(e,t){return new e({type:"string",format:"date",check:"string_format",...l.normalizeParams(t)})}function $(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...l.normalizeParams(t)})}function M(e,t){return new e({type:"string",format:"duration",check:"string_format",...l.normalizeParams(t)})}function D(e,t){return new e({type:"number",checks:[],...l.normalizeParams(t)})}function L(e,t){return new e({type:"number",coerce:!0,checks:[],...l.normalizeParams(t)})}function B(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...l.normalizeParams(t)})}function U(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...l.normalizeParams(t)})}function z(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...l.normalizeParams(t)})}function F(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...l.normalizeParams(t)})}function H(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...l.normalizeParams(t)})}function q(e,t){return new e({type:"boolean",...l.normalizeParams(t)})}function W(e,t){return new e({type:"boolean",coerce:!0,...l.normalizeParams(t)})}function J(e,t){return new e({type:"bigint",...l.normalizeParams(t)})}function V(e,t){return new e({type:"bigint",coerce:!0,...l.normalizeParams(t)})}function K(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...l.normalizeParams(t)})}function G(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...l.normalizeParams(t)})}function Z(e,t){return new e({type:"symbol",...l.normalizeParams(t)})}function Q(e,t){return new e({type:"undefined",...l.normalizeParams(t)})}function X(e,t){return new e({type:"null",...l.normalizeParams(t)})}function Y(e){return new e({type:"any"})}function ee(e){return new e({type:"unknown"})}function et(e,t){return new e({type:"never",...l.normalizeParams(t)})}function er(e,t){return new e({type:"void",...l.normalizeParams(t)})}function en(e,t){return new e({type:"date",...l.normalizeParams(t)})}function ei(e,t){return new e({type:"date",coerce:!0,...l.normalizeParams(t)})}function es(e,t){return new e({type:"nan",...l.normalizeParams(t)})}function eo(e,t){return new o.$ZodCheckLessThan({check:"less_than",...l.normalizeParams(t),value:e,inclusive:!1})}function ea(e,t){return new o.$ZodCheckLessThan({check:"less_than",...l.normalizeParams(t),value:e,inclusive:!0})}function el(e,t){return new o.$ZodCheckGreaterThan({check:"greater_than",...l.normalizeParams(t),value:e,inclusive:!1})}function ec(e,t){return new o.$ZodCheckGreaterThan({check:"greater_than",...l.normalizeParams(t),value:e,inclusive:!0})}function eu(e){return el(0,e)}function ed(e){return eo(0,e)}function eh(e){return ea(0,e)}function ep(e){return ec(0,e)}function ef(e,t){return new o.$ZodCheckMultipleOf({check:"multiple_of",...l.normalizeParams(t),value:e})}function em(e,t){return new o.$ZodCheckMaxSize({check:"max_size",...l.normalizeParams(t),maximum:e})}function eg(e,t){return new o.$ZodCheckMinSize({check:"min_size",...l.normalizeParams(t),minimum:e})}function ey(e,t){return new o.$ZodCheckSizeEquals({check:"size_equals",...l.normalizeParams(t),size:e})}function e_(e,t){return new o.$ZodCheckMaxLength({check:"max_length",...l.normalizeParams(t),maximum:e})}function ev(e,t){return new o.$ZodCheckMinLength({check:"min_length",...l.normalizeParams(t),minimum:e})}function eb(e,t){return new o.$ZodCheckLengthEquals({check:"length_equals",...l.normalizeParams(t),length:e})}function ew(e,t){return new o.$ZodCheckRegex({check:"string_format",format:"regex",...l.normalizeParams(t),pattern:e})}function ej(e){return new o.$ZodCheckLowerCase({check:"string_format",format:"lowercase",...l.normalizeParams(e)})}function eS(e){return new o.$ZodCheckUpperCase({check:"string_format",format:"uppercase",...l.normalizeParams(e)})}function ek(e,t){return new o.$ZodCheckIncludes({check:"string_format",format:"includes",...l.normalizeParams(t),includes:e})}function eE(e,t){return new o.$ZodCheckStartsWith({check:"string_format",format:"starts_with",...l.normalizeParams(t),prefix:e})}function eC(e,t){return new o.$ZodCheckEndsWith({check:"string_format",format:"ends_with",...l.normalizeParams(t),suffix:e})}function ex(e,t,r){return new o.$ZodCheckProperty({check:"property",property:e,schema:t,...l.normalizeParams(r)})}function eT(e,t){return new o.$ZodCheckMimeType({check:"mime_type",mime:e,...l.normalizeParams(t)})}function eO(e){return new o.$ZodCheckOverwrite({check:"overwrite",tx:e})}function eI(e){return eO(t=>t.normalize(e))}function eA(){return eO(e=>e.trim())}function eP(){return eO(e=>e.toLowerCase())}function eR(){return eO(e=>e.toUpperCase())}function eN(e,t,r){return new e({type:"array",element:t,...l.normalizeParams(r)})}function e$(e,t,r){return new e({type:"union",options:t,...l.normalizeParams(r)})}function eM(e,t,r,n){return new e({type:"union",options:r,discriminator:t,...l.normalizeParams(n)})}function eD(e,t,r){return new e({type:"intersection",left:t,right:r})}function eL(e,t,r,n){let i=r instanceof a.$ZodType,s=i?n:r;return new e({type:"tuple",items:t,rest:i?r:null,...l.normalizeParams(s)})}function eB(e,t,r,n){return new e({type:"record",keyType:t,valueType:r,...l.normalizeParams(n)})}function eU(e,t,r,n){return new e({type:"map",keyType:t,valueType:r,...l.normalizeParams(n)})}function ez(e,t,r){return new e({type:"set",valueType:t,...l.normalizeParams(r)})}function eF(e,t,r){return new e({type:"enum",entries:Array.isArray(t)?Object.fromEntries(t.map(e=>[e,e])):t,...l.normalizeParams(r)})}function eH(e,t,r){return new e({type:"enum",entries:t,...l.normalizeParams(r)})}function eq(e,t,r){return new e({type:"literal",values:Array.isArray(t)?t:[t],...l.normalizeParams(r)})}function eW(e,t){return new e({type:"file",...l.normalizeParams(t)})}function eJ(e,t){return new e({type:"transform",transform:t})}function eV(e,t){return new e({type:"optional",innerType:t})}function eK(e,t){return new e({type:"nullable",innerType:t})}function eG(e,t,r){return new e({type:"default",innerType:t,get defaultValue(){return"function"==typeof r?r():r}})}function eZ(e,t,r){return new e({type:"nonoptional",innerType:t,...l.normalizeParams(r)})}function eQ(e,t){return new e({type:"success",innerType:t})}function eX(e,t,r){return new e({type:"catch",innerType:t,catchValue:"function"==typeof r?r:()=>r})}function eY(e,t,r){return new e({type:"pipe",in:t,out:r})}function e0(e,t){return new e({type:"readonly",innerType:t})}function e1(e,t,r){return new e({type:"template_literal",parts:t,...l.normalizeParams(r)})}function e2(e,t){return new e({type:"lazy",getter:t})}function e4(e,t){return new e({type:"promise",innerType:t})}function e6(e,t,r){let n=l.normalizeParams(r);return n.abort??(n.abort=!0),new e({type:"custom",check:"custom",fn:t,...n})}function e3(e,t,r){return new e({type:"custom",check:"custom",fn:t,...l.normalizeParams(r)})}function e5(e,t){let r=l.normalizeParams(t),n=r.truthy??["true","1","yes","on","y","enabled"],i=r.falsy??["false","0","no","off","n","disabled"];"sensitive"!==r.case&&(n=n.map(e=>"string"==typeof e?e.toLowerCase():e),i=i.map(e=>"string"==typeof e?e.toLowerCase():e));let s=new Set(n),o=new Set(i),c=e.Pipe??a.$ZodPipe,u=e.Boolean??a.$ZodBoolean,d=e.String??a.$ZodString,h=new(e.Transform??a.$ZodTransform)({type:"transform",transform:(e,t)=>{let n=e;return"sensitive"!==r.case&&(n=n.toLowerCase()),!!s.has(n)||!o.has(n)&&(t.issues.push({code:"invalid_value",expected:"stringbool",values:[...s,...o],input:t.value,inst:h}),{})},error:r.error}),p=new c({type:"pipe",in:new d({type:"string",error:r.error}),out:h,error:r.error});return new c({type:"pipe",in:p,out:new u({type:"boolean",error:r.error}),error:r.error})}function e8(e,t,r,n={}){let i=l.normalizeParams(n),s={...l.normalizeParams(n),check:"string_format",type:"string",format:t,fn:"function"==typeof r?r:e=>r.test(e),...i};return r instanceof RegExp&&(s.pattern=r),new e(s)}t.TimePrecision={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6}},"./node_modules/zod/v4/core/checks.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.$ZodCheckOverwrite=t.$ZodCheckMimeType=t.$ZodCheckProperty=t.$ZodCheckEndsWith=t.$ZodCheckStartsWith=t.$ZodCheckIncludes=t.$ZodCheckUpperCase=t.$ZodCheckLowerCase=t.$ZodCheckRegex=t.$ZodCheckStringFormat=t.$ZodCheckLengthEquals=t.$ZodCheckMinLength=t.$ZodCheckMaxLength=t.$ZodCheckSizeEquals=t.$ZodCheckMinSize=t.$ZodCheckMaxSize=t.$ZodCheckBigIntFormat=t.$ZodCheckNumberFormat=t.$ZodCheckMultipleOf=t.$ZodCheckGreaterThan=t.$ZodCheckLessThan=t.$ZodCheck=void 0;let o=s(r("./node_modules/zod/v4/core/core.cjs")),a=s(r("./node_modules/zod/v4/core/regexes.cjs")),l=s(r("./node_modules/zod/v4/core/util.cjs"));t.$ZodCheck=o.$constructor("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])});let c={number:"number",bigint:"bigint",object:"date"};function u(e,t,r){e.issues.length&&t.issues.push(...l.prefixIssues(r,e.issues))}t.$ZodCheckLessThan=o.$constructor("$ZodCheckLessThan",(e,r)=>{t.$ZodCheck.init(e,r);let n=c[typeof r.value];e._zod.onattach.push(e=>{let t=e._zod.bag,n=(r.inclusive?t.maximum:t.exclusiveMaximum)??1/0;r.value<n&&(r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value)}),e._zod.check=t=>{(r.inclusive?t.value<=r.value:t.value<r.value)||t.issues.push({origin:n,code:"too_big",maximum:r.value,input:t.value,inclusive:r.inclusive,inst:e,continue:!r.abort})}}),t.$ZodCheckGreaterThan=o.$constructor("$ZodCheckGreaterThan",(e,r)=>{t.$ZodCheck.init(e,r);let n=c[typeof r.value];e._zod.onattach.push(e=>{let t=e._zod.bag,n=(r.inclusive?t.minimum:t.exclusiveMinimum)??-1/0;r.value>n&&(r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value)}),e._zod.check=t=>{(r.inclusive?t.value>=r.value:t.value>r.value)||t.issues.push({origin:n,code:"too_small",minimum:r.value,input:t.value,inclusive:r.inclusive,inst:e,continue:!r.abort})}}),t.$ZodCheckMultipleOf=o.$constructor("$ZodCheckMultipleOf",(e,r)=>{t.$ZodCheck.init(e,r),e._zod.onattach.push(e=>{var t;(t=e._zod.bag).multipleOf??(t.multipleOf=r.value)}),e._zod.check=t=>{if(typeof t.value!=typeof r.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof t.value?t.value%r.value===BigInt(0):0===l.floatSafeRemainder(t.value,r.value))||t.issues.push({origin:typeof t.value,code:"not_multiple_of",divisor:r.value,input:t.value,inst:e,continue:!r.abort})}}),t.$ZodCheckNumberFormat=o.$constructor("$ZodCheckNumberFormat",(e,r)=>{t.$ZodCheck.init(e,r),r.format=r.format||"float64";let n=r.format?.includes("int"),i=n?"int":"number",[s,o]=l.NUMBER_FORMAT_RANGES[r.format];e._zod.onattach.push(e=>{let t=e._zod.bag;t.format=r.format,t.minimum=s,t.maximum=o,n&&(t.pattern=a.integer)}),e._zod.check=t=>{let a=t.value;if(n){if(!Number.isInteger(a))return void t.issues.push({expected:i,format:r.format,code:"invalid_type",input:a,inst:e});if(!Number.isSafeInteger(a))return void(a>0?t.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!r.abort}):t.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!r.abort}))}a<s&&t.issues.push({origin:"number",input:a,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!r.abort}),a>o&&t.issues.push({origin:"number",input:a,code:"too_big",maximum:o,inst:e})}}),t.$ZodCheckBigIntFormat=o.$constructor("$ZodCheckBigIntFormat",(e,r)=>{t.$ZodCheck.init(e,r);let[n,i]=l.BIGINT_FORMAT_RANGES[r.format];e._zod.onattach.push(e=>{let t=e._zod.bag;t.format=r.format,t.minimum=n,t.maximum=i}),e._zod.check=t=>{let s=t.value;s<n&&t.issues.push({origin:"bigint",input:s,code:"too_small",minimum:n,inclusive:!0,inst:e,continue:!r.abort}),s>i&&t.issues.push({origin:"bigint",input:s,code:"too_big",maximum:i,inst:e})}}),t.$ZodCheckMaxSize=o.$constructor("$ZodCheckMaxSize",(e,r)=>{t.$ZodCheck.init(e,r),e._zod.when=e=>{let t=e.value;return!l.nullish(t)&&void 0!==t.size},e._zod.onattach.push(e=>{let t=e._zod.bag.maximum??1/0;r.maximum<t&&(e._zod.bag.maximum=r.maximum)}),e._zod.check=t=>{let n=t.value;n.size<=r.maximum||t.issues.push({origin:l.getSizableOrigin(n),code:"too_big",maximum:r.maximum,input:n,inst:e,continue:!r.abort})}}),t.$ZodCheckMinSize=o.$constructor("$ZodCheckMinSize",(e,r)=>{t.$ZodCheck.init(e,r),e._zod.when=e=>{let t=e.value;return!l.nullish(t)&&void 0!==t.size},e._zod.onattach.push(e=>{let t=e._zod.bag.minimum??-1/0;r.minimum>t&&(e._zod.bag.minimum=r.minimum)}),e._zod.check=t=>{let n=t.value;n.size>=r.minimum||t.issues.push({origin:l.getSizableOrigin(n),code:"too_small",minimum:r.minimum,input:n,inst:e,continue:!r.abort})}}),t.$ZodCheckSizeEquals=o.$constructor("$ZodCheckSizeEquals",(e,r)=>{t.$ZodCheck.init(e,r),e._zod.when=e=>{let t=e.value;return!l.nullish(t)&&void 0!==t.size},e._zod.onattach.push(e=>{let t=e._zod.bag;t.minimum=r.size,t.maximum=r.size,t.size=r.size}),e._zod.check=t=>{let n=t.value,i=n.size;if(i===r.size)return;let s=i>r.size;t.issues.push({origin:l.getSizableOrigin(n),...s?{code:"too_big",maximum:r.size}:{code:"too_small",minimum:r.size},inclusive:!0,exact:!0,input:t.value,inst:e,continue:!r.abort})}}),t.$ZodCheckMaxLength=o.$constructor("$ZodCheckMaxLength",(e,r)=>{t.$ZodCheck.init(e,r),e._zod.when=e=>{let t=e.value;return!l.nullish(t)&&void 0!==t.length},e._zod.onattach.push(e=>{let t=e._zod.bag.maximum??1/0;r.maximum<t&&(e._zod.bag.maximum=r.maximum)}),e._zod.check=t=>{let n=t.value;if(n.length<=r.maximum)return;let i=l.getLengthableOrigin(n);t.issues.push({origin:i,code:"too_big",maximum:r.maximum,inclusive:!0,input:n,inst:e,continue:!r.abort})}}),t.$ZodCheckMinLength=o.$constructor("$ZodCheckMinLength",(e,r)=>{t.$ZodCheck.init(e,r),e._zod.when=e=>{let t=e.value;return!l.nullish(t)&&void 0!==t.length},e._zod.onattach.push(e=>{let t=e._zod.bag.minimum??-1/0;r.minimum>t&&(e._zod.bag.minimum=r.minimum)}),e._zod.check=t=>{let n=t.value;if(n.length>=r.minimum)return;let i=l.getLengthableOrigin(n);t.issues.push({origin:i,code:"too_small",minimum:r.minimum,inclusive:!0,input:n,inst:e,continue:!r.abort})}}),t.$ZodCheckLengthEquals=o.$constructor("$ZodCheckLengthEquals",(e,r)=>{t.$ZodCheck.init(e,r),e._zod.when=e=>{let t=e.value;return!l.nullish(t)&&void 0!==t.length},e._zod.onattach.push(e=>{let t=e._zod.bag;t.minimum=r.length,t.maximum=r.length,t.length=r.length}),e._zod.check=t=>{let n=t.value,i=n.length;if(i===r.length)return;let s=l.getLengthableOrigin(n),o=i>r.length;t.issues.push({origin:s,...o?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length},inclusive:!0,exact:!0,input:t.value,inst:e,continue:!r.abort})}}),t.$ZodCheckStringFormat=o.$constructor("$ZodCheckStringFormat",(e,r)=>{var n,i;t.$ZodCheck.init(e,r),e._zod.onattach.push(e=>{let t=e._zod.bag;t.format=r.format,r.pattern&&(t.patterns??(t.patterns=new Set),t.patterns.add(r.pattern))}),r.pattern?(n=e._zod).check??(n.check=t=>{r.pattern.lastIndex=0,r.pattern.test(t.value)||t.issues.push({origin:"string",code:"invalid_format",format:r.format,input:t.value,...r.pattern?{pattern:r.pattern.toString()}:{},inst:e,continue:!r.abort})}):(i=e._zod).check??(i.check=()=>{})}),t.$ZodCheckRegex=o.$constructor("$ZodCheckRegex",(e,r)=>{t.$ZodCheckStringFormat.init(e,r),e._zod.check=t=>{r.pattern.lastIndex=0,r.pattern.test(t.value)||t.issues.push({origin:"string",code:"invalid_format",format:"regex",input:t.value,pattern:r.pattern.toString(),inst:e,continue:!r.abort})}}),t.$ZodCheckLowerCase=o.$constructor("$ZodCheckLowerCase",(e,r)=>{r.pattern??(r.pattern=a.lowercase),t.$ZodCheckStringFormat.init(e,r)}),t.$ZodCheckUpperCase=o.$constructor("$ZodCheckUpperCase",(e,r)=>{r.pattern??(r.pattern=a.uppercase),t.$ZodCheckStringFormat.init(e,r)}),t.$ZodCheckIncludes=o.$constructor("$ZodCheckIncludes",(e,r)=>{t.$ZodCheck.init(e,r);let n=l.escapeRegex(r.includes),i=new RegExp("number"==typeof r.position?`^.{${r.position}}${n}`:n);r.pattern=i,e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(i)}),e._zod.check=t=>{t.value.includes(r.includes,r.position)||t.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:r.includes,input:t.value,inst:e,continue:!r.abort})}}),t.$ZodCheckStartsWith=o.$constructor("$ZodCheckStartsWith",(e,r)=>{t.$ZodCheck.init(e,r);let n=RegExp(`^${l.escapeRegex(r.prefix)}.*`);r.pattern??(r.pattern=n),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=t=>{t.value.startsWith(r.prefix)||t.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:r.prefix,input:t.value,inst:e,continue:!r.abort})}}),t.$ZodCheckEndsWith=o.$constructor("$ZodCheckEndsWith",(e,r)=>{t.$ZodCheck.init(e,r);let n=RegExp(`.*${l.escapeRegex(r.suffix)}$`);r.pattern??(r.pattern=n),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=t=>{t.value.endsWith(r.suffix)||t.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:r.suffix,input:t.value,inst:e,continue:!r.abort})}}),t.$ZodCheckProperty=o.$constructor("$ZodCheckProperty",(e,r)=>{t.$ZodCheck.init(e,r),e._zod.check=e=>{let t=r.schema._zod.run({value:e.value[r.property],issues:[]},{});if(t instanceof Promise)return t.then(t=>u(t,e,r.property));u(t,e,r.property)}}),t.$ZodCheckMimeType=o.$constructor("$ZodCheckMimeType",(e,r)=>{t.$ZodCheck.init(e,r);let n=new Set(r.mime);e._zod.onattach.push(e=>{e._zod.bag.mime=r.mime}),e._zod.check=t=>{n.has(t.value.type)||t.issues.push({code:"invalid_value",values:r.mime,input:t.value.type,inst:e})}}),t.$ZodCheckOverwrite=o.$constructor("$ZodCheckOverwrite",(e,r)=>{t.$ZodCheck.init(e,r),e._zod.check=e=>{e.value=r.tx(e.value)}})},"./node_modules/zod/v4/core/core.cjs":function(e,t){"use strict";function r(e,t,r){function n(r,n){var i;for(let s in Object.defineProperty(r,"_zod",{value:r._zod??{},enumerable:!1}),(i=r._zod).traits??(i.traits=new Set),r._zod.traits.add(e),t(r,n),o.prototype)s in r||Object.defineProperty(r,s,{value:o.prototype[s].bind(r)});r._zod.constr=o,r._zod.def=n}let i=r?.Parent??Object;class s extends i{}function o(e){var t;let i=r?.Parent?new s:this;for(let r of(n(i,e),(t=i._zod).deferred??(t.deferred=[]),i._zod.deferred))r();return i}return Object.defineProperty(s,"name",{value:e}),Object.defineProperty(o,"init",{value:n}),Object.defineProperty(o,Symbol.hasInstance,{value:t=>!!r?.Parent&&t instanceof r.Parent||t?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}Object.defineProperty(t,"__esModule",{value:!0}),t.globalConfig=t.$ZodAsyncError=t.$brand=t.NEVER=void 0,t.$constructor=r,t.config=i,t.NEVER=Object.freeze({status:"aborted"}),t.$brand=Symbol("zod_brand");class n extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}function i(e){return e&&Object.assign(t.globalConfig,e),t.globalConfig}t.$ZodAsyncError=n,t.globalConfig={}},"./node_modules/zod/v4/core/doc.cjs":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Doc=void 0;class r{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let t=e.split("\n").filter(e=>e),r=Math.min(...t.map(e=>e.length-e.trimStart().length));for(let e of t.map(e=>e.slice(r)).map(e=>" ".repeat(2*this.indent)+e))this.content.push(e)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}}t.Doc=r},"./node_modules/zod/v4/core/errors.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.$ZodRealError=t.$ZodError=void 0,t.flattenError=c,t.formatError=u,t.treeifyError=d,t.toDotPath=h,t.prettifyError=p;let o=r("./node_modules/zod/v4/core/core.cjs"),a=s(r("./node_modules/zod/v4/core/util.cjs")),l=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get:()=>JSON.stringify(t,a.jsonStringifyReplacer,2),enumerable:!0})};function c(e,t=e=>e.message){let r={},n=[];for(let i of e.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}function u(e,t){let r=t||function(e){return e.message},n={_errors:[]},i=e=>{for(let t of e.issues)if("invalid_union"===t.code&&t.errors.length)t.errors.map(e=>i({issues:e}));else if("invalid_key"===t.code)i({issues:t.issues});else if("invalid_element"===t.code)i({issues:t.issues});else if(0===t.path.length)n._errors.push(r(t));else{let e=n,i=0;for(;i<t.path.length;){let n=t.path[i];i===t.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(r(t))):e[n]=e[n]||{_errors:[]},e=e[n],i++}}};return i(e),n}function d(e,t){let r=t||function(e){return e.message},n={errors:[]},i=(e,t=[])=>{var s,o;for(let a of e.issues)if("invalid_union"===a.code&&a.errors.length)a.errors.map(e=>i({issues:e},a.path));else if("invalid_key"===a.code)i({issues:a.issues},a.path);else if("invalid_element"===a.code)i({issues:a.issues},a.path);else{let e=[...t,...a.path];if(0===e.length){n.errors.push(r(a));continue}let i=n,l=0;for(;l<e.length;){let t=e[l],n=l===e.length-1;"string"==typeof t?(i.properties??(i.properties={}),(s=i.properties)[t]??(s[t]={errors:[]}),i=i.properties[t]):(i.items??(i.items=[]),(o=i.items)[t]??(o[t]={errors:[]}),i=i.items[t]),n&&i.errors.push(r(a)),l++}}};return i(e),n}function h(e){let t=[];for(let r of e)"number"==typeof r?t.push(`[${r}]`):"symbol"==typeof r?t.push(`[${JSON.stringify(String(r))}]`):/[^\w$]/.test(r)?t.push(`[${JSON.stringify(r)}]`):(t.length&&t.push("."),t.push(r));return t.join("")}function p(e){let t=[];for(let r of[...e.issues].sort((e,t)=>e.path.length-t.path.length))t.push(`✖ ${r.message}`),r.path?.length&&t.push(`  → at ${h(r.path)}`);return t.join("\n")}t.$ZodError=(0,o.$constructor)("$ZodError",l),t.$ZodRealError=(0,o.$constructor)("$ZodError",l,{Parent:Error})},"./node_modules/zod/v4/core/function.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.$ZodFunction=void 0,t.function=d;let o=r("./node_modules/zod/v4/core/api.cjs"),a=r("./node_modules/zod/v4/core/parse.cjs"),l=s(r("./node_modules/zod/v4/core/schemas.cjs")),c=r("./node_modules/zod/v4/core/schemas.cjs");class u{constructor(e){this._def=e,this.def=e}implement(e){if("function"!=typeof e)throw Error("implement() must be called with a function");let t=(...r)=>{let n=this._def.input?(0,a.parse)(this._def.input,r,void 0,{callee:t}):r;if(!Array.isArray(n))throw Error("Invalid arguments schema: not an array or tuple schema.");let i=e(...n);return this._def.output?(0,a.parse)(this._def.output,i,void 0,{callee:t}):i};return t}implementAsync(e){if("function"!=typeof e)throw Error("implement() must be called with a function");let t=async(...r)=>{let n=this._def.input?await (0,a.parseAsync)(this._def.input,r,void 0,{callee:t}):r;if(!Array.isArray(n))throw Error("Invalid arguments schema: not an array or tuple schema.");let i=await e(...n);return this._def.output?(0,a.parseAsync)(this._def.output,i,void 0,{callee:t}):i};return t}input(...e){let t=this.constructor;return new t(Array.isArray(e[0])?{type:"function",input:new c.$ZodTuple({type:"tuple",items:e[0],rest:e[1]}),output:this._def.output}:{type:"function",input:e[0],output:this._def.output})}output(e){return new this.constructor({type:"function",input:this._def.input,output:e})}}function d(e){return new u({type:"function",input:Array.isArray(e?.input)?(0,o._tuple)(l.$ZodTuple,e?.input):e?.input??(0,o._array)(l.$ZodArray,(0,o._unknown)(l.$ZodUnknown)),output:e?.output??(0,o._unknown)(l.$ZodUnknown)})}t.$ZodFunction=u},"./node_modules/zod/v4/core/index.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.JSONSchema=t.locales=t.regexes=t.util=void 0,s(r("./node_modules/zod/v4/core/core.cjs"),t),s(r("./node_modules/zod/v4/core/parse.cjs"),t),s(r("./node_modules/zod/v4/core/errors.cjs"),t),s(r("./node_modules/zod/v4/core/schemas.cjs"),t),s(r("./node_modules/zod/v4/core/checks.cjs"),t),s(r("./node_modules/zod/v4/core/versions.cjs"),t),t.util=o(r("./node_modules/zod/v4/core/util.cjs")),t.regexes=o(r("./node_modules/zod/v4/core/regexes.cjs")),t.locales=o(r("./node_modules/zod/v4/locales/index.cjs")),s(r("./node_modules/zod/v4/core/registries.cjs"),t),s(r("./node_modules/zod/v4/core/doc.cjs"),t),s(r("./node_modules/zod/v4/core/function.cjs"),t),s(r("./node_modules/zod/v4/core/api.cjs"),t),s(r("./node_modules/zod/v4/core/to-json-schema.cjs"),t),t.JSONSchema=o(r("./node_modules/zod/v4/core/json-schema.cjs"))},"./node_modules/zod/v4/core/json-schema.cjs":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/zod/v4/core/parse.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.safeParseAsync=t._safeParseAsync=t.safeParse=t._safeParse=t.parseAsync=t._parseAsync=t.parse=t._parse=void 0;let o=s(r("./node_modules/zod/v4/core/core.cjs")),a=s(r("./node_modules/zod/v4/core/errors.cjs")),l=s(r("./node_modules/zod/v4/core/util.cjs"));t._parse=e=>(t,r,n,i)=>{let s=n?Object.assign(n,{async:!1}):{async:!1},a=t._zod.run({value:r,issues:[]},s);if(a instanceof Promise)throw new o.$ZodAsyncError;if(a.issues.length){let t=new(i?.Err??e)(a.issues.map(e=>l.finalizeIssue(e,s,o.config())));throw l.captureStackTrace(t,i?.callee),t}return a.value},t.parse=(0,t._parse)(a.$ZodRealError),t._parseAsync=e=>async(t,r,n,i)=>{let s=n?Object.assign(n,{async:!0}):{async:!0},a=t._zod.run({value:r,issues:[]},s);if(a instanceof Promise&&(a=await a),a.issues.length){let t=new(i?.Err??e)(a.issues.map(e=>l.finalizeIssue(e,s,o.config())));throw l.captureStackTrace(t,i?.callee),t}return a.value},t.parseAsync=(0,t._parseAsync)(a.$ZodRealError),t._safeParse=e=>(t,r,n)=>{let i=n?{...n,async:!1}:{async:!1},s=t._zod.run({value:r,issues:[]},i);if(s instanceof Promise)throw new o.$ZodAsyncError;return s.issues.length?{success:!1,error:new(e??a.$ZodError)(s.issues.map(e=>l.finalizeIssue(e,i,o.config())))}:{success:!0,data:s.value}},t.safeParse=(0,t._safeParse)(a.$ZodRealError),t._safeParseAsync=e=>async(t,r,n)=>{let i=n?Object.assign(n,{async:!0}):{async:!0},s=t._zod.run({value:r,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(e=>l.finalizeIssue(e,i,o.config())))}:{success:!0,data:s.value}},t.safeParseAsync=(0,t._safeParseAsync)(a.$ZodRealError)},"./node_modules/zod/v4/core/regexes.cjs":function(e,t){"use strict";function r(){return RegExp(t._emoji,"u")}Object.defineProperty(t,"__esModule",{value:!0}),t.uppercase=t.lowercase=t.undefined=t.null=t.boolean=t.number=t.integer=t.bigint=t.string=t.date=t.e164=t.domain=t.hostname=t.base64url=t.base64=t.cidrv6=t.cidrv4=t.ipv6=t.ipv4=t._emoji=t.browserEmail=t.unicodeEmail=t.rfc5322Email=t.html5Email=t.email=t.uuid7=t.uuid6=t.uuid4=t.uuid=t.guid=t.extendedDuration=t.duration=t.nanoid=t.ksuid=t.xid=t.ulid=t.cuid2=t.cuid=void 0,t.emoji=r,t.time=s,t.datetime=o,t.cuid=/^[cC][^\s-]{8,}$/,t.cuid2=/^[0-9a-z]+$/,t.ulid=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,t.xid=/^[0-9a-vA-V]{20}$/,t.ksuid=/^[A-Za-z0-9]{27}$/,t.nanoid=/^[a-zA-Z0-9_-]{21}$/,t.duration=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,t.extendedDuration=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,t.guid=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,t.uuid=e=>e?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,t.uuid4=(0,t.uuid)(4),t.uuid6=(0,t.uuid)(6),t.uuid7=(0,t.uuid)(7),t.email=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,t.html5Email=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,t.rfc5322Email=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,t.unicodeEmail=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,t.browserEmail=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,t._emoji="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",t.ipv4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,t.ipv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,t.cidrv4=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,t.cidrv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,t.base64=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,t.base64url=/^[A-Za-z0-9_-]*$/,t.hostname=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,t.domain=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,t.e164=/^\+(?:[0-9]){6,14}[0-9]$/;let n="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))";function i(e){let t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function s(e){return RegExp(`^${i(e)}$`)}function o(e){let t=i({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-]\\d{2}:\\d{2})");let s=`${t}(?:${r.join("|")})`;return RegExp(`^${n}T(?:${s})$`)}t.date=RegExp(`^${n}$`),t.string=e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${t}$`)},t.bigint=/^\d+n?$/,t.integer=/^\d+$/,t.number=/^-?\d+(?:\.\d+)?/i,t.boolean=/true|false/i,t.null=/null/i,t.undefined=/undefined/i,t.lowercase=/^[^A-Z]*$/,t.uppercase=/^[^a-z]*$/},"./node_modules/zod/v4/core/registries.cjs":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalRegistry=t.$ZodRegistry=t.$input=t.$output=void 0,t.registry=n,t.$output=Symbol("ZodOutput"),t.$input=Symbol("ZodInput");class r{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){let r=t[0];if(this._map.set(e,r),r&&"object"==typeof r&&"id"in r){if(this._idmap.has(r.id))throw Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}remove(e){return this._map.delete(e),this}get(e){let t=e._zod.parent;if(t){let r={...this.get(t)??{}};return delete r.id,{...r,...this._map.get(e)}}return this._map.get(e)}has(e){return this._map.has(e)}}function n(){return new r}t.$ZodRegistry=r,t.globalRegistry=n()},"./node_modules/zod/v4/core/schemas.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.$ZodSet=t.$ZodMap=t.$ZodRecord=t.$ZodTuple=t.$ZodIntersection=t.$ZodDiscriminatedUnion=t.$ZodUnion=t.$ZodObject=t.$ZodArray=t.$ZodDate=t.$ZodVoid=t.$ZodNever=t.$ZodUnknown=t.$ZodAny=t.$ZodNull=t.$ZodUndefined=t.$ZodSymbol=t.$ZodBigIntFormat=t.$ZodBigInt=t.$ZodBoolean=t.$ZodNumberFormat=t.$ZodNumber=t.$ZodCustomStringFormat=t.$ZodJWT=t.$ZodE164=t.$ZodBase64URL=t.$ZodBase64=t.$ZodCIDRv6=t.$ZodCIDRv4=t.$ZodIPv6=t.$ZodIPv4=t.$ZodISODuration=t.$ZodISOTime=t.$ZodISODate=t.$ZodISODateTime=t.$ZodKSUID=t.$ZodXID=t.$ZodULID=t.$ZodCUID2=t.$ZodCUID=t.$ZodNanoID=t.$ZodEmoji=t.$ZodURL=t.$ZodEmail=t.$ZodUUID=t.$ZodGUID=t.$ZodStringFormat=t.$ZodString=t.clone=t.$ZodType=void 0,t.$ZodCustom=t.$ZodLazy=t.$ZodPromise=t.$ZodTemplateLiteral=t.$ZodReadonly=t.$ZodPipe=t.$ZodNaN=t.$ZodCatch=t.$ZodSuccess=t.$ZodNonOptional=t.$ZodPrefault=t.$ZodDefault=t.$ZodNullable=t.$ZodOptional=t.$ZodTransform=t.$ZodFile=t.$ZodLiteral=t.$ZodEnum=void 0,t.isValidBase64=f,t.isValidBase64URL=m,t.isValidJWT=g;let o=s(r("./node_modules/zod/v4/core/checks.cjs")),a=s(r("./node_modules/zod/v4/core/core.cjs")),l=r("./node_modules/zod/v4/core/doc.cjs"),c=r("./node_modules/zod/v4/core/parse.cjs"),u=s(r("./node_modules/zod/v4/core/regexes.cjs")),d=s(r("./node_modules/zod/v4/core/util.cjs")),h=r("./node_modules/zod/v4/core/versions.cjs");t.$ZodType=a.$constructor("$ZodType",(e,t)=>{var r;e??(e={}),d.defineLazy(e._zod,"id",()=>t.type+"_"+d.randomString(10)),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=h.version;let n=[...e._zod.def.checks??[]];for(let t of(e._zod.traits.has("$ZodCheck")&&n.unshift(e),n))for(let r of t._zod.onattach)r(e);if(0===n.length)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let t=(e,t,r)=>{let n,i=d.aborted(e);for(let s of t){if(s._zod.when){if(!s._zod.when(e))continue}else if(i)continue;let t=e.issues.length,o=s._zod.check(e);if(o instanceof Promise&&r?.async===!1)throw new a.$ZodAsyncError;if(n||o instanceof Promise)n=(n??Promise.resolve()).then(async()=>{await o,e.issues.length!==t&&(i||(i=d.aborted(e,t)))});else{if(e.issues.length===t)continue;i||(i=d.aborted(e,t))}}return n?n.then(()=>e):e};e._zod.run=(r,i)=>{let s=e._zod.parse(r,i);if(s instanceof Promise){if(!1===i.async)throw new a.$ZodAsyncError;return s.then(e=>t(e,n,i))}return t(s,n,i)}}e["~standard"]={validate:t=>{try{let r=(0,c.safeParse)(e,t);return r.success?{value:r.data}:{issues:r.error?.issues}}catch(r){return(0,c.safeParseAsync)(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}});var p=r("./node_modules/zod/v4/core/util.cjs");function f(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}function m(e){if(!u.base64url.test(e))return!1;let t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return f(t.padEnd(4*Math.ceil(t.length/4),"="))}function g(e,t=null){try{let r=e.split(".");if(3!==r.length)return!1;let[n]=r;if(!n)return!1;let i=JSON.parse(atob(n));if("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))return!1;return!0}catch{return!1}}function y(e,t,r){e.issues.length&&t.issues.push(...d.prefixIssues(r,e.issues)),t.value[r]=e.value}function _(e,t,r){e.issues.length&&t.issues.push(...d.prefixIssues(r,e.issues)),t.value[r]=e.value}function v(e,t,r,n){e.issues.length?void 0===n[r]?r in n?t.value[r]=void 0:t.value[r]=e.value:t.issues.push(...d.prefixIssues(r,e.issues)):void 0===e.value?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function b(e,t,r,n){for(let r of e)if(0===r.issues.length)return t.value=r.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(e=>e.issues.map(e=>d.finalizeIssue(e,n,a.config())))}),t}function w(e,t){if(e===t||e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(d.isPlainObject(e)&&d.isPlainObject(t)){let r=Object.keys(t),n=Object.keys(e).filter(e=>-1!==r.indexOf(e)),i={...e,...t};for(let r of n){let n=w(e[r],t[r]);if(!n.valid)return{valid:!1,mergeErrorPath:[r,...n.mergeErrorPath]};i[r]=n.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let n=0;n<e.length;n++){let i=w(e[n],t[n]);if(!i.valid)return{valid:!1,mergeErrorPath:[n,...i.mergeErrorPath]};r.push(i.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function j(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),d.aborted(e))return e;let n=w(t.value,r.value);if(!n.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}function S(e,t,r){e.issues.length&&t.issues.push(...d.prefixIssues(r,e.issues)),t.value[r]=e.value}function k(e,t,r,n,i,s,o){e.issues.length&&(d.propertyKeyTypes.has(typeof n)?r.issues.push(...d.prefixIssues(n,e.issues)):r.issues.push({origin:"map",code:"invalid_key",input:i,inst:s,issues:e.issues.map(e=>d.finalizeIssue(e,o,a.config()))})),t.issues.length&&(d.propertyKeyTypes.has(typeof n)?r.issues.push(...d.prefixIssues(n,t.issues)):r.issues.push({origin:"map",code:"invalid_element",input:i,inst:s,key:n,issues:t.issues.map(e=>d.finalizeIssue(e,o,a.config()))})),r.value.set(e.value,t.value)}function E(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}function C(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}function x(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}function T(e,t,r){return d.aborted(e)?e:t.out._zod.run({value:e.value,issues:e.issues},r)}function O(e){return e.value=Object.freeze(e.value),e}function I(e,t,r,n){if(!e){let e={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(e.params=n._zod.def.params),t.issues.push(d.issue(e))}}Object.defineProperty(t,"clone",{enumerable:!0,get:function(){return p.clone}}),t.$ZodString=a.$constructor("$ZodString",(e,r)=>{t.$ZodType.init(e,r),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??u.string(e._zod.bag),e._zod.parse=(t,n)=>{if(r.coerce)try{t.value=String(t.value)}catch(e){}return"string"==typeof t.value||t.issues.push({expected:"string",code:"invalid_type",input:t.value,inst:e}),t}}),t.$ZodStringFormat=a.$constructor("$ZodStringFormat",(e,r)=>{o.$ZodCheckStringFormat.init(e,r),t.$ZodString.init(e,r)}),t.$ZodGUID=a.$constructor("$ZodGUID",(e,r)=>{r.pattern??(r.pattern=u.guid),t.$ZodStringFormat.init(e,r)}),t.$ZodUUID=a.$constructor("$ZodUUID",(e,r)=>{if(r.version){let e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[r.version];if(void 0===e)throw Error(`Invalid UUID version: "${r.version}"`);r.pattern??(r.pattern=u.uuid(e))}else r.pattern??(r.pattern=u.uuid());t.$ZodStringFormat.init(e,r)}),t.$ZodEmail=a.$constructor("$ZodEmail",(e,r)=>{r.pattern??(r.pattern=u.email),t.$ZodStringFormat.init(e,r)}),t.$ZodURL=a.$constructor("$ZodURL",(e,r)=>{t.$ZodStringFormat.init(e,r),e._zod.check=t=>{try{let n=new URL(t.value);r.hostname&&(r.hostname.lastIndex=0,r.hostname.test(n.hostname)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:u.hostname.source,input:t.value,inst:e,continue:!r.abort})),r.protocol&&(r.protocol.lastIndex=0,r.protocol.test(n.protocol.endsWith(":")?n.protocol.slice(0,-1):n.protocol)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:r.protocol.source,input:t.value,inst:e,continue:!r.abort}));return}catch(n){t.issues.push({code:"invalid_format",format:"url",input:t.value,inst:e,continue:!r.abort})}}}),t.$ZodEmoji=a.$constructor("$ZodEmoji",(e,r)=>{r.pattern??(r.pattern=u.emoji()),t.$ZodStringFormat.init(e,r)}),t.$ZodNanoID=a.$constructor("$ZodNanoID",(e,r)=>{r.pattern??(r.pattern=u.nanoid),t.$ZodStringFormat.init(e,r)}),t.$ZodCUID=a.$constructor("$ZodCUID",(e,r)=>{r.pattern??(r.pattern=u.cuid),t.$ZodStringFormat.init(e,r)}),t.$ZodCUID2=a.$constructor("$ZodCUID2",(e,r)=>{r.pattern??(r.pattern=u.cuid2),t.$ZodStringFormat.init(e,r)}),t.$ZodULID=a.$constructor("$ZodULID",(e,r)=>{r.pattern??(r.pattern=u.ulid),t.$ZodStringFormat.init(e,r)}),t.$ZodXID=a.$constructor("$ZodXID",(e,r)=>{r.pattern??(r.pattern=u.xid),t.$ZodStringFormat.init(e,r)}),t.$ZodKSUID=a.$constructor("$ZodKSUID",(e,r)=>{r.pattern??(r.pattern=u.ksuid),t.$ZodStringFormat.init(e,r)}),t.$ZodISODateTime=a.$constructor("$ZodISODateTime",(e,r)=>{r.pattern??(r.pattern=u.datetime(r)),t.$ZodStringFormat.init(e,r)}),t.$ZodISODate=a.$constructor("$ZodISODate",(e,r)=>{r.pattern??(r.pattern=u.date),t.$ZodStringFormat.init(e,r)}),t.$ZodISOTime=a.$constructor("$ZodISOTime",(e,r)=>{r.pattern??(r.pattern=u.time(r)),t.$ZodStringFormat.init(e,r)}),t.$ZodISODuration=a.$constructor("$ZodISODuration",(e,r)=>{r.pattern??(r.pattern=u.duration),t.$ZodStringFormat.init(e,r)}),t.$ZodIPv4=a.$constructor("$ZodIPv4",(e,r)=>{r.pattern??(r.pattern=u.ipv4),t.$ZodStringFormat.init(e,r),e._zod.onattach.push(e=>{e._zod.bag.format="ipv4"})}),t.$ZodIPv6=a.$constructor("$ZodIPv6",(e,r)=>{r.pattern??(r.pattern=u.ipv6),t.$ZodStringFormat.init(e,r),e._zod.onattach.push(e=>{e._zod.bag.format="ipv6"}),e._zod.check=t=>{try{new URL(`http://[${t.value}]`)}catch{t.issues.push({code:"invalid_format",format:"ipv6",input:t.value,inst:e,continue:!r.abort})}}}),t.$ZodCIDRv4=a.$constructor("$ZodCIDRv4",(e,r)=>{r.pattern??(r.pattern=u.cidrv4),t.$ZodStringFormat.init(e,r)}),t.$ZodCIDRv6=a.$constructor("$ZodCIDRv6",(e,r)=>{r.pattern??(r.pattern=u.cidrv6),t.$ZodStringFormat.init(e,r),e._zod.check=t=>{let[n,i]=t.value.split("/");try{if(!i)throw Error();let e=Number(i);if(`${e}`!==i||e<0||e>128)throw Error();new URL(`http://[${n}]`)}catch{t.issues.push({code:"invalid_format",format:"cidrv6",input:t.value,inst:e,continue:!r.abort})}}}),t.$ZodBase64=a.$constructor("$ZodBase64",(e,r)=>{r.pattern??(r.pattern=u.base64),t.$ZodStringFormat.init(e,r),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64"}),e._zod.check=t=>{f(t.value)||t.issues.push({code:"invalid_format",format:"base64",input:t.value,inst:e,continue:!r.abort})}}),t.$ZodBase64URL=a.$constructor("$ZodBase64URL",(e,r)=>{r.pattern??(r.pattern=u.base64url),t.$ZodStringFormat.init(e,r),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64url"}),e._zod.check=t=>{m(t.value)||t.issues.push({code:"invalid_format",format:"base64url",input:t.value,inst:e,continue:!r.abort})}}),t.$ZodE164=a.$constructor("$ZodE164",(e,r)=>{r.pattern??(r.pattern=u.e164),t.$ZodStringFormat.init(e,r)}),t.$ZodJWT=a.$constructor("$ZodJWT",(e,r)=>{t.$ZodStringFormat.init(e,r),e._zod.check=t=>{g(t.value,r.alg)||t.issues.push({code:"invalid_format",format:"jwt",input:t.value,inst:e,continue:!r.abort})}}),t.$ZodCustomStringFormat=a.$constructor("$ZodCustomStringFormat",(e,r)=>{t.$ZodStringFormat.init(e,r),e._zod.check=t=>{r.fn(t.value)||t.issues.push({code:"invalid_format",format:r.format,input:t.value,inst:e,continue:!r.abort})}}),t.$ZodNumber=a.$constructor("$ZodNumber",(e,r)=>{t.$ZodType.init(e,r),e._zod.pattern=e._zod.bag.pattern??u.number,e._zod.parse=(t,n)=>{if(r.coerce)try{t.value=Number(t.value)}catch(e){}let i=t.value;if("number"==typeof i&&!Number.isNaN(i)&&Number.isFinite(i))return t;let s="number"==typeof i?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return t.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...s?{received:s}:{}}),t}}),t.$ZodNumberFormat=a.$constructor("$ZodNumber",(e,r)=>{o.$ZodCheckNumberFormat.init(e,r),t.$ZodNumber.init(e,r)}),t.$ZodBoolean=a.$constructor("$ZodBoolean",(e,r)=>{t.$ZodType.init(e,r),e._zod.pattern=u.boolean,e._zod.parse=(t,n)=>{if(r.coerce)try{t.value=!!t.value}catch(e){}let i=t.value;return"boolean"==typeof i||t.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),t}}),t.$ZodBigInt=a.$constructor("$ZodBigInt",(e,r)=>{t.$ZodType.init(e,r),e._zod.pattern=u.bigint,e._zod.parse=(t,n)=>{if(r.coerce)try{t.value=BigInt(t.value)}catch(e){}return"bigint"==typeof t.value||t.issues.push({expected:"bigint",code:"invalid_type",input:t.value,inst:e}),t}}),t.$ZodBigIntFormat=a.$constructor("$ZodBigInt",(e,r)=>{o.$ZodCheckBigIntFormat.init(e,r),t.$ZodBigInt.init(e,r)}),t.$ZodSymbol=a.$constructor("$ZodSymbol",(e,r)=>{t.$ZodType.init(e,r),e._zod.parse=(t,r)=>{let n=t.value;return"symbol"==typeof n||t.issues.push({expected:"symbol",code:"invalid_type",input:n,inst:e}),t}}),t.$ZodUndefined=a.$constructor("$ZodUndefined",(e,r)=>{t.$ZodType.init(e,r),e._zod.pattern=u.undefined,e._zod.values=new Set([void 0]),e._zod.parse=(t,r)=>{let n=t.value;return void 0===n||t.issues.push({expected:"undefined",code:"invalid_type",input:n,inst:e}),t}}),t.$ZodNull=a.$constructor("$ZodNull",(e,r)=>{t.$ZodType.init(e,r),e._zod.pattern=u.null,e._zod.values=new Set([null]),e._zod.parse=(t,r)=>{let n=t.value;return null===n||t.issues.push({expected:"null",code:"invalid_type",input:n,inst:e}),t}}),t.$ZodAny=a.$constructor("$ZodAny",(e,r)=>{t.$ZodType.init(e,r),e._zod.parse=e=>e}),t.$ZodUnknown=a.$constructor("$ZodUnknown",(e,r)=>{t.$ZodType.init(e,r),e._zod.parse=e=>e}),t.$ZodNever=a.$constructor("$ZodNever",(e,r)=>{t.$ZodType.init(e,r),e._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}),t.$ZodVoid=a.$constructor("$ZodVoid",(e,r)=>{t.$ZodType.init(e,r),e._zod.parse=(t,r)=>{let n=t.value;return void 0===n||t.issues.push({expected:"void",code:"invalid_type",input:n,inst:e}),t}}),t.$ZodDate=a.$constructor("$ZodDate",(e,r)=>{t.$ZodType.init(e,r),e._zod.parse=(t,n)=>{if(r.coerce)try{t.value=new Date(t.value)}catch(e){}let i=t.value,s=i instanceof Date;return s&&!Number.isNaN(i.getTime())||t.issues.push({expected:"date",code:"invalid_type",input:i,...s?{received:"Invalid Date"}:{},inst:e}),t}}),t.$ZodArray=a.$constructor("$ZodArray",(e,r)=>{t.$ZodType.init(e,r),e._zod.parse=(t,n)=>{let i=t.value;if(!Array.isArray(i))return t.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),t;t.value=Array(i.length);let s=[];for(let e=0;e<i.length;e++){let o=i[e],a=r.element._zod.run({value:o,issues:[]},n);a instanceof Promise?s.push(a.then(r=>y(r,t,e))):y(a,t,e)}return s.length?Promise.all(s).then(()=>t):t}}),t.$ZodObject=a.$constructor("$ZodObject",(e,r)=>{let n,i;t.$ZodType.init(e,r);let s=d.cached(()=>{let e=Object.keys(r.shape);for(let n of e)if(!(r.shape[n]instanceof t.$ZodType))throw Error(`Invalid element at key "${n}": expected a Zod schema`);let n=d.optionalKeys(r.shape);return{shape:r.shape,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}});d.defineLazy(e._zod,"propValues",()=>{let e=r.shape,t={};for(let r in e){let n=e[r]._zod;if(n.values)for(let e of(t[r]??(t[r]=new Set),n.values))t[r].add(e)}return t});let o=e=>{let t=new l.Doc(["shape","payload","ctx"]),r=s.value,n=e=>{let t=d.esc(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");let i=Object.create(null);for(let e of r.keys)i[e]=d.randomString(15);for(let e of(t.write("const newResult = {}"),r.keys))if(r.optionalKeys.has(e)){let r=i[e];t.write(`const ${r} = ${n(e)};`);let s=d.esc(e);t.write(`
        if (${r}.issues.length) {
          if (input[${s}] === undefined) {
            if (${s} in input) {
              newResult[${s}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${r}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${s}, ...iss.path] : [${s}],
              }))
            );
          }
        } else if (${r}.value === undefined) {
          if (${s} in input) newResult[${s}] = undefined;
        } else {
          newResult[${s}] = ${r}.value;
        }
        `)}else{let r=i[e];t.write(`const ${r} = ${n(e)};`),t.write(`
          if (${r}.issues.length) payload.issues = payload.issues.concat(${r}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${d.esc(e)}, ...iss.path] : [${d.esc(e)}]
          })));`),t.write(`newResult[${d.esc(e)}] = ${r}.value`)}t.write("payload.value = newResult;"),t.write("return payload;");let o=t.compile();return(t,r)=>o(e,t,r)},c=d.isObject,u=!a.globalConfig.jitless,h=d.allowsEval,p=u&&h.value,f=r.catchall;e._zod.parse=(t,a)=>{i??(i=s.value);let l=t.value;if(!c(l))return t.issues.push({expected:"object",code:"invalid_type",input:l,inst:e}),t;let d=[];if(u&&p&&a?.async===!1&&!0!==a.jitless)n||(n=o(r.shape)),t=n(t,a);else{t.value={};let e=i.shape;for(let r of i.keys){let n=e[r],i=n._zod.run({value:l[r],issues:[]},a),s="optional"===n._zod.optin&&"optional"===n._zod.optout;i instanceof Promise?d.push(i.then(e=>s?v(e,t,r,l):_(e,t,r))):s?v(i,t,r,l):_(i,t,r)}}if(!f)return d.length?Promise.all(d).then(()=>t):t;let h=[],m=i.keySet,g=f._zod,y=g.def.type;for(let e of Object.keys(l)){if(m.has(e))continue;if("never"===y){h.push(e);continue}let r=g.run({value:l[e],issues:[]},a);r instanceof Promise?d.push(r.then(r=>_(r,t,e))):_(r,t,e)}return(h.length&&t.issues.push({code:"unrecognized_keys",keys:h,input:l,inst:e}),d.length)?Promise.all(d).then(()=>t):t}}),t.$ZodUnion=a.$constructor("$ZodUnion",(e,r)=>{t.$ZodType.init(e,r),d.defineLazy(e._zod,"values",()=>{if(r.options.every(e=>e._zod.values))return new Set(r.options.flatMap(e=>Array.from(e._zod.values)))}),d.defineLazy(e._zod,"pattern",()=>{if(r.options.every(e=>e._zod.pattern)){let e=r.options.map(e=>e._zod.pattern);return RegExp(`^(${e.map(e=>d.cleanRegex(e.source)).join("|")})$`)}}),e._zod.parse=(t,n)=>{let i=!1,s=[];for(let e of r.options){let r=e._zod.run({value:t.value,issues:[]},n);if(r instanceof Promise)s.push(r),i=!0;else{if(0===r.issues.length)return r;s.push(r)}}return i?Promise.all(s).then(r=>b(r,t,e,n)):b(s,t,e,n)}}),t.$ZodDiscriminatedUnion=a.$constructor("$ZodDiscriminatedUnion",(e,r)=>{t.$ZodUnion.init(e,r);let n=e._zod.parse;d.defineLazy(e._zod,"propValues",()=>{let e={};for(let t of r.options){let n=t._zod.propValues;if(!n||0===Object.keys(n).length)throw Error(`Invalid discriminated union option at index "${r.options.indexOf(t)}"`);for(let[t,r]of Object.entries(n))for(let n of(e[t]||(e[t]=new Set),r))e[t].add(n)}return e});let i=d.cached(()=>{let e=r.options,t=new Map;for(let n of e){let e=n._zod.propValues[r.discriminator];if(!e||0===e.size)throw Error(`Invalid discriminated union option at index "${r.options.indexOf(n)}"`);for(let r of e){if(t.has(r))throw Error(`Duplicate discriminator value "${String(r)}"`);t.set(r,n)}}return t});e._zod.parse=(t,s)=>{let o=t.value;if(!d.isObject(o))return t.issues.push({code:"invalid_type",expected:"object",input:o,inst:e}),t;let a=i.value.get(o?.[r.discriminator]);return a?a._zod.run(t,s):r.unionFallback?n(t,s):(t.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:o,path:[r.discriminator],inst:e}),t)}}),t.$ZodIntersection=a.$constructor("$ZodIntersection",(e,r)=>{t.$ZodType.init(e,r),e._zod.parse=(e,t)=>{let n=e.value,i=r.left._zod.run({value:n,issues:[]},t),s=r.right._zod.run({value:n,issues:[]},t);return i instanceof Promise||s instanceof Promise?Promise.all([i,s]).then(([t,r])=>j(e,t,r)):j(e,i,s)}}),t.$ZodTuple=a.$constructor("$ZodTuple",(e,r)=>{t.$ZodType.init(e,r);let n=r.items,i=n.length-[...n].reverse().findIndex(e=>"optional"!==e._zod.optin);e._zod.parse=(t,s)=>{let o=t.value;if(!Array.isArray(o))return t.issues.push({input:o,inst:e,expected:"tuple",code:"invalid_type"}),t;t.value=[];let a=[];if(!r.rest){let r=o.length>n.length,s=o.length<i-1;if(r||s)return t.issues.push({input:o,inst:e,origin:"array",...r?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length}}),t}let l=-1;for(let e of n){if(++l>=o.length&&l>=i)continue;let r=e._zod.run({value:o[l],issues:[]},s);r instanceof Promise?a.push(r.then(e=>S(e,t,l))):S(r,t,l)}if(r.rest)for(let e of o.slice(n.length)){l++;let n=r.rest._zod.run({value:e,issues:[]},s);n instanceof Promise?a.push(n.then(e=>S(e,t,l))):S(n,t,l)}return a.length?Promise.all(a).then(()=>t):t}}),t.$ZodRecord=a.$constructor("$ZodRecord",(e,r)=>{t.$ZodType.init(e,r),e._zod.parse=(t,n)=>{let i=t.value;if(!d.isPlainObject(i))return t.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),t;let s=[];if(r.keyType._zod.values){let o,a=r.keyType._zod.values;for(let e of(t.value={},a))if("string"==typeof e||"number"==typeof e||"symbol"==typeof e){let o=r.valueType._zod.run({value:i[e],issues:[]},n);o instanceof Promise?s.push(o.then(r=>{r.issues.length&&t.issues.push(...d.prefixIssues(e,r.issues)),t.value[e]=r.value})):(o.issues.length&&t.issues.push(...d.prefixIssues(e,o.issues)),t.value[e]=o.value)}for(let e in i)a.has(e)||(o=o??[]).push(e);o&&o.length>0&&t.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:o})}else for(let o of(t.value={},Reflect.ownKeys(i))){if("__proto__"===o)continue;let l=r.keyType._zod.run({value:o,issues:[]},n);if(l instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(l.issues.length){t.issues.push({origin:"record",code:"invalid_key",issues:l.issues.map(e=>d.finalizeIssue(e,n,a.config())),input:o,path:[o],inst:e}),t.value[l.value]=l.value;continue}let c=r.valueType._zod.run({value:i[o],issues:[]},n);c instanceof Promise?s.push(c.then(e=>{e.issues.length&&t.issues.push(...d.prefixIssues(o,e.issues)),t.value[l.value]=e.value})):(c.issues.length&&t.issues.push(...d.prefixIssues(o,c.issues)),t.value[l.value]=c.value)}return s.length?Promise.all(s).then(()=>t):t}}),t.$ZodMap=a.$constructor("$ZodMap",(e,r)=>{t.$ZodType.init(e,r),e._zod.parse=(t,n)=>{let i=t.value;if(!(i instanceof Map))return t.issues.push({expected:"map",code:"invalid_type",input:i,inst:e}),t;let s=[];for(let[o,a]of(t.value=new Map,i)){let l=r.keyType._zod.run({value:o,issues:[]},n),c=r.valueType._zod.run({value:a,issues:[]},n);l instanceof Promise||c instanceof Promise?s.push(Promise.all([l,c]).then(([r,s])=>{k(r,s,t,o,i,e,n)})):k(l,c,t,o,i,e,n)}return s.length?Promise.all(s).then(()=>t):t}}),t.$ZodSet=a.$constructor("$ZodSet",(e,r)=>{t.$ZodType.init(e,r),e._zod.parse=(t,n)=>{let i=t.value;if(!(i instanceof Set))return t.issues.push({input:i,inst:e,expected:"set",code:"invalid_type"}),t;let s=[];for(let e of(t.value=new Set,i)){let i=r.valueType._zod.run({value:e,issues:[]},n);i instanceof Promise?s.push(i.then(e=>E(e,t))):E(i,t)}return s.length?Promise.all(s).then(()=>t):t}}),t.$ZodEnum=a.$constructor("$ZodEnum",(e,r)=>{t.$ZodType.init(e,r);let n=d.getEnumValues(r.entries);e._zod.values=new Set(n),e._zod.pattern=RegExp(`^(${n.filter(e=>d.propertyKeyTypes.has(typeof e)).map(e=>"string"==typeof e?d.escapeRegex(e):e.toString()).join("|")})$`),e._zod.parse=(t,r)=>{let i=t.value;return e._zod.values.has(i)||t.issues.push({code:"invalid_value",values:n,input:i,inst:e}),t}}),t.$ZodLiteral=a.$constructor("$ZodLiteral",(e,r)=>{t.$ZodType.init(e,r),e._zod.values=new Set(r.values),e._zod.pattern=RegExp(`^(${r.values.map(e=>"string"==typeof e?d.escapeRegex(e):e?e.toString():String(e)).join("|")})$`),e._zod.parse=(t,n)=>{let i=t.value;return e._zod.values.has(i)||t.issues.push({code:"invalid_value",values:r.values,input:i,inst:e}),t}}),t.$ZodFile=a.$constructor("$ZodFile",(e,r)=>{t.$ZodType.init(e,r),e._zod.parse=(t,r)=>{let n=t.value;return n instanceof File||t.issues.push({expected:"file",code:"invalid_type",input:n,inst:e}),t}}),t.$ZodTransform=a.$constructor("$ZodTransform",(e,r)=>{t.$ZodType.init(e,r),e._zod.parse=(e,t)=>{let n=r.transform(e.value,e);if(t.async)return(n instanceof Promise?n:Promise.resolve(n)).then(t=>(e.value=t,e));if(n instanceof Promise)throw new a.$ZodAsyncError;return e.value=n,e}}),t.$ZodOptional=a.$constructor("$ZodOptional",(e,r)=>{t.$ZodType.init(e,r),e._zod.optin="optional",e._zod.optout="optional",d.defineLazy(e._zod,"values",()=>r.innerType._zod.values?new Set([...r.innerType._zod.values,void 0]):void 0),d.defineLazy(e._zod,"pattern",()=>{let e=r.innerType._zod.pattern;return e?RegExp(`^(${d.cleanRegex(e.source)})?$`):void 0}),e._zod.parse=(e,t)=>"optional"===r.innerType._zod.optin?r.innerType._zod.run(e,t):void 0===e.value?e:r.innerType._zod.run(e,t)}),t.$ZodNullable=a.$constructor("$ZodNullable",(e,r)=>{t.$ZodType.init(e,r),d.defineLazy(e._zod,"optin",()=>r.innerType._zod.optin),d.defineLazy(e._zod,"optout",()=>r.innerType._zod.optout),d.defineLazy(e._zod,"pattern",()=>{let e=r.innerType._zod.pattern;return e?RegExp(`^(${d.cleanRegex(e.source)}|null)$`):void 0}),d.defineLazy(e._zod,"values",()=>r.innerType._zod.values?new Set([...r.innerType._zod.values,null]):void 0),e._zod.parse=(e,t)=>null===e.value?e:r.innerType._zod.run(e,t)}),t.$ZodDefault=a.$constructor("$ZodDefault",(e,r)=>{t.$ZodType.init(e,r),e._zod.optin="optional",d.defineLazy(e._zod,"values",()=>r.innerType._zod.values),e._zod.parse=(e,t)=>{if(void 0===e.value)return e.value=r.defaultValue,e;let n=r.innerType._zod.run(e,t);return n instanceof Promise?n.then(e=>C(e,r)):C(n,r)}}),t.$ZodPrefault=a.$constructor("$ZodPrefault",(e,r)=>{t.$ZodType.init(e,r),e._zod.optin="optional",d.defineLazy(e._zod,"values",()=>r.innerType._zod.values),e._zod.parse=(e,t)=>(void 0===e.value&&(e.value=r.defaultValue),r.innerType._zod.run(e,t))}),t.$ZodNonOptional=a.$constructor("$ZodNonOptional",(e,r)=>{t.$ZodType.init(e,r),d.defineLazy(e._zod,"values",()=>{let e=r.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(t,n)=>{let i=r.innerType._zod.run(t,n);return i instanceof Promise?i.then(t=>x(t,e)):x(i,e)}}),t.$ZodSuccess=a.$constructor("$ZodSuccess",(e,r)=>{t.$ZodType.init(e,r),e._zod.parse=(e,t)=>{let n=r.innerType._zod.run(e,t);return n instanceof Promise?n.then(t=>(e.value=0===t.issues.length,e)):(e.value=0===n.issues.length,e)}}),t.$ZodCatch=a.$constructor("$ZodCatch",(e,r)=>{t.$ZodType.init(e,r),d.defineLazy(e._zod,"optin",()=>r.innerType._zod.optin),d.defineLazy(e._zod,"optout",()=>r.innerType._zod.optout),d.defineLazy(e._zod,"values",()=>r.innerType._zod.values),e._zod.parse=(e,t)=>{let n=r.innerType._zod.run(e,t);return n instanceof Promise?n.then(n=>(e.value=n.value,n.issues.length&&(e.value=r.catchValue({...e,error:{issues:n.issues.map(e=>d.finalizeIssue(e,t,a.config()))},input:e.value}),e.issues=[]),e)):(e.value=n.value,n.issues.length&&(e.value=r.catchValue({...e,error:{issues:n.issues.map(e=>d.finalizeIssue(e,t,a.config()))},input:e.value}),e.issues=[]),e)}}),t.$ZodNaN=a.$constructor("$ZodNaN",(e,r)=>{t.$ZodType.init(e,r),e._zod.parse=(t,r)=>("number"==typeof t.value&&Number.isNaN(t.value)||t.issues.push({input:t.value,inst:e,expected:"nan",code:"invalid_type"}),t)}),t.$ZodPipe=a.$constructor("$ZodPipe",(e,r)=>{t.$ZodType.init(e,r),d.defineLazy(e._zod,"values",()=>r.in._zod.values),d.defineLazy(e._zod,"optin",()=>r.in._zod.optin),d.defineLazy(e._zod,"optout",()=>r.out._zod.optout),e._zod.parse=(e,t)=>{let n=r.in._zod.run(e,t);return n instanceof Promise?n.then(e=>T(e,r,t)):T(n,r,t)}}),t.$ZodReadonly=a.$constructor("$ZodReadonly",(e,r)=>{t.$ZodType.init(e,r),d.defineLazy(e._zod,"propValues",()=>r.innerType._zod.propValues),d.defineLazy(e._zod,"optin",()=>r.innerType._zod.optin),d.defineLazy(e._zod,"optout",()=>r.innerType._zod.optout),e._zod.parse=(e,t)=>{let n=r.innerType._zod.run(e,t);return n instanceof Promise?n.then(O):O(n)}}),t.$ZodTemplateLiteral=a.$constructor("$ZodTemplateLiteral",(e,r)=>{t.$ZodType.init(e,r);let n=[];for(let e of r.parts)if(e instanceof t.$ZodType){if(!e._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...e._zod.traits].shift()}`);let t=e._zod.pattern instanceof RegExp?e._zod.pattern.source:e._zod.pattern;if(!t)throw Error(`Invalid template literal part: ${e._zod.traits}`);let r=+!!t.startsWith("^"),i=t.endsWith("$")?t.length-1:t.length;n.push(t.slice(r,i))}else if(null===e||d.primitiveTypes.has(typeof e))n.push(d.escapeRegex(`${e}`));else throw Error(`Invalid template literal part: ${e}`);e._zod.pattern=RegExp(`^${n.join("")}$`),e._zod.parse=(t,r)=>("string"!=typeof t.value?t.issues.push({input:t.value,inst:e,expected:"template_literal",code:"invalid_type"}):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(t.value)||t.issues.push({input:t.value,inst:e,code:"invalid_format",format:"template_literal",pattern:e._zod.pattern.source})),t)}),t.$ZodPromise=a.$constructor("$ZodPromise",(e,r)=>{t.$ZodType.init(e,r),e._zod.parse=(e,t)=>Promise.resolve(e.value).then(e=>r.innerType._zod.run({value:e,issues:[]},t))}),t.$ZodLazy=a.$constructor("$ZodLazy",(e,r)=>{t.$ZodType.init(e,r),d.defineLazy(e._zod,"innerType",()=>r.getter()),d.defineLazy(e._zod,"pattern",()=>e._zod.innerType._zod.pattern),d.defineLazy(e._zod,"propValues",()=>e._zod.innerType._zod.propValues),d.defineLazy(e._zod,"optin",()=>e._zod.innerType._zod.optin),d.defineLazy(e._zod,"optout",()=>e._zod.innerType._zod.optout),e._zod.parse=(t,r)=>e._zod.innerType._zod.run(t,r)}),t.$ZodCustom=a.$constructor("$ZodCustom",(e,r)=>{o.$ZodCheck.init(e,r),t.$ZodType.init(e,r),e._zod.parse=(e,t)=>e,e._zod.check=t=>{let n=t.value,i=r.fn(n);if(i instanceof Promise)return i.then(r=>I(r,t,n,e));I(i,t,n,e)}})},"./node_modules/zod/v4/core/to-json-schema.cjs":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSONSchemaGenerator=void 0,t.toJSONSchema=o;let n=r("./node_modules/zod/v4/core/registries.cjs"),i=r("./node_modules/zod/v4/core/util.cjs");class s{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??n.globalRegistry,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,t={path:[],schemaPath:[]}){var r;let n=e._zod.def,s={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},o=this.seen.get(e);if(o)return o.count++,t.schemaPath.includes(e)&&(o.cycle=t.path),o.schema;let l={schema:{},count:1,cycle:void 0};this.seen.set(e,l);let c=e._zod.toJSONSchema?.();if(c)l.schema=c;else{let r={...t,schemaPath:[...t.schemaPath,e],path:t.path},o=e._zod.parent;if(o)l.ref=o,this.process(o,r),this.seen.get(o).isParent=!0;else{let t=l.schema;switch(n.type){case"string":{let r=t;r.type="string";let{minimum:n,maximum:i,format:o,patterns:a,contentEncoding:c}=e._zod.bag;if("number"==typeof n&&(r.minLength=n),"number"==typeof i&&(r.maxLength=i),o&&(r.format=s[o]??o,""===r.format&&delete r.format),c&&(r.contentEncoding=c),a&&a.size>0){let e=[...a];1===e.length?r.pattern=e[0].source:e.length>1&&(l.schema.allOf=[...e.map(e=>({..."draft-7"===this.target?{type:"string"}:{},pattern:e.source}))])}break}case"number":{let r=t,{minimum:n,maximum:i,format:s,multipleOf:o,exclusiveMaximum:a,exclusiveMinimum:l}=e._zod.bag;"string"==typeof s&&s.includes("int")?r.type="integer":r.type="number","number"==typeof l&&(r.exclusiveMinimum=l),"number"==typeof n&&(r.minimum=n,"number"==typeof l&&(l>=n?delete r.minimum:delete r.exclusiveMinimum)),"number"==typeof a&&(r.exclusiveMaximum=a),"number"==typeof i&&(r.maximum=i,"number"==typeof a&&(a<=i?delete r.maximum:delete r.exclusiveMaximum)),"number"==typeof o&&(r.multipleOf=o);break}case"boolean":case"success":t.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw Error("Symbols cannot be represented in JSON Schema");break;case"undefined":case"null":t.type="null";break;case"any":case"unknown":break;case"never":t.not={};break;case"void":if("throw"===this.unrepresentable)throw Error("Void cannot be represented in JSON Schema");break;case"date":if("throw"===this.unrepresentable)throw Error("Date cannot be represented in JSON Schema");break;case"array":{let i=t,{minimum:s,maximum:o}=e._zod.bag;"number"==typeof s&&(i.minItems=s),"number"==typeof o&&(i.maxItems=o),i.type="array",i.items=this.process(n.element,{...r,path:[...r.path,"items"]});break}case"object":{let e=t;e.type="object",e.properties={};let i=n.shape;for(let t in i)e.properties[t]=this.process(i[t],{...r,path:[...r.path,"properties",t]});let s=new Set([...new Set(Object.keys(i))].filter(e=>{let t=n.shape[e]._zod;return"input"===this.io?void 0===t.optin:void 0===t.optout}));s.size>0&&(e.required=Array.from(s)),n.catchall?._zod.def.type==="never"?e.additionalProperties=!1:n.catchall?n.catchall&&(e.additionalProperties=this.process(n.catchall,{...r,path:[...r.path,"additionalProperties"]})):"output"===this.io&&(e.additionalProperties=!1);break}case"union":t.anyOf=n.options.map((e,t)=>this.process(e,{...r,path:[...r.path,"anyOf",t]}));break;case"intersection":{let e=t,i=this.process(n.left,{...r,path:[...r.path,"allOf",0]}),s=this.process(n.right,{...r,path:[...r.path,"allOf",1]}),o=e=>"allOf"in e&&1===Object.keys(e).length;e.allOf=[...o(i)?i.allOf:[i],...o(s)?s.allOf:[s]];break}case"tuple":{let i=t;i.type="array";let s=n.items.map((e,t)=>this.process(e,{...r,path:[...r.path,"prefixItems",t]}));if("draft-2020-12"===this.target?i.prefixItems=s:i.items=s,n.rest){let e=this.process(n.rest,{...r,path:[...r.path,"items"]});"draft-2020-12"===this.target?i.items=e:i.additionalItems=e}n.rest&&(i.items=this.process(n.rest,{...r,path:[...r.path,"items"]}));let{minimum:o,maximum:a}=e._zod.bag;"number"==typeof o&&(i.minItems=o),"number"==typeof a&&(i.maxItems=a);break}case"record":{let e=t;e.type="object",e.propertyNames=this.process(n.keyType,{...r,path:[...r.path,"propertyNames"]}),e.additionalProperties=this.process(n.valueType,{...r,path:[...r.path,"additionalProperties"]});break}case"map":if("throw"===this.unrepresentable)throw Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw Error("Set cannot be represented in JSON Schema");break;case"enum":{let e=t,r=(0,i.getEnumValues)(n.entries);r.every(e=>"number"==typeof e)&&(e.type="number"),r.every(e=>"string"==typeof e)&&(e.type="string"),e.enum=r;break}case"literal":{let e=t,r=[];for(let e of n.values)if(void 0===e){if("throw"===this.unrepresentable)throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof e)if("throw"===this.unrepresentable)throw Error("BigInt literals cannot be represented in JSON Schema");else r.push(Number(e));else r.push(e);if(0===r.length);else if(1===r.length){let t=r[0];e.type=null===t?"null":typeof t,e.const=t}else r.every(e=>"number"==typeof e)&&(e.type="number"),r.every(e=>"string"==typeof e)&&(e.type="string"),r.every(e=>"boolean"==typeof e)&&(e.type="string"),r.every(e=>null===e)&&(e.type="null"),e.enum=r;break}case"file":{let r=t,n={type:"string",format:"binary",contentEncoding:"binary"},{minimum:i,maximum:s,mime:o}=e._zod.bag;void 0!==i&&(n.minLength=i),void 0!==s&&(n.maxLength=s),o?1===o.length?(n.contentMediaType=o[0],Object.assign(r,n)):r.anyOf=o.map(e=>({...n,contentMediaType:e})):Object.assign(r,n);break}case"transform":if("throw"===this.unrepresentable)throw Error("Transforms cannot be represented in JSON Schema");break;case"nullable":t.anyOf=[this.process(n.innerType,r),{type:"null"}];break;case"nonoptional":case"promise":case"optional":this.process(n.innerType,r),l.ref=n.innerType;break;case"default":this.process(n.innerType,r),l.ref=n.innerType,t.default=JSON.parse(JSON.stringify(n.defaultValue));break;case"prefault":this.process(n.innerType,r),l.ref=n.innerType,"input"===this.io&&(t._prefault=JSON.parse(JSON.stringify(n.defaultValue)));break;case"catch":{let e;this.process(n.innerType,r),l.ref=n.innerType;try{e=n.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}t.default=e;break}case"nan":if("throw"===this.unrepresentable)throw Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{let r=t,n=e._zod.pattern;if(!n)throw Error("Pattern not found in template literal");r.type="string",r.pattern=n.source;break}case"pipe":{let e="input"===this.io?"transform"===n.in._zod.def.type?n.out:n.in:n.out;this.process(e,r),l.ref=e;break}case"readonly":this.process(n.innerType,r),l.ref=n.innerType,t.readOnly=!0;break;case"lazy":{let t=e._zod.innerType;this.process(t,r),l.ref=t;break}case"custom":if("throw"===this.unrepresentable)throw Error("Custom types cannot be represented in JSON Schema")}}}let u=this.metadataRegistry.get(e);return u&&Object.assign(l.schema,u),"input"===this.io&&a(e)&&(delete l.schema.examples,delete l.schema.default),"input"===this.io&&l.schema._prefault&&((r=l.schema).default??(r.default=l.schema._prefault)),delete l.schema._prefault,this.seen.get(e).schema}emit(e,t){let r={cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0},n=this.seen.get(e);if(!n)throw Error("Unprocessed schema. This is a bug in Zod.");let i=e=>{let t="draft-2020-12"===this.target?"$defs":"definitions";if(r.external){let n=r.external.registry.get(e[0])?.id;if(n)return{ref:r.external.uri(n)};let i=e[1].defId??e[1].schema.id??`schema${this.counter++}`;return e[1].defId=i,{defId:i,ref:`${r.external.uri("__shared")}#/${t}/${i}`}}if(e[1]===n)return{ref:"#"};let i="#",s=`${i}/${t}/`,o=e[1].schema.id??`__schema${this.counter++}`;return{defId:o,ref:s+o}},s=e=>{if(e[1].schema.$ref)return;let t=e[1],{ref:r,defId:n}=i(e);t.def={...t.schema},n&&(t.defId=n);let s=t.schema;for(let e in s)delete s[e];s.$ref=r};for(let t of this.seen.entries()){let n=t[1];if(e===t[0]){s(t);continue}if(r.external){let n=r.external.registry.get(t[0])?.id;if(e!==t[0]&&n){s(t);continue}}if(this.metadataRegistry.get(t[0])?.id){s(t);continue}if(n.cycle){if("throw"===r.cycles)throw Error(`Cycle detected: #/${n.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`);"ref"===r.cycles&&s(t);continue}if(n.count>1&&"ref"===r.reused){s(t);continue}}let o=(e,t)=>{let r=this.seen.get(e),n=r.def??r.schema,i={...n};if(null===r.ref)return;let s=r.ref;if(r.ref=null,s){o(s,t);let e=this.seen.get(s).schema;e.$ref&&"draft-7"===t.target?(n.allOf=n.allOf??[],n.allOf.push(e)):(Object.assign(n,e),Object.assign(n,i))}r.isParent||this.override({zodSchema:e,jsonSchema:n})};for(let e of[...this.seen.entries()].reverse())o(e[0],{target:this.target});let a={};"draft-2020-12"===this.target?a.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?a.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),Object.assign(a,n.def);let l=r.external?.defs??{};for(let e of this.seen.entries()){let t=e[1];t.def&&t.defId&&(l[t.defId]=t.def)}!r.external&&Object.keys(l).length>0&&("draft-2020-12"===this.target?a.$defs=l:a.definitions=l);try{return JSON.parse(JSON.stringify(a))}catch(e){throw Error("Error converting schema to JSON.")}}}function o(e,t){if(e instanceof n.$ZodRegistry){let r=new s(t),n={};for(let t of e._idmap.entries()){let[e,n]=t;r.process(n)}let i={},o={registry:e,uri:t?.uri||(e=>e),defs:n};for(let n of e._idmap.entries()){let[e,s]=n;i[e]=r.emit(s,{...t,external:o})}return Object.keys(n).length>0&&(i.__shared={["draft-2020-12"===r.target?"$defs":"definitions"]:n}),{schemas:i}}let r=new s(t);return r.process(e),r.emit(e,t)}function a(e,t){let r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);let n=e._zod.def;switch(n.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":case"custom":case"success":case"catch":return!1;case"array":return a(n.element,r);case"object":for(let e in n.shape)if(a(n.shape[e],r))return!0;return!1;case"union":for(let e of n.options)if(a(e,r))return!0;return!1;case"intersection":return a(n.left,r)||a(n.right,r);case"tuple":for(let e of n.items)if(a(e,r))return!0;if(n.rest&&a(n.rest,r))return!0;return!1;case"record":case"map":return a(n.keyType,r)||a(n.valueType,r);case"set":return a(n.valueType,r);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":case"default":case"prefault":return a(n.innerType,r);case"lazy":return a(n.getter(),r);case"transform":return!0;case"pipe":return a(n.in,r)||a(n.out,r)}throw Error(`Unknown schema type: ${n.type}`)}t.JSONSchemaGenerator=s},"./node_modules/zod/v4/core/util.cjs":function(e,t){"use strict";function r(e){return e}function n(e){return e}function i(e){}function s(e){throw Error()}function o(e){}function a(e){let t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,r])=>-1===t.indexOf(+e)).map(([e,t])=>t)}function l(e,t="|"){return e.map(e=>x(e)).join(t)}function c(e,t){return"bigint"==typeof t?t.toString():t}function u(e){let t=!1;return{get value(){if(!t){let t=e();return Object.defineProperty(this,"value",{value:t}),t}throw Error("cached value already set")}}}function d(e){return null==e}function h(e){let t=+!!e.startsWith("^"),r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function p(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}function f(e,t,r){let n=!1;Object.defineProperty(e,t,{get(){if(!n){let n=r();return e[t]=n,n}throw Error("cached value already set")},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function m(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function g(e,t){return t?t.reduce((e,t)=>e?.[t],e):e}function y(e){let t=Object.keys(e);return Promise.all(t.map(t=>e[t])).then(e=>{let r={};for(let n=0;n<t.length;n++)r[t[n]]=e[n];return r})}function _(e=10){let t="abcdefghijklmnopqrstuvwxyz",r="";for(let n=0;n<e;n++)r+=t[Math.floor(Math.random()*t.length)];return r}function v(e){return JSON.stringify(e)}function b(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function w(e){if(!1===b(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!1!==b(r)&&!1!==Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")}function j(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function S(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function k(e,t,r){let n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function E(e){let t=e;if(!t)return{};if("string"==typeof t)return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");t.error=t.message}return(delete t.message,"string"==typeof t.error)?{...t,error:()=>t.error}:t}function C(e){let t;return new Proxy({},{get:(r,n,i)=>(t??(t=e()),Reflect.get(t,n,i)),set:(r,n,i,s)=>(t??(t=e()),Reflect.set(t,n,i,s)),has:(r,n)=>(t??(t=e()),Reflect.has(t,n)),deleteProperty:(r,n)=>(t??(t=e()),Reflect.deleteProperty(t,n)),ownKeys:r=>(t??(t=e()),Reflect.ownKeys(t)),getOwnPropertyDescriptor:(r,n)=>(t??(t=e()),Reflect.getOwnPropertyDescriptor(t,n)),defineProperty:(r,n,i)=>(t??(t=e()),Reflect.defineProperty(t,n,i))})}function x(e){return"bigint"==typeof e?e.toString()+"n":"string"==typeof e?`"${e}"`:`${e}`}function T(e){return Object.keys(e).filter(t=>"optional"===e[t]._zod.optin&&"optional"===e[t]._zod.optout)}function O(e,t){let r={},n=e._zod.def;for(let e in t){if(!(e in n.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&(r[e]=n.shape[e])}return k(e,{...e._zod.def,shape:r,checks:[]})}function I(e,t){let r={...e._zod.def.shape},n=e._zod.def;for(let e in t){if(!(e in n.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&delete r[e]}return k(e,{...e._zod.def,shape:r,checks:[]})}function A(e,t){if(!w(t))throw Error("Invalid input to extend: expected a plain object");let r={...e._zod.def,get shape(){let r={...e._zod.def.shape,...t};return m(this,"shape",r),r},checks:[]};return k(e,r)}function P(e,t){return k(e,{...e._zod.def,get shape(){let r={...e._zod.def.shape,...t._zod.def.shape};return m(this,"shape",r),r},catchall:t._zod.def.catchall,checks:[]})}function R(e,t,r){let n=t._zod.def.shape,i={...n};if(r)for(let t in r){if(!(t in n))throw Error(`Unrecognized key: "${t}"`);r[t]&&(i[t]=e?new e({type:"optional",innerType:n[t]}):n[t])}else for(let t in n)i[t]=e?new e({type:"optional",innerType:n[t]}):n[t];return k(t,{...t._zod.def,shape:i,checks:[]})}function N(e,t,r){let n=t._zod.def.shape,i={...n};if(r)for(let t in r){if(!(t in i))throw Error(`Unrecognized key: "${t}"`);r[t]&&(i[t]=new e({type:"nonoptional",innerType:n[t]}))}else for(let t in n)i[t]=new e({type:"nonoptional",innerType:n[t]});return k(t,{...t._zod.def,shape:i,checks:[]})}function $(e,t=0){for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function M(e,t){return t.map(t=>{var r;return(r=t).path??(r.path=[]),t.path.unshift(e),t})}function D(e){return"string"==typeof e?e:e?.message}function L(e,t,r){let n={...e,path:e.path??[]};return e.message||(n.message=D(e.inst?._zod.def?.error?.(e))??D(t?.error?.(e))??D(r.customError?.(e))??D(r.localeError?.(e))??"Invalid input"),delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function B(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function U(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function z(...e){let[t,r,n]=e;return"string"==typeof t?{message:t,code:"custom",input:r,inst:n}:{...t}}function F(e){return Object.entries(e).filter(([e,t])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}Object.defineProperty(t,"__esModule",{value:!0}),t.Class=t.BIGINT_FORMAT_RANGES=t.NUMBER_FORMAT_RANGES=t.primitiveTypes=t.propertyKeyTypes=t.getParsedType=t.allowsEval=t.captureStackTrace=void 0,t.assertEqual=r,t.assertNotEqual=n,t.assertIs=i,t.assertNever=s,t.assert=o,t.getEnumValues=a,t.joinValues=l,t.jsonStringifyReplacer=c,t.cached=u,t.nullish=d,t.cleanRegex=h,t.floatSafeRemainder=p,t.defineLazy=f,t.assignProp=m,t.getElementAtPath=g,t.promiseAllObject=y,t.randomString=_,t.esc=v,t.isObject=b,t.isPlainObject=w,t.numKeys=j,t.escapeRegex=S,t.clone=k,t.normalizeParams=E,t.createTransparentProxy=C,t.stringifyPrimitive=x,t.optionalKeys=T,t.pick=O,t.omit=I,t.extend=A,t.merge=P,t.partial=R,t.required=N,t.aborted=$,t.prefixIssues=M,t.unwrapMessage=D,t.finalizeIssue=L,t.getSizableOrigin=B,t.getLengthableOrigin=U,t.issue=z,t.cleanEnum=F,t.captureStackTrace=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{},t.allowsEval=u(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(e){return!1}}),t.getParsedType=e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return"promise";if("undefined"!=typeof Map&&e instanceof Map)return"map";if("undefined"!=typeof Set&&e instanceof Set)return"set";if("undefined"!=typeof Date&&e instanceof Date)return"date";if("undefined"!=typeof File&&e instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${t}`)}},t.propertyKeyTypes=new Set(["string","number","symbol"]),t.primitiveTypes=new Set(["string","number","bigint","boolean","symbol","undefined"]),t.NUMBER_FORMAT_RANGES={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},t.BIGINT_FORMAT_RANGES={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};class H{constructor(...e){}}t.Class=H},"./node_modules/zod/v4/core/versions.cjs":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version={major:4,minor:0,patch:0}},"./node_modules/zod/v4/locales/ar.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"حرف",verb:"أن يحوي"},file:{unit:"بايت",verb:"أن يحوي"},array:{unit:"عنصر",verb:"أن يحوي"},set:{unit:"عنصر",verb:"أن يحوي"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"مدخل",email:"بريد إلكتروني",url:"رابط",emoji:"إيموجي",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"تاريخ ووقت بمعيار ISO",date:"تاريخ بمعيار ISO",time:"وقت بمعيار ISO",duration:"مدة بمعيار ISO",ipv4:"عنوان IPv4",ipv6:"عنوان IPv6",cidrv4:"مدى عناوين بصيغة IPv4",cidrv6:"مدى عناوين بصيغة IPv6",base64:"نَص بترميز base64-encoded",base64url:"نَص بترميز base64url-encoded",json_string:"نَص على هيئة JSON",e164:"رقم هاتف بمعيار E.164",jwt:"JWT",template_literal:"مدخل"};return e=>{switch(e.code){case"invalid_type":return`مدخلات غير مقبولة: يفترض إدخال ${e.expected}، ولكن تم إدخال ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`مدخلات غير مقبولة: يفترض إدخال ${o.stringifyPrimitive(e.values[0])}`;return`اختيار غير مقبول: يتوقع انتقاء أحد هذه الخيارات: ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return` أكبر من اللازم: يفترض أن تكون ${e.origin??"القيمة"} ${r} ${e.maximum.toString()} ${n.unit??"عنصر"}`;return`أكبر من اللازم: يفترض أن تكون ${e.origin??"القيمة"} ${r} ${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`أصغر من اللازم: يفترض لـ ${e.origin} أن يكون ${r} ${e.minimum.toString()} ${n.unit}`;return`أصغر من اللازم: يفترض لـ ${e.origin} أن يكون ${r} ${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`نَص غير مقبول: يجب أن يبدأ بـ "${e.prefix}"`;if("ends_with"===t.format)return`نَص غير مقبول: يجب أن ينتهي بـ "${t.suffix}"`;if("includes"===t.format)return`نَص غير مقبول: يجب أن يتضمَّن "${t.includes}"`;if("regex"===t.format)return`نَص غير مقبول: يجب أن يطابق النمط ${t.pattern}`;return`${n[t.format]??e.format} غير مقبول`}case"not_multiple_of":return`رقم غير مقبول: يجب أن يكون من مضاعفات ${e.divisor}`;case"unrecognized_keys":return`معرف${e.keys.length>1?"ات":""} غريب${e.keys.length>1?"ة":""}: ${o.joinValues(e.keys,"، ")}`;case"invalid_key":return`معرف غير مقبول في ${e.origin}`;case"invalid_union":default:return"مدخل غير مقبول";case"invalid_element":return`مدخل غير مقبول في ${e.origin}`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/az.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"simvol",verb:"olmalıdır"},file:{unit:"bayt",verb:"olmalıdır"},array:{unit:"element",verb:"olmalıdır"},set:{unit:"element",verb:"olmalıdır"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Yanlış dəyər: g\xf6zlənilən ${e.expected}, daxil olan ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Yanlış dəyər: g\xf6zlənilən ${o.stringifyPrimitive(e.values[0])}`;return`Yanlış se\xe7im: aşağıdakılardan biri olmalıdır: ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`\xc7ox b\xf6y\xfck: g\xf6zlənilən ${e.origin??"dəyər"} ${r}${e.maximum.toString()} ${n.unit??"element"}`;return`\xc7ox b\xf6y\xfck: g\xf6zlənilən ${e.origin??"dəyər"} ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`\xc7ox ki\xe7ik: g\xf6zlənilən ${e.origin} ${r}${e.minimum.toString()} ${n.unit}`;return`\xc7ox ki\xe7ik: g\xf6zlənilən ${e.origin} ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Yanlış mətn: "${t.prefix}" ilə başlamalıdır`;if("ends_with"===t.format)return`Yanlış mətn: "${t.suffix}" ilə bitməlidir`;if("includes"===t.format)return`Yanlış mətn: "${t.includes}" daxil olmalıdır`;if("regex"===t.format)return`Yanlış mətn: ${t.pattern} şablonuna uyğun olmalıdır`;return`Yanlış ${n[t.format]??e.format}`}case"not_multiple_of":return`Yanlış ədəd: ${e.divisor} ilə b\xf6l\xfcnə bilən olmalıdır`;case"unrecognized_keys":return`Tanınmayan a\xe7ar${e.keys.length>1?"lar":""}: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`${e.origin} daxilində yanlış a\xe7ar`;case"invalid_union":return"Yanlış dəyər";case"invalid_element":return`${e.origin} daxilində yanlış dəyər`;default:return`Yanlış dəyər`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/be.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;let o=s(r("./node_modules/zod/v4/core/util.cjs"));function a(e,t,r,n){let i=Math.abs(e),s=i%10,o=i%100;return o>=11&&o<=19?n:1===s?t:s>=2&&s<=4?r:n}let l=()=>{let e={string:{unit:{one:"сімвал",few:"сімвалы",many:"сімвалаў"},verb:"мець"},array:{unit:{one:"элемент",few:"элементы",many:"элементаў"},verb:"мець"},set:{unit:{one:"элемент",few:"элементы",many:"элементаў"},verb:"мець"},file:{unit:{one:"байт",few:"байты",many:"байтаў"},verb:"мець"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"лік";case"object":if(Array.isArray(e))return"масіў";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"увод",email:"email адрас",url:"URL",emoji:"эмодзі",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO дата і час",date:"ISO дата",time:"ISO час",duration:"ISO працягласць",ipv4:"IPv4 адрас",ipv6:"IPv6 адрас",cidrv4:"IPv4 дыяпазон",cidrv6:"IPv6 дыяпазон",base64:"радок у фармаце base64",base64url:"радок у фармаце base64url",json_string:"JSON радок",e164:"нумар E.164",jwt:"JWT",template_literal:"увод"};return e=>{switch(e.code){case"invalid_type":return`Няправільны ўвод: чакаўся ${e.expected}, атрымана ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Няправільны ўвод: чакалася ${o.stringifyPrimitive(e.values[0])}`;return`Няправільны варыянт: чакаўся адзін з ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n){let t=a(Number(e.maximum),n.unit.one,n.unit.few,n.unit.many);return`Занадта вялікі: чакалася, што ${e.origin??"значэнне"} павінна ${n.verb} ${r}${e.maximum.toString()} ${t}`}return`Занадта вялікі: чакалася, што ${e.origin??"значэнне"} павінна быць ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n){let t=a(Number(e.minimum),n.unit.one,n.unit.few,n.unit.many);return`Занадта малы: чакалася, што ${e.origin} павінна ${n.verb} ${r}${e.minimum.toString()} ${t}`}return`Занадта малы: чакалася, што ${e.origin} павінна быць ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Няправільны радок: павінен пачынацца з "${t.prefix}"`;if("ends_with"===t.format)return`Няправільны радок: павінен заканчвацца на "${t.suffix}"`;if("includes"===t.format)return`Няправільны радок: павінен змяшчаць "${t.includes}"`;if("regex"===t.format)return`Няправільны радок: павінен адпавядаць шаблону ${t.pattern}`;return`Няправільны ${n[t.format]??e.format}`}case"not_multiple_of":return`Няправільны лік: павінен быць кратным ${e.divisor}`;case"unrecognized_keys":return`Нераспазнаны ${e.keys.length>1?"ключы":"ключ"}: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`Няправільны ключ у ${e.origin}`;case"invalid_union":return"Няправільны ўвод";case"invalid_element":return`Няправільнае значэнне ў ${e.origin}`;default:return`Няправільны ўвод`}}};function c(){return{localeError:l()}}},"./node_modules/zod/v4/locales/ca.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"car\xe0cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"entrada",email:"adre\xe7a electr\xf2nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adre\xe7a IPv4",ipv6:"adre\xe7a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"n\xfamero E.164",jwt:"JWT",template_literal:"entrada"};return e=>{switch(e.code){case"invalid_type":return`Tipus inv\xe0lid: s'esperava ${e.expected}, s'ha rebut ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Valor inv\xe0lid: s'esperava ${o.stringifyPrimitive(e.values[0])}`;return`Opci\xf3 inv\xe0lida: s'esperava una de ${o.joinValues(e.values," o ")}`;case"too_big":{let r=e.inclusive?"com a m\xe0xim":"menys de",n=t(e.origin);if(n)return`Massa gran: s'esperava que ${e.origin??"el valor"} contingu\xe9s ${r} ${e.maximum.toString()} ${n.unit??"elements"}`;return`Massa gran: s'esperava que ${e.origin??"el valor"} fos ${r} ${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?"com a m\xednim":"m\xe9s de",n=t(e.origin);if(n)return`Massa petit: s'esperava que ${e.origin} contingu\xe9s ${r} ${e.minimum.toString()} ${n.unit}`;return`Massa petit: s'esperava que ${e.origin} fos ${r} ${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Format inv\xe0lid: ha de comen\xe7ar amb "${t.prefix}"`;if("ends_with"===t.format)return`Format inv\xe0lid: ha d'acabar amb "${t.suffix}"`;if("includes"===t.format)return`Format inv\xe0lid: ha d'incloure "${t.includes}"`;if("regex"===t.format)return`Format inv\xe0lid: ha de coincidir amb el patr\xf3 ${t.pattern}`;return`Format inv\xe0lid per a ${n[t.format]??e.format}`}case"not_multiple_of":return`N\xfamero inv\xe0lid: ha de ser m\xfaltiple de ${e.divisor}`;case"unrecognized_keys":return`Clau${e.keys.length>1?"s":""} no reconeguda${e.keys.length>1?"s":""}: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`Clau inv\xe0lida a ${e.origin}`;case"invalid_union":return"Entrada inv\xe0lida";case"invalid_element":return`Element inv\xe0lid a ${e.origin}`;default:return`Entrada inv\xe0lida`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/cs.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"znaků",verb:"m\xedt"},file:{unit:"bajtů",verb:"m\xedt"},array:{unit:"prvků",verb:"m\xedt"},set:{unit:"prvků",verb:"m\xedt"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"č\xedslo";case"string":return"řetězec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":if(Array.isArray(e))return"pole";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"regul\xe1rn\xed v\xfdraz",email:"e-mailov\xe1 adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a čas ve form\xe1tu ISO",date:"datum ve form\xe1tu ISO",time:"čas ve form\xe1tu ISO",duration:"doba trv\xe1n\xed ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"řetězec zak\xf3dovan\xfd ve form\xe1tu base64",base64url:"řetězec zak\xf3dovan\xfd ve form\xe1tu base64url",json_string:"řetězec ve form\xe1tu JSON",e164:"č\xedslo E.164",jwt:"JWT",template_literal:"vstup"};return e=>{switch(e.code){case"invalid_type":return`Neplatn\xfd vstup: oček\xe1v\xe1no ${e.expected}, obdrženo ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Neplatn\xfd vstup: oček\xe1v\xe1no ${o.stringifyPrimitive(e.values[0])}`;return`Neplatn\xe1 možnost: oček\xe1v\xe1na jedna z hodnot ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`Hodnota je př\xedliš velk\xe1: ${e.origin??"hodnota"} mus\xed m\xedt ${r}${e.maximum.toString()} ${n.unit??"prvků"}`;return`Hodnota je př\xedliš velk\xe1: ${e.origin??"hodnota"} mus\xed b\xfdt ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`Hodnota je př\xedliš mal\xe1: ${e.origin??"hodnota"} mus\xed m\xedt ${r}${e.minimum.toString()} ${n.unit??"prvků"}`;return`Hodnota je př\xedliš mal\xe1: ${e.origin??"hodnota"} mus\xed b\xfdt ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Neplatn\xfd řetězec: mus\xed zač\xednat na "${t.prefix}"`;if("ends_with"===t.format)return`Neplatn\xfd řetězec: mus\xed končit na "${t.suffix}"`;if("includes"===t.format)return`Neplatn\xfd řetězec: mus\xed obsahovat "${t.includes}"`;if("regex"===t.format)return`Neplatn\xfd řetězec: mus\xed odpov\xeddat vzoru ${t.pattern}`;return`Neplatn\xfd form\xe1t ${n[t.format]??e.format}`}case"not_multiple_of":return`Neplatn\xe9 č\xedslo: mus\xed b\xfdt n\xe1sobkem ${e.divisor}`;case"unrecognized_keys":return`Nezn\xe1m\xe9 kl\xedče: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`Neplatn\xfd kl\xedč v ${e.origin}`;case"invalid_union":return"Neplatn\xfd vstup";case"invalid_element":return`Neplatn\xe1 hodnota v ${e.origin}`;default:return`Neplatn\xfd vstup`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/de.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"Zahl";case"object":if(Array.isArray(e))return"Array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return e=>{switch(e.code){case"invalid_type":return`Ung\xfcltige Eingabe: erwartet ${e.expected}, erhalten ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Ung\xfcltige Eingabe: erwartet ${o.stringifyPrimitive(e.values[0])}`;return`Ung\xfcltige Option: erwartet eine von ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`Zu gro\xdf: erwartet, dass ${e.origin??"Wert"} ${r}${e.maximum.toString()} ${n.unit??"Elemente"} hat`;return`Zu gro\xdf: erwartet, dass ${e.origin??"Wert"} ${r}${e.maximum.toString()} ist`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`Zu klein: erwartet, dass ${e.origin} ${r}${e.minimum.toString()} ${n.unit} hat`;return`Zu klein: erwartet, dass ${e.origin} ${r}${e.minimum.toString()} ist`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Ung\xfcltiger String: muss mit "${t.prefix}" beginnen`;if("ends_with"===t.format)return`Ung\xfcltiger String: muss mit "${t.suffix}" enden`;if("includes"===t.format)return`Ung\xfcltiger String: muss "${t.includes}" enthalten`;if("regex"===t.format)return`Ung\xfcltiger String: muss dem Muster ${t.pattern} entsprechen`;return`Ung\xfcltig: ${n[t.format]??e.format}`}case"not_multiple_of":return`Ung\xfcltige Zahl: muss ein Vielfaches von ${e.divisor} sein`;case"unrecognized_keys":return`${e.keys.length>1?"Unbekannte Schl\xfcssel":"Unbekannter Schl\xfcssel"}: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`Ung\xfcltiger Schl\xfcssel in ${e.origin}`;case"invalid_union":return"Ung\xfcltige Eingabe";case"invalid_element":return`Ung\xfcltiger Wert in ${e.origin}`;default:return`Ung\xfcltige Eingabe`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/en.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.parsedType=void 0,t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs"));t.parsedType=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t};let a=()=>{let e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function r(t){return e[t]??null}let n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Invalid input: expected ${e.expected}, received ${(0,t.parsedType)(e.input)}`;case"invalid_value":if(1===e.values.length)return`Invalid input: expected ${o.stringifyPrimitive(e.values[0])}`;return`Invalid option: expected one of ${o.joinValues(e.values,"|")}`;case"too_big":{let t=e.inclusive?"<=":"<",n=r(e.origin);if(n)return`Too big: expected ${e.origin??"value"} to have ${t}${e.maximum.toString()} ${n.unit??"elements"}`;return`Too big: expected ${e.origin??"value"} to be ${t}${e.maximum.toString()}`}case"too_small":{let t=e.inclusive?">=":">",n=r(e.origin);if(n)return`Too small: expected ${e.origin} to have ${t}${e.minimum.toString()} ${n.unit}`;return`Too small: expected ${e.origin} to be ${t}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Invalid string: must start with "${t.prefix}"`;if("ends_with"===t.format)return`Invalid string: must end with "${t.suffix}"`;if("includes"===t.format)return`Invalid string: must include "${t.includes}"`;if("regex"===t.format)return`Invalid string: must match pattern ${t.pattern}`;return`Invalid ${n[t.format]??e.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${e.divisor}`;case"unrecognized_keys":return`Unrecognized key${e.keys.length>1?"s":""}: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`Invalid key in ${e.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${e.origin}`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/es.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"n\xfamero";case"object":if(Array.isArray(e))return"arreglo";if(null===e)return"nulo";if(Object.getPrototypeOf(e)!==Object.prototype)return e.constructor.name}return t},n={regex:"entrada",email:"direcci\xf3n de correo electr\xf3nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraci\xf3n ISO",ipv4:"direcci\xf3n IPv4",ipv6:"direcci\xf3n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"n\xfamero E.164",jwt:"JWT",template_literal:"entrada"};return e=>{switch(e.code){case"invalid_type":return`Entrada inv\xe1lida: se esperaba ${e.expected}, recibido ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Entrada inv\xe1lida: se esperaba ${o.stringifyPrimitive(e.values[0])}`;return`Opci\xf3n inv\xe1lida: se esperaba una de ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`Demasiado grande: se esperaba que ${e.origin??"valor"} tuviera ${r}${e.maximum.toString()} ${n.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${e.origin??"valor"} fuera ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`Demasiado peque\xf1o: se esperaba que ${e.origin} tuviera ${r}${e.minimum.toString()} ${n.unit}`;return`Demasiado peque\xf1o: se esperaba que ${e.origin} fuera ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Cadena inv\xe1lida: debe comenzar con "${t.prefix}"`;if("ends_with"===t.format)return`Cadena inv\xe1lida: debe terminar en "${t.suffix}"`;if("includes"===t.format)return`Cadena inv\xe1lida: debe incluir "${t.includes}"`;if("regex"===t.format)return`Cadena inv\xe1lida: debe coincidir con el patr\xf3n ${t.pattern}`;return`Inv\xe1lido ${n[t.format]??e.format}`}case"not_multiple_of":return`N\xfamero inv\xe1lido: debe ser m\xfaltiplo de ${e.divisor}`;case"unrecognized_keys":return`Llave${e.keys.length>1?"s":""} desconocida${e.keys.length>1?"s":""}: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`Llave inv\xe1lida en ${e.origin}`;case"invalid_union":return"Entrada inv\xe1lida";case"invalid_element":return`Valor inv\xe1lido en ${e.origin}`;default:return`Entrada inv\xe1lida`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/fa.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"کاراکتر",verb:"داشته باشد"},file:{unit:"بایت",verb:"داشته باشد"},array:{unit:"آیتم",verb:"داشته باشد"},set:{unit:"آیتم",verb:"داشته باشد"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"عدد";case"object":if(Array.isArray(e))return"آرایه";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"ورودی",email:"آدرس ایمیل",url:"URL",emoji:"ایموجی",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"تاریخ و زمان ایزو",date:"تاریخ ایزو",time:"زمان ایزو",duration:"مدت زمان ایزو",ipv4:"IPv4 آدرس",ipv6:"IPv6 آدرس",cidrv4:"IPv4 دامنه",cidrv6:"IPv6 دامنه",base64:"base64-encoded رشته",base64url:"base64url-encoded رشته",json_string:"JSON رشته",e164:"E.164 عدد",jwt:"JWT",template_literal:"ورودی"};return e=>{switch(e.code){case"invalid_type":return`ورودی نامعتبر: می‌بایست ${e.expected} می‌بود، ${r(e.input)} دریافت شد`;case"invalid_value":if(1===e.values.length)return`ورودی نامعتبر: می‌بایست ${o.stringifyPrimitive(e.values[0])} می‌بود`;return`گزینه نامعتبر: می‌بایست یکی از ${o.joinValues(e.values,"|")} می‌بود`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`خیلی بزرگ: ${e.origin??"مقدار"} باید ${r}${e.maximum.toString()} ${n.unit??"عنصر"} باشد`;return`خیلی بزرگ: ${e.origin??"مقدار"} باید ${r}${e.maximum.toString()} باشد`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`خیلی کوچک: ${e.origin} باید ${r}${e.minimum.toString()} ${n.unit} باشد`;return`خیلی کوچک: ${e.origin} باید ${r}${e.minimum.toString()} باشد`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`رشته نامعتبر: باید با "${t.prefix}" شروع شود`;if("ends_with"===t.format)return`رشته نامعتبر: باید با "${t.suffix}" تمام شود`;if("includes"===t.format)return`رشته نامعتبر: باید شامل "${t.includes}" باشد`;if("regex"===t.format)return`رشته نامعتبر: باید با الگوی ${t.pattern} مطابقت داشته باشد`;return`${n[t.format]??e.format} نامعتبر`}case"not_multiple_of":return`عدد نامعتبر: باید مضرب ${e.divisor} باشد`;case"unrecognized_keys":return`کلید${e.keys.length>1?"های":""} ناشناس: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`کلید ناشناس در ${e.origin}`;case"invalid_union":default:return`ورودی نامعتبر`;case"invalid_element":return`مقدار نامعتبر در ${e.origin}`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/fi.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"merkki\xe4",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"p\xe4iv\xe4m\xe4\xe4r\xe4n"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"s\xe4\xe4nn\xf6llinen lauseke",email:"s\xe4hk\xf6postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-p\xe4iv\xe4m\xe4\xe4r\xe4",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return e=>{switch(e.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${e.expected}, oli ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Virheellinen sy\xf6te: t\xe4ytyy olla ${o.stringifyPrimitive(e.values[0])}`;return`Virheellinen valinta: t\xe4ytyy olla yksi seuraavista: ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`Liian suuri: ${n.subject} t\xe4ytyy olla ${r}${e.maximum.toString()} ${n.unit}`.trim();return`Liian suuri: arvon t\xe4ytyy olla ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`Liian pieni: ${n.subject} t\xe4ytyy olla ${r}${e.minimum.toString()} ${n.unit}`.trim();return`Liian pieni: arvon t\xe4ytyy olla ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Virheellinen sy\xf6te: t\xe4ytyy alkaa "${t.prefix}"`;if("ends_with"===t.format)return`Virheellinen sy\xf6te: t\xe4ytyy loppua "${t.suffix}"`;if("includes"===t.format)return`Virheellinen sy\xf6te: t\xe4ytyy sis\xe4lt\xe4\xe4 "${t.includes}"`;if("regex"===t.format)return`Virheellinen sy\xf6te: t\xe4ytyy vastata s\xe4\xe4nn\xf6llist\xe4 lauseketta ${t.pattern}`;return`Virheellinen ${n[t.format]??e.format}`}case"not_multiple_of":return`Virheellinen luku: t\xe4ytyy olla luvun ${e.divisor} monikerta`;case"unrecognized_keys":return`${e.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return`Virheellinen sy\xf6te`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/fr-CA.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"caract\xe8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xe9l\xe9ments",verb:"avoir"},set:{unit:"\xe9l\xe9ments",verb:"avoir"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"entr\xe9e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xe9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xeene encod\xe9e en base64",base64url:"cha\xeene encod\xe9e en base64url",json_string:"cha\xeene JSON",e164:"num\xe9ro E.164",jwt:"JWT",template_literal:"entr\xe9e"};return e=>{switch(e.code){case"invalid_type":return`Entr\xe9e invalide : attendu ${e.expected}, re\xe7u ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Entr\xe9e invalide : attendu ${o.stringifyPrimitive(e.values[0])}`;return`Option invalide : attendu l'une des valeurs suivantes ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"≤":"<",n=t(e.origin);if(n)return`Trop grand : attendu que ${e.origin??"la valeur"} ait ${r}${e.maximum.toString()} ${n.unit}`;return`Trop grand : attendu que ${e.origin??"la valeur"} soit ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?"≥":">",n=t(e.origin);if(n)return`Trop petit : attendu que ${e.origin} ait ${r}${e.minimum.toString()} ${n.unit}`;return`Trop petit : attendu que ${e.origin} soit ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Cha\xeene invalide : doit commencer par "${t.prefix}"`;if("ends_with"===t.format)return`Cha\xeene invalide : doit se terminer par "${t.suffix}"`;if("includes"===t.format)return`Cha\xeene invalide : doit inclure "${t.includes}"`;if("regex"===t.format)return`Cha\xeene invalide : doit correspondre au motif ${t.pattern}`;return`${n[t.format]??e.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${e.divisor}`;case"unrecognized_keys":return`Cl\xe9${e.keys.length>1?"s":""} non reconnue${e.keys.length>1?"s":""} : ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${e.origin}`;case"invalid_union":return"Entr\xe9e invalide";case"invalid_element":return`Valeur invalide dans ${e.origin}`;default:return`Entr\xe9e invalide`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/fr.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"caract\xe8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xe9l\xe9ments",verb:"avoir"},set:{unit:"\xe9l\xe9ments",verb:"avoir"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombre";case"object":if(Array.isArray(e))return"tableau";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"entr\xe9e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xe9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xeene encod\xe9e en base64",base64url:"cha\xeene encod\xe9e en base64url",json_string:"cha\xeene JSON",e164:"num\xe9ro E.164",jwt:"JWT",template_literal:"entr\xe9e"};return e=>{switch(e.code){case"invalid_type":return`Entr\xe9e invalide : ${e.expected} attendu, ${r(e.input)} re\xe7u`;case"invalid_value":if(1===e.values.length)return`Entr\xe9e invalide : ${o.stringifyPrimitive(e.values[0])} attendu`;return`Option invalide : une valeur parmi ${o.joinValues(e.values,"|")} attendue`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`Trop grand : ${e.origin??"valeur"} doit ${n.verb} ${r}${e.maximum.toString()} ${n.unit??"\xe9l\xe9ment(s)"}`;return`Trop grand : ${e.origin??"valeur"} doit \xeatre ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`Trop petit : ${e.origin} doit ${n.verb} ${r}${e.minimum.toString()} ${n.unit}`;return`Trop petit : ${e.origin} doit \xeatre ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Cha\xeene invalide : doit commencer par "${t.prefix}"`;if("ends_with"===t.format)return`Cha\xeene invalide : doit se terminer par "${t.suffix}"`;if("includes"===t.format)return`Cha\xeene invalide : doit inclure "${t.includes}"`;if("regex"===t.format)return`Cha\xeene invalide : doit correspondre au mod\xe8le ${t.pattern}`;return`${n[t.format]??e.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${e.divisor}`;case"unrecognized_keys":return`Cl\xe9${e.keys.length>1?"s":""} non reconnue${e.keys.length>1?"s":""} : ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${e.origin}`;case"invalid_union":return"Entr\xe9e invalide";case"invalid_element":return`Valeur invalide dans ${e.origin}`;default:return`Entr\xe9e invalide`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/he.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"אותיות",verb:"לכלול"},file:{unit:"בייטים",verb:"לכלול"},array:{unit:"פריטים",verb:"לכלול"},set:{unit:"פריטים",verb:"לכלול"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"קלט",email:"כתובת אימייל",url:"כתובת רשת",emoji:"אימוג'י",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"תאריך וזמן ISO",date:"תאריך ISO",time:"זמן ISO",duration:"משך זמן ISO",ipv4:"כתובת IPv4",ipv6:"כתובת IPv6",cidrv4:"טווח IPv4",cidrv6:"טווח IPv6",base64:"מחרוזת בבסיס 64",base64url:"מחרוזת בבסיס 64 לכתובות רשת",json_string:"מחרוזת JSON",e164:"מספר E.164",jwt:"JWT",template_literal:"קלט"};return e=>{switch(e.code){case"invalid_type":return`קלט לא תקין: צריך ${e.expected}, התקבל ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`קלט לא תקין: צריך ${o.stringifyPrimitive(e.values[0])}`;return`קלט לא תקין: צריך אחת מהאפשרויות  ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`גדול מדי: ${e.origin??"value"} צריך להיות ${r}${e.maximum.toString()} ${n.unit??"elements"}`;return`גדול מדי: ${e.origin??"value"} צריך להיות ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`קטן מדי: ${e.origin} צריך להיות ${r}${e.minimum.toString()} ${n.unit}`;return`קטן מדי: ${e.origin} צריך להיות ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`מחרוזת לא תקינה: חייבת להתחיל ב"${t.prefix}"`;if("ends_with"===t.format)return`מחרוזת לא תקינה: חייבת להסתיים ב "${t.suffix}"`;if("includes"===t.format)return`מחרוזת לא תקינה: חייבת לכלול "${t.includes}"`;if("regex"===t.format)return`מחרוזת לא תקינה: חייבת להתאים לתבנית ${t.pattern}`;return`${n[t.format]??e.format} לא תקין`}case"not_multiple_of":return`מספר לא תקין: חייב להיות מכפלה של ${e.divisor}`;case"unrecognized_keys":return`מפתח${e.keys.length>1?"ות":""} לא מזוה${e.keys.length>1?"ים":"ה"}: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`מפתח לא תקין ב${e.origin}`;case"invalid_union":return"קלט לא תקין";case"invalid_element":return`ערך לא תקין ב${e.origin}`;default:return`קלט לא תקין`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/hu.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"sz\xe1m";case"object":if(Array.isArray(e))return"t\xf6mb";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"bemenet",email:"email c\xedm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO időb\xe9lyeg",date:"ISO d\xe1tum",time:"ISO idő",duration:"ISO időintervallum",ipv4:"IPv4 c\xedm",ipv6:"IPv6 c\xedm",cidrv4:"IPv4 tartom\xe1ny",cidrv6:"IPv6 tartom\xe1ny",base64:"base64-k\xf3dolt string",base64url:"base64url-k\xf3dolt string",json_string:"JSON string",e164:"E.164 sz\xe1m",jwt:"JWT",template_literal:"bemenet"};return e=>{switch(e.code){case"invalid_type":return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${e.expected}, a kapott \xe9rt\xe9k ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${o.stringifyPrimitive(e.values[0])}`;return`\xc9rv\xe9nytelen opci\xf3: valamelyik \xe9rt\xe9k v\xe1rt ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`T\xfal nagy: ${e.origin??"\xe9rt\xe9k"} m\xe9rete t\xfal nagy ${r}${e.maximum.toString()} ${n.unit??"elem"}`;return`T\xfal nagy: a bemeneti \xe9rt\xe9k ${e.origin??"\xe9rt\xe9k"} t\xfal nagy: ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${e.origin} m\xe9rete t\xfal kicsi ${r}${e.minimum.toString()} ${n.unit}`;return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${e.origin} t\xfal kicsi ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`\xc9rv\xe9nytelen string: "${t.prefix}" \xe9rt\xe9kkel kell kezdődnie`;if("ends_with"===t.format)return`\xc9rv\xe9nytelen string: "${t.suffix}" \xe9rt\xe9kkel kell v\xe9gződnie`;if("includes"===t.format)return`\xc9rv\xe9nytelen string: "${t.includes}" \xe9rt\xe9ket kell tartalmaznia`;if("regex"===t.format)return`\xc9rv\xe9nytelen string: ${t.pattern} mint\xe1nak kell megfelelnie`;return`\xc9rv\xe9nytelen ${n[t.format]??e.format}`}case"not_multiple_of":return`\xc9rv\xe9nytelen sz\xe1m: ${e.divisor} t\xf6bbsz\xf6r\xf6s\xe9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${e.keys.length>1?"s":""}: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`\xc9rv\xe9nytelen kulcs ${e.origin}`;case"invalid_union":return"\xc9rv\xe9nytelen bemenet";case"invalid_element":return`\xc9rv\xe9nytelen \xe9rt\xe9k: ${e.origin}`;default:return`\xc9rv\xe9nytelen bemenet`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/id.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Input tidak valid: diharapkan ${e.expected}, diterima ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Input tidak valid: diharapkan ${o.stringifyPrimitive(e.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`Terlalu besar: diharapkan ${e.origin??"value"} memiliki ${r}${e.maximum.toString()} ${n.unit??"elemen"}`;return`Terlalu besar: diharapkan ${e.origin??"value"} menjadi ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`Terlalu kecil: diharapkan ${e.origin} memiliki ${r}${e.minimum.toString()} ${n.unit}`;return`Terlalu kecil: diharapkan ${e.origin} menjadi ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`String tidak valid: harus dimulai dengan "${t.prefix}"`;if("ends_with"===t.format)return`String tidak valid: harus berakhir dengan "${t.suffix}"`;if("includes"===t.format)return`String tidak valid: harus menyertakan "${t.includes}"`;if("regex"===t.format)return`String tidak valid: harus sesuai pola ${t.pattern}`;return`${n[t.format]??e.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${e.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${e.keys.length>1?"s":""}: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${e.origin}`;case"invalid_union":default:return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${e.origin}`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/index.cjs":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.zhTW=t.zhCN=t.vi=t.ur=t.ua=t.tr=t.th=t.ta=t.sv=t.sl=t.ru=t.pt=t.pl=t.ps=t.ota=t.no=t.nl=t.ms=t.mk=t.ko=t.kh=t.ja=t.it=t.id=t.hu=t.he=t.frCA=t.fr=t.fi=t.fa=t.es=t.en=t.de=t.cs=t.ca=t.be=t.az=t.ar=void 0;var i=r("./node_modules/zod/v4/locales/ar.cjs");Object.defineProperty(t,"ar",{enumerable:!0,get:function(){return n(i).default}});var s=r("./node_modules/zod/v4/locales/az.cjs");Object.defineProperty(t,"az",{enumerable:!0,get:function(){return n(s).default}});var o=r("./node_modules/zod/v4/locales/be.cjs");Object.defineProperty(t,"be",{enumerable:!0,get:function(){return n(o).default}});var a=r("./node_modules/zod/v4/locales/ca.cjs");Object.defineProperty(t,"ca",{enumerable:!0,get:function(){return n(a).default}});var l=r("./node_modules/zod/v4/locales/cs.cjs");Object.defineProperty(t,"cs",{enumerable:!0,get:function(){return n(l).default}});var c=r("./node_modules/zod/v4/locales/de.cjs");Object.defineProperty(t,"de",{enumerable:!0,get:function(){return n(c).default}});var u=r("./node_modules/zod/v4/locales/en.cjs");Object.defineProperty(t,"en",{enumerable:!0,get:function(){return n(u).default}});var d=r("./node_modules/zod/v4/locales/es.cjs");Object.defineProperty(t,"es",{enumerable:!0,get:function(){return n(d).default}});var h=r("./node_modules/zod/v4/locales/fa.cjs");Object.defineProperty(t,"fa",{enumerable:!0,get:function(){return n(h).default}});var p=r("./node_modules/zod/v4/locales/fi.cjs");Object.defineProperty(t,"fi",{enumerable:!0,get:function(){return n(p).default}});var f=r("./node_modules/zod/v4/locales/fr.cjs");Object.defineProperty(t,"fr",{enumerable:!0,get:function(){return n(f).default}});var m=r("./node_modules/zod/v4/locales/fr-CA.cjs");Object.defineProperty(t,"frCA",{enumerable:!0,get:function(){return n(m).default}});var g=r("./node_modules/zod/v4/locales/he.cjs");Object.defineProperty(t,"he",{enumerable:!0,get:function(){return n(g).default}});var y=r("./node_modules/zod/v4/locales/hu.cjs");Object.defineProperty(t,"hu",{enumerable:!0,get:function(){return n(y).default}});var _=r("./node_modules/zod/v4/locales/id.cjs");Object.defineProperty(t,"id",{enumerable:!0,get:function(){return n(_).default}});var v=r("./node_modules/zod/v4/locales/it.cjs");Object.defineProperty(t,"it",{enumerable:!0,get:function(){return n(v).default}});var b=r("./node_modules/zod/v4/locales/ja.cjs");Object.defineProperty(t,"ja",{enumerable:!0,get:function(){return n(b).default}});var w=r("./node_modules/zod/v4/locales/kh.cjs");Object.defineProperty(t,"kh",{enumerable:!0,get:function(){return n(w).default}});var j=r("./node_modules/zod/v4/locales/ko.cjs");Object.defineProperty(t,"ko",{enumerable:!0,get:function(){return n(j).default}});var S=r("./node_modules/zod/v4/locales/mk.cjs");Object.defineProperty(t,"mk",{enumerable:!0,get:function(){return n(S).default}});var k=r("./node_modules/zod/v4/locales/ms.cjs");Object.defineProperty(t,"ms",{enumerable:!0,get:function(){return n(k).default}});var E=r("./node_modules/zod/v4/locales/nl.cjs");Object.defineProperty(t,"nl",{enumerable:!0,get:function(){return n(E).default}});var C=r("./node_modules/zod/v4/locales/no.cjs");Object.defineProperty(t,"no",{enumerable:!0,get:function(){return n(C).default}});var x=r("./node_modules/zod/v4/locales/ota.cjs");Object.defineProperty(t,"ota",{enumerable:!0,get:function(){return n(x).default}});var T=r("./node_modules/zod/v4/locales/ps.cjs");Object.defineProperty(t,"ps",{enumerable:!0,get:function(){return n(T).default}});var O=r("./node_modules/zod/v4/locales/pl.cjs");Object.defineProperty(t,"pl",{enumerable:!0,get:function(){return n(O).default}});var I=r("./node_modules/zod/v4/locales/pt.cjs");Object.defineProperty(t,"pt",{enumerable:!0,get:function(){return n(I).default}});var A=r("./node_modules/zod/v4/locales/ru.cjs");Object.defineProperty(t,"ru",{enumerable:!0,get:function(){return n(A).default}});var P=r("./node_modules/zod/v4/locales/sl.cjs");Object.defineProperty(t,"sl",{enumerable:!0,get:function(){return n(P).default}});var R=r("./node_modules/zod/v4/locales/sv.cjs");Object.defineProperty(t,"sv",{enumerable:!0,get:function(){return n(R).default}});var N=r("./node_modules/zod/v4/locales/ta.cjs");Object.defineProperty(t,"ta",{enumerable:!0,get:function(){return n(N).default}});var $=r("./node_modules/zod/v4/locales/th.cjs");Object.defineProperty(t,"th",{enumerable:!0,get:function(){return n($).default}});var M=r("./node_modules/zod/v4/locales/tr.cjs");Object.defineProperty(t,"tr",{enumerable:!0,get:function(){return n(M).default}});var D=r("./node_modules/zod/v4/locales/ua.cjs");Object.defineProperty(t,"ua",{enumerable:!0,get:function(){return n(D).default}});var L=r("./node_modules/zod/v4/locales/ur.cjs");Object.defineProperty(t,"ur",{enumerable:!0,get:function(){return n(L).default}});var B=r("./node_modules/zod/v4/locales/vi.cjs");Object.defineProperty(t,"vi",{enumerable:!0,get:function(){return n(B).default}});var U=r("./node_modules/zod/v4/locales/zh-CN.cjs");Object.defineProperty(t,"zhCN",{enumerable:!0,get:function(){return n(U).default}});var z=r("./node_modules/zod/v4/locales/zh-TW.cjs");Object.defineProperty(t,"zhTW",{enumerable:!0,get:function(){return n(z).default}})},"./node_modules/zod/v4/locales/it.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numero";case"object":if(Array.isArray(e))return"vettore";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Input non valido: atteso ${e.expected}, ricevuto ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Input non valido: atteso ${o.stringifyPrimitive(e.values[0])}`;return`Opzione non valida: atteso uno tra ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`Troppo grande: ${e.origin??"valore"} deve avere ${r}${e.maximum.toString()} ${n.unit??"elementi"}`;return`Troppo grande: ${e.origin??"valore"} deve essere ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`Troppo piccolo: ${e.origin} deve avere ${r}${e.minimum.toString()} ${n.unit}`;return`Troppo piccolo: ${e.origin} deve essere ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Stringa non valida: deve iniziare con "${t.prefix}"`;if("ends_with"===t.format)return`Stringa non valida: deve terminare con "${t.suffix}"`;if("includes"===t.format)return`Stringa non valida: deve includere "${t.includes}"`;if("regex"===t.format)return`Stringa non valida: deve corrispondere al pattern ${t.pattern}`;return`Invalid ${n[t.format]??e.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${e.divisor}`;case"unrecognized_keys":return`Chiav${e.keys.length>1?"i":"e"} non riconosciut${e.keys.length>1?"e":"a"}: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${e.origin}`;case"invalid_union":default:return"Input non valido";case"invalid_element":return`Valore non valido in ${e.origin}`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/ja.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"文字",verb:"である"},file:{unit:"バイト",verb:"である"},array:{unit:"要素",verb:"である"},set:{unit:"要素",verb:"である"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"数値";case"object":if(Array.isArray(e))return"配列";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"入力値",email:"メールアドレス",url:"URL",emoji:"絵文字",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO日時",date:"ISO日付",time:"ISO時刻",duration:"ISO期間",ipv4:"IPv4アドレス",ipv6:"IPv6アドレス",cidrv4:"IPv4範囲",cidrv6:"IPv6範囲",base64:"base64エンコード文字列",base64url:"base64urlエンコード文字列",json_string:"JSON文字列",e164:"E.164番号",jwt:"JWT",template_literal:"入力値"};return e=>{switch(e.code){case"invalid_type":return`無効な入力: ${e.expected}が期待されましたが、${r(e.input)}が入力されました`;case"invalid_value":if(1===e.values.length)return`無効な入力: ${o.stringifyPrimitive(e.values[0])}が期待されました`;return`無効な選択: ${o.joinValues(e.values,"、")}のいずれかである必要があります`;case"too_big":{let r=e.inclusive?"以下である":"より小さい",n=t(e.origin);if(n)return`大きすぎる値: ${e.origin??"値"}は${e.maximum.toString()}${n.unit??"要素"}${r}必要があります`;return`大きすぎる値: ${e.origin??"値"}は${e.maximum.toString()}${r}必要があります`}case"too_small":{let r=e.inclusive?"以上である":"より大きい",n=t(e.origin);if(n)return`小さすぎる値: ${e.origin}は${e.minimum.toString()}${n.unit}${r}必要があります`;return`小さすぎる値: ${e.origin}は${e.minimum.toString()}${r}必要があります`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`無効な文字列: "${t.prefix}"で始まる必要があります`;if("ends_with"===t.format)return`無効な文字列: "${t.suffix}"で終わる必要があります`;if("includes"===t.format)return`無効な文字列: "${t.includes}"を含む必要があります`;if("regex"===t.format)return`無効な文字列: パターン${t.pattern}に一致する必要があります`;return`無効な${n[t.format]??e.format}`}case"not_multiple_of":return`無効な数値: ${e.divisor}の倍数である必要があります`;case"unrecognized_keys":return`認識されていないキー${e.keys.length>1?"群":""}: ${o.joinValues(e.keys,"、")}`;case"invalid_key":return`${e.origin}内の無効なキー`;case"invalid_union":return"無効な入力";case"invalid_element":return`${e.origin}内の無効な値`;default:return`無効な入力`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/kh.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"តួអក្សរ",verb:"គួរមាន"},file:{unit:"បៃ",verb:"គួរមាន"},array:{unit:"ធាតុ",verb:"គួរមាន"},set:{unit:"ធាតុ",verb:"គួរមាន"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"មិនមែនជាលេខ (NaN)":"លេខ";case"object":if(Array.isArray(e))return"អារេ (Array)";if(null===e)return"គ្មានតម្លៃ (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"ទិន្នន័យបញ្ចូល",email:"អាសយដ្ឋានអ៊ីមែល",url:"URL",emoji:"សញ្ញាអារម្មណ៍",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"កាលបរិច្ឆេទ និងម៉ោង ISO",date:"កាលបរិច្ឆេទ ISO",time:"ម៉ោង ISO",duration:"រយៈពេល ISO",ipv4:"អាសយដ្ឋាន IPv4",ipv6:"អាសយដ្ឋាន IPv6",cidrv4:"ដែនអាសយដ្ឋាន IPv4",cidrv6:"ដែនអាសយដ្ឋាន IPv6",base64:"ខ្សែអក្សរអ៊ិកូដ base64",base64url:"ខ្សែអក្សរអ៊ិកូដ base64url",json_string:"ខ្សែអក្សរ JSON",e164:"លេខ E.164",jwt:"JWT",template_literal:"ទិន្នន័យបញ្ចូល"};return e=>{switch(e.code){case"invalid_type":return`ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ ${e.expected} ប៉ុន្តែទទួលបាន ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ ${o.stringifyPrimitive(e.values[0])}`;return`ជម្រើសមិនត្រឹមត្រូវ៖ ត្រូវជាមួយក្នុងចំណោម ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`ធំពេក៖ ត្រូវការ ${e.origin??"តម្លៃ"} ${r} ${e.maximum.toString()} ${n.unit??"ធាតុ"}`;return`ធំពេក៖ ត្រូវការ ${e.origin??"តម្លៃ"} ${r} ${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`តូចពេក៖ ត្រូវការ ${e.origin} ${r} ${e.minimum.toString()} ${n.unit}`;return`តូចពេក៖ ត្រូវការ ${e.origin} ${r} ${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវចាប់ផ្តើមដោយ "${t.prefix}"`;if("ends_with"===t.format)return`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវបញ្ចប់ដោយ "${t.suffix}"`;if("includes"===t.format)return`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវមាន "${t.includes}"`;if("regex"===t.format)return`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវតែផ្គូផ្គងនឹងទម្រង់ដែលបានកំណត់ ${t.pattern}`;return`មិនត្រឹមត្រូវ៖ ${n[t.format]??e.format}`}case"not_multiple_of":return`លេខមិនត្រឹមត្រូវ៖ ត្រូវតែជាពហុគុណនៃ ${e.divisor}`;case"unrecognized_keys":return`រកឃើញសោមិនស្គាល់៖ ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`សោមិនត្រឹមត្រូវនៅក្នុង ${e.origin}`;case"invalid_union":default:return`ទិន្នន័យមិនត្រឹមត្រូវ`;case"invalid_element":return`ទិន្នន័យមិនត្រឹមត្រូវនៅក្នុង ${e.origin}`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/ko.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"문자",verb:"to have"},file:{unit:"바이트",verb:"to have"},array:{unit:"개",verb:"to have"},set:{unit:"개",verb:"to have"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"입력",email:"이메일 주소",url:"URL",emoji:"이모지",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO 날짜시간",date:"ISO 날짜",time:"ISO 시간",duration:"ISO 기간",ipv4:"IPv4 주소",ipv6:"IPv6 주소",cidrv4:"IPv4 범위",cidrv6:"IPv6 범위",base64:"base64 인코딩 문자열",base64url:"base64url 인코딩 문자열",json_string:"JSON 문자열",e164:"E.164 번호",jwt:"JWT",template_literal:"입력"};return e=>{switch(e.code){case"invalid_type":return`잘못된 입력: 예상 타입은 ${e.expected}, 받은 타입은 ${r(e.input)}입니다`;case"invalid_value":if(1===e.values.length)return`잘못된 입력: 값은 ${o.stringifyPrimitive(e.values[0])} 이어야 합니다`;return`잘못된 옵션: ${o.joinValues(e.values,"또는 ")} 중 하나여야 합니다`;case"too_big":{let r=e.inclusive?"이하":"미만",n="미만"===r?"이어야 합니다":"여야 합니다",i=t(e.origin),s=i?.unit??"요소";if(i)return`${e.origin??"값"}이 너무 큽니다: ${e.maximum.toString()}${s} ${r}${n}`;return`${e.origin??"값"}이 너무 큽니다: ${e.maximum.toString()} ${r}${n}`}case"too_small":{let r=e.inclusive?"이상":"초과",n="이상"===r?"이어야 합니다":"여야 합니다",i=t(e.origin),s=i?.unit??"요소";if(i)return`${e.origin??"값"}이 너무 작습니다: ${e.minimum.toString()}${s} ${r}${n}`;return`${e.origin??"값"}이 너무 작습니다: ${e.minimum.toString()} ${r}${n}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`잘못된 문자열: "${t.prefix}"(으)로 시작해야 합니다`;if("ends_with"===t.format)return`잘못된 문자열: "${t.suffix}"(으)로 끝나야 합니다`;if("includes"===t.format)return`잘못된 문자열: "${t.includes}"을(를) 포함해야 합니다`;if("regex"===t.format)return`잘못된 문자열: 정규식 ${t.pattern} 패턴과 일치해야 합니다`;return`잘못된 ${n[t.format]??e.format}`}case"not_multiple_of":return`잘못된 숫자: ${e.divisor}의 배수여야 합니다`;case"unrecognized_keys":return`인식할 수 없는 키: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`잘못된 키: ${e.origin}`;case"invalid_union":default:return`잘못된 입력`;case"invalid_element":return`잘못된 값: ${e.origin}`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/mk.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"знаци",verb:"да имаат"},file:{unit:"бајти",verb:"да имаат"},array:{unit:"ставки",verb:"да имаат"},set:{unit:"ставки",verb:"да имаат"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"број";case"object":if(Array.isArray(e))return"низа";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"внес",email:"адреса на е-пошта",url:"URL",emoji:"емоџи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO датум и време",date:"ISO датум",time:"ISO време",duration:"ISO времетраење",ipv4:"IPv4 адреса",ipv6:"IPv6 адреса",cidrv4:"IPv4 опсег",cidrv6:"IPv6 опсег",base64:"base64-енкодирана низа",base64url:"base64url-енкодирана низа",json_string:"JSON низа",e164:"E.164 број",jwt:"JWT",template_literal:"внес"};return e=>{switch(e.code){case"invalid_type":return`Грешен внес: се очекува ${e.expected}, примено ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Invalid input: expected ${o.stringifyPrimitive(e.values[0])}`;return`Грешана опција: се очекува една ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`Премногу голем: се очекува ${e.origin??"вредноста"} да има ${r}${e.maximum.toString()} ${n.unit??"елементи"}`;return`Премногу голем: се очекува ${e.origin??"вредноста"} да биде ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`Премногу мал: се очекува ${e.origin} да има ${r}${e.minimum.toString()} ${n.unit}`;return`Премногу мал: се очекува ${e.origin} да биде ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Неважечка низа: мора да започнува со "${t.prefix}"`;if("ends_with"===t.format)return`Неважечка низа: мора да завршува со "${t.suffix}"`;if("includes"===t.format)return`Неважечка низа: мора да вклучува "${t.includes}"`;if("regex"===t.format)return`Неважечка низа: мора да одгоара на патернот ${t.pattern}`;return`Invalid ${n[t.format]??e.format}`}case"not_multiple_of":return`Грешен број: мора да биде делив со ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"Непрепознаени клучеви":"Непрепознаен клуч"}: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`Грешен клуч во ${e.origin}`;case"invalid_union":return"Грешен внес";case"invalid_element":return`Грешна вредност во ${e.origin}`;default:return`Грешен внес`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/ms.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombor";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Input tidak sah: dijangka ${e.expected}, diterima ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Input tidak sah: dijangka ${o.stringifyPrimitive(e.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`Terlalu besar: dijangka ${e.origin??"nilai"} ${n.verb} ${r}${e.maximum.toString()} ${n.unit??"elemen"}`;return`Terlalu besar: dijangka ${e.origin??"nilai"} adalah ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`Terlalu kecil: dijangka ${e.origin} ${n.verb} ${r}${e.minimum.toString()} ${n.unit}`;return`Terlalu kecil: dijangka ${e.origin} adalah ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`String tidak sah: mesti bermula dengan "${t.prefix}"`;if("ends_with"===t.format)return`String tidak sah: mesti berakhir dengan "${t.suffix}"`;if("includes"===t.format)return`String tidak sah: mesti mengandungi "${t.includes}"`;if("regex"===t.format)return`String tidak sah: mesti sepadan dengan corak ${t.pattern}`;return`${n[t.format]??e.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${e.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${e.origin}`;case"invalid_union":default:return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${e.origin}`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/nl.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"getal";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return e=>{switch(e.code){case"invalid_type":return`Ongeldige invoer: verwacht ${e.expected}, ontving ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Ongeldige invoer: verwacht ${o.stringifyPrimitive(e.values[0])}`;return`Ongeldige optie: verwacht \xe9\xe9n van ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`Te lang: verwacht dat ${e.origin??"waarde"} ${r}${e.maximum.toString()} ${n.unit??"elementen"} bevat`;return`Te lang: verwacht dat ${e.origin??"waarde"} ${r}${e.maximum.toString()} is`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`Te kort: verwacht dat ${e.origin} ${r}${e.minimum.toString()} ${n.unit} bevat`;return`Te kort: verwacht dat ${e.origin} ${r}${e.minimum.toString()} is`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Ongeldige tekst: moet met "${t.prefix}" beginnen`;if("ends_with"===t.format)return`Ongeldige tekst: moet op "${t.suffix}" eindigen`;if("includes"===t.format)return`Ongeldige tekst: moet "${t.includes}" bevatten`;if("regex"===t.format)return`Ongeldige tekst: moet overeenkomen met patroon ${t.pattern}`;return`Ongeldig: ${n[t.format]??e.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${e.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${e.keys.length>1?"s":""}: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${e.origin}`;case"invalid_union":default:return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${e.origin}`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/no.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"tegn",verb:"\xe5 ha"},file:{unit:"bytes",verb:"\xe5 ha"},array:{unit:"elementer",verb:"\xe5 inneholde"},set:{unit:"elementer",verb:"\xe5 inneholde"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tall";case"object":if(Array.isArray(e))return"liste";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omr\xe5de",ipv6:"IPv6-omr\xe5de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Ugyldig input: forventet ${e.expected}, fikk ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Ugyldig verdi: forventet ${o.stringifyPrimitive(e.values[0])}`;return`Ugyldig valg: forventet en av ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`For stor(t): forventet ${e.origin??"value"} til \xe5 ha ${r}${e.maximum.toString()} ${n.unit??"elementer"}`;return`For stor(t): forventet ${e.origin??"value"} til \xe5 ha ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`For lite(n): forventet ${e.origin} til \xe5 ha ${r}${e.minimum.toString()} ${n.unit}`;return`For lite(n): forventet ${e.origin} til \xe5 ha ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Ugyldig streng: m\xe5 starte med "${t.prefix}"`;if("ends_with"===t.format)return`Ugyldig streng: m\xe5 ende med "${t.suffix}"`;if("includes"===t.format)return`Ugyldig streng: m\xe5 inneholde "${t.includes}"`;if("regex"===t.format)return`Ugyldig streng: m\xe5 matche m\xf8nsteret ${t.pattern}`;return`Ugyldig ${n[t.format]??e.format}`}case"not_multiple_of":return`Ugyldig tall: m\xe5 v\xe6re et multiplum av ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"Ukjente n\xf8kler":"Ukjent n\xf8kkel"}: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8kkel i ${e.origin}`;case"invalid_union":default:return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${e.origin}`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/ota.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"harf",verb:"olmalıdır"},file:{unit:"bayt",verb:"olmalıdır"},array:{unit:"unsur",verb:"olmalıdır"},set:{unit:"unsur",verb:"olmalıdır"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numara";case"object":if(Array.isArray(e))return"saf";if(null===e)return"gayb";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"giren",email:"epostag\xe2h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO heng\xe2mı",date:"ISO tarihi",time:"ISO zamanı",duration:"ISO m\xfcddeti",ipv4:"IPv4 niş\xe2nı",ipv6:"IPv6 niş\xe2nı",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-şifreli metin",base64url:"base64url-şifreli metin",json_string:"JSON metin",e164:"E.164 sayısı",jwt:"JWT",template_literal:"giren"};return e=>{switch(e.code){case"invalid_type":return`F\xe2sit giren: umulan ${e.expected}, alınan ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`F\xe2sit giren: umulan ${o.stringifyPrimitive(e.values[0])}`;return`F\xe2sit tercih: m\xfbteberler ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`Fazla b\xfcy\xfck: ${e.origin??"value"}, ${r}${e.maximum.toString()} ${n.unit??"elements"} sahip olmalıydı.`;return`Fazla b\xfcy\xfck: ${e.origin??"value"}, ${r}${e.maximum.toString()} olmalıydı.`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`Fazla k\xfc\xe7\xfck: ${e.origin}, ${r}${e.minimum.toString()} ${n.unit} sahip olmalıydı.`;return`Fazla k\xfc\xe7\xfck: ${e.origin}, ${r}${e.minimum.toString()} olmalıydı.`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`F\xe2sit metin: "${t.prefix}" ile başlamalı.`;if("ends_with"===t.format)return`F\xe2sit metin: "${t.suffix}" ile bitmeli.`;if("includes"===t.format)return`F\xe2sit metin: "${t.includes}" ihtiv\xe2 etmeli.`;if("regex"===t.format)return`F\xe2sit metin: ${t.pattern} nakşına uymalı.`;return`F\xe2sit ${n[t.format]??e.format}`}case"not_multiple_of":return`F\xe2sit sayı: ${e.divisor} katı olmalıydı.`;case"unrecognized_keys":return`Tanınmayan anahtar ${e.keys.length>1?"s":""}: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`${e.origin} i\xe7in tanınmayan anahtar var.`;case"invalid_union":return"Giren tanınamadı.";case"invalid_element":return`${e.origin} i\xe7in tanınmayan kıymet var.`;default:return`Kıymet tanınamadı.`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/pl.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"znak\xf3w",verb:"mieć"},file:{unit:"bajt\xf3w",verb:"mieć"},array:{unit:"element\xf3w",verb:"mieć"},set:{unit:"element\xf3w",verb:"mieć"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"liczba";case"object":if(Array.isArray(e))return"tablica";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"wyrażenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ciąg znak\xf3w zakodowany w formacie base64",base64url:"ciąg znak\xf3w zakodowany w formacie base64url",json_string:"ciąg znak\xf3w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejście"};return e=>{switch(e.code){case"invalid_type":return`Nieprawidłowe dane wejściowe: oczekiwano ${e.expected}, otrzymano ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Nieprawidłowe dane wejściowe: oczekiwano ${o.stringifyPrimitive(e.values[0])}`;return`Nieprawidłowa opcja: oczekiwano jednej z wartości ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`Za duża wartość: oczekiwano, że ${e.origin??"wartość"} będzie mieć ${r}${e.maximum.toString()} ${n.unit??"element\xf3w"}`;return`Zbyt duż(y/a/e): oczekiwano, że ${e.origin??"wartość"} będzie wynosić ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`Za mała wartość: oczekiwano, że ${e.origin??"wartość"} będzie mieć ${r}${e.minimum.toString()} ${n.unit??"element\xf3w"}`;return`Zbyt mał(y/a/e): oczekiwano, że ${e.origin??"wartość"} będzie wynosić ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Nieprawidłowy ciąg znak\xf3w: musi zaczynać się od "${t.prefix}"`;if("ends_with"===t.format)return`Nieprawidłowy ciąg znak\xf3w: musi kończyć się na "${t.suffix}"`;if("includes"===t.format)return`Nieprawidłowy ciąg znak\xf3w: musi zawierać "${t.includes}"`;if("regex"===t.format)return`Nieprawidłowy ciąg znak\xf3w: musi odpowiadać wzorcowi ${t.pattern}`;return`Nieprawidłow(y/a/e) ${n[t.format]??e.format}`}case"not_multiple_of":return`Nieprawidłowa liczba: musi być wielokrotnością ${e.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${e.keys.length>1?"s":""}: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`Nieprawidłowy klucz w ${e.origin}`;case"invalid_union":return"Nieprawidłowe dane wejściowe";case"invalid_element":return`Nieprawidłowa wartość w ${e.origin}`;default:return`Nieprawidłowe dane wejściowe`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/ps.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"توکي",verb:"ولري"},file:{unit:"بایټس",verb:"ولري"},array:{unit:"توکي",verb:"ولري"},set:{unit:"توکي",verb:"ولري"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"عدد";case"object":if(Array.isArray(e))return"ارې";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"ورودي",email:"بریښنالیک",url:"یو آر ال",emoji:"ایموجي",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"نیټه او وخت",date:"نېټه",time:"وخت",duration:"موده",ipv4:"د IPv4 پته",ipv6:"د IPv6 پته",cidrv4:"د IPv4 ساحه",cidrv6:"د IPv6 ساحه",base64:"base64-encoded متن",base64url:"base64url-encoded متن",json_string:"JSON متن",e164:"د E.164 شمېره",jwt:"JWT",template_literal:"ورودي"};return e=>{switch(e.code){case"invalid_type":return`ناسم ورودي: باید ${e.expected} وای, مګر ${r(e.input)} ترلاسه شو`;case"invalid_value":if(1===e.values.length)return`ناسم ورودي: باید ${o.stringifyPrimitive(e.values[0])} وای`;return`ناسم انتخاب: باید یو له ${o.joinValues(e.values,"|")} څخه وای`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`ډیر لوی: ${e.origin??"ارزښت"} باید ${r}${e.maximum.toString()} ${n.unit??"عنصرونه"} ولري`;return`ډیر لوی: ${e.origin??"ارزښت"} باید ${r}${e.maximum.toString()} وي`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`ډیر کوچنی: ${e.origin} باید ${r}${e.minimum.toString()} ${n.unit} ولري`;return`ډیر کوچنی: ${e.origin} باید ${r}${e.minimum.toString()} وي`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`ناسم متن: باید د "${t.prefix}" سره پیل شي`;if("ends_with"===t.format)return`ناسم متن: باید د "${t.suffix}" سره پای ته ورسيږي`;if("includes"===t.format)return`ناسم متن: باید "${t.includes}" ولري`;if("regex"===t.format)return`ناسم متن: باید د ${t.pattern} سره مطابقت ولري`;return`${n[t.format]??e.format} ناسم دی`}case"not_multiple_of":return`ناسم عدد: باید د ${e.divisor} مضرب وي`;case"unrecognized_keys":return`ناسم ${e.keys.length>1?"کلیډونه":"کلیډ"}: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`ناسم کلیډ په ${e.origin} کې`;case"invalid_union":default:return`ناسمه ورودي`;case"invalid_element":return`ناسم عنصر په ${e.origin} کې`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/pt.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"n\xfamero";case"object":if(Array.isArray(e))return"array";if(null===e)return"nulo";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"padr\xe3o",email:"endere\xe7o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"dura\xe7\xe3o ISO",ipv4:"endere\xe7o IPv4",ipv6:"endere\xe7o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"n\xfamero E.164",jwt:"JWT",template_literal:"entrada"};return e=>{switch(e.code){case"invalid_type":return`Tipo inv\xe1lido: esperado ${e.expected}, recebido ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Entrada inv\xe1lida: esperado ${o.stringifyPrimitive(e.values[0])}`;return`Op\xe7\xe3o inv\xe1lida: esperada uma das ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`Muito grande: esperado que ${e.origin??"valor"} tivesse ${r}${e.maximum.toString()} ${n.unit??"elementos"}`;return`Muito grande: esperado que ${e.origin??"valor"} fosse ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`Muito pequeno: esperado que ${e.origin} tivesse ${r}${e.minimum.toString()} ${n.unit}`;return`Muito pequeno: esperado que ${e.origin} fosse ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Texto inv\xe1lido: deve come\xe7ar com "${t.prefix}"`;if("ends_with"===t.format)return`Texto inv\xe1lido: deve terminar com "${t.suffix}"`;if("includes"===t.format)return`Texto inv\xe1lido: deve incluir "${t.includes}"`;if("regex"===t.format)return`Texto inv\xe1lido: deve corresponder ao padr\xe3o ${t.pattern}`;return`${n[t.format]??e.format} inv\xe1lido`}case"not_multiple_of":return`N\xfamero inv\xe1lido: deve ser m\xfaltiplo de ${e.divisor}`;case"unrecognized_keys":return`Chave${e.keys.length>1?"s":""} desconhecida${e.keys.length>1?"s":""}: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`Chave inv\xe1lida em ${e.origin}`;case"invalid_union":return"Entrada inv\xe1lida";case"invalid_element":return`Valor inv\xe1lido em ${e.origin}`;default:return`Campo inv\xe1lido`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/ru.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;let o=s(r("./node_modules/zod/v4/core/util.cjs"));function a(e,t,r,n){let i=Math.abs(e),s=i%10,o=i%100;return o>=11&&o<=19?n:1===s?t:s>=2&&s<=4?r:n}let l=()=>{let e={string:{unit:{one:"символ",few:"символа",many:"символов"},verb:"иметь"},file:{unit:{one:"байт",few:"байта",many:"байт"},verb:"иметь"},array:{unit:{one:"элемент",few:"элемента",many:"элементов"},verb:"иметь"},set:{unit:{one:"элемент",few:"элемента",many:"элементов"},verb:"иметь"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"число";case"object":if(Array.isArray(e))return"массив";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"ввод",email:"email адрес",url:"URL",emoji:"эмодзи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO дата и время",date:"ISO дата",time:"ISO время",duration:"ISO длительность",ipv4:"IPv4 адрес",ipv6:"IPv6 адрес",cidrv4:"IPv4 диапазон",cidrv6:"IPv6 диапазон",base64:"строка в формате base64",base64url:"строка в формате base64url",json_string:"JSON строка",e164:"номер E.164",jwt:"JWT",template_literal:"ввод"};return e=>{switch(e.code){case"invalid_type":return`Неверный ввод: ожидалось ${e.expected}, получено ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Неверный ввод: ожидалось ${o.stringifyPrimitive(e.values[0])}`;return`Неверный вариант: ожидалось одно из ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n){let t=a(Number(e.maximum),n.unit.one,n.unit.few,n.unit.many);return`Слишком большое значение: ожидалось, что ${e.origin??"значение"} будет иметь ${r}${e.maximum.toString()} ${t}`}return`Слишком большое значение: ожидалось, что ${e.origin??"значение"} будет ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n){let t=a(Number(e.minimum),n.unit.one,n.unit.few,n.unit.many);return`Слишком маленькое значение: ожидалось, что ${e.origin} будет иметь ${r}${e.minimum.toString()} ${t}`}return`Слишком маленькое значение: ожидалось, что ${e.origin} будет ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Неверная строка: должна начинаться с "${t.prefix}"`;if("ends_with"===t.format)return`Неверная строка: должна заканчиваться на "${t.suffix}"`;if("includes"===t.format)return`Неверная строка: должна содержать "${t.includes}"`;if("regex"===t.format)return`Неверная строка: должна соответствовать шаблону ${t.pattern}`;return`Неверный ${n[t.format]??e.format}`}case"not_multiple_of":return`Неверное число: должно быть кратным ${e.divisor}`;case"unrecognized_keys":return`Нераспознанн${e.keys.length>1?"ые":"ый"} ключ${e.keys.length>1?"и":""}: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`Неверный ключ в ${e.origin}`;case"invalid_union":return"Неверные входные данные";case"invalid_element":return`Неверное значение в ${e.origin}`;default:return`Неверные входные данные`}}};function c(){return{localeError:l()}}},"./node_modules/zod/v4/locales/sl.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"število";case"object":if(Array.isArray(e))return"tabela";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"vnos",email:"e-poštni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in čas",date:"ISO datum",time:"ISO čas",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 številka",jwt:"JWT",template_literal:"vnos"};return e=>{switch(e.code){case"invalid_type":return`Neveljaven vnos: pričakovano ${e.expected}, prejeto ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Neveljaven vnos: pričakovano ${o.stringifyPrimitive(e.values[0])}`;return`Neveljavna možnost: pričakovano eno izmed ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`Preveliko: pričakovano, da bo ${e.origin??"vrednost"} imelo ${r}${e.maximum.toString()} ${n.unit??"elementov"}`;return`Preveliko: pričakovano, da bo ${e.origin??"vrednost"} ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`Premajhno: pričakovano, da bo ${e.origin} imelo ${r}${e.minimum.toString()} ${n.unit}`;return`Premajhno: pričakovano, da bo ${e.origin} ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Neveljaven niz: mora se začeti z "${t.prefix}"`;if("ends_with"===t.format)return`Neveljaven niz: mora se končati z "${t.suffix}"`;if("includes"===t.format)return`Neveljaven niz: mora vsebovati "${t.includes}"`;if("regex"===t.format)return`Neveljaven niz: mora ustrezati vzorcu ${t.pattern}`;return`Neveljaven ${n[t.format]??e.format}`}case"not_multiple_of":return`Neveljavno število: mora biti večkratnik ${e.divisor}`;case"unrecognized_keys":return`Neprepoznan${e.keys.length>1?"i ključi":" ključ"}: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`Neveljaven ključ v ${e.origin}`;case"invalid_union":default:return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${e.origin}`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/sv.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att inneh\xe5lla"},set:{unit:"objekt",verb:"att inneh\xe5lla"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"antal";case"object":if(Array.isArray(e))return"lista";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"regulj\xe4rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad str\xe4ng",base64url:"base64url-kodad str\xe4ng",json_string:"JSON-str\xe4ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return e=>{switch(e.code){case"invalid_type":return`Ogiltig inmatning: f\xf6rv\xe4ntat ${e.expected}, fick ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Ogiltig inmatning: f\xf6rv\xe4ntat ${o.stringifyPrimitive(e.values[0])}`;return`Ogiltigt val: f\xf6rv\xe4ntade en av ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`F\xf6r stor(t): f\xf6rv\xe4ntade ${e.origin??"v\xe4rdet"} att ha ${r}${e.maximum.toString()} ${n.unit??"element"}`;return`F\xf6r stor(t): f\xf6rv\xe4ntat ${e.origin??"v\xe4rdet"} att ha ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`F\xf6r lite(t): f\xf6rv\xe4ntade ${e.origin??"v\xe4rdet"} att ha ${r}${e.minimum.toString()} ${n.unit}`;return`F\xf6r lite(t): f\xf6rv\xe4ntade ${e.origin??"v\xe4rdet"} att ha ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Ogiltig str\xe4ng: m\xe5ste b\xf6rja med "${t.prefix}"`;if("ends_with"===t.format)return`Ogiltig str\xe4ng: m\xe5ste sluta med "${t.suffix}"`;if("includes"===t.format)return`Ogiltig str\xe4ng: m\xe5ste inneh\xe5lla "${t.includes}"`;if("regex"===t.format)return`Ogiltig str\xe4ng: m\xe5ste matcha m\xf6nstret "${t.pattern}"`;return`Ogiltig(t) ${n[t.format]??e.format}`}case"not_multiple_of":return`Ogiltigt tal: m\xe5ste vara en multipel av ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"Ok\xe4nda nycklar":"Ok\xe4nd nyckel"}: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${e.origin??"v\xe4rdet"}`;case"invalid_union":default:return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xe4rde i ${e.origin??"v\xe4rdet"}`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/ta.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"எழுத்துக்கள்",verb:"கொண்டிருக்க வேண்டும்"},file:{unit:"பைட்டுகள்",verb:"கொண்டிருக்க வேண்டும்"},array:{unit:"உறுப்புகள்",verb:"கொண்டிருக்க வேண்டும்"},set:{unit:"உறுப்புகள்",verb:"கொண்டிருக்க வேண்டும்"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"எண் அல்லாதது":"எண்";case"object":if(Array.isArray(e))return"அணி";if(null===e)return"வெறுமை";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"உள்ளீடு",email:"மின்னஞ்சல் முகவரி",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO தேதி நேரம்",date:"ISO தேதி",time:"ISO நேரம்",duration:"ISO கால அளவு",ipv4:"IPv4 முகவரி",ipv6:"IPv6 முகவரி",cidrv4:"IPv4 வரம்பு",cidrv6:"IPv6 வரம்பு",base64:"base64-encoded சரம்",base64url:"base64url-encoded சரம்",json_string:"JSON சரம்",e164:"E.164 எண்",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது ${e.expected}, பெறப்பட்டது ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது ${o.stringifyPrimitive(e.values[0])}`;return`தவறான விருப்பம்: எதிர்பார்க்கப்பட்டது ${o.joinValues(e.values,"|")} இல் ஒன்று`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`மிக பெரியது: எதிர்பார்க்கப்பட்டது ${e.origin??"மதிப்பு"} ${r}${e.maximum.toString()} ${n.unit??"உறுப்புகள்"} ஆக இருக்க வேண்டும்`;return`மிக பெரியது: எதிர்பார்க்கப்பட்டது ${e.origin??"மதிப்பு"} ${r}${e.maximum.toString()} ஆக இருக்க வேண்டும்`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`மிகச் சிறியது: எதிர்பார்க்கப்பட்டது ${e.origin} ${r}${e.minimum.toString()} ${n.unit} ஆக இருக்க வேண்டும்`;return`மிகச் சிறியது: எதிர்பார்க்கப்பட்டது ${e.origin} ${r}${e.minimum.toString()} ஆக இருக்க வேண்டும்`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`தவறான சரம்: "${t.prefix}" இல் தொடங்க வேண்டும்`;if("ends_with"===t.format)return`தவறான சரம்: "${t.suffix}" இல் முடிவடைய வேண்டும்`;if("includes"===t.format)return`தவறான சரம்: "${t.includes}" ஐ உள்ளடக்க வேண்டும்`;if("regex"===t.format)return`தவறான சரம்: ${t.pattern} முறைபாட்டுடன் பொருந்த வேண்டும்`;return`தவறான ${n[t.format]??e.format}`}case"not_multiple_of":return`தவறான எண்: ${e.divisor} இன் பலமாக இருக்க வேண்டும்`;case"unrecognized_keys":return`அடையாளம் தெரியாத விசை${e.keys.length>1?"கள்":""}: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`${e.origin} இல் தவறான விசை`;case"invalid_union":return"தவறான உள்ளீடு";case"invalid_element":return`${e.origin} இல் தவறான மதிப்பு`;default:return`தவறான உள்ளீடு`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/th.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"ตัวอักษร",verb:"ควรมี"},file:{unit:"ไบต์",verb:"ควรมี"},array:{unit:"รายการ",verb:"ควรมี"},set:{unit:"รายการ",verb:"ควรมี"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"ไม่ใช่ตัวเลข (NaN)":"ตัวเลข";case"object":if(Array.isArray(e))return"อาร์เรย์ (Array)";if(null===e)return"ไม่มีค่า (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"ข้อมูลที่ป้อน",email:"ที่อยู่อีเมล",url:"URL",emoji:"อิโมจิ",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"วันที่เวลาแบบ ISO",date:"วันที่แบบ ISO",time:"เวลาแบบ ISO",duration:"ช่วงเวลาแบบ ISO",ipv4:"ที่อยู่ IPv4",ipv6:"ที่อยู่ IPv6",cidrv4:"ช่วง IP แบบ IPv4",cidrv6:"ช่วง IP แบบ IPv6",base64:"ข้อความแบบ Base64",base64url:"ข้อความแบบ Base64 สำหรับ URL",json_string:"ข้อความแบบ JSON",e164:"เบอร์โทรศัพท์ระหว่างประเทศ (E.164)",jwt:"โทเคน JWT",template_literal:"ข้อมูลที่ป้อน"};return e=>{switch(e.code){case"invalid_type":return`ประเภทข้อมูลไม่ถูกต้อง: ควรเป็น ${e.expected} แต่ได้รับ ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`ค่าไม่ถูกต้อง: ควรเป็น ${o.stringifyPrimitive(e.values[0])}`;return`ตัวเลือกไม่ถูกต้อง: ควรเป็นหนึ่งใน ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"ไม่เกิน":"น้อยกว่า",n=t(e.origin);if(n)return`เกินกำหนด: ${e.origin??"ค่า"} ควรมี${r} ${e.maximum.toString()} ${n.unit??"รายการ"}`;return`เกินกำหนด: ${e.origin??"ค่า"} ควรมี${r} ${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?"อย่างน้อย":"มากกว่า",n=t(e.origin);if(n)return`น้อยกว่ากำหนด: ${e.origin} ควรมี${r} ${e.minimum.toString()} ${n.unit}`;return`น้อยกว่ากำหนด: ${e.origin} ควรมี${r} ${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`รูปแบบไม่ถูกต้อง: ข้อความต้องขึ้นต้นด้วย "${t.prefix}"`;if("ends_with"===t.format)return`รูปแบบไม่ถูกต้อง: ข้อความต้องลงท้ายด้วย "${t.suffix}"`;if("includes"===t.format)return`รูปแบบไม่ถูกต้อง: ข้อความต้องมี "${t.includes}" อยู่ในข้อความ`;if("regex"===t.format)return`รูปแบบไม่ถูกต้อง: ต้องตรงกับรูปแบบที่กำหนด ${t.pattern}`;return`รูปแบบไม่ถูกต้อง: ${n[t.format]??e.format}`}case"not_multiple_of":return`ตัวเลขไม่ถูกต้อง: ต้องเป็นจำนวนที่หารด้วย ${e.divisor} ได้ลงตัว`;case"unrecognized_keys":return`พบคีย์ที่ไม่รู้จัก: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`คีย์ไม่ถูกต้องใน ${e.origin}`;case"invalid_union":return"ข้อมูลไม่ถูกต้อง: ไม่ตรงกับรูปแบบยูเนียนที่กำหนดไว้";case"invalid_element":return`ข้อมูลไม่ถูกต้องใน ${e.origin}`;default:return`ข้อมูลไม่ถูกต้อง`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/tr.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.parsedType=void 0,t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs"));t.parsedType=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t};let a=()=>{let e={string:{unit:"karakter",verb:"olmalı"},file:{unit:"bayt",verb:"olmalı"},array:{unit:"\xf6ğe",verb:"olmalı"},set:{unit:"\xf6ğe",verb:"olmalı"}};function r(t){return e[t]??null}let n={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO s\xfcre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aralığı",cidrv6:"IPv6 aralığı",base64:"base64 ile şifrelenmiş metin",base64url:"base64url ile şifrelenmiş metin",json_string:"JSON dizesi",e164:"E.164 sayısı",jwt:"JWT",template_literal:"Şablon dizesi"};return e=>{switch(e.code){case"invalid_type":return`Ge\xe7ersiz değer: beklenen ${e.expected}, alınan ${(0,t.parsedType)(e.input)}`;case"invalid_value":if(1===e.values.length)return`Ge\xe7ersiz değer: beklenen ${o.stringifyPrimitive(e.values[0])}`;return`Ge\xe7ersiz se\xe7enek: aşağıdakilerden biri olmalı: ${o.joinValues(e.values,"|")}`;case"too_big":{let t=e.inclusive?"<=":"<",n=r(e.origin);if(n)return`\xc7ok b\xfcy\xfck: beklenen ${e.origin??"değer"} ${t}${e.maximum.toString()} ${n.unit??"\xf6ğe"}`;return`\xc7ok b\xfcy\xfck: beklenen ${e.origin??"değer"} ${t}${e.maximum.toString()}`}case"too_small":{let t=e.inclusive?">=":">",n=r(e.origin);if(n)return`\xc7ok k\xfc\xe7\xfck: beklenen ${e.origin} ${t}${e.minimum.toString()} ${n.unit}`;return`\xc7ok k\xfc\xe7\xfck: beklenen ${e.origin} ${t}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Ge\xe7ersiz metin: "${t.prefix}" ile başlamalı`;if("ends_with"===t.format)return`Ge\xe7ersiz metin: "${t.suffix}" ile bitmeli`;if("includes"===t.format)return`Ge\xe7ersiz metin: "${t.includes}" i\xe7ermeli`;if("regex"===t.format)return`Ge\xe7ersiz metin: ${t.pattern} desenine uymalı`;return`Ge\xe7ersiz ${n[t.format]??e.format}`}case"not_multiple_of":return`Ge\xe7ersiz sayı: ${e.divisor} ile tam b\xf6l\xfcnebilmeli`;case"unrecognized_keys":return`Tanınmayan anahtar${e.keys.length>1?"lar":""}: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`${e.origin} i\xe7inde ge\xe7ersiz anahtar`;case"invalid_union":return"Ge\xe7ersiz değer";case"invalid_element":return`${e.origin} i\xe7inde ge\xe7ersiz değer`;default:return`Ge\xe7ersiz değer`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/ua.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"символів",verb:"матиме"},file:{unit:"байтів",verb:"матиме"},array:{unit:"елементів",verb:"матиме"},set:{unit:"елементів",verb:"матиме"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"число";case"object":if(Array.isArray(e))return"масив";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"вхідні дані",email:"адреса електронної пошти",url:"URL",emoji:"емодзі",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"дата та час ISO",date:"дата ISO",time:"час ISO",duration:"тривалість ISO",ipv4:"адреса IPv4",ipv6:"адреса IPv6",cidrv4:"діапазон IPv4",cidrv6:"діапазон IPv6",base64:"рядок у кодуванні base64",base64url:"рядок у кодуванні base64url",json_string:"рядок JSON",e164:"номер E.164",jwt:"JWT",template_literal:"вхідні дані"};return e=>{switch(e.code){case"invalid_type":return`Неправильні вхідні дані: очікується ${e.expected}, отримано ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Неправильні вхідні дані: очікується ${o.stringifyPrimitive(e.values[0])}`;return`Неправильна опція: очікується одне з ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`Занадто велике: очікується, що ${e.origin??"значення"} ${n.verb} ${r}${e.maximum.toString()} ${n.unit??"елементів"}`;return`Занадто велике: очікується, що ${e.origin??"значення"} буде ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`Занадто мале: очікується, що ${e.origin} ${n.verb} ${r}${e.minimum.toString()} ${n.unit}`;return`Занадто мале: очікується, що ${e.origin} буде ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Неправильний рядок: повинен починатися з "${t.prefix}"`;if("ends_with"===t.format)return`Неправильний рядок: повинен закінчуватися на "${t.suffix}"`;if("includes"===t.format)return`Неправильний рядок: повинен містити "${t.includes}"`;if("regex"===t.format)return`Неправильний рядок: повинен відповідати шаблону ${t.pattern}`;return`Неправильний ${n[t.format]??e.format}`}case"not_multiple_of":return`Неправильне число: повинно бути кратним ${e.divisor}`;case"unrecognized_keys":return`Нерозпізнаний ключ${e.keys.length>1?"і":""}: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`Неправильний ключ у ${e.origin}`;case"invalid_union":return"Неправильні вхідні дані";case"invalid_element":return`Неправильне значення у ${e.origin}`;default:return`Неправильні вхідні дані`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/ur.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"حروف",verb:"ہونا"},file:{unit:"بائٹس",verb:"ہونا"},array:{unit:"آئٹمز",verb:"ہونا"},set:{unit:"آئٹمز",verb:"ہونا"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"نمبر";case"object":if(Array.isArray(e))return"آرے";if(null===e)return"نل";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"ان پٹ",email:"ای میل ایڈریس",url:"یو آر ایل",emoji:"ایموجی",uuid:"یو یو آئی ڈی",uuidv4:"یو یو آئی ڈی وی 4",uuidv6:"یو یو آئی ڈی وی 6",nanoid:"نینو آئی ڈی",guid:"جی یو آئی ڈی",cuid:"سی یو آئی ڈی",cuid2:"سی یو آئی ڈی 2",ulid:"یو ایل آئی ڈی",xid:"ایکس آئی ڈی",ksuid:"کے ایس یو آئی ڈی",datetime:"آئی ایس او ڈیٹ ٹائم",date:"آئی ایس او تاریخ",time:"آئی ایس او وقت",duration:"آئی ایس او مدت",ipv4:"آئی پی وی 4 ایڈریس",ipv6:"آئی پی وی 6 ایڈریس",cidrv4:"آئی پی وی 4 رینج",cidrv6:"آئی پی وی 6 رینج",base64:"بیس 64 ان کوڈڈ سٹرنگ",base64url:"بیس 64 یو آر ایل ان کوڈڈ سٹرنگ",json_string:"جے ایس او این سٹرنگ",e164:"ای 164 نمبر",jwt:"جے ڈبلیو ٹی",template_literal:"ان پٹ"};return e=>{switch(e.code){case"invalid_type":return`غلط ان پٹ: ${e.expected} متوقع تھا، ${r(e.input)} موصول ہوا`;case"invalid_value":if(1===e.values.length)return`غلط ان پٹ: ${o.stringifyPrimitive(e.values[0])} متوقع تھا`;return`غلط آپشن: ${o.joinValues(e.values,"|")} میں سے ایک متوقع تھا`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`بہت بڑا: ${e.origin??"ویلیو"} کے ${r}${e.maximum.toString()} ${n.unit??"عناصر"} ہونے متوقع تھے`;return`بہت بڑا: ${e.origin??"ویلیو"} کا ${r}${e.maximum.toString()} ہونا متوقع تھا`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`بہت چھوٹا: ${e.origin} کے ${r}${e.minimum.toString()} ${n.unit} ہونے متوقع تھے`;return`بہت چھوٹا: ${e.origin} کا ${r}${e.minimum.toString()} ہونا متوقع تھا`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`غلط سٹرنگ: "${t.prefix}" سے شروع ہونا چاہیے`;if("ends_with"===t.format)return`غلط سٹرنگ: "${t.suffix}" پر ختم ہونا چاہیے`;if("includes"===t.format)return`غلط سٹرنگ: "${t.includes}" شامل ہونا چاہیے`;if("regex"===t.format)return`غلط سٹرنگ: پیٹرن ${t.pattern} سے میچ ہونا چاہیے`;return`غلط ${n[t.format]??e.format}`}case"not_multiple_of":return`غلط نمبر: ${e.divisor} کا مضاعف ہونا چاہیے`;case"unrecognized_keys":return`غیر تسلیم شدہ کی${e.keys.length>1?"ز":""}: ${o.joinValues(e.keys,"، ")}`;case"invalid_key":return`${e.origin} میں غلط کی`;case"invalid_union":return"غلط ان پٹ";case"invalid_element":return`${e.origin} میں غلط ویلیو`;default:return`غلط ان پٹ`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/vi.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"k\xfd tự",verb:"c\xf3"},file:{unit:"byte",verb:"c\xf3"},array:{unit:"phần tử",verb:"c\xf3"},set:{unit:"phần tử",verb:"c\xf3"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"số";case"object":if(Array.isArray(e))return"mảng";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"đầu v\xe0o",email:"địa chỉ email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ng\xe0y giờ ISO",date:"ng\xe0y ISO",time:"giờ ISO",duration:"khoảng thời gian ISO",ipv4:"địa chỉ IPv4",ipv6:"địa chỉ IPv6",cidrv4:"dải IPv4",cidrv6:"dải IPv6",base64:"chuỗi m\xe3 h\xf3a base64",base64url:"chuỗi m\xe3 h\xf3a base64url",json_string:"chuỗi JSON",e164:"số E.164",jwt:"JWT",template_literal:"đầu v\xe0o"};return e=>{switch(e.code){case"invalid_type":return`Đầu v\xe0o kh\xf4ng hợp lệ: mong đợi ${e.expected}, nhận được ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Đầu v\xe0o kh\xf4ng hợp lệ: mong đợi ${o.stringifyPrimitive(e.values[0])}`;return`T\xf9y chọn kh\xf4ng hợp lệ: mong đợi một trong c\xe1c gi\xe1 trị ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`Qu\xe1 lớn: mong đợi ${e.origin??"gi\xe1 trị"} ${n.verb} ${r}${e.maximum.toString()} ${n.unit??"phần tử"}`;return`Qu\xe1 lớn: mong đợi ${e.origin??"gi\xe1 trị"} ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`Qu\xe1 nhỏ: mong đợi ${e.origin} ${n.verb} ${r}${e.minimum.toString()} ${n.unit}`;return`Qu\xe1 nhỏ: mong đợi ${e.origin} ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Chuỗi kh\xf4ng hợp lệ: phải bắt đầu bằng "${t.prefix}"`;if("ends_with"===t.format)return`Chuỗi kh\xf4ng hợp lệ: phải kết th\xfac bằng "${t.suffix}"`;if("includes"===t.format)return`Chuỗi kh\xf4ng hợp lệ: phải bao gồm "${t.includes}"`;if("regex"===t.format)return`Chuỗi kh\xf4ng hợp lệ: phải khớp với mẫu ${t.pattern}`;return`${n[t.format]??e.format} kh\xf4ng hợp lệ`}case"not_multiple_of":return`Số kh\xf4ng hợp lệ: phải l\xe0 bội số của ${e.divisor}`;case"unrecognized_keys":return`Kh\xf3a kh\xf4ng được nhận dạng: ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`Kh\xf3a kh\xf4ng hợp lệ trong ${e.origin}`;case"invalid_union":return"Đầu v\xe0o kh\xf4ng hợp lệ";case"invalid_element":return`Gi\xe1 trị kh\xf4ng hợp lệ trong ${e.origin}`;default:return`Đầu v\xe0o kh\xf4ng hợp lệ`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/zh-CN.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"字符",verb:"包含"},file:{unit:"字节",verb:"包含"},array:{unit:"项",verb:"包含"},set:{unit:"项",verb:"包含"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"非数字(NaN)":"数字";case"object":if(Array.isArray(e))return"数组";if(null===e)return"空值(null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"输入",email:"电子邮件",url:"URL",emoji:"表情符号",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO日期时间",date:"ISO日期",time:"ISO时间",duration:"ISO时长",ipv4:"IPv4地址",ipv6:"IPv6地址",cidrv4:"IPv4网段",cidrv6:"IPv6网段",base64:"base64编码字符串",base64url:"base64url编码字符串",json_string:"JSON字符串",e164:"E.164号码",jwt:"JWT",template_literal:"输入"};return e=>{switch(e.code){case"invalid_type":return`无效输入：期望 ${e.expected}，实际接收 ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`无效输入：期望 ${o.stringifyPrimitive(e.values[0])}`;return`无效选项：期望以下之一 ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`数值过大：期望 ${e.origin??"值"} ${r}${e.maximum.toString()} ${n.unit??"个元素"}`;return`数值过大：期望 ${e.origin??"值"} ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`数值过小：期望 ${e.origin} ${r}${e.minimum.toString()} ${n.unit}`;return`数值过小：期望 ${e.origin} ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`无效字符串：必须以 "${t.prefix}" 开头`;if("ends_with"===t.format)return`无效字符串：必须以 "${t.suffix}" 结尾`;if("includes"===t.format)return`无效字符串：必须包含 "${t.includes}"`;if("regex"===t.format)return`无效字符串：必须满足正则表达式 ${t.pattern}`;return`无效${n[t.format]??e.format}`}case"not_multiple_of":return`无效数字：必须是 ${e.divisor} 的倍数`;case"unrecognized_keys":return`出现未知的键(key): ${o.joinValues(e.keys,", ")}`;case"invalid_key":return`${e.origin} 中的键(key)无效`;case"invalid_union":return"无效输入";case"invalid_element":return`${e.origin} 中包含无效值(value)`;default:return`无效输入`}}};function l(){return{localeError:a()}}},"./node_modules/zod/v4/locales/zh-TW.cjs":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;let o=s(r("./node_modules/zod/v4/core/util.cjs")),a=()=>{let e={string:{unit:"字元",verb:"擁有"},file:{unit:"位元組",verb:"擁有"},array:{unit:"項目",verb:"擁有"},set:{unit:"項目",verb:"擁有"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n={regex:"輸入",email:"郵件地址",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO 日期時間",date:"ISO 日期",time:"ISO 時間",duration:"ISO 期間",ipv4:"IPv4 位址",ipv6:"IPv6 位址",cidrv4:"IPv4 範圍",cidrv6:"IPv6 範圍",base64:"base64 編碼字串",base64url:"base64url 編碼字串",json_string:"JSON 字串",e164:"E.164 數值",jwt:"JWT",template_literal:"輸入"};return e=>{switch(e.code){case"invalid_type":return`無效的輸入值：預期為 ${e.expected}，但收到 ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`無效的輸入值：預期為 ${o.stringifyPrimitive(e.values[0])}`;return`無效的選項：預期為以下其中之一 ${o.joinValues(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",n=t(e.origin);if(n)return`數值過大：預期 ${e.origin??"值"} 應為 ${r}${e.maximum.toString()} ${n.unit??"個元素"}`;return`數值過大：預期 ${e.origin??"值"} 應為 ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",n=t(e.origin);if(n)return`數值過小：預期 ${e.origin} 應為 ${r}${e.minimum.toString()} ${n.unit}`;return`數值過小：預期 ${e.origin} 應為 ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`無效的字串：必須以 "${t.prefix}" 開頭`;if("ends_with"===t.format)return`無效的字串：必須以 "${t.suffix}" 結尾`;if("includes"===t.format)return`無效的字串：必須包含 "${t.includes}"`;if("regex"===t.format)return`無效的字串：必須符合格式 ${t.pattern}`;return`無效的 ${n[t.format]??e.format}`}case"not_multiple_of":return`無效的數字：必須為 ${e.divisor} 的倍數`;case"unrecognized_keys":return`無法識別的鍵值${e.keys.length>1?"們":""}：${o.joinValues(e.keys,"、")}`;case"invalid_key":return`${e.origin} 中有無效的鍵值`;case"invalid_union":return"無效的輸入值";case"invalid_element":return`${e.origin} 中有無效的值`;default:return`無效的輸入值`}}};function l(){return{localeError:a()}}},"./node_modules/@socket.io/component-emitter/lib/esm/index.js":function(e,t,r){"use strict";function n(e){if(e)return i(e)}function i(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}r.r(t),r.d(t,{Emitter:()=>n}),n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this},n.prototype.emitReserved=n.prototype.emit,n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},"./node_modules/@postman/grpc-js/package.json":function(e){"use strict";e.exports=JSON.parse('{"rE":"1.11.0-postman.1"}')},"./node_modules/@postman/protobufjs/google/protobuf/api.json":function(e){"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Api":{"fields":{"name":{"type":"string","id":1},"methods":{"rule":"repeated","type":"Method","id":2},"options":{"rule":"repeated","type":"Option","id":3},"version":{"type":"string","id":4},"sourceContext":{"type":"SourceContext","id":5},"mixins":{"rule":"repeated","type":"Mixin","id":6},"syntax":{"type":"Syntax","id":7}}},"Method":{"fields":{"name":{"type":"string","id":1},"requestTypeUrl":{"type":"string","id":2},"requestStreaming":{"type":"bool","id":3},"responseTypeUrl":{"type":"string","id":4},"responseStreaming":{"type":"bool","id":5},"options":{"rule":"repeated","type":"Option","id":6},"syntax":{"type":"Syntax","id":7}}},"Mixin":{"fields":{"name":{"type":"string","id":1},"root":{"type":"string","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}}}}}}}}')},"./node_modules/@postman/protobufjs/google/protobuf/descriptor.json":function(e){"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5},"serverStreaming":{"type":"bool","id":6}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16},"javaGenericServices":{"type":"bool","id":17},"pyGenericServices":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"ccEnableArenas":{"type":"bool","id":31},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1},"noStandardDescriptorAccessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}}}}}}}}')},"./node_modules/@postman/protobufjs/google/protobuf/source_context.json":function(e){"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},"./node_modules/@postman/protobufjs/google/protobuf/type.json":function(e){"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Type":{"fields":{"name":{"type":"string","id":1},"fields":{"rule":"repeated","type":"Field","id":2},"oneofs":{"rule":"repeated","type":"string","id":3},"options":{"rule":"repeated","type":"Option","id":4},"sourceContext":{"type":"SourceContext","id":5},"syntax":{"type":"Syntax","id":6}}},"Field":{"fields":{"kind":{"type":"Kind","id":1},"cardinality":{"type":"Cardinality","id":2},"number":{"type":"int32","id":3},"name":{"type":"string","id":4},"typeUrl":{"type":"string","id":6},"oneofIndex":{"type":"int32","id":7},"packed":{"type":"bool","id":8},"options":{"rule":"repeated","type":"Option","id":9},"jsonName":{"type":"string","id":10},"defaultValue":{"type":"string","id":11}},"nested":{"Kind":{"values":{"TYPE_UNKNOWN":0,"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Cardinality":{"values":{"CARDINALITY_UNKNOWN":0,"CARDINALITY_OPTIONAL":1,"CARDINALITY_REQUIRED":2,"CARDINALITY_REPEATED":3}}}},"Enum":{"fields":{"name":{"type":"string","id":1},"enumvalue":{"rule":"repeated","type":"EnumValue","id":2},"options":{"rule":"repeated","type":"Option","id":3},"sourceContext":{"type":"SourceContext","id":4},"syntax":{"type":"Syntax","id":5}}},"EnumValue":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"rule":"repeated","type":"Option","id":3}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},"./node_modules/openid-client/package.json":function(e){"use strict";e.exports=JSON.parse('{"name":"openid-client","version":"5.7.1","description":"OpenID Connect Relying Party (RP, Client) implementation for Node.js runtime, supports passportjs","keywords":["auth","authentication","basic","certified","client","connect","dynamic","electron","hybrid","identity","implicit","oauth","oauth2","oidc","openid","passport","relying party","strategy"],"homepage":"https://github.com/panva/openid-client","repository":"panva/openid-client","funding":{"url":"https://github.com/sponsors/panva"},"license":"MIT","author":"Filip Skokan <panva.ip@gmail.com>","exports":{"types":"./types/index.d.ts","import":"./lib/index.mjs","require":"./lib/index.js"},"main":"./lib/index.js","types":"./types/index.d.ts","files":["lib","types/index.d.ts"],"scripts":{"format":"npx prettier --loglevel silent --write ./lib ./test ./certification ./types","test":"mocha test/**/*.test.js"},"dependencies":{"jose":"^4.15.9","lru-cache":"^6.0.0","object-hash":"^2.2.0","oidc-token-hash":"^5.0.3"},"devDependencies":{"@types/node":"^16.18.106","@types/passport":"^1.0.16","base64url":"^3.0.1","chai":"^4.5.0","mocha":"^10.7.3","nock":"^13.5.5","prettier":"^2.8.8","readable-mock-req":"^0.2.2","sinon":"^9.2.4","timekeeper":"^2.3.1"},"standard-version":{"scripts":{"postchangelog":"sed -i \'\' -e \'s/### \\\\[/## [/g\' CHANGELOG.md"},"types":[{"type":"feat","section":"Features"},{"type":"fix","section":"Fixes"},{"type":"chore","hidden":true},{"type":"docs","hidden":true},{"type":"style","hidden":true},{"type":"refactor","section":"Refactor","hidden":false},{"type":"perf","section":"Performance","hidden":false},{"type":"test","hidden":true}]}}')}};